<scriptedContentFragments>
	<scriptedContentFragment name="${resource:Blogs_AboutBlog_Name}" version="7.5.0.32466" description="${resource:Blogs_AboutBlog_Description}" instanceIdentifier="ec7c6fe6fbdd450b94d6f0a411636fc2" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="about-blog">
		<contentScript>
#set ($blog = $core_v2_blog.Current)
#if ($blog &amp;&amp; $blog.EnableAbout)
	&lt;h3 class="title"&gt;$blog.AboutTitle&lt;/h3&gt;
	&lt;h4 class="description user-defined-markup"&gt;$blog.AboutDescription&lt;/h4&gt;
#else
	$core_v2_widget.Hide()
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_AboutBlog_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_AboutBlog_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_AboutBlog_Name">Blog - About</resource><resource name="Blogs_AboutBlog_Description">Displays the about blog page.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Blogs_AboutBlog_Title_About">About</resource></language></languageResources>
		<requiredContext>
			<context id="94b4a7db70934b0abcce06169b6f2272" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:AbuseAppeal_Name}" version="7.5.0.32466" description="${resource:AbuseAppeal_Description}" instanceIdentifier="0f1b24cc8d3e4cd1b14ec9821260b5c5" theme="" isCacheable="false" varyCacheByUser="false" showHeaderByDefault="true" cssClass="abuse-appeal">
		<contentScript>
#set ($appeal = false)
#set ($content = false)
#set ($group = false)
#set ($appeal = $core_v2_abuseAppeal.Current)
#set ($user = $core_v2_user.Accessing)
#if (!$appeal)
    $core_v2_widget.Hide()
#end
#if (!$user || $user.Id != $appeal.AuthorUserId)
    $core_v2_widget.Hide()
#end
#set ($content = $appeal.Content)
#if (!$content)
    $core_v2_widget.Hide()
#end
#set ($container = $appeal.Container)

#if ($appeal.AppealState == 'Initiated')
    &lt;div class="field-list-header"&gt;&lt;/div&gt;
    &lt;fieldset class="field-list abuseappeal"&gt;
        &lt;ul class="field-list"&gt;
            &lt;li class="field-item body"&gt;
                #if ($container)
                    &lt;label for="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.UniqueId('body'))" class="field-item-header"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('body_description_group'), $core_v2_encoding.HtmlAttributeEncode($container.Url), $container.HtmlName('Web'))&lt;/label&gt;
                #else
                    &lt;label for="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.UniqueId('body'))" class="field-item-header"&gt;$core_v2_language.GetResource('body_description')&lt;/label&gt;
                #end
                &lt;span class="field-item-description"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('body_description_explanation'), $core_v2_language.FormatDate($appeal.AppealExpires))&lt;/span&gt;
                &lt;span class="field-item-input"&gt;&lt;textarea id="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.UniqueId('body'))" name="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.UniqueId('body'))" rows="4"&gt;&lt;/textarea&gt;&lt;/span&gt;
                &lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
            &lt;/li&gt;
            &lt;li class="field-item submit"&gt;
                &lt;span class="field-item-input"&gt;
                    &lt;a class="internal-link save-post" href="#" id="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.UniqueId('submit'))"&gt;
                        &lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('submit')
                    &lt;/a&gt;
                    &lt;span style="visibility: hidden;" class="processing"&gt;&lt;/span&gt;
                &lt;/span&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/fieldset&gt;
    &lt;div class="field-list-footer"&gt;&lt;/div&gt;

    #registerEndOfPageHtml('telligent.evolution.widgets.abuseAppeal')
        &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
    #end
    #registerEndOfPageHtml()
        &lt;script type="text/javascript"&gt;
        jQuery(function(){
            jQuery.telligent.evolution.widgets.abuseAppeal.register({
                wrapper: "#$core_v2_widget.WrapperElementId",
                appealId: '$appeal.AppealId',
                bodyInput: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('body'))",
                submitLink: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('submit'))",
                bodyRequiredText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('body_required'))",
                successMessage: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('success_message'))"
            });
        });
        &lt;/script&gt;
    #end
#else
    #set ($message = '')
    #set ($class = '')
    #if ($appeal.AppealState == 'AuthorResponded')
        #set ($author = $core_v2_user.Get("%{Id = $content.CreatedByUserId }"))
        #set ($message = $core_v2_language.FormatString($core_v2_language.GetResource('message_AuthorResponse'), $author.PrivateEmail))
        #set ($class = 'success')
    #elseif ($appeal.AppealState == 'Accepted')
        #set ($message = $core_v2_language.GetResource('message_Accepted'))
        #set ($class = 'warning')
    #elseif ($appeal.AppealState == 'Rejected')
        #set ($message = $core_v2_language.GetResource('message_Rejected'))
        #set ($class = 'warning')
    #elseif ($appeal.AppealState == 'Expired')
        #set ($message = $core_v2_language.GetResource('message_Expired'))
        #set ($class = 'warning')
    #end
    &lt;div class="message $class"&gt;
        &lt;p&gt;$message&lt;p&gt;
        &lt;p&gt;$core_v2_language.FormatString($core_v2_language.GetResource('see_whats_new_message'), $core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Home()))&lt;/p&gt;
    &lt;/div&gt;
#end

&lt;div class="full-post-header"&gt;
    $core_v2_language.GetResource('content_heading')
&lt;/div&gt;
&lt;div class="full-post"&gt;
    &lt;h3 class="post-name"&gt;
        &lt;span&gt;&lt;/span&gt;$!content.HtmlName('Web')
    &lt;/h3&gt;
    &lt;div class="post-date"&gt;
        &lt;span class="value"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('created_on'), $core_v2_language.FormatDate($content.CreatedDate))&lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="post-content"&gt;
        $!content.HtmlDescription("Web")
    &lt;/div&gt;
&lt;/div&gt;
&lt;div class="full-post-footer"&gt;&lt;/div&gt;

        </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:AbuseAppeal_Name}'))
    </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:AbuseAppeal_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
    </configuration>
		<languageResources><language key="en-us"><resource name="AbuseAppeal_Name">Abuse Appeal</resource><resource name="AbuseAppeal_Description">Displays a form for a user to appeal an abuse report</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="body_description_group">Your item in &lt;a href="{0}"&gt;{1}&lt;/a&gt; has been flagged as abuse and no longer appears on the site.</resource><resource name="body_description">Your item has been flagged as abuse and no longer appears on the site.</resource><resource name="body_description_explanation">If this action was taken in error, we’d like to hear from you. Please complete the form below to help us understand how we made a mistake.  This appeal will expire on {0}.</resource><resource name="submit">Submit</resource><resource name="content_heading">The following content was reported as abusive:</resource><resource name="body_required">Please provide a reason</resource><resource name="created_on">Created on: {0}</resource><resource name="message_AuthorResponse">Thank you, your response has been submitted. Your appeal will be reviewed promptly. A decision will be sent to {0}.</resource><resource name="message_Accepted">This appeal has been accepted.</resource><resource name="message_Rejected">This appeal has been rejected.</resource><resource name="message_Expired">This appeal has expired.</resource><resource name="see_whats_new_message">See what’s new on the &lt;a href="{0}"&gt;site homepage&lt;/a&gt;.</resource><resource name="success_message">The appeal was successfully created.</resource></language></languageResources>
		<requiredContext>
			<context id="c49730083d9844328a9496213e763b5e" />
		</requiredContext>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKICAgIHZhciBfc3VibWl0QWJ1c2VBcHBlYWwgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnB1dCh7CgkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL2FidXNlYXBwZWFscy97QXBwZWFsSWR9Lmpzb24nLAoJCQlkYXRhOiB7CgkJCQlBcHBlYWxJZDogY29udGV4dC5hcHBlYWxJZCwKCQkJCUF1dGhvclJlc3BvbnNlOiAkKGNvbnRleHQuYm9keUlucHV0KS52YWwoKSwKCQkJCUFwcGVhbFN0YXRlOiAnQXV0aG9yUmVzcG9uZGVkJwoJCQl9LAoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhjb250ZXh0LnN1Y2Nlc3NNZXNzYWdlLCB7IHR5cGU6J3N1Y2Nlc3MnLCBjYWxsYmFjazogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTsKICAgICAgICAgICAgICAgIH19KTsKCQkJfQoJCX0pOwogICAgfSwKICAgIGFidXNlQXBwZWFsID0gewogICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7CiAgICAgICAgICAgIGNvbnRleHQuc3VibWl0TGluayA9ICQoY29udGV4dC5zdWJtaXRMaW5rKTsKCQkJY29udGV4dC5ib2R5SW5wdXQgPSAkKGNvbnRleHQuYm9keUlucHV0KTsKCiAgICAgICAgICAgIGNvbnRleHQuc3VibWl0TGluawogICAgICAgICAgICAgICAgLmV2b2x1dGlvblZhbGlkYXRpb24oewogICAgICAgICAgICAgICAgICAgIG9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5zdWJtaXRMaW5rLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN1Ym1pdExpbmsuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5wcm9jZXNzaW5nJywgY29udGV4dC5zdWJtaXRMaW5rLnBhcmVudCgpKS5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnN1Ym1pdExpbmsuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgIF9zdWJtaXRBYnVzZUFwcGVhbChjb250ZXh0KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywgY29udGV4dC5ib2R5SW5wdXQsIHsKICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogewogICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogY29udGV4dC5ib2R5UmVxdWlyZWRUZXh0CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgY29udGV4dC53cmFwcGVyICsgJyAuZmllbGQtaXRlbS5ib2R5IC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsKCiAgICAgICAgfQogICAgfTsKCiAgICAkLnRlbGxpZ2VudCA9ICQudGVsbGlnZW50IHx8IHt9OwogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uIHx8IHt9OwogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyB8fCB7fTsKICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmFidXNlQXBwZWFsID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuYWJ1c2VBcHBlYWwgfHwgYWJ1c2VBcHBlYWw7Cn0pKGpRdWVyeSk7Cg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:AbuseHistory_Name}" version="7.5.0.32466" description="${resource:AbuseHistory_Description}" instanceIdentifier="38980926e6e74c6d849c35a94a7e10c7" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="abuse-history">
		<contentScript>
#set ($content = false)
#set ($content = $core_v2_content.Current)
#if (!$content)
    $core_v2_widget.Hide()
#end

#set ($group = false)
#set ($group = $core_v2_group.Current)
#if (!$group)
    $core_v2_widget.Hide()
#end

#set ($canReviewAppealsInGroup = false)
#set ($canReviewAppealsInGroup = $core_v2_nodePermission.Get('groups',$group.Id,'Group_ReviewAbuseAppeals').IsAllowed)
#if (!$$canReviewAppealsInGroup)
    $core_v2_widget.Hide()
#end

## if there's no abusive content record or the content was never reported, hide the widget
#set ($abusiveContent = false)
#set ($abusiveContent = $core_v2_abusiveContent.Get($content.ContentId, $content.ContentTypeId))
#if (!$abusiveContent || $abusiveContent.AbuseState == 'NotReported')
    $core_v2_widget.Hide()
#end

#set ($abuseStateResourceName = "State_${abusiveContent.AbuseState}")

#set ($totalAppealCount = 0)
#set ($allAppeals = $core_v2_abuseAppeal.List("%{ ContentId = $content.ContentId, ContentTypeId = $content.ContentTypeId, PageIndex = 0, PageSize = 1, SortBy = 'AppealDate', SortOrder = 'Descending' }"))
#set ($latestAppeal = false)
#foreach ($appeal in $allAppeals)
	#set ($latestAppeal = $appeal)
#end

#set ($totalAppealCount = $allAppeals.TotalCount)

#set ($openAppealsCount = 0)
#set ($authorRespondedAppeals = $core_v2_abuseAppeal.List("%{ AppealState = 'AuthorResponded', ContentId = $content.ContentId, ContentTypeId = $content.ContentTypeId, PageIndex = 0, PageSize = 1 }"))
#set ($initiaedAppeals = $core_v2_abuseAppeal.List("%{ AppealState = 'Initiated', ContentId = $content.ContentId, ContentTypeId = $content.ContentTypeId, PageIndex = 0, PageSize = 1 }"))
#set ($openAppealsCount = $authorRespondedAppeals.TotalCount + $initiaedAppeals.TotalCount)

#set ($acceptedAppealsCount = 0)
#set ($acceptedAppeals = $core_v2_abuseAppeal.List("%{ AppealState = 'Accepted', ContentId = $content.ContentId, ContentTypeId = $content.ContentTypeId, PageIndex = 0, PageSize = 1 }"))
#set ($acceptedAppealsCount = $acceptedAppeals.TotalCount)

&lt;div class="attribute-list-header"&gt;&lt;/div&gt;
&lt;ul class="attribute-list"&gt;
    &lt;li class="attribute-item"&gt;
        &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('State')&lt;/span&gt;
        &lt;span class="attribute-value"&gt;$core_v2_language.GetResource($abuseStateResourceName)&lt;/span&gt;
    &lt;/li&gt;
    &lt;li class="attribute-item"&gt;
        &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('FlaggedBy')&lt;/span&gt;
        &lt;span class="attribute-value"&gt;
            $core_v2_ui.PagedContent('pagedAbuseReports.vm')
            $core_v2_ui.Pager($abuseReports.PageIndex, $abuseReports.PageSize, $abuseReports.TotalCount, "%{ShowIndividualPages = 'false', ShowPrevious = 'true', ShowNext = 'true', PagedContentFile = 'pagedAbuseReports.vm' }")
        &lt;/span&gt;
    &lt;/li&gt;
	#if ($latestAppeal)
		&lt;li class="attribute-item"&gt;
			&lt;span class="attribute-name"&gt;$core_v2_language.GetResource('LastHidden')&lt;/span&gt;
			&lt;span class="attribute-value"&gt;$core_v2_language.FormatDateAndTime($latestAppeal.AppealInitiatedDate)&lt;/span&gt;
		&lt;/li&gt;
	#end
    &lt;li class="attribute-item"&gt;
        &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Appeals')&lt;/span&gt;
        &lt;span class="attribute-value"&gt;
            &lt;div class="attribute-list-header"&gt;&lt;/div&gt;
            &lt;ul class="attribute-list"&gt;
                &lt;li class="attribute-item"&gt;
                    &lt;span class="attribute-value"&gt;$totalAppealCount&lt;/span&gt;
                    &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Appeals_Total')&lt;/span&gt;
                &lt;/li&gt;
                &lt;li class="attribute-item"&gt;
                    &lt;span class="attribute-value"&gt;$openAppealsCount&lt;/span&gt;
                    &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Appeals_Open')&lt;/span&gt;
                &lt;/li&gt;
                &lt;li class="attribute-item"&gt;
                    &lt;span class="attribute-value"&gt;$acceptedAppealsCount&lt;/span&gt;
                    &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Appeals_Accepted')&lt;/span&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
            &lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
        &lt;/span&gt;
    &lt;/li&gt;
    &lt;li class="attribute-item"&gt;
        &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('RestoreHistory')&lt;/span&gt;
        &lt;span class="attribute-value"&gt;
            $core_v2_ui.PagedContent('pagedAbuseAppeals.vm')
            $core_v2_ui.Pager($abuseAppeals.PageIndex, $abuseAppeals.PageSize, $abuseAppeals.TotalCount, "%{ShowIndividualPages = 'false', ShowPrevious = 'true', ShowNext = 'true', PagedContentFile = 'pagedAbuseAppeals.vm' }")
        &lt;/span&gt;
    &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="attribute-list-footer"&gt;&lt;/div&gt;

        </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:AbuseHistory_Name}'))
    </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:AbuseHistory_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
    </configuration>
		<languageResources><language key="en-us"><resource name="AbuseHistory_Name">Abuse History</resource><resource name="AbuseHistory_Description">Displays a piece of content's abuse report history</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="State">Status</resource><resource name="State_NotAbusive">Active</resource><resource name="State_Reported">Flagged but Active</resource><resource name="State_Abusive">Possibly Abusive</resource><resource name="FlaggedBy">Flagged by</resource><resource name="Appeals">Appeals</resource><resource name="Appeals_Total">total</resource><resource name="Appeals_Open">open</resource><resource name="Appeals_Accepted">accepted</resource><resource name="RestoreHistory">Restore history</resource><resource name="None">none</resource><resource name="NeverRestored">never restored</resource><resource name="By">by</resource><resource name="LastHidden">Last Hidden</resource></language></languageResources>
		<files>
			<file name="pagedAbuseAppeals.vm">I3NldCAoJHBhZ2VJbmRleCA9IDApCiNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91aS5HZXRDdXJyZW50UGFnZUluZGV4KCkpCgojaWYgKCEkY29udGVudCkKICAgICNzZXQgKCRjb250ZW50ID0gJGNvcmVfdjJfY29udGVudC5DdXJyZW50KQojZW5kCgojc2V0ICgkYWJ1c2VBcHBlYWxzID0gJGNvcmVfdjJfYWJ1c2VBcHBlYWwuTGlzdCgiJXsgQ29udGVudElkID0gJGNvbnRlbnQuQ29udGVudElkLCBBcHBlYWxTdGF0ZSA9ICdBY2NlcHRlZCcsIFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFBhZ2VTaXplID0gMjAgfSIpKQoKI2ZvcmVhY2ggKCRhcHBlYWwgaW4gJGFidXNlQXBwZWFscykKI2JlZm9yZWFsbAogICAgPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+CiAgICA8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+CiNlYWNoCiAgICA8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+CiAgICAgICAgPHNwYW4gY2xhc3M9ImRhdGUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJGFwcGVhbC5SZXNvbHV0aW9uRGF0ZSkgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0J5JykgPC9zcGFuPgogICAgICAgICNpZiAoJGFwcGVhbC5Nb2RpZmllZEJ5VXNlcikKICAgICAgICAgICAgPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CiAgICAgICAgICAgICAgICAjaWYoJGFwcGVhbC5Nb2RpZmllZEJ5VXNlci5Qcm9maWxlVXJsKQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFwcGVhbC5Nb2RpZmllZEJ5VXNlci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+JGFwcGVhbC5Nb2RpZmllZEJ5VXNlci5EaXNwbGF5TmFtZQogICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPiRhcHBlYWwuTW9kaWZpZWRCeVVzZXIuRGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICNlbmQKICAgIDwvbGk+CiNhZnRlcmFsbAogICAgPC91bD4KICAgIDxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2Pgojbm9kYXRhCiAgICAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTmV2ZXJSZXN0b3JlZCcpCiNlbmQK</file>
			<file name="pagedAbuseReports.vm">I3NldCAoJHBhZ2VJbmRleCA9IDApCiNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91aS5HZXRDdXJyZW50UGFnZUluZGV4KCkpCgojaWYgKCEkY29udGVudCkKICAgICNzZXQgKCRjb250ZW50ID0gJGNvcmVfdjJfY29udGVudC5DdXJyZW50KQojZW5kCgojc2V0ICgkYWJ1c2VSZXBvcnRzID0gJGNvcmVfdjJfYWJ1c2VSZXBvcnQuTGlzdCgiJXsgQWJ1c2l2ZUNvbnRlbnRJZCA9ICRjb250ZW50LkNvbnRlbnRJZCwgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgUGFnZVNpemUgPSAyMCB9IikpCgojZm9yZWFjaCAoJHJlcG9ydCBpbiAkYWJ1c2VSZXBvcnRzKQojYmVmb3JlYWxsCiAgICA8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4KICAgIDx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4KI2VhY2gKICAgIDxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KICAgICAgICA8c3BhbiBjbGFzcz0iZGF0ZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkcmVwb3J0LkNyZWF0ZWREYXRlKSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQnknKSA8L3NwYW4+CiAgICAgICAgI2lmICgkcmVwb3J0LkNyZWF0ZWRVc2VyKQogICAgICAgICAgICA8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KICAgICAgICAgICAgICAgICNpZigkcmVwb3J0LkNyZWF0ZWRVc2VyLlByb2ZpbGVVcmwpCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcmVwb3J0LkNyZWF0ZWRVc2VyLlByb2ZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj4kcmVwb3J0LkNyZWF0ZWRVc2VyLkRpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+JHJlcG9ydC5DcmVhdGVkVXNlci5EaXNwbGF5TmFtZQogICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgI2VuZAogICAgPC9saT4KI2FmdGVyYWxsCiAgICA8L3VsPgogICAgPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+CiNub2RhdGEKICAgICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOb25lJykKI2VuZA==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_AcceptInvitation_Name}" version="7.5.0.32466" description="${resource:Core_AcceptInvitation_Description}" instanceIdentifier="be59b3685c7d4b00a792c03ce282eb2f" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="accept-invitation">
		<contentScript>
#set($userInvitation = false)
#set($userInvitation = $core_v2_userInvitation.Current)
#set($user = $core_v2_user.Accessing)
#set($invitationUser = false)
#set($invitationUser = $core_v2_user.Get("%{Email = '$userInvitation.Email'}"))
#set($userWhoSentInvite = $core_v2_user.Get("%{Id = '$userInvitation.UserId'}"))
#set($loginUrl = $core_v2_urls.Login("%{InvitationId = '$userInvitation.InvitationKey'}"))
#set($message = $core_v2_encoding.HtmlEncode($userInvitation.Message))

#if (!$core_v2_widget.IsInWidgetPreviewMode)
	#if (!$core_v2_user.IsRegistered($user.Id))
		#if($userInvitation)
			#set($registerUrl = $core_v2_urls.AddUser($userInvitation.InvitationKey))
		#else
			#set($registerUrl = $core_v2_urls.AddUser())
		#end
	#else
		#set($result = $core_v2_userInvitation.Accept($userInvitation.InvitationKey))
		#if ($result &amp;&amp; $result.Errors.Count == 0)
			#set($group = false)
			#set($group = $core_v2_group.Get("%{Id = '$userInvitation.GroupId'}"))
			#if($group)
				$core_v2_page.Redirect($core_v2_groupUrls.Group($group.Id))
			#else
				$core_v2_page.Redirect($core_v2_urls.Message(78))
			#end
		#elseif ($result &amp;&amp; $result.Errors.Count &gt; 0)
			&lt;div class="message error"&gt;$result.Errors.get_Item(0).Message&lt;/div&gt;
		#end
	#end
#end
&lt;div class="page-header"&gt;&lt;/div&gt;
&lt;div class="page"&gt;
	&lt;div class="page-name"&gt;&lt;/div&gt;
	&lt;div class="page-content"&gt;
		#if($group)
			$core_v2_language.FormatString($core_v2_language.GetResource("AcceptInvitation_Hub_AnnonymousUser"), $userWhoSentInvite.Username, $message, $registerUrl, $loginUrl, $group.Name)
		#else
			$core_v2_language.FormatString($core_v2_language.GetResource("AcceptInvitation_AnonymousUser"), $userWhoSentInvite.Username, $message, $registerUrl, $loginUrl)
		#end
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="page-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_AcceptInvitation_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_AcceptInvitation_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_AcceptInvitation_Name">Accept Invitation</resource><resource name="Core_AcceptInvitation_Description">Displays a message to the user to accept an invitation to join the community or a group.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="AcceptInvitation_Hub_AnnonymousUser">
 You have been sent an invitation by {0} to join the {4} group.
  &lt;ul&gt;
  &lt;li&gt;If you already have a user account for this community, please &lt;a href="{3}" class="internal-link login"&gt;&lt;span&gt;&lt;/span&gt;log in&lt;/a&gt; to accept this invitation&lt;/li&gt;
  &lt;li&gt;If you do not have a user account, you can accept this invitation by &lt;a href="{2}" class="internal-link user-registration"&gt;&lt;span&gt;&lt;/span&gt;joining this community&lt;/a&gt; now&lt;/li&gt;
  &lt;/ul&gt;
 </resource><resource name="AcceptInvitation_AnonymousUser">
 You have been sent an invitation by {0} to join this community.
  &lt;ul&gt;
  &lt;li&gt;If you already have a user account for this community, please &lt;a href="{3}" class="internal-link login"&gt;&lt;span&gt;&lt;/span&gt;log in&lt;/a&gt; to accept this invitation&lt;/li&gt;
  &lt;li&gt;If you do not have a user account, you can accept this invitation by &lt;a href="{2}" class="internal-link user-registration"&gt;&lt;span&gt;&lt;/span&gt;joining this community&lt;/a&gt; now&lt;/li&gt;
  &lt;/ul&gt;
 </resource></language></languageResources>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:activityStoryStream_name}" version="7.5.0.32466" description="${resource:activityStoryStream_description}" instanceIdentifier="ff79be4dcc9b4884bbf9a455ef5eb1c5" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="activity-story-stream">
		<contentScript>

#set ($pageSize = $core_v2_widget.GetIntValue('pageSize', 15))
#set ($endlessScroll = $core_v2_widget.GetBoolValue('endlessScroll', true))

#set($filterType = false)
#set($filterType = $core_v2_widget.GetStringValue('filterType', ''))

#set ($user = false)
#if ($filterType == 'User')
	#set($user = $core_v2_user.Current)
	#if (!$user)
		#set ($user = $core_v2_user.Accessing)
	#end
	## if contextual/accessing user is anonymous, fall back to site filter mode
	#if (!$core_v2_user.IsRegistered($user.Id))
		#set ($filterType = 'Site')
	#end
#else
	#set($user = $core_v2_user.Accessing)
#end

#set ($group = $core_v2_group.Current)

#set ($messageId = '')
#set ($messageId = $core_v2_page.GetQueryStringValue('ActivityMessageID'))

#set ($loadingId = $core_v2_widget.UniqueId('loading'))
#set ($pagerId = $core_v2_widget.UniqueId('pager'))
#set ($containerId = $core_v2_widget.UniqueId('containerId'))
#set ($tabsId = $core_v2_widget.UniqueId('tabs'))

## filter tabs
#set ($filterName0 = $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('filterName0',$core_v2_language.GetResource('filterNameDefault'))))
#set ($filterTypes0 = false)
#if($filterType == 'User')
	#set ($filterTypes0 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterUserActivityTypes0','')))
#else
	#set ($filterTypes0 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterActivityTypes0','')))
#end

#set ($filterName1 = $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('filterName1',$core_v2_language.GetResource('filterNameDefault'))))
#set ($filterTypes1 = false)
#if($filterType == 'User')
	#set ($filterTypes1 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterUserActivityTypes1','')))
#else
	#set ($filterTypes1 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterActivityTypes1','')))
#end

#set ($filterName2 = $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('filterName2',$core_v2_language.GetResource('filterNameDefault'))))
#set ($filterTypes2 = false)
#if($filterType == 'User')
	#set ($filterTypes2 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterUserActivityTypes2','')))
#else
	#set ($filterTypes2 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterActivityTypes2','')))
#end

#set ($filterName3 = $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('filterName3',$core_v2_language.GetResource('filterNameDefault'))))
#set ($filterTypes3 = false)
#if($filterType == 'User')
	#set ($filterTypes3 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterUserActivityTypes3','')))
#else
	#set ($filterTypes3 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterActivityTypes3','')))
#end

#set ($filterName4 = $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('filterName4',$core_v2_language.GetResource('filterNameDefault'))))
#set ($filterTypes4 = false)
#if($filterType == 'User')
	#set ($filterTypes4 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterUserActivityTypes4','')))
#else
	#set ($filterTypes4 = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('filterActivityTypes4','')))
#end

#if ($filterTypes0.Values('filters').Count &gt; 0 || $filterTypes1.Values('filters').Count &gt; 0 || $filterTypes2.Values('filters').Count &gt; 0 || $filterTypes3.Values('filters').Count &gt; 0 || $filterTypes4.Values('filters').Count &gt; 0)
	&lt;div class="filter with-query" id="$core_v2_encoding.HtmlAttributeEncode($tabsId)" style="display:none"&gt;
		&lt;div class="filter-query view-type"&gt;
			&lt;div class="filters"&gt;
				&lt;span class="filter-label"&gt;$core_v2_language.GetResource('View'):&lt;/span&gt;
				#if ($filterTypes0.Values('filters').Count &gt; 0 &amp;&amp; $filterName0.length &gt; 0)
					&lt;span class="filter-option"&gt;&lt;a href="#" data-filterindex="0"&gt;$filterName0&lt;/a&gt;&lt;/span&gt;
				#end
				#if ($filterTypes1.Values('filters').Count &gt; 0 &amp;&amp; $filterName1.length &gt; 0)
					&lt;span class="filter-option"&gt;&lt;a href="#" data-filterindex="1"&gt;$filterName1&lt;/a&gt;&lt;/span&gt;
				#end
				#if ($filterTypes2.Values('filters').Count &gt; 0 &amp;&amp; $filterName2.length &gt; 0)
					&lt;span class="filter-option"&gt;&lt;a href="#" data-filterindex="2"&gt;$filterName2&lt;/a&gt;&lt;/span&gt;
				#end
				#if ($filterTypes3.Values('filters').Count &gt; 0 &amp;&amp; $filterName3.length &gt; 0)
					&lt;span class="filter-option"&gt;&lt;a href="#" data-filterindex="3"&gt;$filterName3&lt;/a&gt;&lt;/span&gt;
				#end
				#if ($filterTypes4.Values('filters').Count &gt; 0 &amp;&amp; $filterName4.length &gt; 0)
					&lt;span class="filter-option"&gt;&lt;a href="#" data-filterindex="4"&gt;$filterName4&lt;/a&gt;&lt;/span&gt;
				#end
			&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
#end

&lt;div class="content-list-header activity-stories"&gt;&lt;/div&gt;
&lt;div class="content-list-name activity-stories"&gt;&lt;/div&gt;
&lt;ul class="content-list activity-stories" id="$containerId"&gt;&lt;/ul&gt;
&lt;div class="content-list-footer activity-stories"&gt;&lt;/div&gt;

#if (!$endlessScroll &amp;&amp; $messageId.length == 0)
	&lt;div class="pager" id="$pagerId"&gt;
		&lt;a href="#"&gt;$core_v2_language.GetResource('showMore')&lt;/a&gt;
	&lt;/div&gt;
#end

&lt;div id="$loadingId" class="message loading"&gt;$core_v2_language.GetResource('loading')&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.activityStoryStream')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.activityStoryStream.register({
				wrapper: '#$core_v2_widget.WrapperElementId',
				loader: '#$core_v2_encoding.JavascriptEncode($loadingId)',
				pager: '#$core_v2_encoding.JavascriptEncode($pagerId)',
				container: '#$core_v2_encoding.JavascriptEncode($containerId)',
				filterType: '$core_v2_encoding.JavascriptEncode($filterType)',
				tabs: '#$core_v2_encoding.JavascriptEncode($tabsId)',
				pageSize: $pageSize,
				streamUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('stream.vm'))',
				messageId: '$core_v2_encoding.JavascriptEncode($messageId)',
				moreCommentsUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('morecomments.vm'))',
				accessingUserId: $core_v2_user.Accessing.Id,
				userId: #if($user)$user.Id#else-1#end,
				groupId: $group.Id,
				maxReplyLength: $core_v2_configuration.ActivityMessageReplyMaxLength,
				todayText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('today'))',
				endlessScroll: #if($endlessScroll &amp;&amp; $messageId.length == 0) true #else false #end,
				hideOriginalPost: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('hideOriginalPost'))',
				showOriginalPost: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('showOriginalPost'))',
				hideHistory: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('hideHistory'))',
				showHistory: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('showHistory'))',
				deleteActivityMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('deleteActivityMessage'))',
				deleteCommentMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('deleteCommentMessage'))',
				commentModeratedMessaage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Comment_ModeratedMessaage'))'
			});
		});
	&lt;/script&gt;
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:activityStoryStream_name}'))
	</headerScript>
		<configuration>

&lt;propertyGroup id="options" resourceName="options"&gt;
	&lt;property id="fragmentHeader" resourceName="title" dataType="string" defaultValue="${resource:activityStoryStream_name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="pageSize" resourceName="pageSize" dataType="int" defaultValue="15"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="filterType" resourceName="filterType" descriptionResourceName="filterType_Desc" dataType="string" defaultValue="" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls"&gt;
		&lt;propertyValue value="Site" resourceName="filterType_site"
			propertiesToHide="includeSubGroups,filterUserActivityTypes0,filterUserActivityTypes1,filterUserActivityTypes2,filterUserActivityTypes3,filterUserActivityTypes4"
			propertiesToShow="activityTypes0,filterActivityTypes1,filterActivityTypes2,filterActivityTypes3,filterActivityTypes4" /&gt;
		&lt;propertyValue value="Group" resourceName="filterType_group"
			propertiesToHide="filterUserActivityTypes0,filterUserActivityTypes1,filterUserActivityTypes2,filterUserActivityTypes3,filterUserActivityTypes4"
			propertiesToShow="includeSubGroups,filterActivityTypes0,filterActivityTypes1,filterActivityTypes2,filterActivityTypes3,filterActivityTypes4" /&gt;
		&lt;propertyValue value="User" resourceName="filterType_userProfile"
			propertiesToHide="includeSubGroups,filterActivityTypes0,filterActivityTypes1,filterActivityTypes2,filterActivityTypes3,activityTypes4"
			propertiesToShow="filterUserActivityTypes0,filterUserActivityTypes1,filterUserActivityTypes2,filterUserActivityTypes3,filterUserActivityTypes4" /&gt;
	&lt;/property&gt;
	&lt;property id="includeSubGroups" resourceName="includeSubGroups" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="endlessScroll" resourceName="endlessScroll" descriptionResourceName="endlessScrollDesc" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
&lt;propertyGroup id="filter0" resourceName="filter0" descriptionResourceName="filter_desc"&gt;
	&lt;property id="filterName0" resourceName="filterName" descriptionResourceName="filterDesc" dataType="string"
		defaultValue="${resource:filterNameDefault}"
		controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="filterActivityTypes0" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_User" /&gt;
		&lt;propertyValue value="Followed" resourceName="activityTypeUsers_Followed" /&gt;
		&lt;propertyValue value="User,Followed" resourceName="activityTypeUsers_UserAndFollowed" /&gt;
		&lt;propertyValue value="All" resourceName="activityTypeUsers_All" /&gt;
	&lt;/property&gt;
	&lt;property id="filterUserActivityTypes0" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_Include" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
&lt;propertyGroup id="filter1" resourceName="filter1" descriptionResourceName="filter_desc"&gt;
	&lt;property id="filterName1" resourceName="filterName" descriptionResourceName="filterDesc" dataType="string"
		defaultValue="${resource:filterNameDefault}"
		controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="filterActivityTypes1" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_User" /&gt;
		&lt;propertyValue value="Followed" resourceName="activityTypeUsers_Followed" /&gt;
		&lt;propertyValue value="User,Followed" resourceName="activityTypeUsers_UserAndFollowed" /&gt;
		&lt;propertyValue value="All" resourceName="activityTypeUsers_All" /&gt;
	&lt;/property&gt;
	&lt;property id="filterUserActivityTypes1" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_Include" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
&lt;propertyGroup id="filter2" resourceName="filter2" descriptionResourceName="filter_desc"&gt;
	&lt;property id="filterName2" resourceName="filterName" descriptionResourceName="filterDesc" dataType="string"
		defaultValue="${resource:filterNameDefault}"
		controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="filterActivityTypes2" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_User" /&gt;
		&lt;propertyValue value="Followed" resourceName="activityTypeUsers_Followed" /&gt;
		&lt;propertyValue value="User,Followed" resourceName="activityTypeUsers_UserAndFollowed" /&gt;
		&lt;propertyValue value="All" resourceName="activityTypeUsers_All" /&gt;
	&lt;/property&gt;
	&lt;property id="filterUserActivityTypes2" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_Include" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
&lt;propertyGroup id="filter3" resourceName="filter3" descriptionResourceName="filter_desc"&gt;
	&lt;property id="filterName3" resourceName="filterName" descriptionResourceName="filterDesc" dataType="string"
		defaultValue="${resource:filterNameDefault}"
		controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="filterActivityTypes3" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_User" /&gt;
		&lt;propertyValue value="Followed" resourceName="activityTypeUsers_Followed" /&gt;
		&lt;propertyValue value="User,Followed" resourceName="activityTypeUsers_UserAndFollowed" /&gt;
		&lt;propertyValue value="All" resourceName="activityTypeUsers_All" /&gt;
	&lt;/property&gt;
	&lt;property id="filterUserActivityTypes3" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_Include" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
&lt;propertyGroup id="filter4" resourceName="filter4" descriptionResourceName="filter_desc"&gt;
	&lt;property id="filterName4" resourceName="filterName" descriptionResourceName="filterDesc" dataType="string"
		defaultValue="${resource:filterNameDefault}"
		controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="filterActivityTypes4" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_User" /&gt;
		&lt;propertyValue value="Followed" resourceName="activityTypeUsers_Followed" /&gt;
		&lt;propertyValue value="User,Followed" resourceName="activityTypeUsers_UserAndFollowed" /&gt;
		&lt;propertyValue value="All" resourceName="activityTypeUsers_All" /&gt;
	&lt;/property&gt;
	&lt;property id="filterUserActivityTypes4" resourceName="activityTypes" descriptionResourceName="activityTypesDesc" dataType="custom"
		controlType="Telligent.Evolution.Controls.ActivityStoryTypeFilterControl, Telligent.Evolution.Core"&gt;
		&lt;propertyValue value="" resourceName="activityTypeUsers_Exclude" /&gt;
		&lt;propertyValue value="User" resourceName="activityTypeUsers_Include" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;

	</configuration>
		<languageResources><language key="en-us"><resource name="activityStoryStream_name">Activity Story Stream</resource><resource name="activityStoryStream_description">Displays a stream of activity stories from the site with previews.</resource><resource name="options">Options</resource><resource name="title">Widget Title</resource><resource name="pageSize">Number of Items to Display</resource><resource name="filterType">Activity Stream Mode</resource><resource name="filterType_site">Site (all site activity)</resource><resource name="filterType_group">Group (activity in a group and optionally subgroups)</resource><resource name="filterType_userProfile">User (activity for contextual user)</resource><resource name="filterType_Desc">Determines the default view of the Activity Stream and the set of filters to display</resource><resource name="includeSubGroups">Include subgroup activity</resource><resource name="endlessScroll">Endless Stream</resource><resource name="endlessScrollDesc">Automatically load more stories when scrolled near the end</resource><resource name="loading">Loading...</resource><resource name="showMore">Show More</resource><resource name="hideOriginalPost">Hide original post</resource><resource name="showOriginalPost">Show original post</resource><resource name="hideHistory">Hide revision history</resource><resource name="showHistory">Show revision history</resource><resource name="deleteActivityMessage">Are you sure you want to delete this story?</resource><resource name="deleteCommentMessage">Are you sure you want to delete this comment?</resource><resource name="delete">Delete</resource><resource name="message">Send a Private Message</resource><resource name="comment">Comment</resource><resource name="writeComment">Write a comment...</resource><resource name="filterName">Filter Name</resource><resource name="filterDesc">Determines the display name of the filter</resource><resource name="filterNameDefault">Filter</resource><resource name="filter0">Filter 1</resource><resource name="filter1">Filter 2</resource><resource name="filter2">Filter 3</resource><resource name="filter3">Filter 4</resource><resource name="filter4">Filter 5</resource><resource name="filter_desc">Configures an optional filter</resource><resource name="activityTypes">Activity Story Types</resource><resource name="activityTypesDesc">Determines which activities from which users are included in this filter. If no types are selected, the filter will not be displayed.</resource><resource name="activityTypeUsers_Exclude">Exclude activity</resource><resource name="activityTypeUsers_Include">Include contextual user's activity</resource><resource name="activityTypeUsers_User">Include accessing user's activity</resource><resource name="activityTypeUsers_Followed">Include accessing user's followed users' activity</resource><resource name="activityTypeUsers_UserAndFollowed">Include accessing user's and followed users' activity</resource><resource name="activityTypeUsers_All">Include all users' activity</resource><resource name="today">Today</resource><resource name="View">View</resource><resource name="no_messages">There was no activity to display.</resource><resource name="view_more_comments">View more comments</resource><resource name="CF_Comment_ModeratedMessaage">Thank you, your comment requires moderation so it may take a while to appear.</resource></language></languageResources>
		<files>
			<file name="comments.vm">IyMKIyMgUXVlcmllcyBhbmQgcmVuZGVycyBhIHBhZ2Ugb2YgY29tbWVudHMgZm9yIGFuIGFjdGl2aXR5IHN0b3J5CiMjIFJlcXVpcmVzIGluIHNjb3BlOgojIyAgICRzdG9yeUlkIG9yICRzdG9yeSBpbnN0YW5jZQojIyAgICRjb21tZW50UGFnZUluZGV4IChSZXZlcnNlZCAwLWJhc2VkLiAwIHJlcHJlc2VudHMgbGFzdCBwYWdlKQojIwoKI3NldCAoJHBhZ2VTaXplID0gMjApCgojaWYgKCEkc3RvcnkpCgkjc2V0ICgkc3RvcnkgPSAkY29yZV92Ml9hY3Rpdml0eVN0b3J5LkdldCgkc3RvcnlJZCkpCiNlbmQKCiNzZXQgKCRhY2Nlc3NpbmdVc2VyID0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcpCiNzZXQgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkID0gZmFsc2UpCiNpZiAoJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJGFjY2Vzc2luZ1VzZXIuSWQpKQoJI3NldCAoJGFjY2Vzc2luZ1VzZXJJc1JlZ2lzdGVyZWQgPSB0cnVlKQojZW5kCgojc2V0ICgkY29tbWVudHNTdXBwb3J0ZWQgPSBmYWxzZSkKI3NldCAoJGNvbW1lbnRzU3VwcG9ydGVkID0gJGNvcmVfdjJfY29tbWVudHMuU3VwcG9ydHNDb21tZW50cygkc3RvcnkuQ29udGVudFR5cGVJZCkpCgojc2V0ICgkYWNjZXNzaW5nVXNlckNhbkNvbW1lbnQgPSBmYWxzZSkKI2lmICgkY29tbWVudHNTdXBwb3J0ZWQpCgkjc2V0ICgkYWNjZXNzaW5nVXNlckNhbkNvbW1lbnQgPSAkY29yZV92Ml9jb21tZW50cy5DYW5DcmVhdGVDb21tZW50KCRzdG9yeS5Db250ZW50SWQsICRzdG9yeS5Db250ZW50VHlwZUlkKSkKI2VuZAoKI3NldCAoJHJldmVyc2VkQ29tbWVudHMgPSBmYWxzZSkKI3NldCAoJGNvbW1lbnRPcHRpb25zID0gIiV7IENvbnRlbnRJZCA9ICRzdG9yeS5Db250ZW50SWQsIENvbnRlbnRUeXBlID0gJHN0b3J5LkNvbnRlbnRUeXBlSWQsIElzQXBwcm92ZWQgPSAndHJ1ZScsIFNvcnRCeSA9ICdDcmVhdGVkVXRjRGF0ZScsIFNvcnRPcmRlciA9ICdEZXNjZW5kaW5nJywgUGFnZVNpemUgPSAkcGFnZVNpemUsIFBhZ2VJbmRleCA9ICRjb21tZW50UGFnZUluZGV4IH0iKQojaWYgKCRzdG9yeS5UeXBlSWQpCgkkY29tbWVudE9wdGlvbnMuQWRkKCdDb21tZW50VHlwZScsICRzdG9yeS5UeXBlSWQpCiNlbmQKCiNzZXQgKCRyZXZlcnNlZENvbW1lbnRzID0gJGNvcmVfdjJfY29tbWVudHMuTGlzdCgkY29tbWVudE9wdGlvbnMpKQoKI2lmICgkcmV2ZXJzZWRDb21tZW50cykKCSMjIHJldmVyc2UgdGhlIGxhc3QgcGFnZSBpbnRvIHByb3BlciBvcmRlciwgYnV0IFBhZ2VkTGlzdCBkb2Vzbid0IHN1cHBvcnQgdGhpcyBuYXRpdmVseSwgc28gZmlyc3QgY29weSBpbnRvIGFuIGFycmF5Cgkjc2V0ICgkY29tbWVudHMgPSBbXSkKCSNmb3JlYWNoICgkY29tbWVudCBpbiAkcmV2ZXJzZWRDb21tZW50cykKCQkjc2V0ICgkcmVzcCA9ICRjb21tZW50cy5BZGQoJGNvbW1lbnQpKQoJI2VuZAoJI3NldCAoJHJlc3AgPSAkY29tbWVudHMuUmV2ZXJzZSgpKQoKCSMjIHJlbmRlciBjb21tZW50cwoJI3NldCAoJGNvbGxhcHNlID0gZmFsc2UpCgkjaWYgKCEkc2luZ2xlU3RvcnkgJiYgJGNvbW1lbnRzLkNvdW50ID4gJGNvbGxhcHNlV2hlbk92ZXIpCgkJI3NldCAoJGNvbGxhcHNlID0gdHJ1ZSkKCSNlbmQKCgkjc2V0ICgkY29sbGFwc2VDb3VudCA9IDApCgoJI3NldCAoJGhhc01vcmVQYWdlcyA9IGZhbHNlKQoJI3NldCAoJG5leHRQYWdlSW5kZXggPSAkY29tbWVudFBhZ2VJbmRleCArIDEpCgkjaWYgKCRyZXZlcnNlZENvbW1lbnRzLlRvdGFsQ291bnQgPiAkY29tbWVudHMuQ291bnQpCgkJI3NldCAoJHRvdGFsUGFnZXMgPSAkcmV2ZXJzZWRDb21tZW50cy5Ub3RhbENvdW50IC8gJHJldmVyc2VkQ29tbWVudHMuUGFnZVNpemUpCgkJI3NldCAoJHRvdGFsUGFnZXMgPSAkdG90YWxQYWdlcyAtIDEpCgkJI2lmICgkdG90YWxQYWdlcyA+PSAkcmV2ZXJzZWRDb21tZW50cy5QYWdlSW5kZXgpCgkJCSNzZXQgKCRoYXNNb3JlUGFnZXMgPSB0cnVlKQoJCSNlbmQKCSNlbmQKCSNpZiAoJGhhc01vcmVQYWdlcykKCQk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSBhY3Rpb24gY29sbGFwc2UiICNpZiAoJHNpbmdsZVN0b3J5KSBzdHlsZT0iZGlzcGxheTpibG9jayIgI2VuZD4KCQkJPGEgaHJlZj0iIyIgZGF0YS1wYWdlaW5kZXg9IiRuZXh0UGFnZUluZGV4IiBkYXRhLXN0b3J5aWQ9IiRzdG9yeS5TdG9yeUlkIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgndmlld19tb3JlX2NvbW1lbnRzJyk8L2E+CgkJPC9saT4KCSNlbmQKCgkjaWYgKCRjb2xsYXBzZSkKCQk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSBhY3Rpb24gY29sbGFwc2VkLWNvbW1lbnRzIj4KCQkJPGEgaHJlZj0iIyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ3ZpZXdfbW9yZV9jb21tZW50cycpPC9hPgoJCTwvbGk+CgkjZW5kCgoJI2ZvcmVhY2ggKCRjb21tZW50IGluICRjb21tZW50cykKCQkjc2V0ICgkYWNjZXNzaW5nVXNlckNhbkRlbGV0ZSA9ICRjb3JlX3YyX2NvbW1lbnRzLkNhbkRlbGV0ZUNvbW1lbnQoJGNvbW1lbnQuQ29tbWVudElkKSkKCgkJI3NldCAoJHN1cHBvcnRzTGlrZXMgPSAkY29yZV92Ml9saWtlLlN1cHBvcnRzTGlrZXMoJGNvbW1lbnQuQ29tbWVudENvbnRlbnRUeXBlSWQpKQoJCSNzZXQgKCRjb21tZW50SGFzTGlrZXMgPSBmYWxzZSkKCQkjaWYgKCRjb3JlX3YyX2xpa2UuU3VwcG9ydHNMaWtlcygkY29tbWVudC5Db21tZW50Q29udGVudFR5cGVJZCkpCgkJCSNzZXQgKCRjb21tZW50TGlrZXMgPSBmYWxzZSkKCQkJI3NldCAoJGNvbW1lbnRMaWtlcyA9ICRjb3JlX3YyX2xpa2UuTGlzdCgiJXsgQ29udGVudElkID0gJGNvbW1lbnQuQ29tbWVudElkLCBDb250ZW50VHlwZUlkID0gJGNvbW1lbnQuQ29tbWVudENvbnRlbnRUeXBlSWQsIFBhZ2VTaXplID0gMSB9IikpCgkJCSNpZiAoJGNvbW1lbnRMaWtlcyAmJiAkY29tbWVudExpa2VzLlRvdGFsQ291bnQgPiAwKQoJCQkJI3NldCAoJGNvbW1lbnRIYXNMaWtlcyA9IHRydWUpCgkJCSNlbmQKCQkjZW5kCgoJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIGNvbW1lbnQgI2lmICgkY29sbGFwc2UgJiYgJGNvbGxhcHNlQ291bnQgPCAoJGNvbW1lbnRzLkNvdW50IC0gJHNob3dXaGVuQ29sbGFwc2VkKSkgY29sbGFwc2UgI2VuZCAgI2lmICgkY29tbWVudEhhc0xpa2VzKSB3aXRoLWxpa2VzICNlbmQiIGRhdGEtY29tbWVudGlkPSIkIWNvbW1lbnQuQ29tbWVudElkIiBkYXRhLWNvbnRlbnR0eXBlaWQ9IiQhY29tbWVudC5Db21tZW50Q29udGVudFR5cGVJZCIgZGF0YS1jb21tZW50ZGF0ZT0iJCFjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJGNvbW1lbnQuQ3JlYXRlZERhdGUsICRkYXRlVGltZVJvdW5kVHJpcEZvcm1hdCkiPgoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyIGNvbW1lbnQiPjwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QgY29tbWVudCI+CgoJCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgoJCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPgoJCQkJCQkjaWYoJGNvbW1lbnQuVXNlci5Qcm9maWxlVXJsKQoJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29tbWVudC5Vc2VyLlByb2ZpbGVVcmwpIj4KCQkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRjb21tZW50LlVzZXIuQXZhdGFyVXJsLCAzMiwgMzIsICIle2JvcmRlcj0nMCcsUmVzaXplTWV0aG9kID0gJ1pvb21BbmRDcm9wJywgYWx0PSRjb21tZW50LlVzZXIuRGlzcGxheU5hbWV9IikKCQkJCQkJCTwvYT4KCQkJCQkJI2Vsc2UKCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGNvbW1lbnQuVXNlci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7Ym9yZGVyPScwJyxSZXNpemVNZXRob2QgPSAnWm9vbUFuZENyb3AnLCBhbHQ9JGNvbW1lbnQuVXNlci5EaXNwbGF5TmFtZX0iKQoJCQkJCQkjZW5kCgkJCQkJPC9zcGFuPgoJCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPgoJCQkJCQkjaWYoJGNvbW1lbnQuVXNlci5Qcm9maWxlVXJsKQoJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29tbWVudC5Vc2VyLlByb2ZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSI+PHNwYW4+PC9zcGFuPiRjb21tZW50LlVzZXIuRGlzcGxheU5hbWU8L2E+CgkJCQkJCSNlbHNlCgkJCQkJCQk8c3Bhbj4kY29tbWVudC5Vc2VyLkRpc3BsYXlOYW1lPC9zcGFuPgoJCQkJCQkjZW5kCgkJCQkJPC9zcGFuPgoJCQkJPC9kaXY+CgoJCQkJI2lmICgkYWNjZXNzaW5nVXNlcklzUmVnaXN0ZXJlZCkKCQkJCQkjc2V0ICgkbW9kZXJhdGVPcHRpb25zID0gIiV7fSIpCgkJCQkJI2lmKCRhY2Nlc3NpbmdVc2VyQ2FuRGVsZXRlKQoJCQkJCQkjc2V0ICgkRFEgPSAnIicpCgkJCQkJCSRtb2RlcmF0ZU9wdGlvbnMuQWRkKCdBZGRpdGlvbmFsTGlua3MnLCJbeyR7RFF9aHJlZiR7RFF9OiR7RFF9IyR7RFF9LCR7RFF9dGV4dCR7RFF9OiR7RFF9JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdkZWxldGUnKX0ke0RRfSwke0RRfWNsYXNzTmFtZSR7RFF9OiR7RFF9ZGVsZXRlJHtEUX19XSIpCgkJCQkJI2VuZAoJCQkJCTxkaXYgY2xhc3M9InBvc3QtbW9kZXJhdGUiPgoJCQkJCQkkY29yZV92Ml91aS5Nb2RlcmF0ZSgkY29tbWVudC5Db21tZW50SWQsICRjb21tZW50LkNvbW1lbnRDb250ZW50VHlwZUlkLCAkbW9kZXJhdGVPcHRpb25zKQoJCQkJCTwvZGl2PgoJCQkJI2VuZAoKCQkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj4KCQkJCQkkY29tbWVudC5Cb2R5KCkKCQkJCTwvZGl2PgoKCQkJCTxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+CgkJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+CgkJCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPgoJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+CgkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRjb21tZW50LkNyZWF0ZWREYXRlKQoJCQkJCQk8L2xpPgoJCQkJCQkjaWYgKCRjb3JlX3YyX2xpa2UuQ2FuTGlrZSgkY29tbWVudC5Db21tZW50SWQsICRjb21tZW50LkNvbW1lbnRDb250ZW50VHlwZUlkKSkKCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQkkY29yZV92Ml91aS5MaWtlKCRjb21tZW50LkNvbW1lbnRJZCwgJGNvbW1lbnQuQ29tbWVudENvbnRlbnRUeXBlSWQsICIleyBGb3JtYXQgPSAne3RvZ2dsZX0nIH0iKQoJCQkJCQkJPC9saT4KCQkJCQkJI2VuZAoJCQkJCQkjaWYgKCRjb3JlX3YyX2xpa2UuU3VwcG9ydHNMaWtlcygkY29tbWVudC5Db21tZW50Q29udGVudFR5cGVJZCkpCgkJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBjb21tZW50LWxpa2UtY291bnQiPgoJCQkJCQkJCSNzZXQgKCREUSA9ICciJykKCQkJCQkJCQkkY29yZV92Ml91aS5MaWtlKCRjb21tZW50LkNvbW1lbnRJZCwgJGNvbW1lbnQuQ29tbWVudENvbnRlbnRUeXBlSWQsICIleyBGb3JtYXQgPSAnPHNwYW4gY2xhc3M9JHtEUX1saWtlLWluZGljYXRvciBpbmxpbmUke0RRfT48L3NwYW4+e2NvdW50fScgfSIpCgkJCQkJCQk8L2xpPgoJCQkJCQkjZW5kCgkJCQkJPC91bD4KCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtZm9vdGVyIj48L2Rpdj4KCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciBjb21tZW50Ij48L2Rpdj4KCQk8L2xpPgoKCQkjc2V0ICgkY29sbGFwc2VDb3VudCA9ICRjb2xsYXBzZUNvdW50ICsgMSkKCSNlbmQKCgkjIyBvbmx5IHNob3cgY29tbWVudCBmb3JtIGFzIHBhcnQgb2YgdGhlIGZpcnN0IChpbml0aWFsKSBwYWdlIG9mIGNvbW1lbnRzCgkjaWYgKCRhY2Nlc3NpbmdVc2VyQ2FuQ29tbWVudCAmJiAkY29tbWVudFBhZ2VJbmRleCA9PSAwKQoJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIGNvbW1lbnQgY29tbWVudC1mb3JtIiAjaWYoJHJldmVyc2VkQ29tbWVudHMuVG90YWxDb3VudCA9PSAwKXN0eWxlPSJkaXNwbGF5Om5vbmU7IiNlbmQ+CgkJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0Ij4KCQkJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+CgkJCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIj4KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPgoJCQkJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+CgkJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkYWNjZXNzaW5nVXNlci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7YWx0PSRhY2Nlc3NpbmdVc2VyLkRpc3BsYXlOYW1lLHN0eWxlPSdib3JkZXItd2lkdGg6MDsnLCBSZXNpemVNZXRob2QgPSAnWm9vbUFuZENyb3AnfSIpCgkJCQkJCQk8L3NwYW4+CgkJCQkJCQk8dGV4dGFyZWEgcm93cz0iMSIgbWF4bGVuZ3RoPSIkY29yZV92Ml9jb25maWd1cmF0aW9uLkFjdGl2aXR5TWVzc2FnZVJlcGx5TWF4TGVuZ3RoIiBwbGFjZWhvbGRlcj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnd3JpdGVDb21tZW50JykpIj48L3RleHRhcmVhPgoJCQkJCQk8L3NwYW4+CgkJCQkJPC9saT4KCQkJCTwvdWw+CgkJCTwvZmllbGRzZXQ+CgkJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4KCQk8L2xpPgoJI2VuZAojZW5kCg==</file>
			<file name="morecomments.vm">I3NldCAoJGNvbW1lbnRQYWdlSW5kZXggPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19jb21tZW50UGFnZUluZGV4JykpKQojc2V0ICgkc3RvcnlJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VHdWlkKCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19zdG9yeUlkJykpKQokY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ2NvbW1lbnRzLnZtJykK</file>
			<file name="story.vm">IyMKIyMgUmVuZGVycyBhbiBpbmRpdmlkdWFsIGFjdGl2aXR5IHN0b3J5CiMjIFJlcXVpcmVzIGluIHNjb3BlOgojIyAgICRzdG9yeSBpbnN0YW5jZQojIwoKI3NldCAoJHdpZGdldFVuaXF1ZU1lc3NhZ2VJZCA9ICIke2NvcmVfdjJfd2lkZ2V0LldyYXBwZXJFbGVtZW50SWR9X3N0b3J5XyR7bWVzc2FnZS5TdG9yeUlkfSIpCgojc2V0ICgkcHJpbWFyeVN0b3J5VXNlciA9ICRzdG9yeS5QcmltYXJ5VXNlcikKCiNzZXQgKCRwcmltYXJ5U3RvcnlVc2VySXNSZWdpc3RlcmVkID0gZmFsc2UpCiNzZXQgKCRwcmltYXJ5U3RvcnlVc2VySXNSZWdpc3RlcmVkID0gJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJHByaW1hcnlTdG9yeVVzZXIuSWQpKQojc2V0ICgkcHJpbWFyeVN0b3J5VXNlcklzQWNjZXNzaW5nVXNlciA9IGZhbHNlKQojaWYgKCRhY2Nlc3NpbmdVc2VyLklkID09ICRwcmltYXJ5U3RvcnlVc2VyLklkKQoJI3NldCAoJHByaW1hcnlTdG9yeVVzZXJJc0FjY2Vzc2luZ1VzZXIgPSB0cnVlKQojZW5kCgojc2V0ICgkY29tbWVudHNTdXBwb3J0ZWQgPSBmYWxzZSkKI3NldCAoJGNvbW1lbnRzU3VwcG9ydGVkID0gJGNvcmVfdjJfY29tbWVudHMuU3VwcG9ydHNDb21tZW50cygkc3RvcnkuQ29udGVudFR5cGVJZCkpCgojc2V0ICgkYWNjZXNzaW5nVXNlckNhbkNvbW1lbnQgPSBmYWxzZSkKI2lmICgkY29tbWVudHNTdXBwb3J0ZWQpCgkjc2V0ICgkYWNjZXNzaW5nVXNlckNhbkNvbW1lbnQgPSAkY29yZV92Ml9jb21tZW50cy5DYW5DcmVhdGVDb21tZW50KCRzdG9yeS5Db250ZW50SWQsICRzdG9yeS5Db250ZW50VHlwZUlkKSkKI2VuZAoKI3NldCAoJHdpZGdldFVuaXF1ZVN0b3J5SWQgPSAiJHtjb3JlX3YyX3dpZGdldC5XcmFwcGVyRWxlbWVudElkfV9zdG9yeV8ke3N0b3J5LlN0b3J5SWR9IikKI3NldCAoJHN0b3J5VHlwZSA9ICRzdG9yeS5TdG9yeVR5cGVJZCkKCjxsaSBpZD0iJCF3aWRnZXRVbmlxdWVTdG9yeUlkIiBjbGFzcz0iY29udGVudC1pdGVtIGFjdGl2aXR5IGFjdGl2aXR5LXN0b3J5ICQhc3RvcnlUeXBlIiBkYXRhLWF1dGhvcmlkPSIkIWxhdGVzdEFjdG9yLlVzZXIuSWQiIGRhdGEtYWN0aXZpdHlpZD0iJCFzdG9yeS5TdG9yeUlkIiBkYXRhLWFjdGl2aXR5dHlwZT0iJCFzdG9yeVR5cGUiIGRhdGEtYWN0aXZpdHlkYXRlPSIkIWNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkc3RvcnkuTGFzdFVwZGF0ZSwgJGRhdGVUaW1lUm91bmRUcmlwRm9ybWF0KSIgZGF0YS1jb250ZW50aWQ9IiQhc3RvcnkuQ29udGVudElkIiBkYXRhLWNvbnRlbnR0eXBlaWQ9IiQhc3RvcnkuQ29udGVudFR5cGVJZCIgZGF0YS10eXBlaWQ9IiQhc3RvcnkuVHlwZUlkIj4KCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1oZWFkZXIgYWN0aXZpdHkiPjwvZGl2PgoJPGRpdiBjbGFzcz0iZnVsbC1wb3N0IGFjdGl2aXR5Ij4KCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciBhY3Rpdml0eSI+CgkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPgoJCQkJI2lmKCRwcmltYXJ5U3RvcnlVc2VyLlByb2ZpbGVVcmwpCgkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcHJpbWFyeVN0b3J5VXNlci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPgoJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRwcmltYXJ5U3RvcnlVc2VyLkF2YXRhclVybCwgNTAsIDUwLCAiJXtib3JkZXI9JzAnLFJlc2l6ZU1ldGhvZCA9ICdab29tQW5kQ3JvcCcsIGFsdD0kcHJpbWFyeVN0b3J5VXNlci5EaXNwbGF5TmFtZX0iKQoJCQkJCTwvYT4KCQkJCSNlbHNlCgkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkcHJpbWFyeVN0b3J5VXNlci5BdmF0YXJVcmwsIDUwLCA1MCwgIiV7Ym9yZGVyPScwJyxSZXNpemVNZXRob2QgPSAnWm9vbUFuZENyb3AnLCBhbHQ9JHByaW1hcnlTdG9yeVVzZXIuRGlzcGxheU5hbWV9IikKCQkJCSNlbmQKCQkJPC9zcGFuPgoJCTwvZGl2PgoKCQkjaWYgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkKQoJCQkjc2V0ICgkbW9kZXJhdGVPcHRpb25zID0gIiV7fSIpCgkJCSNpZigkY29yZV92Ml9hY3Rpdml0eVN0b3J5LkNhbkRlbGV0ZSgkc3RvcnkuU3RvcnlJZCkpCgkJCQkjc2V0ICgkRFEgPSAnIicpCgkJCQkkbW9kZXJhdGVPcHRpb25zLkFkZCgnQWRkaXRpb25hbExpbmtzJywiW3ske0RRfWhyZWYke0RRfToke0RRfSMke0RRfSwke0RRfXRleHQke0RRfToke0RRfSR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnZGVsZXRlJyl9JHtEUX0sJHtEUX1jbGFzc05hbWUke0RRfToke0RRfWRlbGV0ZSR7RFF9fV0iKQoJCQkjZW5kCgkJCTxkaXYgY2xhc3M9InBvc3QtbW9kZXJhdGUiPgoJCQkJJGNvcmVfdjJfdWkuTW9kZXJhdGUoJHN0b3J5LkNvbnRlbnRJZCwgJHN0b3J5LkNvbnRlbnRUeXBlSWQsICRtb2RlcmF0ZU9wdGlvbnMpCgkJCTwvZGl2PgoJCSNlbmQKCgkJPGRpdiBjbGFzcz0icG9zdC1jb250ZW50IGFjdGl2aXR5Ij4KCQkJJHN0b3J5LlZpZXdIdG1sKCdXZWInKQoJCTwvZGl2PgoKCQk8ZGl2IGNsYXNzPSJwb3N0LWFjdGlvbnMgYWN0aXZpdHkiPgoJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPgoJCQkJI2lmICgkYWNjZXNzaW5nVXNlcklzUmVnaXN0ZXJlZCAmJiAkY29yZV92Ml9saWtlLkNhbkxpa2UoJHN0b3J5LkNvbnRlbnRJZCwgJHN0b3J5LkNvbnRlbnRUeXBlSWQpKQoJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJI3NldCAoJGxpa2VPcHRpb25zID0gIiV7IEZvcm1hdCA9ICd7dG9nZ2xlfScgfSIpCgkJCQkJCSNpZiAoJHN0b3J5LlR5cGVJZCkKCQkJCQkJCSRsaWtlT3B0aW9ucy5BZGQoJ0xpa2VUeXBlSWQnLCAkc3RvcnkuVHlwZUlkKQoJCQkJCQkjZW5kCgkJCQkJCSRjb3JlX3YyX3VpLkxpa2UoJHN0b3J5LkNvbnRlbnRJZCwgJHN0b3J5LkNvbnRlbnRUeXBlSWQsICRsaWtlT3B0aW9ucykKCQkJCQk8L2xpPgoJCQkJI2VuZAoKCQkJCSNpZiAoJGNvbW1lbnRzU3VwcG9ydGVkICYmICRhY2Nlc3NpbmdVc2VyQ2FuQ29tbWVudCkKCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+CgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIGNvbW1lbnQiIGhyZWY9IiMiPgoJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdjb21tZW50JykKCQkJCQkJPC9hPgoJCQkJCTwvbGk+CgkJCQkjZW5kCgoJCQkJI2lmICgkYWNjZXNzaW5nVXNlcklzUmVnaXN0ZXJlZCAmJiAkcHJpbWFyeVN0b3J5VXNlcklzUmVnaXN0ZXJlZCAmJiAhJHByaW1hcnlTdG9yeVVzZXJJc0FjY2Vzc2luZ1VzZXIpCgkJCQkJI3NldCgkY29udmVyc2F0aW9uVXJsID0gZmFsc2UpCgkJCQkJI3NldCgkY29udmVyc2F0aW9uVXJsID0gJGNvcmVfdjJfdXJscy5BZGRDb252ZXJzYXRpb24oJHByaW1hcnlTdG9yeVVzZXIuSWQpKQoJCQkJCSNpZiAoJGNvbnZlcnNhdGlvblVybCkKCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJPGEgaHJlZj0iIyIgZGF0YS1jb252ZXJzYXRpb251cmw9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvbnZlcnNhdGlvblVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHN0YXJ0LWNvbnZlcnNhdGlvbiI+CgkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdtZXNzYWdlJykKCQkJCQkJCTwvYT4KCQkJCQkJPC9saT4KCQkJCQkjZW5kCgkJCQkjZW5kCgoJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCSNzZXQgKCRzdG9yeVVybCA9IGZhbHNlKQoJCQkJCSNzZXQgKCRzdG9yeVVybCA9ICRzdG9yeS5BY3Rpdml0eVVybCkKCQkJCQkjaWYgKCRzdG9yeVVybCkKCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkc3RvcnlVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXBvc3QiPgoJCQkJCQkJPHNwYW4gY2xhc3M9InBvc3QtZGF0ZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0QWdvRGF0ZSgkc3RvcnkuQ3JlYXRlZERhdGUpPC9zcGFuPgoJCQkJCQk8L2E+CgkJCQkJI2Vsc2UKCQkJCQkJPHNwYW4gY2xhc3M9InBvc3QtZGF0ZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0QWdvRGF0ZSgkc3RvcnkuQ3JlYXRlZERhdGUpPC9zcGFuPgoJCQkJCSNlbmQKCQkJCTwvbGk+CgkJCTwvdWw+CgkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2PgoJCTwvZGl2PgoKCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIGNvbW1lbnRzIj48L2Rpdj4KCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtbmFtZSBjb21tZW50cyI+PC9kaXY+CgkJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QgY29tbWVudHMiPgoJCSMjIGxpa2VzCgkJI3NldCAoJGxpa2VzID0gZmFsc2UpCgkJI3NldCAoJGxpa2VMaXN0T3B0aW9ucyA9ICIleyBDb250ZW50SWQgPSAkc3RvcnkuQ29udGVudElkLCBDb250ZW50VHlwZUlkID0gJHN0b3J5LkNvbnRlbnRUeXBlSWQsIFBhZ2VTaXplID0gMSB9IikKCQkjaWYgKCRzdG9yeS5UeXBlSWQpCgkJCSRsaWtlTGlzdE9wdGlvbnMuQWRkKCdUeXBlSWQnLCAkc3RvcnkuVHlwZUlkKQoJCSNlbmQKCQkjc2V0ICgkbGlrZXMgPSAkY29yZV92Ml9saWtlLkxpc3QoJGxpa2VMaXN0T3B0aW9ucykpCgkJI3NldCAoJERRID0gJyInKQoJCSNzZXQgKCRsaWtlT3B0aW9ucyA9ICIleyBGb3JtYXQgPSAnPHNwYW4gY2xhc3M9JHtEUX1saWtlLWluZGljYXRvciR7RFF9Pjwvc3Bhbj57bWVzc2FnZX0nIH0iKQoJCSNpZiAoJHN0b3J5LlR5cGVJZCkKCQkJJGxpa2VPcHRpb25zLkFkZCgnTGlrZVR5cGVJZCcsICRzdG9yeS5UeXBlSWQpCgkJI2VuZAoJCSNpZiAoJGxpa2VzICYmICRsaWtlcy5Ub3RhbENvdW50ID4gMCkKCQkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gYWN0aW9uIGxpa2VzIHdpdGgtbGlrZXMiPgoJCQkJJGNvcmVfdjJfdWkuTGlrZSgkc3RvcnkuQ29udGVudElkLCAkc3RvcnkuQ29udGVudFR5cGVJZCwgJGxpa2VPcHRpb25zKQoJCQk8L2xpPgoJCSNlbHNlCgkJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIGFjdGlvbiBsaWtlcyB3aXRob3V0LWxpa2VzIj4KCQkJCSRjb3JlX3YyX3VpLkxpa2UoJHN0b3J5LkNvbnRlbnRJZCwgJHN0b3J5LkNvbnRlbnRUeXBlSWQsICRsaWtlT3B0aW9ucykKCQkJPC9saT4KCQkjZW5kCgkJI2lmICgkY29tbWVudHNTdXBwb3J0ZWQpCgkJCSNzZXQgKCRjb21tZW50UGFnZUluZGV4ID0gMCkKCQkJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdjb21tZW50cy52bScpCgkJI2VuZAoJCTwvdWw+CgkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciBjb21tZW50cyI+PC9kaXY+Cgk8L2Rpdj4KCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1mb290ZXIgYWN0aXZpdHkiPjwvZGl2Pgo8L2xpPgo=</file>
			<file name="stream.vm">I3NldCAoJGNvbGxhcHNlV2hlbk92ZXIgPSA0KQojc2V0ICgkc2hvd1doZW5Db2xsYXBzZWQgPSAyKQojc2V0ICgkZXhjZXJwdFNpemUgPSA1MDApCiNzZXQgKCRwb3N0Q29tbWVudFBhZ2VTaXplID0gMjApCiNzZXQgKCRkYXRlVGltZVJvdW5kVHJpcEZvcm1hdCA9ICJ5eXl5LU1NLWRkVEhIOm1tOnNzIikKCiNzZXQgKCRmaWx0ZXJUeXBlID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2ZpbHRlclR5cGUnKSkKI3NldCAoJGZpbHRlckluZGV4ID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2ZpbHRlckluZGV4JykpCiNzZXQgKCRwYWdlU2l6ZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VTaXplJykpKQoKI3NldCAoJGVuZERhdGUgPSBmYWxzZSkKI2lmICgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZW5kRGF0ZScpLmxlbmd0aCA+IDApCgkjc2V0KCRlbmREYXRlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZURhdGUoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2VuZERhdGUnKSkpCiNlbmQKCiNzZXQoJHN0b3J5SWQgPSBmYWxzZSkKI2lmICgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfbWVzc2FnZUlkJykpCgkjc2V0ICgkc2luZ2xlU3RvcnkgPSB0cnVlKQoJI3NldCAoJHN0b3J5SWQgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfbWVzc2FnZUlkJykpCiNlbmQKCiNzZXQgKCRpc0FkbWluaXN0cmF0b3IgPSBmYWxzZSkKI2lmICgkY29yZV92Ml9ub2RlUGVybWlzc2lvbi5HZXQoJ1NpdGVfTW9kZXJhdGVVc2VyQ29udGVudCcpLklzQWxsb3dlZCkKCSNzZXQoJGlzQWRtaW5pc3RyYXRvciA9IHRydWUpCiNlbmQKCiNzZXQgKCRhY2Nlc3NpbmdVc2VyID0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcpCiNzZXQgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkID0gZmFsc2UpCiNpZiAoJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJGFjY2Vzc2luZ1VzZXIuSWQpKQoJI3NldCAoJGFjY2Vzc2luZ1VzZXJJc1JlZ2lzdGVyZWQgPSB0cnVlKQojZW5kCgojIyBnZXQgZmlsdGVyIGNvbmZpZ3VyYXRpb24gY29ycmVzcG9uZGluZyB0byBzZWxlY3RlZCBmaWx0ZXIgdGFiIGluZGV4CiNpZiAoJGZpbHRlclR5cGUgPT0gJ1VzZXInKQoJI3NldCAoJGZpbHRlckFjdGl2aXR5VHlwZXNQcm9wZXJ0eSA9ICJmaWx0ZXJVc2VyQWN0aXZpdHlUeXBlcyR7ZmlsdGVySW5kZXh9IikKI2Vsc2UKCSNzZXQgKCRmaWx0ZXJBY3Rpdml0eVR5cGVzUHJvcGVydHkgPSAiZmlsdGVyQWN0aXZpdHlUeXBlcyR7ZmlsdGVySW5kZXh9IikKI2VuZAojc2V0ICgkZmlsdGVyQWN0aXZpdHlUeXBlcyA9IGZhbHNlKQojc2V0ICgkZmlsdGVyQWN0aXZpdHlUeXBlcyA9ICRjb3JlX3YyX3BhZ2UuUGFyc2VRdWVyeVN0cmluZygkY29yZV92Ml93aWRnZXQuR2V0Q3VzdG9tVmFsdWUoJGZpbHRlckFjdGl2aXR5VHlwZXNQcm9wZXJ0eSwnJykpKQoKIyMgc3Rvcmllcwojc2V0KCRzdG9yaWVzID0gZmFsc2UpCgojaWYgKCRzdG9yeUlkKSAgIyMgaW5kaXZpZHVhbCBzdG9yeSBpZAoJI3NldCAoJHN0b3J5ID0gZmFsc2UpCgkjc2V0ICgkc3RvcnlJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VHdWlkKCRzdG9yeUlkKSkKCSNzZXQgKCRzdG9yeSA9ICRjb3JlX3YyX2FjdGl2aXR5U3RvcnkuR2V0KCRzdG9yeUlkKSkKCSNpZiAoJHN0b3J5KQoJCSNzZXQgKCRzdG9yaWVzID0gWyRzdG9yeV0pCgkjZWxzZQoJCSNzZXQgKCRzdG9yaWVzID0gW10pCgkjZW5kCiNlbHNlaWYgKCRmaWx0ZXJUeXBlID09ICdVc2VyJykgIyMgdXNlciBpZAoJI3NldCAoJHF1ZXJ5ID0gIiV7IFNvcnRCeSA9ICdEYXRlJywgU29ydE9yZGVyID0gJ0Rlc2NlbmRpbmcnLCBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSB9IikKI2Vsc2VpZiAoJGZpbHRlclR5cGUgPT0gJ0dyb3VwJykgIyMgZ3JvdXAKCSNzZXQgKCRjdXJyZW50R3JvdXAgPSBmYWxzZSkKCSNzZXQgKCRjdXJyZW50R3JvdXAgPSAkY29yZV92Ml9ncm91cC5DdXJyZW50KQoJI3NldCAoJGluY2x1ZGVTdWJHcm91cHMgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdpbmNsdWRlU3ViR3JvdXBzJywgZmFsc2UpKQoJI3NldCAoJGNvbnRhaW5lcklkcyA9ICIiKQoJI2lmICgkY3VycmVudEdyb3VwKQoJCSNzZXQgKCRjb250YWluZXJJZHMgPSAiJGN1cnJlbnRHcm91cC5Db250YWluZXJJZCIpCgkjaWYgKCRpbmNsdWRlU3ViR3JvdXBzKQoJCSNzZXQgKCRzdWJHcm91cHMgPSAkY29yZV92Ml9ncm91cC5MaXN0KCIleyBJbmNsdWRlQWxsU3ViR3JvdXBzID0gJ3RydWUnLCBQYWdlU2l6ZSA9IDUwLCBQYXJlbnRHcm91cElkID0gJGN1cnJlbnRHcm91cC5JZCwgUGVybWlzc2lvbiA9ICdHcm91cF9SZWFkR3JvdXAnIH0iKSkKCQkjZm9yZWFjaCAoJHN1Ykdyb3VwIGluICRzdWJHcm91cHMpCgkJCSNzZXQgKCRjb250YWluZXJJZHMgPSAiJHtjb250YWluZXJJZHN9LCR7c3ViR3JvdXAuQ29udGFpbmVySWR9IikKCQkjZW5kCgkjZW5kCgkjZW5kCgkjc2V0ICgkcXVlcnkgPSAiJXsgU29ydEJ5ID0gJ0RhdGUnLCBTb3J0T3JkZXIgPSAnRGVzY2VuZGluZycsIFBhZ2VTaXplID0gJHBhZ2VTaXplLCBDb250YWluZXJJZHMgPSAkY29udGFpbmVySWRzIH0iKQojZWxzZSAgIyMgc2l0ZQoJI3NldCAoJHF1ZXJ5ID0gIiV7IFNvcnRCeSA9ICdEYXRlJywgU29ydE9yZGVyID0gJ0Rlc2NlbmRpbmcnLCBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSB9IikKI2VuZAoKI2lmICghJHN0b3JpZXMpCgkjIyBpbmNsdWRlIGZpbHRlcnMsIGlmIHNwZWNpZmllZAoJI3NldCAoJGhhc1VzZXJGaWx0ZXJzID0gZmFsc2UpCgkjaWYgKCRmaWx0ZXJBY3Rpdml0eVR5cGVzICYmICRmaWx0ZXJBY3Rpdml0eVR5cGVzLlZhbHVlcygnZmlsdGVycycpLkNvdW50ID4gMCkKCQkjc2V0ICgkaW5jbHVkZWRTdG9yeVR5cGVzID0gZmFsc2UpCgkJI3NldCAoJGluY2x1ZGVkU3RvcnlUeXBlcyA9ICRmaWx0ZXJBY3Rpdml0eVR5cGVzLlZhbHVlcygnZmlsdGVycycpKQoJCSNmb3JlYWNoICgkc3RvcnlUeXBlIGluICRpbmNsdWRlZFN0b3J5VHlwZXMpCgkJCSNzZXQgKCRpbmNsdWRlZFVzZXJzID0gZmFsc2UpCgkJCSNzZXQgKCRpbmNsdWRlZFVzZXJzID0gJGZpbHRlckFjdGl2aXR5VHlwZXMuVmFsdWUoJHN0b3J5VHlwZSkpCgkJCSNpZiAoJGluY2x1ZGVkVXNlcnMpCgkJCQkjc2V0ICgkZmlsdGVyTmFtZSA9ICJfRmlsdGVyXyR7c3RvcnlUeXBlfSIpCgkJCQkjc2V0ICgkaGFzVXNlckZpbHRlcnMgPSB0cnVlKQoJCQkJJHF1ZXJ5LkFkZCgkZmlsdGVyTmFtZSwgJGluY2x1ZGVkVXNlcnMpCgkJCSNlbmQKCQkjZW5kCgkjZW5kCgoJI2lmICgkaGFzVXNlckZpbHRlcnMgfHwgJGZpbHRlclR5cGUgPT0gJ1VzZXInKQoJCSNzZXQgKCR1c2VySWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd191c2VySWQnKSkpCgkJJHF1ZXJ5LkFkZCgnVXNlcklkJywgJHVzZXJJZCkKCSNlbmQKCgkjIyBpbmNsdWRlIGRhdGUgb2Zmc2V0LCBpZiBzcGVjaWZpZWQKCSNpZiAoJGVuZERhdGUpCgkJJHF1ZXJ5LkFkZCgnRW5kRGF0ZScsICRlbmREYXRlKQoJI2VuZAoJI3NldCAoJHN0b3JpZXMgPSAkY29yZV92Ml9hY3Rpdml0eVN0b3J5Lkxpc3QoJHF1ZXJ5KSkKI2VuZAoKI3NldCgkaGFkRGF0ZUZpbHRlciA9IGZhbHNlKQojaWYgKCEkZW5kRGF0ZSkKCSNzZXQoJGhhZERhdGVGaWx0ZXIgPSB0cnVlKQojZW5kCiNzZXQoJGVuZERhdGUgPSBmYWxzZSkKCiNmb3JlYWNoKCRzdG9yeSBpbiAkc3RvcmllcykKI2JlZm9yZWFsbAoJPHVsPgojZWFjaAoJI3NldCAoJGVuZERhdGUgPSAkc3RvcnkuTGFzdFVwZGF0ZSkKCgkkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoInN0b3J5LnZtIikKI25vZGF0YQoJI2lmICgkaGFkRGF0ZUZpbHRlcikKCQk8dWw+CgkJCTxsaSBpZD0iJHtjb3JlX3YyX3dpZGdldC5XcmFwcGVyRWxlbWVudElkfV9tZXNzYWdlX25vcmVjb3JkcyI+PGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdub19tZXNzYWdlcycpPC9kaXY+PC9saT4KCQk8L3VsPgoJI2VuZAojYWZ0ZXJhbGwKCTxsaSBjbGFzcz0iZGF0YSIgZGF0YS1sYXN0bWVzc2FnZWRhdGU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGVuZERhdGUuQWRkTWlsbGlzZWNvbmRzKDEpLlRvU3RyaW5nKCRkYXRlVGltZVJvdW5kVHJpcEZvcm1hdCkpIj48L2xpPgoJPC91bD4KI2VuZAoKCg==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQsIGdsb2JhbCkgewoKCXZhciBBY3Rpdml0eVNlcnZpY2UgPSAoZnVuY3Rpb24oKXsKCSAgIHZhciBob2xkcyA9IDAsCgkJCWxvY2tlZERhdGFLZXkgPSAnX3N0cmVhbV9sb2NrZWRfZm9yX2NvbW1lbnRpbmcnLAoJCQlsaXN0VXJsOwoJCXJldHVybiB7CgkJCWxvY2s6IGZ1bmN0aW9uKHRhKSB7CgkJCQlpZighJCh0YSkuZGF0YShsb2NrZWREYXRhS2V5KSkgewoJCQkJCSQodGEpLmRhdGEobG9ja2VkRGF0YUtleSwgdHJ1ZSk7CgkJCQkJaG9sZHMrKzsKCQkJCX0KCQkJfSwKCQkJdW5sb2NrOiBmdW5jdGlvbih0YSkgewoJCQkJaWYoJCh0YSkuZGF0YShsb2NrZWREYXRhS2V5KSkgewoJCQkJCSQodGEpLmRhdGEobG9ja2VkRGF0YUtleSwgZmFsc2UpOwoJCQkJCWhvbGRzLS07CgkJCQkJaWYoaG9sZHMgPCAwKQoJCQkJCQlob2xkcyA9IDA7CgkJCQl9CgkJCX0sCgkJCWluaXQ6IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJCWxpc3RVcmwgPSBjb250ZXh0LnN0cmVhbVVybDsKCQkJfSwKCQkJbGlzdDogZnVuY3Rpb24ocXVlcnksIHN1Y2Nlc3MsIGVycm9yKSB7CgkJCQlpZihob2xkcyA+IDApIHsKCQkJCQlyZXR1cm47CgkJCQl9CgoJCQkJdmFyIGRhdGEgPSB7fTsKCQkJCSQuZWFjaChxdWVyeSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkgewoJCQkJCWRhdGFbJ3dfJyArIGtleV0gPSB2YWx1ZTsKCQkJCX0pCgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsKCQkJCQl1cmw6IGxpc3RVcmwsCgkJCQkJZGF0YTogZGF0YSwKCQkJCQljYWNoZTogZmFsc2UsCgkJCQkJc3VjY2Vzczogc3VjY2VzcywKCQkJCQllcnJvcjogZXJyb3IKCQkJCX0pOwoJCQl9LAoJCQlkZWw6IGZ1bmN0aW9uKGlkLCBzdWNjZXNzLCBlcnJvcikgewoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7CgkJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvc3Rvcmllcy97U3RvcnlJZH0uanNvbicsCgkJCQkJZGF0YTogeyBTdG9yeUlkOiBpZCB9LAoJCQkJCWNhY2hlOiBmYWxzZSwKCQkJCQlzdWNjZXNzOiBzdWNjZXNzLAoJCQkJCWVycm9yOiBlcnJvcgoJCQkJfSk7CgkJCX0KCQl9OwoJfSgpKTsKCgl2YXIgUmVwbHlTZXJ2aWNlID0gKGZ1bmN0aW9uKCl7CgkJdmFyIGxpc3RVcmw7CgkJcmV0dXJuIHsKCQkJaW5pdDogZnVuY3Rpb24oY29udGV4dCkgewoJCQkJbGlzdFVybCA9IGNvbnRleHQubW9yZUNvbW1lbnRzVXJsOwoJCQl9LAoJCQlhZGQ6IGZ1bmN0aW9uKGFjdGl2aXR5RWxlbWVudCwgY29tbWVudCwgc3VjY2VzcywgZmFpbCkgewoJCQkJdmFyIGRhdGEgPSB7CgkJCQkJCUNvbnRlbnRJZDogYWN0aXZpdHlFbGVtZW50LmRhdGEoJ2NvbnRlbnRpZCcpLAoJCQkJCQlDb250ZW50VHlwZUlkOiBhY3Rpdml0eUVsZW1lbnQuZGF0YSgnY29udGVudHR5cGVpZCcpLAoJCQkJCQlCb2R5OiBjb21tZW50CgkJCQkJfTsKCgkJCQlpZiAoYWN0aXZpdHlFbGVtZW50LmRhdGEoJ3R5cGVpZCcpKSB7CgkJCQkJZGF0YS5Db21tZW50VHlwZUlkID0gYWN0aXZpdHlFbGVtZW50LmRhdGEoJ3R5cGVpZCcpOwoJCQkJfQoKCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsKCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9jb21tZW50cy5qc29uJywKCQkJCQlkYXRhOiBkYXRhLAoJCQkJCWNhY2hlOiBmYWxzZSwKCQkJCQlzdWNjZXNzOiBzdWNjZXNzLAoJCQkJCWVycm9yOiBmYWlsCgkJCQl9KTsKCQkJfSwKCQkJZGVsOiBmdW5jdGlvbihhY3Rpdml0eUVsZW1lbnQsIGNvbW1lbnQsIHN1Y2Nlc3MsIGZhaWwpIHsKCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5kZWwoewoJCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL2NvbW1lbnRzL3tDb21tZW50SWR9Lmpzb24nLAoJCQkJCWRhdGE6IHsKCQkJCQkJQ29tbWVudElkOiBjb21tZW50LmRhdGEoJ2NvbW1lbnRpZCcpCgkJCQkJfSwKCQkJCQljYWNoZTogZmFsc2UsCgkJCQkJc3VjY2Vzczogc3VjY2VzcywKCQkJCQllcnJvcjogZmFpbAoJCQkJfSk7CgkJCX0sCgkJCWxpc3Q6IGZ1bmN0aW9uKHF1ZXJ5LCBzdWNjZXNzLCBmYWlsKSB7CgkJCQl2YXIgZGF0YSA9IHt9OwoJCQkJJC5lYWNoKHF1ZXJ5LCBmdW5jdGlvbihrZXksIHZhbHVlKSB7CgkJCQkJZGF0YVsnd18nICsga2V5XSA9IHZhbHVlOwoJCQkJfSkKCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoewoJCQkJCXVybDogbGlzdFVybCwKCQkJCQlkYXRhOiBkYXRhLAoJCQkJCWNhY2hlOiBmYWxzZSwKCQkJCQlzdWNjZXNzOiBzdWNjZXNzLAoJCQkJCWVycm9yOiBmYWlsCgkJCQl9KTsKCQkJfQoJCX07Cgl9KCkpOwoKCXZhciBDb250cm9sbGVyID0gKGZ1bmN0aW9uKCl7CgkJdmFyIGFjdGl2aXRpZXMsCgkJCXJlcGxpZXMsCgkJCXdpZGdldENvbnRleHQsCgkJCWxvYWRpbmcgPSBmYWxzZSwKCQkJZGF5RGl2aWRlcnMgPSBbXSwKCQkJZXh0cmFMb2FkQ291bnQgPSAwLAoJCQltYXhFeHRyYUxvYWRzID0gMTAsCgkJCWFjdGl2aXR5TWVzc2FnZUVsZW1lbnRGb3IgPSBmdW5jdGlvbihlbGVtZW50KSB7CgkJCQlyZXR1cm4gJChlbGVtZW50KS5jbG9zZXN0KCdsaS5jb250ZW50LWl0ZW0uYWN0aXZpdHknKTsKCQkJfSwKCQkJY2xlYXIgPSBmdW5jdGlvbigpIHsKCQkJCXdpZGdldENvbnRleHQuY29udGFpbmVyLmVtcHR5KCk7CgkJCQl3aWRnZXRDb250ZXh0LndyYXBwZXIuY2xvc2VzdCgnLmxheW91dC1yZWdpb24uY29udGVudCcpLmNzcyh7J21pbi1oZWlnaHQnOic5MDBweCd9KTsKCQkJCXdpZGdldENvbnRleHQud3JhcHBlci5jbG9zZXN0KCcubGF5b3V0JykuZmluZCgnLmxheW91dC1yZWdpb24taW5uZXIucmlnaHQtc2lkZWJhcicpLmNzcyh7J21pbi1oZWlnaHQnOic5MDBweCd9KTsKCQkJfSwKCQkJd2luZG93SXNTY3JvbGxhYmxlID0gZnVuY3Rpb24oKSB7CgkJCQlyZXR1cm4gJChkb2N1bWVudCkuaGVpZ2h0KCkgPiAkKHdpbmRvdykuaGVpZ2h0KCk7CgkJCX0sCgkJCWxvYWQgPSBmdW5jdGlvbihzaG93TW9yZSwgYXV0b1JlZnJlc2gpIHsKCQkJCWxvYWRpbmcgPSB0cnVlOwoJCQkJdmFyIGhhbmRsZVJlc3BvbnNlID0gZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQl2YXIgcmVzcG9uc2UgPSAkLnRyaW0ocmVzcG9uc2UpOwoJCQkJCWlmIChyZXNwb25zZSkgewoJCQkJCQl2YXIgZmFsc2VDb250YWluZXIgPSAkKCc8ZGl2PjwvZGl2PicpOwoJCQkJCQlyZXNwb25zZSA9ICQocmVzcG9uc2UpOwoJCQkJCQlyZXNwb25zZS5hcHBlbmRUbyhmYWxzZUNvbnRhaW5lcik7CgoJCQkJCQl2YXIgZGF0YSA9IHJlc3BvbnNlLmNoaWxkcmVuKCdsaS5kYXRhJykucmVtb3ZlKCk7CgkJCQkJCWlmKCFhdXRvUmVmcmVzaCkgewoJCQkJCQkJaWYgKGRhdGEubGVuZ3RoID4gMCkgewoJCQkJCQkJCXdpZGdldENvbnRleHQubGFzdE1lc3NhZ2VEYXRlID0gZGF0YS5kYXRhKCdsYXN0bWVzc2FnZWRhdGUnKTsKCQkJCQkJCQl3aWRnZXRDb250ZXh0Lmhhc01vcmVEYXRhID0gdHJ1ZTsKCQkJCQkJCQl3aWRnZXRDb250ZXh0LnBhZ2VyLmZpbmQoJ2EnKS5zaG93KCk7CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCXdpZGdldENvbnRleHQuaGFzTW9yZURhdGEgPSBmYWxzZTsKCQkJCQkJCQl3aWRnZXRDb250ZXh0LnBhZ2VyLmZpbmQoJ2EnKS5oaWRlKCk7CgkJCQkJCQl9CgkJCQkJCX0KCgkJCQkJCXZhciBpdGVtcyA9IHJlc3BvbnNlLmNoaWxkcmVuKCdsaScpOwoKCQkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ3N0cmVhbUxvYWRlZCcsIHsKCQkJCQkJCWFjdGl2aXRpZXM6IGl0ZW1zCgkJCQkJCX0pOwoKCQkJCQkJcmVuZGVyTWVzc2FnZXMoaXRlbXMsIGF1dG9SZWZyZXNoKTsKCQkJCQl9IGVsc2UgewoJCQkJCQl3aWRnZXRDb250ZXh0Lmhhc01vcmVEYXRhID0gZmFsc2U7CgkJCQkJCXdpZGdldENvbnRleHQucGFnZXIuZmluZCgnYScpLmhpZGUoKTsKCQkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ3N0cmVhbUxvYWRFcnJvcicpOwoJCQkJCX0KCQkJCQlsb2FkaW5nID0gZmFsc2U7CgoJCQkJCS8vIGlmIHRoZSB3aW5kb3cgaXNuJ3QgeWV0IHNjcm9sbGFibGUgYW5kIHRoaXMgd2Fzbid0IGZvciBhIHNpbmdsZSBtZXNzYWdlLAoJCQkJCS8vIHRyeSBsb2FkaW5nIG1vcmUKCQkJCQlpZighd2luZG93SXNTY3JvbGxhYmxlKCkgJiYgIXdpZGdldENvbnRleHQubWVzc2FnZUlkICYmIHdpZGdldENvbnRleHQuaGFzTW9yZURhdGEgJiYgZXh0cmFMb2FkQ291bnQgPCBtYXhFeHRyYUxvYWRzKSB7CgkJCQkJCWV4dHJhTG9hZENvdW50Kys7CgkJCQkJCWxvYWQodHJ1ZSwgZmFsc2UpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCWV4dHJhTG9hZENvdW50ID0gMDsKCQkJCQl9CgkJCQl9OwoKCQkJCWlmICh3aWRnZXRDb250ZXh0Lm1lc3NhZ2VJZCkgewoJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdzdHJlYW1Mb2FkaW5nJyk7CgoJCQkJCWFjdGl2aXRpZXMubGlzdCh7CgkJCQkJCQlmaWx0ZXJJbmRleDogd2lkZ2V0Q29udGV4dC5maWx0ZXJJbmRleCwKCQkJCQkJCW1lc3NhZ2VJZDogd2lkZ2V0Q29udGV4dC5tZXNzYWdlSWQsCgkJCQkJCQl1c2VySWQ6IHdpZGdldENvbnRleHQudXNlcklkCgkJCQkJCX0sCgkJCQkJCWhhbmRsZVJlc3BvbnNlLCAgICAgLy8gc3VjY2VzcwoJCQkJCQlmdW5jdGlvbigpIHsgICAgICAgIC8vIGVycm9yCgkJCQkJCQl3aWRnZXRDb250ZXh0LndyYXBwZXIudHJpZ2dlcignc3RyZWFtTG9hZEVycm9yJyk7CgkJCQkJCQlsb2FkaW5nID0gZmFsc2U7CgkJCQkJCX0pOwoKCQkJCX0gZWxzZSB7CgkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ3N0cmVhbUxvYWRpbmcnKTsKCgkJCQkJYWN0aXZpdGllcy5saXN0KHsKCQkJCQkJZmlsdGVySW5kZXg6IHdpZGdldENvbnRleHQuZmlsdGVySW5kZXgsCgkJCQkJCWZpbHRlclR5cGU6IHdpZGdldENvbnRleHQuZmlsdGVyVHlwZSwKCQkJCQkJZW5kRGF0ZTogc2hvd01vcmUgPyB3aWRnZXRDb250ZXh0Lmxhc3RNZXNzYWdlRGF0ZSA6ICcnLAoJCQkJCQlwYWdlU2l6ZTogd2lkZ2V0Q29udGV4dC5wYWdlU2l6ZSwKCQkJCQkJdXNlcklkOiB3aWRnZXRDb250ZXh0LnVzZXJJZCwKCQkJCQkJZ3JvdXA6IHdpZGdldENvbnRleHQuZ3JvdXBJZAoJCQkJCX0sCgkJCQkJaGFuZGxlUmVzcG9uc2UsICAgICAvLyBzdWNjZXNzCgkJCQkJZnVuY3Rpb24oKSB7ICAgICAgICAvLyBlcnJvcgoJCQkJCQl3aWRnZXRDb250ZXh0LndyYXBwZXIudHJpZ2dlcignc3RyZWFtTG9hZEVycm9yJyk7CgkJCQkJCWxvYWRpbmcgPSBmYWxzZTsKCQkJCQl9KTsKCQkJCX0KCQkJfSwKCQkJcmVuZGVyTWVzc2FnZXMgPSBmdW5jdGlvbihtZXNzYWdlcywgYXV0b1JlZnJlc2gpIHsKCQkJCS8vIGZpbHRlciBuZXdseSBmZXRjaGVkIG1lc3NhZ2VzIGludG8gbmV3IG1lc3NhZ2VzIGFuZCBleGlzdGluZwoJCQkJdmFyIG5ld01lc3NhZ2VzID0gW10sCgkJCQkJZXhpc3RpbmdNZXNzYWdlcyA9IFtdOwoJCQkJJC5lYWNoKG1lc3NhZ2VzLCBmdW5jdGlvbihpLCBtZXNzYWdlKXsKCQkJCQl2YXIgZXhpc3RpbmdNZXNzYWdlID0gJCgnIycgKyBtZXNzYWdlLmlkKTsKCQkJCQkoZXhpc3RpbmdNZXNzYWdlLmxlbmd0aCA9PT0gMCA/IG5ld01lc3NhZ2VzIDogZXhpc3RpbmdNZXNzYWdlcykucHVzaChtZXNzYWdlKTsKCQkJCX0pOwoKCQkJCXZhciBhcHBlbmQgPSBmdW5jdGlvbihtZXNzYWdlKSB7CgkJCQkJdmFyIGxhdGVzdERhdGUgPSBudWxsLAoJCQkJCQlsYXRlc3RNZXNzYWdlID0gd2lkZ2V0Q29udGV4dC5jb250YWluZXIuZmluZCgnbGkuYWN0aXZpdHk6Zmlyc3QnKTsKCQkJCQlpZihsYXRlc3RNZXNzYWdlLmxlbmd0aCA+IDApIHsKCQkJCQkJbGF0ZXN0RGF0ZSA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi5wYXJzZURhdGUobGF0ZXN0TWVzc2FnZS5kYXRhKCdhY3Rpdml0eWRhdGUnKSk7CgkJCQkJfQoJCQkJCXZhciBtZXNzYWdlRGF0ZSA9IG1lc3NhZ2UuZGF0YSgnYWN0aXZpdHlkYXRlJykgPyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucGFyc2VEYXRlKG1lc3NhZ2UuZGF0YSgnYWN0aXZpdHlkYXRlJykpIDogbmV3IERhdGUoKTsKCQkJCQlpZihtZXNzYWdlRGF0ZSA+IGxhdGVzdERhdGUpIHsKCQkJCQkJd2lkZ2V0Q29udGV4dC5jb250YWluZXIucHJlcGVuZChtZXNzYWdlKTsKCQkJCQl9IGVsc2UgewoJCQkJCQl3aWRnZXRDb250ZXh0LmNvbnRhaW5lci5hcHBlbmQobWVzc2FnZSk7CgkJCQkJfQoJCQkJfQoKCQkJCWlmKGF1dG9SZWZyZXNoKSB7CgkJCQkJLy8gcmV2ZXJzZSB0byBpbmplY3QgZnJvbSB0b3AgZG93bgoJCQkJCW5ld01lc3NhZ2VzLnJldmVyc2UoKTsKCQkJCX0KCgkJCQkvLyBhZGQgbmV3IG1lc3NhZ2VzIHRvIHVpLCBpbml0aW5nIGFnYWluc3QgY2xpZW50IGJlaGF2aW9ycyBhcyB3ZWxsCgkJCQkkLmVhY2gobmV3TWVzc2FnZXMsIGZ1bmN0aW9uKGksIG1lc3NhZ2UpIHsKCQkJCQltZXNzYWdlID0gJChtZXNzYWdlKTsKCQkJCQl3aWRnZXRDb250ZXh0LndyYXBwZXIudHJpZ2dlcignYWN0aXZpdHlBcHBlbmRpbmcnLCB7IGFjdGl2aXR5OiBtZXNzYWdlLCBhdXRvOiBhdXRvUmVmcmVzaCB9KTsKCQkJCQlhcHBlbmQobWVzc2FnZSk7CgkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ2FjdGl2aXR5QXBwZW5kZWQnLCB7IGFjdGl2aXR5OiBtZXNzYWdlLCBhdXRvOiBhdXRvUmVmcmVzaCAgfSk7CgkJCQl9KTsKCgkJCQkvLyBmb3IgZXhpc3RpbmcgbWVzc2FnZXMsIGFkZCBhbnkgbmV3IGNvbW1lbnRzIHRvIHRoZSB1aQoJCQkJJC5lYWNoKGV4aXN0aW5nTWVzc2FnZXMsIGZ1bmN0aW9uKGksIG1lc3NhZ2UpewoJCQkJCS8vIHJlZnJlc2ggZGF0ZXMgb2YgZXhpc3RpbmcgbWVzc2FnZXMKCQkJCQlyZWZyZXNoQ29udGVudEl0ZW0oJCgnIycgKyBtZXNzYWdlLmlkKSwgJChtZXNzYWdlKSwgJ3Bvc3QtZGF0ZScpOwoJCQkJCS8vIHJlZnJlc2ggY29tbWVudCBjb3VudHMgb2YgZXhpc3RpbmcgbWVzc2FnZXMKCQkJCQlyZWZyZXNoQ29udGVudEl0ZW0oJCgnIycgKyBtZXNzYWdlLmlkKSwgJChtZXNzYWdlKSwgJ2NvbGxhcHNlZC1jb21tZW50cycpOwoJCQkJCS8vIHJlZnJlc2ggY29tbWVudHMKCQkJCQlyZW5kZXJDb21tZW50cygkKG1lc3NhZ2UpLCAkKG1lc3NhZ2UpLmZpbmQoJ2xpLmNvbnRlbnQtaXRlbS5jb21tZW50Jykubm90KCcuY29tbWVudC1mb3JtJyksIGF1dG9SZWZyZXNoKTsKCQkJCX0pOwoKCQkJCXJlbmRlckRheURpdmlkZXJzKCk7CgkJCX0sCgkJCXJlbmRlckRheURpdmlkZXJzID0gZnVuY3Rpb24oKSB7CgkJCQkkLmVhY2goZGF5RGl2aWRlcnMsIGZ1bmN0aW9uKGksIGRpdmlkZXIpIHsKCQkJCQlkaXZpZGVyLnJlbW92ZSgpOwoJCQkJfSk7CgkJCQlkYXlEaXZpZGVycyA9IFtdOwoJCQkJdmFyIGN1cnJlbnREYXRlID0gbnVsbDsKCQkJCXZhciBhY3Rpdml0eUl0ZW1zID0gd2lkZ2V0Q29udGV4dC5jb250YWluZXIuZmluZCgnbGkuYWN0aXZpdHknKTsKCQkJCSQuZWFjaChhY3Rpdml0eUl0ZW1zLCBmdW5jdGlvbihpLCBhY3Rpdml0eSl7CgkJCQkJdmFyIGFjdGl2aXR5ID0gJChhY3Rpdml0eSksCgkJCQkJCWRhdGUgPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucGFyc2VEYXRlKGFjdGl2aXR5LmRhdGEoJ2FjdGl2aXR5ZGF0ZScpKTsKCgkJCQkJaWYoY3VycmVudERhdGUgPT09IG51bGwgfHwgIShjdXJyZW50RGF0ZS5nZXRGdWxsWWVhcigpID09PSBkYXRlLmdldEZ1bGxZZWFyKCkgJiYgY3VycmVudERhdGUuZ2V0TW9udGgoKSA9PT0gZGF0ZS5nZXRNb250aCgpICYmIGN1cnJlbnREYXRlLmdldERheSgpID09PSBkYXRlLmdldERheSgpKSkgewoJCQkJCQljdXJyZW50RGF0ZSA9IGRhdGU7CgkJCQkJCXZhciBkaXZpZGVyID0gJCgnPGxpIGNsYXNzPSJhY3Rpdml0eS1kYXRlLWdyb3VwaW5nIj48c3Bhbj48L3NwYW4+PC9saT4nKSwKCQkJCQkJCWRpdmlkZXJTcGFuID0gZGl2aWRlci5maW5kKCdzcGFuJyk7CgkJCQkJCWFjdGl2aXR5LmJlZm9yZShkaXZpZGVyKTsKCQkJCQkJYnVpbGREaXZpZGVyKGRhdGUsIGZ1bmN0aW9uKGZvcm1hdHRlZERpdmlkZXIpIHsKCQkJCQkJCWRpdmlkZXJTcGFuLmh0bWwoZm9ybWF0dGVkRGl2aWRlci50ZXh0KTsKCQkJCQkJCWlmIChmb3JtYXR0ZWREaXZpZGVyLnRvZGF5KSB7CgkJCQkJCQkJZGl2aWRlci5hZGRDbGFzcygndG9kYXknKTsKCQkJCQkJCX0KCQkJCQkJfSk7CgkJCQkJCWRheURpdmlkZXJzLnB1c2goZGl2aWRlcik7CgkJCQkJfQoJCQkJfSk7CgkJCX0sCgkJCWJ1aWxkRGl2aWRlciA9IGZ1bmN0aW9uKGRhdGUsIGNvbXBsZXRlKSB7CgkJCQl2YXIgbm93ID0gbmV3IERhdGUoKTsKCQkJCWlmIChkYXRlLmdldEZ1bGxZZWFyKCkgPT09IG5vdy5nZXRGdWxsWWVhcigpICYmIGRhdGUuZ2V0TW9udGgoKSA9PT0gbm93LmdldE1vbnRoKCkgJiYgZGF0ZS5nZXREYXRlKCkgPT09IG5vdy5nZXREYXRlKCkpIHsKCQkJCQljb21wbGV0ZSh7IHRleHQ6IHdpZGdldENvbnRleHQudG9kYXlUZXh0LCB0b2RheTogdHJ1ZSB9KTsKCQkJCX0gZWxzZSB7CgkJCQkJLy8gZmxvb3IgdGhlIGRhdGUgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgZGF5IHRvIG1heGltaW16ZSBjYWNoZSBoaXRzIGZvciBmb3JtYXR0ZWQgZGF0ZXMKCQkJCQl2YXIgZGF5QmFzZWREYXRlID0gbmV3IERhdGUoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpKTsKCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubGFuZ3VhZ2UuZm9ybWF0RGF0ZShkYXlCYXNlZERhdGUsIGZ1bmN0aW9uKGZvcm1hdHRlZCkgewoJCQkJCQljb21wbGV0ZSh7IHRleHQ6IGZvcm1hdHRlZCwgdG9kYXk6IGZhbHNlIH0pOwoJCQkJCX0pOwoJCQkJfQoJCQl9LAoJCQljb250YWlucyA9IGZ1bmN0aW9uKGFycmF5LCBmbikgewoJCQkJdmFyIGNvbnRhaW5zID0gZmFsc2U7CgkJCQkkLmVhY2goYXJyYXksIGZ1bmN0aW9uKGksIHZhbCl7CgkJCQkJaWYoZm4odmFsKSkgewoJCQkJCQljb250YWlucyA9IHRydWU7CgkJCQkJCXJldHVybiBmYWxzZTsKCQkJCQl9CgkJCQl9KTsKCQkJfSwKCQkJcmVmcmVzaENvbnRlbnRJdGVtID0gZnVuY3Rpb24oZXhpc3RpbmdFbGVtZW50LCByZWZyZXNoZWRFbGVtZW50LCBjbGFzc05hbWUpIHsKCQkJCXZhciBleGlzdGluZyA9IGV4aXN0aW5nRWxlbWVudC5maXJzdCgpLmZpbmQoJy4nICsgY2xhc3NOYW1lKTsKCQkJCXZhciByZWZyZXNoZWQgPSByZWZyZXNoZWRFbGVtZW50LmZpcnN0KCkuZmluZCgnLicgKyBjbGFzc05hbWUpOwoJCQkJaWYoZXhpc3RpbmcubGVuZ3RoID4gMCAmJiByZWZyZXNoZWQubGVuZ3RoID4gMCkgewoJCQkJCWV4aXN0aW5nLmh0bWwocmVmcmVzaGVkLmh0bWwoKSk7CgkJCQl9CgkJCX0sCgkJCXJlZnJlc2hDb21tZW50cyA9IGZ1bmN0aW9uKGFjdGl2aXR5RWxlbWVudCwgYXV0b1JlZnJlc2gpIHsKCQkJCS8vIHdoZW4gY29tbWVudGluZyBpcyBzdWNjZXNzZnVsLCBnZXQgdGhlIG5ldyByZW5kZXJlZCBjb21tZW50IGxpc3Qgb25seQoJCQkJLy8gZm9yIHRoaXMgYWN0aXZpdHkgaXRlbQoJCQkJYWN0aXZpdGllcy5saXN0KHsKCQkJCQkJbWVzc2FnZUlkOiBhY3Rpdml0eUVsZW1lbnQuZGF0YSgnYWN0aXZpdHlpZCcpLAoJCQkJCQl1c2VySWQ6IGFjdGl2aXR5RWxlbWVudC5kYXRhKCdhdXRob3JpZCcpLAoJCQkJCQllbmREYXRlOiBhY3Rpdml0eUVsZW1lbnQuZGF0YSgnYWN0aXZpdHlkYXRlJykKCQkJCQl9LAoJCQkJCWZ1bmN0aW9uKHJlc3BvbnNlKSB7ICAgICAgICAvLyBzdWNjZXNzCgkJCQkJCXZhciByZXNwb25zZSA9ICQudHJpbShyZXNwb25zZSk7CgkJCQkJCWlmIChyZXNwb25zZSkgewoJCQkJCQkJcmVzcG9uc2UgPSAkKHJlc3BvbnNlKTsKCQkJCQkJCXJlbmRlckNvbW1lbnRzKHJlc3BvbnNlLmZpbmQoJ2xpLmNvbnRlbnQtaXRlbS5hY3Rpdml0eScpLAoJCQkJCQkJCXJlc3BvbnNlLmZpbmQoJ2xpLmNvbnRlbnQtaXRlbS5jb21tZW50Jykubm90KCcuY29tbWVudC1mb3JtJykpOwoJCQkJCQl9CgkJCQkJfSwKCQkJCQlmdW5jdGlvbigpIHsgICAgICAgIC8vIGVycm9yCgkJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdzdHJlYW1Mb2FkRXJyb3InKTsKCQkJCQl9KTsKCQkJfSwKCQkJcmVuZGVyQ29tbWVudHMgPSBmdW5jdGlvbihtZXNzYWdlSXRlbSwgbmV3Q29tbWVudEl0ZW1zLCBhdXRvUmVmcmVzaCkgewoJCQkJdmFyIGV4aXN0aW5nTWVzc2FnZSA9ICQoJyMnICsgbWVzc2FnZUl0ZW0uYXR0cignaWQnKSk7CgkJCQlpZihleGlzdGluZ01lc3NhZ2UpIHsKCQkJCQl2YXIgcmVwbHlGb3JtID0gZXhpc3RpbmdNZXNzYWdlLmZpbmQoJ2xpLmNvbnRlbnQtaXRlbS5jb21tZW50LmNvbW1lbnQtZm9ybScpLAoJCQkJCQlyZXBseUxpc3QgPSBleGlzdGluZ01lc3NhZ2UuZmluZCgndWwuY29udGVudC1saXN0LmNvbW1lbnRzJyksCgkJCQkJCWV4aXN0aW5nQ29tbWVudHMgPSBleGlzdGluZ01lc3NhZ2UuZmluZCgnbGkuY29udGVudC1pdGVtLmNvbW1lbnQnKS5ub3QoJy5jb21tZW50LWZvcm0nKSwKCQkJCQkJa2VlcENvbW1lbnRzID0gW10sCgkJCQkJCWFwcGVuZFJlcGx5ID0gZnVuY3Rpb24ocmVwbHkpIHsKCQkJCQkJCXZhciByZXBseURhdGUgPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucGFyc2VEYXRlKHJlcGx5LmRhdGEoJ2NvbW1lbnRkYXRlJykpLAoJCQkJCQkJCWxhdGVzdFJlcGx5ID0gcmVwbHlMaXN0LmZpbmQoJ2xpLmNvbW1lbnQ6bm90KGxpLmNvbW1lbnQtZm9ybSk6bGFzdCcpOwoJCQkJCQkJaWYobGF0ZXN0UmVwbHkubGVuZ3RoID4gMCAmJiByZXBseURhdGUgPiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucGFyc2VEYXRlKGxhdGVzdFJlcGx5LmRhdGEoJ2NvbW1lbnRkYXRlJykpKSB7CgkJCQkJCQkJbGF0ZXN0UmVwbHkuYWZ0ZXIocmVwbHkpOwoJCQkJCQkJfSBlbHNlIGlmKGxhdGVzdFJlcGx5Lmxlbmd0aCA+IDApIHsKCQkJCQkJCQlleGlzdGluZ0NvbW1lbnRzLmJlZm9yZShyZXBseSk7CgkJCQkJCQl9IGVsc2UgaWYocmVwbHlGb3JtLmxlbmd0aCA+IDApIHsKCQkJCQkJCQlyZXBseUZvcm0uYmVmb3JlKHJlcGx5KTsKCQkJCQkJCX0gZWxzZSB7CgkJCQkJCQkJcmVwbHlMaXN0LmFwcGVuZChyZXBseSk7CgkJCQkJCQl9CgkJCQkJCX07CgoJCQkJCS8vIGFkZCBuZXcgY29tbWVudHMsIHRyYWNrIGNvbW1lbnRzIHRoYXQgc2hvdWlsZG4ndCBiZSByZW1vdmVkCgkJCQkJJC5lYWNoKG5ld0NvbW1lbnRJdGVtcywgZnVuY3Rpb24oaSwgbmV3Q29tbWVudCl7CgkJCQkJCW5ld0NvbW1lbnQgPSAkKG5ld0NvbW1lbnQpOwoJCQkJCQluZXdDb21tZW50LmhpZGUoKTsKCgkJCQkJCXZhciBuZXdDb21tZW50SWQgPSBuZXdDb21tZW50LmRhdGEoJ2NvbW1lbnRpZCcpOwoJCQkJCQl2YXIgZXhpc3RpbmdDb21tZW50ID0gZXhpc3RpbmdDb21tZW50cy5maWx0ZXIoJ1tkYXRhLWNvbW1lbnRpZD0iJytuZXdDb21tZW50SWQrJyJdJykuZmlyc3QoKTsKCgkJCQkJCWlmIChleGlzdGluZ0NvbW1lbnQubGVuZ3RoID09PSAxKSB7CgkJCQkJCQlrZWVwQ29tbWVudHNbbmV3Q29tbWVudElkXSA9IG5ld0NvbW1lbnQ7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQlhcHBlbmRSZXBseShuZXdDb21tZW50KTsKCQkJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdjb21tZW50QWRkZWQnLCB7IGFjdGl2aXR5RWxlbWVudDogZXhpc3RpbmdNZXNzYWdlLCBjb21tZW50OiBuZXdDb21tZW50LCBhdXRvOiBhdXRvUmVmcmVzaCB9KTsKCQkJCQkJfQoJCQkJCX0pOwoKCQkJCQkvLyByZW1vdmUgZGVsZXRlZCBjb21tZW50cyBvciB1cGRhdGUgdGltZSBvZiBub24tZGVsZXRlZCBleGlzdGluZwoJCQkJCSQuZWFjaChleGlzdGluZ0NvbW1lbnRzLCBmdW5jdGlvbihpLCBjb21tKSB7CgkJCQkJCWNvbW0gPSAkKGNvbW0pOwoJCQkJCQl2YXIga2VwdENvbW1lbnQgPSBrZWVwQ29tbWVudHNbY29tbS5kYXRhKCdjb21tZW50aWQnKV07CgkJCQkJCWlmKCFrZXB0Q29tbWVudCkgewoJCQkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ2NvbW1lbnREZWxldGVkJywgeyBjb21tZW50OiBjb21tIH0pOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJcmVmcmVzaENvbnRlbnRJdGVtKGNvbW0sIGtlcHRDb21tZW50LCAncmVwbHktZGF0ZScpOwoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9CgkJCX0sCgkJCWRlYm91bmNlID0gZnVuY3Rpb24oZm4sIG1zKSB7CgkJCQl2YXIgY2FsbGVkSW5JbnRlcnZhbCA9IHRydWU7CgkJCQlzZXRJbnRlcnZhbChmdW5jdGlvbigpewoJCQkJCWNhbGxlZEluSW50ZXJ2YWwgPSBmYWxzZTsKCQkJCX0sIG1zKTsKCQkJCXJldHVybiBmdW5jdGlvbigpewoJCQkJCWlmKCFjYWxsZWRJbkludGVydmFsKSB7CgkJCQkJCWNhbGxlZEluSW50ZXJ2YWwgPSB0cnVlOwoJCQkJCQlmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpCgkJCQkJfQoJCQkJfTsKCQkJfSwKCQkJYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkgewoJCQkJLy8gbG9hZCBtZXNzYWdlcyBvbiBicm93c2VyIGZvY3VzLCBib3VuY2VkIHRvIGEgbWF4IG9mIDEgYXV0by1yZWZyZXNoIHBlciBtaW51dGUKCQkJCSQod2luZG93KS5iaW5kKCdmb2N1cycsIGRlYm91bmNlKGZ1bmN0aW9uKCl7CgkJCQkJbG9hZChmYWxzZSwgdHJ1ZSk7CgkJCQl9LCAxICogNjAgKiAxMDAwKSk7CgoJCQkJdmFyIHJlZnJlc2ggPSBmdW5jdGlvbigpIHsgbG9hZChmYWxzZSwgZmFsc2UpOyB9OwoJCQkJLy8gaGFuZGxlIGV4cGxpY2l0IHVwZGF0ZXMgdHJpZ2dlcmVkIGZyb20gb3RoZXIgd2lkZ2V0cwoJCQkJJChkb2N1bWVudCkuYmluZCgndGVsbGlnZW50X21lc3NhZ2luZ19hY3Rpdml0eW1lc3NhZ2V1cGRhdGVkJywgcmVmcmVzaCk7CgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnN1YnNjcmliZSgnYWN0aXZpdHkuY29tbWVudGFkZGVkJywgcmVmcmVzaCk7CgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnN1YnNjcmliZSgnYWN0aXZpdHkuY29tbWVudHJlbW92ZWQnLCByZWZyZXNoKTsKCgkJCQkvLyBhdXRvbWF0aWNhbGx5IGxvYWQgbW9yZSBvbmNlIHNjcm9sbGVkIHRvIHRoZSBlbmQgb2YgdGhlIHBhZ2UKCQkJCWlmKHdpZGdldENvbnRleHQuZW5kbGVzc1Njcm9sbCkgewoJCQkJCSQoZG9jdW1lbnQpLmJpbmQoJ3Njcm9sbGVuZCcsIGZ1bmN0aW9uKCkgewoJCQkJCQlpZighbG9hZGluZyAmJiB3aWRnZXRDb250ZXh0Lmhhc01vcmVEYXRhKSB7CgkJCQkJCQlsb2FkKHRydWUsIGZhbHNlKTsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfQoKCQkJCS8vIGZpbHRlciB0YmFzCgkJCQlpZih3aWRnZXRDb250ZXh0LnRhYnMuZmluZCgnYScpLmxlbmd0aCA+IDEpIHsKCQkJCQl3aWRnZXRDb250ZXh0LnRhYnMuZmluZCgnc3Bhbi5maWx0ZXItb3B0aW9uOmZpcnN0JykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CgkJCQkJd2lkZ2V0Q29udGV4dC50YWJzCgkJCQkJCS5zaG93KCkKCQkJCQkJLmRlbGVnYXRlKCdhJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7CgkJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCQl3aWRnZXRDb250ZXh0LmZpbHRlckluZGV4ID0gJChlLnRhcmdldCkuZGF0YSgnZmlsdGVyaW5kZXgnKTsKCQkJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdmaWx0ZXJTZWxlY3RlZCcsIHsgZmlsdGVyRWxlbWVudDogJChlLnRhcmdldCkgfSk7CgkJCQkJCQljbGVhcigpOwoJCQkJCQkJbG9hZCgpOwoJCQkJCQl9KTsKCQkJCX0KCgkJCQkvLyBhY3Rpdml0eSBzdG9yeSBkZWxldGluZwoJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLmRlbGVnYXRlKCcuZnVsbC1wb3N0LmFjdGl2aXR5JywnZXZvbHV0aW9uTW9kZXJhdGVMaW5rQ2xpY2tlZCcsIGZ1bmN0aW9uKGUsIGxpbmspewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQlpZihjb25maXJtKHdpZGdldENvbnRleHQuZGVsZXRlQWN0aXZpdHlNZXNzYWdlKSkgewoJCQkJCQl2YXIgYWN0aXZpdHlFbGVtZW50ID0gJChhY3Rpdml0eU1lc3NhZ2VFbGVtZW50Rm9yKHRoaXMpKTsKCQkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ2FjdGl2aXR5RGVsZXRpbmcnLCB7IGFjdGl2aXR5RWxlbWVudDogYWN0aXZpdHlFbGVtZW50IH0pOwoJCQkJCQlhY3Rpdml0aWVzLmRlbChhY3Rpdml0eUVsZW1lbnQuZGF0YSgnYWN0aXZpdHlpZCcpLAoJCQkJCQkJZnVuY3Rpb24oKXsKCQkJCQkJCQl3aWRnZXRDb250ZXh0LndyYXBwZXIudHJpZ2dlcignYWN0aXZpdHlEZWxldGVkJywgeyBhY3Rpdml0eUVsZW1lbnQ6IGFjdGl2aXR5RWxlbWVudCB9KTsKCQkJCQkJCX0sCgkJCQkJCQlmdW5jdGlvbigpewoJCQkJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdhY3Rpdml0eURlbGV0ZUVycm9yJywgeyBhY3Rpdml0eUVsZW1lbnQ6IGFjdGl2aXR5RWxlbWVudCB9KTsKCQkJCQkJCX0pOwoJCQkJCX0KCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQl9KTsKCgkJCQkvLyBwcml2YXRlIGNvbnZlcnNhdGlvbiBzdGFydGluZwoJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLmRlbGVnYXRlKCcucG9zdC1hY3Rpb25zLmFjdGl2aXR5IGEuaW50ZXJuYWwtbGluay5zdGFydC1jb252ZXJzYXRpb24nLCAnY2xpY2snLCBmdW5jdGlvbihlKSB7CgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCXZhciBjb252ZXJzYXRpb25VcmwgPSAkKGUudGFyZ2V0KS5kYXRhKCdjb252ZXJzYXRpb251cmwnKTsKCQkJCQkkLmdsb3dNb2RhbChjb252ZXJzYXRpb25VcmwsIHsgd2lkdGg6IDU1MCwgaGVpZ2h0OiAzNjAgfSk7CgkJCQl9KTsKCQkJCS8vIGNvbW1lbnQgZm9ybSByZXZlYWxpbmcKCQkJCXdpZGdldENvbnRleHQud3JhcHBlci5kZWxlZ2F0ZSgnLnBvc3QtYWN0aW9ucy5hY3Rpdml0eSBhLmludGVybmFsLWxpbmsuY29tbWVudCcsICdjbGljaycsIGZ1bmN0aW9uKGUpIHsKCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ2NvbW1lbnRCZWdpbicsIHsgYWN0aXZpdHk6IGFjdGl2aXR5TWVzc2FnZUVsZW1lbnRGb3IoZS50YXJnZXQpIH0pOwoJCQkJfSk7CgkJCQkvLyBjb21tZW50IGZvcm0gZm9jdXNpbmcvdW5mb2N1c2luZwoJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLmRlbGVnYXRlKCcuY29tbWVudC1mb3JtIHRleHRhcmVhJywgJ2ZvY3VzJywgZnVuY3Rpb24oZSkgewoJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdjb21tZW50RWRpdCcsIHsgYWN0aXZpdHk6IGFjdGl2aXR5TWVzc2FnZUVsZW1lbnRGb3IoZS50YXJnZXQpIH0pOwoJCQkJCXZhciB0YSA9ICQoZS50YXJnZXQpOwoJCQkJCS8vIHdoZW4gYSB0ZXh0IGFyZWEgaXMgZm9jdXNlZCwgc2V0IHVwIGl0cyBjb21wb3NlciBhbmQgc2V0IHVwIGhhbmRsZXJzIGZvciBzdWJtaXR0aW5nIGl0cyByZXN1bHRzCgkJCQkJaWYoIXRhLmRhdGEoJ2NvbXBvc2VyX2luaXRlZCcpKSB7CgkJCQkJCXRhLmRhdGEoJ2NvbXBvc2VyX2luaXRlZCcsIHRydWUpOwoJCQkJCQl0YS5ldm9sdXRpb25Db21wb3Nlcih7CgkJCQkJCQlwbHVnaW5zOiBbJ21lbnRpb25zJywnaGFzaHRhZ3MnXQoJCQkJCQl9KTsKCQkJCQkJdGEuZXZvbHV0aW9uQ29tcG9zZXIoJ29ua2V5ZG93bicsIGZ1bmN0aW9uKGUpewoJCQkJCQkJaWYgKGUud2hpY2ggPT09IDEzKQoJCQkJCQkJewoJCQkJCQkJCXZhciBhY3Rpdml0eUVsZW1lbnQgPSAkKGFjdGl2aXR5TWVzc2FnZUVsZW1lbnRGb3IoZS50YXJnZXQpKSwKCQkJCQkJCQkJYm9keSA9ICQoZS50YXJnZXQpLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSwKCQkJCQkJCQkJcmVwbHlEYXRhID0gewoJCQkJCQkJCQkJYWN0aXZpdHlFbGVtZW50OiBhY3Rpdml0eUVsZW1lbnQsCgkJCQkJCQkJCQlib2R5OiBib2R5CgkJCQkJCQkJCX07CgkJCQkJCQkJaWYoJC50cmltKGJvZHkpLmxlbmd0aCA+IDApIHsKCQkJCQkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ2NvbW1lbnRBZGRpbmcnLCByZXBseURhdGEpOwoJCQkJCQkJCQlyZXBsaWVzLmFkZChhY3Rpdml0eUVsZW1lbnQsIGJvZHksCgkJCQkJCQkJCQlmdW5jdGlvbihyZXNwb25zZSkgeyAgICAvLyBzdWNjZXNzCgkJCQkJCQkJCQkJaWYoIXJlc3BvbnNlLkNvbW1lbnQuSXNBcHByb3ZlZCkgewoJCQkJCQkJCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KHdpZGdldENvbnRleHQuY29tbWVudE1vZGVyYXRlZE1lc3NhYWdlLCB7IHR5cGU6ICdzdWNjZXNzJywgZHVyYXRpb246IDEwMDAwIH0pOwoJCQkJCQkJCQkJCQl3aWRnZXRDb250ZXh0LndyYXBwZXIudHJpZ2dlcignY29tbWVudEFkZEVycm9yJywgcmVwbHlEYXRhKTsKCQkJCQkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCQkJCQlyZWZyZXNoQ29tbWVudHMoYWN0aXZpdHlFbGVtZW50KTsKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl9LAoJCQkJCQkJCQkJZnVuY3Rpb24ocmVzcG9uc2UpIHsgICAgLy8gZXJyb3IKCQkJCQkJCQkJCQl3aWRnZXRDb250ZXh0LndyYXBwZXIudHJpZ2dlcignY29tbWVudEFkZEVycm9yJywgcmVwbHlEYXRhKTsKCQkJCQkJCQkJCX0pOwoJCQkJCQkJCX0KCQkJCQkJCQlyZXR1cm4gZmFsc2U7CgkJCQkJCQl9IGVsc2UgewoJCQkJCQkJCXJldHVybiB0cnVlOwoJCQkJCQkJfQoJCQkJCQl9KTsKCQkJCQl9CgkJCQl9KTsKCQkJCXdpZGdldENvbnRleHQud3JhcHBlci5kZWxlZ2F0ZSgnLmNvbW1lbnQtZm9ybSB0ZXh0YXJlYScsICdibHVyJywgZnVuY3Rpb24oZSkgewoJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdjb21tZW50Q2FuY2VsJywgeyBhY3Rpdml0eTogYWN0aXZpdHlNZXNzYWdlRWxlbWVudEZvcihlLnRhcmdldCkgfSk7CgkJCQl9KTsKCgkJCQkvLyBjb21tZW50IGRlbGV0aW5nCgkJCQkvLyBjb21tZW50IGRlbGV0aW5nCgkJCQl3aWRnZXRDb250ZXh0LndyYXBwZXIuZGVsZWdhdGUoJy5mdWxsLXBvc3QuY29tbWVudCcsJ2V2b2x1dGlvbk1vZGVyYXRlTGlua0NsaWNrZWQnLCBmdW5jdGlvbihlLCBsaW5rKXsKCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJaWYoY29uZmlybSh3aWRnZXRDb250ZXh0LmRlbGV0ZUNvbW1lbnRNZXNzYWdlKSkgewoJCQkJCQl2YXIgYWN0aXZpdHlFbGVtZW50ID0gJChhY3Rpdml0eU1lc3NhZ2VFbGVtZW50Rm9yKHRoaXMpKSwKCQkJCQkJCWNvbW1lbnRFbGVtZW50ID0gJCh0aGlzKS5jbG9zZXN0KCdsaS5jb250ZW50LWl0ZW0uY29tbWVudCcpLAoJCQkJCQkJZGF0YSA9IHsKCQkJCQkJCQlhY3Rpdml0eUVsZW1lbnQ6IGFjdGl2aXR5RWxlbWVudCwKCQkJCQkJCQljb21tZW50OiBjb21tZW50RWxlbWVudAoJCQkJCQkJfTsKCQkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ2FjdGl2aXR5RGVsZXRpbmcnLCBkYXRhKTsKCQkJCQkJcmVwbGllcy5kZWwoYWN0aXZpdHlFbGVtZW50LCBjb21tZW50RWxlbWVudCwKCQkJCQkJCWZ1bmN0aW9uKCl7CgkJCQkJCQkJLy93aWRnZXRDb250ZXh0LndyYXBwZXIudHJpZ2dlcignY29tbWVudERlbGV0ZWQnLCBkYXRhKTsKCQkJCQkJCQlyZWZyZXNoQ29tbWVudHMoYWN0aXZpdHlFbGVtZW50KTsKCQkJCQkJCX0sCgkJCQkJCQlmdW5jdGlvbigpewoJCQkJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdhY3Rpdml0eURlbGV0ZUVycm9yJywgZGF0YSk7CgkJCQkJCQl9KTsKCQkJCQl9CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfSk7CgkJCQkvLyBjb2xsYXBzZWQgY29tbWVudCBleHBhbmRpbmcKCQkJCXdpZGdldENvbnRleHQud3JhcHBlci5kZWxlZ2F0ZSgnLmNvbW1lbnRzIC5jb250ZW50LWl0ZW0uY29sbGFwc2VkLWNvbW1lbnRzIGEnLCAnY2xpY2snLCBmdW5jdGlvbihlKSB7CgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdjb21tZW50c1Nob3dIaWRkZW4nLCB7IGFjdGl2aXR5RWxlbWVudDogJChhY3Rpdml0eU1lc3NhZ2VFbGVtZW50Rm9yKGUudGFyZ2V0KSkgfSk7CgkJCQl9KTsKCQkJCXdpZGdldENvbnRleHQud3JhcHBlci5kZWxlZ2F0ZSgnLmNvbW1lbnRzIC5jb250ZW50LWl0ZW0uYWN0aW9uLmNvbGxhcHNlIGEnLCAnY2xpY2snLCBmdW5jdGlvbihlKSB7CgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCXJlcGxpZXMubGlzdCh7CgkJCQkJCWNvbW1lbnRQYWdlSW5kZXg6ICQoZS50YXJnZXQpLmRhdGEoJ3BhZ2VpbmRleCcpLAoJCQkJCQlzdG9yeUlkOiAkKGUudGFyZ2V0KS5kYXRhKCdzdG9yeWlkJykKCQkJCQl9LCBmdW5jdGlvbihyZXNwb25zZSl7CgkJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdjb21tZW50c01vcmVMb2FkZWQnLCB7CgkJCQkJCQljb21tZW50czogJChyZXNwb25zZSksCgkJCQkJCQlhY3Rpdml0eUVsZW1lbnQ6ICQoYWN0aXZpdHlNZXNzYWdlRWxlbWVudEZvcihlLnRhcmdldCkpCgkJCQkJCX0pOwoJCQkJCX0sIGZ1bmN0aW9uKCl7CgkJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdjb21tZW50c01vcmVFcnJvcicpOwoJCQkJCX0pOwoJCQkJfSk7CgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnN1YnNjcmliZSgndWkubGlrZScsIGZ1bmN0aW9uKGRhdGEpewoJCQkJCXZhciBsaWtlZEFjdGl2aXR5RWxlbWVudCA9IHdpZGdldENvbnRleHQud3JhcHBlci5maW5kKCdsaS5hY3Rpdml0eS1zdG9yeVtkYXRhLWNvbnRlbnRpZD0iJyArIGRhdGEuY29udGVudElkICsgJyJdW2RhdGEtdHlwZWlkPSInICsgZGF0YS50eXBlSWQgKyAnIl0nKSwKCQkJCQkJbGlrZWRDb21tZW50RWxlbWVudCA9IG51bGw7CgkJCQkJaWYobGlrZWRBY3Rpdml0eUVsZW1lbnQgPT0gbnVsbCB8fCBsaWtlZEFjdGl2aXR5RWxlbWVudC5sZW5ndGggPT09IDApIHsKCQkJCQkJbGlrZWRDb21tZW50RWxlbWVudCA9IHdpZGdldENvbnRleHQud3JhcHBlci5maW5kKCdsaS5jb21tZW50W2RhdGEtY29tbWVudGlkPSInICsgZGF0YS5jb250ZW50SWQgKyAnIl1bZGF0YS1jb250ZW50dHlwZWlkPSInICsgZGF0YS5jb250ZW50VHlwZUlkICsgJyJdJykKCQkJCQkJaWYoZGF0YS5jb3VudCA+IDApIHsKCQkJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdsaWtlQWRkZWQnLCB7IGNvbW1lbnRFbGVtZW50OiBsaWtlZENvbW1lbnRFbGVtZW50IH0pOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ2xpa2VzUmVtb3ZlZCcsIHsgY29tbWVudEVsZW1lbnQ6IGxpa2VkQ29tbWVudEVsZW1lbnQgfSk7CgkJCQkJCX0KCQkJCQl9IGVsc2UgewoJCQkJCQlpZihkYXRhLmNvdW50ID4gMCkgewoJCQkJCQkJd2lkZ2V0Q29udGV4dC53cmFwcGVyLnRyaWdnZXIoJ2xpa2VBZGRlZCcsIHsgYWN0aXZpdHlFbGVtZW50OiBsaWtlZEFjdGl2aXR5RWxlbWVudCB9KTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXdpZGdldENvbnRleHQud3JhcHBlci50cmlnZ2VyKCdsaWtlc1JlbW92ZWQnLCB7IGFjdGl2aXR5RWxlbWVudDogbGlrZWRBY3Rpdml0eUVsZW1lbnQgfSk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9KTsKCQkJfTsKCQlyZXR1cm4gewoJCQlpbml0OiBmdW5jdGlvbihjb250ZXh0LCBhY3Rpdml0eVNlcnZpY2UsIHJlcGx5U2VydmljZSkgewoJCQkJd2lkZ2V0Q29udGV4dCA9IGNvbnRleHQ7CgkJCQlhY3Rpdml0aWVzID0gYWN0aXZpdHlTZXJ2aWNlOwoJCQkJcmVwbGllcyA9IHJlcGx5U2VydmljZTsKCgkJCQljb250ZXh0LnBhZ2VyLmZpbmQoJ2EnKS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGUpewoJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQlsb2FkKHRydWUpCgkJCQl9KTsKCgkJCQliaW5kRXZlbnRzKCk7CgkJCQlsb2FkKCk7CgkJCX0sCgkJCW9uOiBmdW5jdGlvbihjb250ZXh0LCBldmVudEhhbmRsZXJzKSB7CgkJCQljb250ZXh0LndyYXBwZXIuYmluZChldmVudEhhbmRsZXJzKTsKCQkJfSwKCQkJcmVuZGVyRGF5RGl2aWRlcnM6IHJlbmRlckRheURpdmlkZXJzCgkJfTsKCX0oKSk7CgoJdmFyIFZpZXcgPSAoZnVuY3Rpb24oKXsKCQl2YXIgY2FwdHVyZVVpRWxlbWVudHMgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJCQkvLyBzZWxlY3QgZWxlbWVudHMKCQkJCSQuZWFjaChbJ3RhYnMnLCd3cmFwcGVyJywnbG9hZGVyJywncGFnZXInLCdjb250YWluZXInXSwgZnVuY3Rpb24oaSwgdmFsKSB7CgkJCQkJY29udGV4dFt2YWxdID0gJChjb250ZXh0W3ZhbF0pOwoJCQkJfSk7CgkJCX0sCgkJCWhhbmRsZUV2ZW50cyA9IGZ1bmN0aW9uKGNvbnRleHQsIGNvbnRyb2xsZXIpIHsKCQkJCWNvbnRyb2xsZXIub24oY29udGV4dCwgewoJCQkJCWFjdGl2aXR5RGVsZXRpbmc6IGZ1bmN0aW9uKGUsIGRhdGEpIHsgfSwKCQkJCQlhY3Rpdml0eURlbGV0ZWQ6IGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQkJCQkJZGF0YS5hY3Rpdml0eUVsZW1lbnQuZmFkZU91dCgyNTAsIGZ1bmN0aW9uKCl7CgkJCQkJCQlkYXRhLmFjdGl2aXR5RWxlbWVudC5yZW1vdmUoKTsKCQkJCQkJCUNvbnRyb2xsZXIucmVuZGVyRGF5RGl2aWRlcnMoKTsKCQkJCQkJfSk7CgkJCQkJfSwKCQkJCQlhY3Rpdml0eURlbGV0ZUVycm9yOiBmdW5jdGlvbihlLCBkYXRhKSB7IH0sCgkJCQkJc3RyZWFtTG9hZGluZzogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCQljb250ZXh0LmxvYWRlci5zaG93KCk7CgkJCQkJfSwKCQkJCQlzdHJlYW1Mb2FkZWQ6IGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQkJCQkJY29udGV4dC5sb2FkZXIuaGlkZSgpOwoJCQkJCQljb250ZXh0LndyYXBwZXIuZmluZCgnbGkuaGlnaGxpZ2h0JykucmVtb3ZlQ2xhc3MoJ2hpZ2hsaWdodCcpOwoJCQkJCX0sCgkJCQkJc3RyZWFtTG9hZEVycm9yOiBmdW5jdGlvbihlLCBkYXRhKSB7CgkJCQkJCWNvbnRleHQubG9hZGVyLmhpZGUoKTsKCQkJCQkJY29udGV4dC53cmFwcGVyLmZpbmQoJ2xpLmhpZ2hsaWdodCcpLnJlbW92ZUNsYXNzKCdoaWdobGlnaHQnKTsKCQkJCQl9LAoJCQkJCWFjdGl2aXR5QXBwZW5kaW5nOiBmdW5jdGlvbihlLCBkYXRhKSB7CgkJCQkJCWRhdGEuYWN0aXZpdHkuaGlkZSgpOwoJCQkJCX0sCgkJCQkJYWN0aXZpdHlBcHBlbmRlZDogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCQlpZihkYXRhLmF1dG8pIHsKCQkJCQkJCWRhdGEuYWN0aXZpdHkuYWRkQ2xhc3MoJ2hpZ2hsaWdodCcpLmZhZGVJbigzMDApOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJZGF0YS5hY3Rpdml0eS5zaG93KCk7CgkJCQkJCX0KCQkJCQl9LAoJCQkJCWNvbW1lbnRCZWdpbjogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCQlkYXRhLmFjdGl2aXR5CgkJCQkJCQkuZmluZCgnLmNvbW1lbnQtZm9ybScpCgkJCQkJCQkuc2hvdygpCgkJCQkJCQkuZmluZCgndGV4dGFyZWEnKQoJCQkJCQkJLmZvY3VzKCk7CgkJCQkJfSwKCQkJCQljb21tZW50RWRpdDogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCQlBY3Rpdml0eVNlcnZpY2UubG9jayhkYXRhLmFjdGl2aXR5LmZpbmQoJy5jb21tZW50LWZvcm0gdGV4dGFyZWEnKSk7CgkJCQkJCWRhdGEuYWN0aXZpdHkKCQkJCQkJCS5maW5kKCcuY29tbWVudC1mb3JtJykKCQkJCQkJCS5hZGRDbGFzcygnd2l0aC1hdmF0YXInKTsKCQkJCQl9LAoJCQkJCWNvbW1lbnRDYW5jZWw6IGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQkJCQkJdmFyIHRhID0gZGF0YS5hY3Rpdml0eS5maW5kKCcuY29tbWVudC1mb3JtIHRleHRhcmVhJyk7CgkJCQkJCWlmKHRhLnZhbCgpLmxlbmd0aCA9PT0gMCkgewoJCQkJCQkJQWN0aXZpdHlTZXJ2aWNlLnVubG9jayh0YSk7CgkJCQkJCX0KCQkJCQkJZGF0YS5hY3Rpdml0eQoJCQkJCQkJLmZpbmQoJy5jb21tZW50LWZvcm0nKQoJCQkJCQkJLnJlbW92ZUNsYXNzKCd3aXRoLWF2YXRhcicpOwoJCQkJCX0sCgkJCQkJY29tbWVudEFkZGluZzogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCQlBY3Rpdml0eVNlcnZpY2UudW5sb2NrKGRhdGEuYWN0aXZpdHlFbGVtZW50LmZpbmQoJy5jb21tZW50LWZvcm0gdGV4dGFyZWEnKSk7CgkJCQkJCWRhdGEuYWN0aXZpdHlFbGVtZW50CgkJCQkJCQkuZmluZCgnLmNvbW1lbnQtZm9ybSB0ZXh0YXJlYScpCgkJCQkJCQkuYXR0cignZGlzYWJsZWQnLHRydWUpCgkJCQkJCQkuYmx1cigpOwoJCQkJCX0sCgkJCQkJY29tbWVudEFkZGVkOiBmdW5jdGlvbihlLCBkYXRhKSB7CgkJCQkJCWRhdGEuYWN0aXZpdHlFbGVtZW50CgkJCQkJCQkuZmluZCgnLmNvbW1lbnQtZm9ybSB0ZXh0YXJlYScpCgkJCQkJCQkuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcsJycpCgkJCQkJCQkudHJpZ2dlcigna2V5ZG93bicpIC8vIHRvIHRyaWdnZXIgYXV0b3Jlc2l6ZSB0byBjb2xsYXBzZQoJCQkJCQkJLnRyaWdnZXIoJ2tleXVwJykgICAvLyB0byB0cmlnZ2VyIGF1dG9yZXNpemUgdG8gY29sbGFwc2UKCQkJCQkJCS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpCgkJCQkJCQkuY2xvc2VzdCgnLmNvbW1lbnQtZm9ybScpCgkJCQkJCQkucmVtb3ZlQ2xhc3MoJ3dpdGgtYXZhdGFyJyk7CgkJCQkJCWlmKGRhdGEuYXV0bykgewoJCQkJCQkJZGF0YS5jb21tZW50LmFkZENsYXNzKCdoaWdobGlnaHQnKS5mYWRlSW4oMzAwKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCWRhdGEuY29tbWVudC5zaG93KCk7CgkJCQkJCX0KCQkJCQl9LAoJCQkJCWNvbW1lbnRBZGRFcnJvcjogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCQlkYXRhLmFjdGl2aXR5RWxlbWVudAoJCQkJCQkJLmZpbmQoJy5jb21tZW50LWZvcm0gdGV4dGFyZWEnKQoJCQkJCQkJLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnLCcnKQoJCQkJCQkJLnRyaWdnZXIoJ2tleWRvd24nKSAgLy8gdG8gdHJpZ2dlciBhdXRvcmVzaXplIHRvIGNvbGxhcHNlCgkJCQkJCQkudHJpZ2dlcigna2V5dXAnKSAgIC8vIHRvIHRyaWdnZXIgYXV0b3Jlc2l6ZSB0byBjb2xsYXBzZQoJCQkJCQkJLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJykKCQkJCQkJCS5jbG9zZXN0KCcuY29tbWVudC1mb3JtJykKCQkJCQkJCS5yZW1vdmVDbGFzcygnd2l0aC1hdmF0YXInKTsKCQkJCQl9LAoJCQkJCWNvbW1lbnREZWxldGluZzogZnVuY3Rpb24oZSwgZGF0YSkgeyB9LAoJCQkJCWNvbW1lbnREZWxldGVkOiBmdW5jdGlvbihlLCBkYXRhKSB7CgkJCQkJCWRhdGEuY29tbWVudC5yZW1vdmUoKTsKCQkJCQl9LAoJCQkJCWNvbW1lbnREZWxldGVFcnJvcjogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCX0sCgkJCQkJY29tbWVudHNTaG93SGlkZGVuOiBmdW5jdGlvbihlLCBkYXRhKSB7CgkJCQkJCWRhdGEuYWN0aXZpdHlFbGVtZW50LmZpbmQoJ2xpLmNvbGxhcHNlJykuc2hvdygpLmVuZCgpLmZpbmQoJ2xpLmNvbGxhcHNlZC1jb21tZW50cycpLmhpZGUoKTsKCQkJCQl9LAoJCQkJCWNvbW1lbnRzTW9yZUxvYWRlZDogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCQl2YXIgdmlld01vcmVJdGVtID0gZGF0YS5hY3Rpdml0eUVsZW1lbnQuZmluZCgnbGkuY29udGVudC1pdGVtLmFjdGlvbi5jb2xsYXBzZScpOwoJCQkJCQl2aWV3TW9yZUl0ZW0ucmVwbGFjZVdpdGgoZGF0YS5jb21tZW50cyk7CgkJCQkJCWRhdGEuYWN0aXZpdHlFbGVtZW50LmZpbmQoJ2xpLmNvbnRlbnQtaXRlbS5hY3Rpb24uY29sbGFwc2UnKS5zaG93KCk7CgkJCQkJfSwKCQkJCQljb21tZW50c01vcmVFcnJvcjogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCX0sCgkJCQkJZmlsdGVyU2VsZWN0ZWQ6IGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQkJCQkJZGF0YS5maWx0ZXJFbGVtZW50LmNsb3Nlc3QoJy5maWx0ZXJzJykuZmluZCgnLmZpbHRlci1vcHRpb24nKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsKCQkJCQkJZGF0YS5maWx0ZXJFbGVtZW50LmNsb3Nlc3QoJy5maWx0ZXItb3B0aW9uJykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7CgkJCQkJfSwKCQkJCQlsaWtlc1JlbW92ZWQ6IGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQkJCQkJaWYoZGF0YS5hY3Rpdml0eUVsZW1lbnQpCgkJCQkJCQlkYXRhLmFjdGl2aXR5RWxlbWVudC5maW5kKCdsaS5saWtlcycpLnJlbW92ZUNsYXNzKCd3aXRoLWxpa2VzJykuYWRkQ2xhc3MoJ3dpdGhvdXQtbGlrZXMnKTsKCQkJCQkJaWYoZGF0YS5jb21tZW50RWxlbWVudCkKCQkJCQkJCWRhdGEuY29tbWVudEVsZW1lbnQucmVtb3ZlQ2xhc3MoJ3dpdGgtbGlrZXMnKTsKCQkJCQl9LAoJCQkJCWxpa2VBZGRlZDogZnVuY3Rpb24oZSwgZGF0YSkgewoJCQkJCQlpZihkYXRhLmFjdGl2aXR5RWxlbWVudCkKCQkJCQkJCWRhdGEuYWN0aXZpdHlFbGVtZW50LmZpbmQoJ2xpLmxpa2VzJykucmVtb3ZlQ2xhc3MoJ3dpdGhvdXQtbGlrZXMnKS5hZGRDbGFzcygnd2l0aC1saWtlcycpOwoJCQkJCQlpZihkYXRhLmNvbW1lbnRFbGVtZW50KQoJCQkJCQkJZGF0YS5jb21tZW50RWxlbWVudC5hZGRDbGFzcygnd2l0aC1saWtlcycpOwoJCQkJCX0KCQkJCX0pOwoJCQl9OwoJCXJldHVybiB7CgkJCWluaXQ6IGZ1bmN0aW9uKGNvbnRleHQsIGNvbnRyb2xsZXIpIHsKCQkJCWNhcHR1cmVVaUVsZW1lbnRzKGNvbnRleHQpOwoJCQkJaGFuZGxlRXZlbnRzKGNvbnRleHQsIGNvbnRyb2xsZXIpOwoJCQl9CgkJfTsKCX0oKSk7CgoJdmFyIGFwaSA9IHsKCQlyZWdpc3RlcjogZnVuY3Rpb24ob3B0aW9ucykgewoJCQl2YXIgY29udGV4dCA9ICQuZXh0ZW5kKHsgZmlsdGVySW5kZXg6IDAsIGhhc01vcmVEYXRhOiB0cnVlIH0sIG9wdGlvbnMpOwoJCQlBY3Rpdml0eVNlcnZpY2UuaW5pdChjb250ZXh0KTsKCQkJUmVwbHlTZXJ2aWNlLmluaXQoY29udGV4dCk7CgkJCVZpZXcuaW5pdChjb250ZXh0LCBDb250cm9sbGVyKTsKCQkJQ29udHJvbGxlci5pbml0KGNvbnRleHQsIEFjdGl2aXR5U2VydmljZSwgUmVwbHlTZXJ2aWNlKTsKCQl9Cgl9OwoKCWlmICghJC50ZWxsaWdlbnQpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQoJaWYgKCEkLnRlbGxpZ2VudC5ldm9sdXRpb24pIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307IH0KCWlmICghJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuYWN0aXZpdHlTdG9yeVN0cmVhbSA9IGFwaTsKCn0pKGpRdWVyeSwgd2luZG93KTsK</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_AddMediaGalleryPostComment_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_AddMediaGalleryPostComment_Description}" instanceIdentifier="1778c0b8350046e3b2207f098f5cde95" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="add-media-gallery-post-comment">
		<contentScript>
#set ($media = false)
#set ($media = $core_v2_media.Current)
#if (!$media)
	$core_v2_widget.Hide()
#end
#set($gallery = $core_v2_gallery.Current)
#if (!$core_v2_nodePermission.Get('mediagalleries',$gallery.Id,'MediaGallery_CreateComment').IsAllowed)
	$core_v2_widget.Hide()
#end

&lt;div id="$core_v2_widget.UniqueId('successMessage')" class="message success"&gt;
	$core_v2_language.GetResource('CF_Comment_SuccessMessage') &amp;nbsp;
	&lt;a href="#" class="internal-link close-message" title="$core_v2_language.GetResource('Close')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Close')&lt;/a&gt;
&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('moderateMessage')" class="message warning"&gt;
	$core_v2_language.GetResource('CF_Comment_ModeratedMessaage') &amp;nbsp;
	&lt;a href="#" class="internal-link close-message" title="$core_v2_language.GetResource('Close')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Close')&lt;/a&gt;
&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('errorMessage')" class="message error" style="display: none;"&gt;&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('form')"&gt;
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;legend class="field-list-description"&gt;$core_v2_language.GetResource('MediaGallery_LeaveComment')&lt;/legend&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item post-body"&gt;
				&lt;span class="field-item-input"&gt;
					&lt;textarea id="$core_v2_widget.UniqueId('body')" rows="3" name="$core_v2_widget.UniqueId('body')" style="resize: none; overflow-y: hidden;"&gt;&lt;/textarea&gt;
				&lt;/span&gt;
				&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item post-submit"&gt;
				&lt;span class="field-item-input"&gt;
					&lt;a href="#" onclick="return false;" class="internal-link add-reply submit-button" id="$core_v2_widget.UniqueId('save')"&gt;
						&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('MediaGallery_PostComment')
					&lt;/a&gt;
					&lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
				&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.AddMediaGalleryPostComment')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	jQuery(document).ready(function(j){
		j.telligent.evolution.widgets.addMediaGalleryPostComment.register({
			wrapperId: '$core_v2_widget.WrapperElementId',
			galleryId: $gallery.Id,
			mediaId: $media.Id,
			publishErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGallery_CommentForm_PublishError'))',
			publishingText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGallery_Posting'))',
			publishText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGallery_PostComment'))',
			bodyRequiredText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_CommentForm_EnterCommentWarning'))',
			save: j('#$core_v2_widget.UniqueId('save')'),
			bodySelector: '#$core_v2_widget.UniqueId('body')',
			successMessage: j('#$core_v2_widget.UniqueId('successMessage')'),
			moderateMessage: j('#$core_v2_widget.UniqueId('moderateMessage')'),
			errorMessage: j('#$core_v2_widget.UniqueId('errorMessage')')
		});
	});
	&lt;/script&gt;
#end

			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_AddMediaGalleryPostComment_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_AddMediaGalleryPostComment_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_AddMediaGalleryPostComment_Name">Media Gallery - Add Comment Form</resource><resource name="MediaGalleries_AddMediaGalleryPostComment_Description">Form for adding comments on media gallery files.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_Comment_SuccessMessage">Your comment has been posted.</resource><resource name="Close">Close</resource><resource name="CF_Comment_ModeratedMessaage">Thank you, your comment requires moderation so it may take a while to appear.</resource><resource name="MediaGallery_LeaveComment">Leave a Comment</resource><resource name="MediaGallery_PostComment">Post</resource><resource name="MediaGallery_CommentForm_PublishError">There was an error saving your comment.</resource><resource name="MediaGallery_Posting">Publishing</resource><resource name="Weblog_CommentForm_EnterCommentWarning">Please enter a comment</resource></language></languageResources>
		<requiredContext>
			<context id="a91f97494d81449ca3c3ec8d6eebaf25" />
		</requiredContext>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKGosIGdsb2JhbCkKewoJaWYgKHR5cGVvZiBqLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpCgkJai50ZWxsaWdlbnQgPSB7fTsKCglpZiAodHlwZW9mIGoudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307CgoJaWYgKHR5cGVvZiBqLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsKCgl2YXIgX3NhdmUgPSBmdW5jdGlvbihjb250ZXh0KQoJewoJCWNvbnRleHQuc3VjY2Vzc01lc3NhZ2UuaGlkZSgpOwoJCWNvbnRleHQubW9kZXJhdGVNZXNzYWdlLmhpZGUoKTsKCQljb250ZXh0LmVycm9yTWVzc2FnZS5oaWRlKCk7CgkJdmFyIHcgPSBqKCcjJyArIGNvbnRleHQud3JhcHBlcklkKTsKCgkJY29udGV4dC5zYXZlCgkJCS5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQucHVibGlzaGluZ1RleHQpCgkJCS5hZGRDbGFzcygnZGlzYWJsZWQnKTsKCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3QoewoJCQl1cmw6IGoudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9tZWRpYS97TWVkaWFHYWxsZXJ5SWR9L2ZpbGVzL3tGaWxlSWR9L2NvbW1lbnRzLmpzb24/SW5jbHVkZUZpZWxkcz1Db21tZW50LklkLENvbW1lbnQuSXNBcHByb3ZlZCcsCgkJCWRhdGE6CgkJCXsKCQkJCUJvZHk6IGooY29udGV4dC5ib2R5U2VsZWN0b3IpLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSwKCQkJCU1lZGlhR2FsbGVyeUlkOiBjb250ZXh0LmdhbGxlcnlJZCwKCQkJCUZpbGVJZDogY29udGV4dC5tZWRpYUlkCgkJCX0sCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQoJCQl7CgkJCQlqKCcucHJvY2Vzc2luZycsIHcpLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTsKCgkJCQlpZihyZXNwb25zZS5Db21tZW50LklzQXBwcm92ZWQpCgkJCQl7CgkJCQkJY29udGV4dC5zdWNjZXNzTWVzc2FnZS5zbGlkZURvd24oKTsKCQkJCQlnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHsgY29udGV4dC5zdWNjZXNzTWVzc2FnZS5mYWRlT3V0KCkuc2xpZGVVcCgpOyB9LCA5OTk5KTsKCQkJCQlqKGRvY3VtZW50KS50cmlnZ2VyKCd0ZWxsaWdlbnRfbWVkaWFnYWxsZXJpZXNfY29tbWVudHBvc3RlZCcsICcnKTsKCQkJCX0KCQkJCWVsc2UKCQkJCXsKCQkJCQljb250ZXh0Lm1vZGVyYXRlTWVzc2FnZS5zbGlkZURvd24oKTsKCQkJCQlnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHsgY29udGV4dC5tb2RlcmF0ZU1lc3NhZ2UuZmFkZU91dCgpLnNsaWRlVXAoKTsgfSwgOTk5OSk7CgkJCQl9CgoJCQkJaihjb250ZXh0LmJvZHlTZWxlY3RvcikuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcsJycpOwoJCQkJaihjb250ZXh0LmJvZHlTZWxlY3RvcikuY2hhbmdlKCk7CgkJCQljb250ZXh0LnNhdmUuZXZvbHV0aW9uVmFsaWRhdGlvbigncmVzZXQnKTsKCQkJCWNvbnRleHQuc2F2ZS5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQucHVibGlzaFRleHQpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOwoJCQl9LAoJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkKCQkJewoJCQkJaignLnByb2Nlc3NpbmcnLCB3KS5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7CgkJCQljb250ZXh0LnNhdmUuaHRtbCgnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LnB1Ymxpc2hUZXh0KS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsKCQkJCWNvbnRleHQuZXJyb3JNZXNzYWdlLmh0bWwoY29udGV4dC5wdWJsaXNoRXJyb3JUZXh0ICsgJyAoJyArIGRlc2MgKyAnKScpLnNsaWRlRG93bigpOwoJCQl9CgkJfSk7Cgl9OwoKCWoudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmFkZE1lZGlhR2FsbGVyeVBvc3RDb21tZW50ID0KCXsNCgkgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIChjb250ZXh0KSANCiAgICAgICAgew0KICAgICAgICAgICAgJCgndGV4dGFyZWEnKS5ldm9sdXRpb25SZXNpemUoKTsKCgkJCXZhciBib2R5ID0gaihjb250ZXh0LmJvZHlTZWxlY3Rvcik7CgkJCWJvZHkub25lKCdmb2N1cycsIGZ1bmN0aW9uKCl7CgkJCQlib2R5LmV2b2x1dGlvbkNvbXBvc2VyKHsKCQkJCQlwbHVnaW5zOiBbJ21lbnRpb25zJywnaGFzaHRhZ3MnXQoJCQkJfSk7CgkJCX0pOwoKCQkJaWYgKGRvY3VtZW50LlVSTC5pbmRleE9mKCcjYWRkY29tbWVudCcpID49IDApCgkJCQlib2R5LmZvY3VzKCk7CgoJCQlqKCcuaW50ZXJuYWwtbGluay5jbG9zZS1tZXNzYWdlJywgaignIycgKyBjb250ZXh0LndyYXBwZXJJZCkpLmNsaWNrKGZ1bmN0aW9uKCkKCQkJewoJCQkJaih0aGlzKS5ibHVyKCk7CgkJCQlqKHRoaXMpLmNsb3Nlc3QoJy5tZXNzYWdlJykuZmFkZU91dCgpLnNsaWRlVXAoKTsKCQkJCXJldHVybiBmYWxzZTsKCQkJfSk7CgoJCQljb250ZXh0LnNhdmUuZXZvbHV0aW9uVmFsaWRhdGlvbigKCQkJewoJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpCgkJCQl7CgkJCQkJaWYgKGlzVmFsaWQpCgkJCQkJCWNvbnRleHQuc2F2ZS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsKCQkJCQllbHNlCgkJCQkJCWNvbnRleHQuc2F2ZS5hZGRDbGFzcygnZGlzYWJsZWQnKTsKCQkJCX0sCgkJCQlvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkKCQkJCXsKCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJaignLnByb2Nlc3NpbmcnLCBjb250ZXh0LnNhdmUucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CgkJCQkJY29udGV4dC5zYXZlLmFkZENsYXNzKCdkaXNhYmxlZCcpOwoJCQkJCV9zYXZlKGNvbnRleHQpOwoJCQkJfQoJCQl9KTsKCgkJCWNvbnRleHQuc2F2ZS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsY29udGV4dC5ib2R5U2VsZWN0b3IsCgkJCXsKCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJbWF4bGVuZ3RoOiAxMDAwMDAwLAoJCQkJbWVzc2FnZXM6CgkJCQl7CgkJCQkJcmVxdWlyZWQ6IGNvbnRleHQuYm9keVJlcXVpcmVkVGV4dAoJCQkJfQoJCQl9LCAnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgLmZpZWxkLWl0ZW0ucG9zdC1ib2R5IC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsKCQl9Cgl9Owp9KShqUXVlcnksIHdpbmRvdyk7Cg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_AddUserFile_Name}" version="7.5.0.32466" description="${resource:Core_AddUserFile_Description}" instanceIdentifier="66827d72e63b492fa8f8cde7cf0638b7" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="add-user-file">
		<contentScript>
#if (!$core_v2_configuration.EnableUserFileStorage)
	$core_v2_widget.Hide()
#end

#set($userId = $core_v2_user.Current.Id)
#set($parentFolder = $core_v2_userFolder.Current)
#set($parentFolderPath = "")
#set($viewParentFolderUrl = $core_v2_urls.UserFiles($userId, $parentFolder.Path))
#set($contextId = $core_v2_uploadedFile.CreateContextId())

#if ($userId != $core_v2_user.Accessing.Id || !$core_v2_user.IsRegistered($userId))
	$core_v2_widget.Hide()
#end

#if ($parentFolder &amp;&amp; $parentFolder.Path &amp;&amp; $parentFolder.Path != "")
	#set($parentFolderPath = $core_v2_utility.Join('\', $parentFolder.Path))
#end

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item" id="$core_v2_widget.UniqueId('uploadFileContainer')"&gt;
			&lt;span class="field-item-input"&gt;
				&lt;input type="file" id="$core_v2_widget.UniqueId('uploadFileInput')" /&gt;
				&lt;input type="hidden" name="hiddenInputName" id="$core_v2_widget.UniqueId('uploadFileState')" value="contextValue:" /&gt;
			&lt;/span&gt;
			&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;span class="field-item-input"&gt;&lt;input id="$core_v2_widget.UniqueId('savefile')" type="button" disabled value="$core_v2_language.GetResource("UserFile_AddFile")" /&gt;&lt;/span&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.addUserFile')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.addUserFile.register({
				wrapperId : '$core_v2_widget.WrapperElementId',
				userId : '$userId',
				saveFileButton : jQuery('#$core_v2_widget.UniqueId('savefile')'),
				fileUploadId : '#$core_v2_widget.UniqueId('uploadFileInput')',
				fileUploadContainerId : '#$core_v2_widget.UniqueId('uploadFileContainer')',
				uploadFileStateId : '#$core_v2_widget.UniqueId('uploadFileState')',
				viewParentFolderUrl : '$core_v2_encoding.JavascriptEncode($core_v2_page.AbsoluteUrl($viewParentFolderUrl))',
				parentFolderPath : '$core_v2_encoding.JavascriptEncode($parentFolderPath)',
				createUrl : '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('create.vm'))',
				createFileErrorMessage : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("AddUserFile_CreateError"))',
				uploadFileUrl : '$core_v2_encoding.JavascriptEncode($core_v2_uploadedFile.GetUploadUrl($contextId))',
				contextId : '$core_v2_encoding.JavascriptEncode($contextId)'
			});
		});
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_AddUserFile_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_AddUserFile_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_AddUserFile_Name">Add User File</resource><resource name="Core_AddUserFile_Description">Displays the form to add a new file for a user.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UserFile_AddFile">Add File</resource><resource name="AddUserFile_CreateError">An error occurred while trying to create the file, please check that the file is valid.</resource><resource name="Core_AddUserFile_Title_AddFile">Add File</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
		</requiredContext>
		<files>
			<file name="create.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJGZpbGVOYW1lID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ZpbGVOYW1lJykpCgkjc2V0KCRmb2xkZXJOYW1lID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ZvbGRlck5hbWUnKSkKCSNzZXQoJGNvbnRleHRJZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdjb250ZXh0SWQnKSkKCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykKCgkjc2V0KCR1c2VyRmlsZSA9ICRjb3JlX3YyX3VzZXJGaWxlLkNyZWF0ZSgkY29udGV4dElkLCAkZmlsZU5hbWUsICRmb2xkZXJOYW1lKSkKCSNpZiAoJHVzZXJGaWxlLkVycm9ycy5Db3VudCA+IDApCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCR1c2VyRmlsZS5FcnJvcnMpCgkjZWxzZQoJCXsiZmlsZUNyZWF0ZWQiOnRydWV9CgkjZW5kCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciBfY3JlYXRlRmlsZSA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJCXsNCgkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkJCQl1cmw6IGNvbnRleHQuY3JlYXRlVXJsLA0KCQkJCWRhdGE6IHsgZmlsZU5hbWU6Y29udGV4dC5maWxlTmFtZSwgdXNlcklkOmNvbnRleHQudXNlcklkLCBjb250ZXh0SWQ6Y29udGV4dC5jb250ZXh0SWQsIGZvbGRlck5hbWU6Y29udGV4dC5wYXJlbnRGb2xkZXJQYXRoIH0sDQoJCQkJZGF0YVR5cGU6ICdqc29uJywNCgkJCQlkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmNyZWF0ZUZpbGVFcnJvck1lc3NhZ2UsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQl3aW5kb3cubG9jYXRpb24gPSBjb250ZXh0LnZpZXdQYXJlbnRGb2xkZXJVcmw7DQoJCQkJfQ0KCQkJfSk7DQoJCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5hZGRVc2VyRmlsZSA9DQoJew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJJChjb250ZXh0LmZpbGVVcGxvYWRDb250YWluZXJJZCkuZ2xvd1VwbG9hZCh7DQoJCQkJaGlkZGVuSW5wdXQ6IGNvbnRleHQudXBsb2FkRmlsZVN0YXRlSWQsDQoJCQkJZmlsZUZpbHRlcjogbnVsbCwNCgkJCQl1cGxvYWRVcmw6IGNvbnRleHQudXBsb2FkRmlsZVVybA0KCQkJfSkNCgkJCS5iaW5kKCdnbG93VXBsb2FkQ29tcGxldGUnLCBmdW5jdGlvbihlLCBmaWxlKQ0KCQkJCXsNCgkJCQkJaWYgKGZpbGUgJiYgZmlsZS5uYW1lLmxlbmd0aCA+IDApDQoJCQkJCXsNCgkJCQkJCWNvbnRleHQuZmlsZU5hbWUgPSBmaWxlLm5hbWU7DQoJCQkJCQljb250ZXh0LnNhdmVGaWxlQnV0dG9uLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7DQoJCQkJCX0NCgkJCQl9KTsNCgkJCQkNCgkJCWNvbnRleHQuc2F2ZUZpbGVCdXR0b24uY2xpY2soZnVuY3Rpb24oZSkNCgkJCXsNCgkJCQlfY3JlYXRlRmlsZShjb250ZXh0KTsNCgkJCX0pOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_AddUserFolder_Name}" version="7.5.0.32466" description="${resource:Core_AddUserFolder_Description}" instanceIdentifier="4357d28788bc4ea4841524ee65690fce" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="add-user-folder">
		<contentScript>
#if (!$core_v2_configuration.EnableUserFileStorage)
	$core_v2_widget.Hide()
#end

#set($userId = $core_v2_user.Current.Id)
#set($parentFolder = $core_v2_userFolder.Current)
#set($parentFolderPath = "")
#set($viewParentFolderUrl = $core_v2_urls.UserFiles($userId, $parentFolder.Path))

#if ($userId != $core_v2_user.Accessing.Id || !$core_v2_user.IsRegistered($userId))
	$core_v2_widget.Hide()
#end

#if ($parentFolder &amp;&amp; $parentFolder.Path &amp;&amp; $parentFolder.Path != "")
	#set($parentFolderPath = $core_v2_utility.Join('\', $parentFolder.Path))
#end

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item folder-name"&gt;
			&lt;span class="field-item-input"&gt;&lt;input id="$core_v2_widget.UniqueId('filename')" type="text" /&gt;&lt;/span&gt;
			&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;span class="field-item-input"&gt;&lt;input id="$core_v2_widget.UniqueId('savefolder')" type="button" disabled value="$core_v2_language.GetResource("UserFile_AddFolder")" /&gt;&lt;/span&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.addUserFolder')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.addUserFolder.register({
				wrapperId : '$core_v2_widget.WrapperElementId',
				userId : '$userId',
				saveFolderButton : jQuery('#$core_v2_widget.UniqueId('savefolder')'),
				folderNameInputSelector : '#$core_v2_widget.UniqueId('filename')',
				viewParentFolderUrl : '$core_v2_encoding.JavascriptEncode($core_v2_page.AbsoluteUrl($viewParentFolderUrl))',
				parentFolderPath : '$core_v2_encoding.JavascriptEncode($parentFolderPath)',
				createUrl : '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('create.vm'))',
				folderNameRequiredText : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("AddUserFolder_MissingFolderName"))',
				createFolderErrorMessage : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("AddUserFolder_CreateError"))'
			});
		});
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_AddUserFolder_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_AddUserFolder_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_AddUserFolder_Name">Add User Folder</resource><resource name="Core_AddUserFolder_Description">Displays the form to add a new folder for a user.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UserFile_AddFolder">Add Folder</resource><resource name="AddUserFolder_MissingFolderName">Please enter a name for the folder.</resource><resource name="AddUserFolder_CreateError">An error occurred while trying to create the folder, please check that the folder name is valid.</resource><resource name="Core_AddUserFolder_Title_AddFolder">Add Folder</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
		</requiredContext>
		<files>
			<file name="create.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJGZvbGRlck5hbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZm9sZGVyTmFtZScpKQoJI3NldCgkcGFyZW50Rm9sZGVyUGF0aCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdwYXJlbnRGb2xkZXJQYXRoJykpCgkjc2V0KCR1c2VySWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd1c2VySWQnKSkpCgoJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpCgoJI3NldCgkdXNlckZvbGRlciA9ICRjb3JlX3YyX3VzZXJGb2xkZXIuQ3JlYXRlKCRmb2xkZXJOYW1lLCAkcGFyZW50Rm9sZGVyUGF0aCkpCgkKCSNpZiAoJHVzZXJGb2xkZXIuRXJyb3JzLkNvdW50ID4gMCkKCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJHVzZXJGb2xkZXIuRXJyb3JzKQoJI2Vsc2UKCQl7ImZvbGRlckNyZWF0ZWQiOnRydWV9CgkjZW5kCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciBfY3JlYXRlRm9sZGVyID0gZnVuY3Rpb24oY29udGV4dCwgZm9sZGVyTmFtZSkNCgkJew0KCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCQkJCXVybDogY29udGV4dC5jcmVhdGVVcmwsDQoJCQkJZGF0YTogeyBmb2xkZXJOYW1lOmZvbGRlck5hbWUsIHVzZXJJZDpjb250ZXh0LnVzZXJJZCwgcGFyZW50Rm9sZGVyUGF0aDpjb250ZXh0LnBhcmVudEZvbGRlclBhdGggfSwNCgkJCQlkYXRhVHlwZTogJ2pzb24nLA0KCQkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuY3JlYXRlRm9sZGVyRXJyb3JNZXNzYWdlLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCXsNCgkJCQkJd2luZG93LmxvY2F0aW9uID0gY29udGV4dC52aWV3UGFyZW50Rm9sZGVyVXJsOw0KCQkJCX0NCgkJCX0pOw0KCQl9Ow0KDQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuYWRkVXNlckZvbGRlciA9DQoJew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJJChjb250ZXh0LmZvbGRlck5hbWVJbnB1dFNlbGVjdG9yKS5rZXl1cChmdW5jdGlvbihlKQ0KCQkJew0KCQkJCWlmICgoZS5rZXlDb2RlIHx8IGUud2hpY2gpID09IDEzICYmICQoY29udGV4dC5zYXZlRm9sZGVyQnV0dG9uKS5ldm9sdXRpb25WYWxpZGF0aW9uKCd2YWxpZGF0ZScpKQ0KCQkJCXsNCgkJCQkJdmFyIGZvbGRlck5hbWUgPSAkKGNvbnRleHQuZm9sZGVyTmFtZUlucHV0U2VsZWN0b3IpLnZhbCgpOw0KCQkJCQlfY3JlYXRlRm9sZGVyKGNvbnRleHQsIGZvbGRlck5hbWUpOw0KCQkJCX0JCQkJDQoJCQl9KTsNCgkJCQ0KCQkJY29udGV4dC5zYXZlRm9sZGVyQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oDQoJCQl7DQoJCQkJdmFsaWRhdGVPbkxvYWQgOiBmYWxzZSwNCgkJCQlvblZhbGlkYXRlZDogZnVuY3Rpb24oaXNWYWxpZCwgYnV0dG9uQ2xpY2tlZCwgYykgDQoJCQkJeyANCgkJCQkJaWYgKGlzVmFsaWQpIA0KCQkJCQkJY29udGV4dC5zYXZlRm9sZGVyQnV0dG9uLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7IA0KCQkJCQllbHNlDQoJCQkJCQljb250ZXh0LnNhdmVGb2xkZXJCdXR0b24uYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTsNCgkJCQl9LA0KCQkJCW9uU3VjY2Vzc2Z1bENsaWNrOiBmdW5jdGlvbihlKSANCgkJCQl7DQoJCQkJCWNvbnRleHQuc2F2ZUZvbGRlckJ1dHRvbi5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpOw0KCQkJCQl2YXIgZm9sZGVyTmFtZSA9ICQoY29udGV4dC5mb2xkZXJOYW1lSW5wdXRTZWxlY3RvcikudmFsKCk7DQoJCQkJCV9jcmVhdGVGb2xkZXIoY29udGV4dCwgZm9sZGVyTmFtZSk7DQoJCQkJfQ0KCQkJfSkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLCBjb250ZXh0LmZvbGRlck5hbWVJbnB1dFNlbGVjdG9yLAkNCgkJCXsgDQoJCQkJcmVxdWlyZWQ6IHRydWUsDQoJCQkJbWVzc2FnZXM6IA0KCQkJCXsgDQoJCQkJCXJlcXVpcmVkOiBjb250ZXh0LmZvbGRlck5hbWVSZXF1aXJlZFRleHQNCgkJCQl9IA0KCQkJfSwgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLmZvbGRlci1uYW1lIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsNCgkJfQ0KCX07DQp9KShqUXVlcnkpOw0K</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_ApiKeyList_Name}" version="7.5.0.32466" description="${resource:Core_ApiKeyList_Description}" instanceIdentifier="691c2713255e482fb1b29a35c0d42942" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="api-key-list">
		<contentScript>
$core_v2_ui.PagedContent('list.vm')
#registerEndOfPageHtml('telligent.evolution.widgets.apiKeyList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function(j){
		jQuery.telligent.evolution.widgets.apiKeyList.register({
			wrapper: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)",
			regenerateConfirmMessage: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Core_ApiKeys_ConfirmRegenerateKey'))",
			deleteConfirmMessage: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Core_ApiKeys_ConfirmRemoveKey'))",
			regenerateUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('regenerate.vm'))",
			deleteUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('delete.vm'))",
			pagedMessage: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PagedContentPagedEvent)'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_ApiKeyList_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_ApiKeyList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_ApiKeyList_Name">API Key List</resource><resource name="Core_ApiKeyList_Description">Shows a list of existing api keys.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Name">Name</resource><resource name="ApiKeys_APIKey">API Key</resource><resource name="DateCreated">Date Created</resource><resource name="Status">Status</resource><resource name="Actions">Actions</resource><resource name="disabled">Disabled</resource><resource name="enabled">Enabled</resource><resource name="Edit">Edit</resource><resource name="Regenerate">Regenerate</resource><resource name="Delete">Delete</resource><resource name="ApiKeys_None">You currently have no applications authorized to communicate with the site for you.</resource><resource name="Core_ApiKeys_ConfirmRegenerateKey">Are you sure you want to regenerate this API key value? This action cannot be undone.</resource><resource name="Core_ApiKeys_ConfirmRemoveKey">Are you sure you want to remove this API key? This action cannot be undone.</resource></language></languageResources>
		<files>
			<file name="delete.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJGtleUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnS2V5SWQnKSkpCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykKCSNzZXQgKCRyZXN1bHQgPSBmYWxzZSkKCSNzZXQgKCRyZXN1bHQgPSAkY29yZV92Ml9hcGlLZXkuRGVsZXRlKCRrZXlJZCkpCgkjaWYgKCRyZXN1bHQgJiYgJHJlc3VsdC5FcnJvcnMuQ291bnQgPT0gMCkKCQl7ImtleURlbGV0ZWQiOnRydWV9CgkjZWxzZQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkcmVzdWx0LkVycm9ycy5Db3VudCkKCSNlbmQKI2VuZA==</file>
			<file name="list.vm">I3NldCAoJGFjY2Vzc2luZ1VzZXIgPSAkY29yZV92Ml91c2VyLkFjY2Vzc2luZykKI2lmICgkY29yZV92Ml9Vc2VyLklzUmVnaXN0ZXJlZCgkYWNjZXNzaW5nVXNlci5JZCkpCgkkY29yZV92Ml93aWRnZXQuSGlkZSgpCiNlbmQKCiNzZXQgKCRwYWdlU2l6ZSA9IDIwKQojc2V0ICgkcGFnZUluZGV4ID0gJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQojc2V0ICgkYXBpS2V5cyA9ICRjb3JlX3YyX2FwaUtleS5MaXN0KCIle1BhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFBhZ2VTaXplID0gJHBhZ2VTaXplfSIpKQoKI2ZvcmVhY2ggKCRhcGlLZXkgaW4gJGFwaUtleXMpCiNiZWZvcmVhbGwKCTxkaXYgY2xhc3M9InRhYmxlLWxpc3QtaGVhZGVyIj48L2Rpdj4KCTx0YWJsZSBjbGFzcz0idGFibGUtbGlzdCI+CgkJPHRoZWFkPgoJCTx0ciBjbGFzcz0idGFibGUtaGVhZGVyIj4KCQkJPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTmFtZScpPC90aD4KCQkJPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQXBpS2V5c19BUElLZXknKTwvdGg+CgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0RhdGVDcmVhdGVkJyk8L3RoPgoJCQk8dGggY2xhc3M9InRhYmxlLWhlYWRlci1jb2x1bW4iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTdGF0dXMnKTwvdGg+CgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0FjdGlvbnMnKTwvdGg+CgkJPC90cj4KCQk8L3RoZWFkPgoJCTx0Ym9keT4KI2VhY2gKCTx0ciBjbGFzcz0idGFibGUtaXRlbSIgZGF0YS1hcGlpZD0iJGFwaUtleS5JZCI+CgkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4iPiRhcGlLZXkuTmFtZTwvdGQ+CgkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4iPiRhcGlLZXkuU2VjcmV0S2V5PC90ZD4KCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkYXBpS2V5LkRhdGVDcmVhdGVkKTwvdGQ+CgkJI3NldCAoJGVuYWJsZWQgPSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnZGlzYWJsZWQnKSkKCQkjaWYgKCRhcGlLZXkuRW5hYmxlZCkKCQkJI3NldCAoJGVuYWJsZWQgPSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnZW5hYmxlZCcpKQoJCSNlbmQKCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiI+PHNwYW4+PHNwYW4+PC9zcGFuPiRlbmFibGVkPC9zcGFuPjwvdGQ+CgkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4iPgoJCQkjc2V0ICgkZWRpdFVybCA9IGZhbHNlKQoJCQkjc2V0ICgkZWRpdFVybCA9ICRjb3JlX3YyX3VybHMuRWRpdEFwaUtleSgkYXBpS2V5LlNlY3JldEtleSkpCgkJCSNpZiAoJGVkaXRVcmwpCgkJCQk8YSBjbGFzcz0iZWRpdCIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZWRpdFVybCkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0Jyk8L2E+IHwKCQkJI2VuZAoJCQk8YSBjbGFzcz0icmVnZW5lcmF0ZSIgaHJlZj0iIyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1JlZ2VuZXJhdGUnKTwvYT4gfAoJCQk8YSBjbGFzcz0iZGVsZXRlIiBocmVmPSIjIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRGVsZXRlJyk8L2E+CgkJPC90ZD4KCTwvdHI+CiNhZnRlcmFsbAoJPC90Ym9keT4KCTwvdGFibGU+Cgk8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWZvb3RlciI+PC9kaXY+CgkkY29yZV92Ml91aS5QYWdlcigkcGFnZUluZGV4LCAkYXBpS2V5cy5QYWdlU2l6ZSwgJGFwaUtleXMuVG90YWxDb3VudCwgIiV7IFBhZ2VkQ29udGVudEZpbGUgPSAnbGlzdC52bScsIFRyYW5zaXRpb24gPSAnbm9uZScgfSIpCiNub2RhdGEKCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4KCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQXBpS2V5c19Ob25lJykKCTwvZGl2PgojZW5k</file>
			<file name="regenerate.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJGtleUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnS2V5SWQnKSkpCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykKCSNzZXQgKCRhcGlLZXkgPSBmYWxzZSkKCSNzZXQgKCRhcGlLZXkgPSAkY29yZV92Ml9hcGlLZXkuVXBkYXRlKCRrZXlJZCwgIiV7IFJlZ2VuZXJhdGUgPSAndHJ1ZScgfSIpKQoJI2lmICgkYXBpS2V5LkVycm9ycy5Db3VudCA9PSAwKQoJCXsia2V5UmVnZW5lcmF0ZWQiOnRydWV9CgkjZWxzZQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkYXBpS2V5LkVycm9ycykKCSNlbmQKI2VuZA==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKICAgIHZhciByZWdlbmVyYXRlS2V5ID0gZnVuY3Rpb24oY29udGV4dCwga2V5SWQpIHsKICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3QoewogICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LnJlZ2VuZXJhdGVVcmwsCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgS2V5SWQ6IGtleUlkCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGRlbGV0ZUtleSA9IGZ1bmN0aW9uKGNvbnRleHQsIGtleUlkKSB7CiAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsKICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5kZWxldGVVcmwsCiAgICAgICAgICAgICAgICBkYXRhOiB7CiAgICAgICAgICAgICAgICAgICAgS2V5SWQ6IGtleUlkCiAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9LAogICAgICAgIGdldEtleUlkID0gZnVuY3Rpb24odGFyZ2V0KSB7CiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCgkKHRhcmdldCkuY2xvc2VzdCgndHInKS5hdHRyKCdkYXRhLWFwaWlkJyksIDEwKTsKICAgICAgICB9OwogICAgdmFyIGFwaSA9IHsKICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgewogICAgICAgICAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgY29udGV4dC53cmFwcGVyID0gJChjb250ZXh0LndyYXBwZXIpOwogICAgICAgICAgICAgICAgJCgnYS5yZWdlbmVyYXRlJywgY29udGV4dC53cmFwcGVyKS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGUsZGF0YSl7CiAgICAgICAgICAgICAgICAgICAgaWYoY29uZmlybShjb250ZXh0LnJlZ2VuZXJhdGVDb25maXJtTWVzc2FnZSkpewogICAgICAgICAgICAgICAgICAgICAgICB2YXIga2V5SWQgPSBnZXRLZXlJZChlLnRhcmdldCk7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2VuZXJhdGVLZXkoY29udGV4dCwga2V5SWQpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICQoJ2EuZGVsZXRlJywgY29udGV4dC53cmFwcGVyKS5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKGUsZGF0YSl7CiAgICAgICAgICAgICAgICAgICAgaWYoY29uZmlybShjb250ZXh0LmRlbGV0ZUNvbmZpcm1NZXNzYWdlKSl7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBrZXlJZCA9IGdldEtleUlkKGUudGFyZ2V0KTsKICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlS2V5KGNvbnRleHQsIGtleUlkKTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAkKCdhLmVkaXQnLCBjb250ZXh0LndyYXBwZXIpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZSxkYXRhKXsKICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7CiAgICAgICAgICAgICAgICAgICAgVGVsbGlnZW50X01vZGFsLk9wZW4odXJsLDUwMCwyMDAsbnVsbCk7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKGNvbnRleHQucGFnZWRNZXNzYWdlLCBpbml0KTsKICAgICAgICAgICAgaW5pdCgpOwogICAgICAgIH0KICAgIH07CgogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9CiAgICBpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9OyB9CiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5hcGlLZXlMaXN0ID0gYXBpOwoKfShqUXVlcnkpKTsK</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:AppealQueue_Name}" version="7.5.0.32466" description="${resource:AppealQueue_Description}" instanceIdentifier="dc6d0334fb434422a94cf321b0c4ef0e" theme="" isCacheable="false" varyCacheByUser="false" showHeaderByDefault="true" cssClass="appeal-queue">
		<contentScript>


#set ($containerId = false)
#set ($containerId = $core_v2_page.GetQueryStringValue('ContainerId'))
#set ($currentGroup = false)
#if ($containerId)
	#set ($containerId = $core_v2_utility.ParseGuid($containerId))
	#set ($currentGroup = $core_v2_group.Get("%{ ContainerId = $containerId }"))
#else
	#set ($currentGroup = $core_v2_group.Current)
#end

#set ($appeal = false)
#set ($appealId = false)
#set ($appealId = $core_v2_page.GetQueryStringValue('AbuseAppealId'))
#if ($appealId &amp;&amp; $appealId.Length &gt; 0)
	#set ($appealId = $core_v2_utility.ParseGuid($appealId))
	#set ($appeal = $core_v2_abuseAppeal.Get($appealId))
	#if ($appeal &amp;&amp; $appeal.Content &amp;&amp; $appeal.Content.Application &amp;&amp; $appeal.Content.Application.Container)
		#set($currentGroup = $core_v2_group.Get($appeal.Content.Application.Container.ContainerId))
	#end
#end

#set ($canReviewAppealsInGroup = false)
#set ($canReviewAppealsInGroup = $core_v2_nodePermission.Get('groups',$currentGroup.Id,'Group_ReviewAbuseAppeals').IsAllowed)
#if (!$$canReviewAppealsInGroup)
	$core_v2_widget.Hide()
#end

## control ids
#set ($appealStateFilterId = $core_v2_widget.UniqueId('appealStateFilterId'))
#set ($sortById = $core_v2_widget.UniqueId('sortById'))
#set ($defaultAppealState = "AuthorResponded")

&lt;div class="filter"&gt;
	&lt;span class="filter-label"&gt;$core_v2_language.GetResource('Show')&lt;/span&gt;
	## State Filter
	&lt;span class="filter-option"&gt;
		&lt;select id="$core_v2_encoding.HtmlAttributeEncode($appealStateFilterId)"&gt;
			&lt;option value=""&gt;$core_v2_language.GetResource('FilterAppealState')&lt;/option&gt;
			&lt;option value="Initiated"&gt;$core_v2_language.GetResource('FilterAppealState_Initiated')&lt;/option&gt;
			&lt;option #if(!$appeal) selected="selected" #end value="AuthorResponded"&gt;$core_v2_language.GetResource('FilterAppealState_AuthorResponded')&lt;/option&gt;
			&lt;option value="Accepted"&gt;$core_v2_language.GetResource('FilterAppealState_Accepted')&lt;/option&gt;
			&lt;option value="Rejected"&gt;$core_v2_language.GetResource('FilterAppealState_Rejected')&lt;/option&gt;
			&lt;option value="Expired"&gt;$core_v2_language.GetResource('FilterAppealState_Expired')&lt;/option&gt;
		&lt;/select&gt;
	&lt;/span&gt;
	&lt;span class="filter-label"&gt;$core_v2_language.GetResource('SortBy')&lt;/span&gt;
	## Sort
	&lt;span class="filter-option"&gt;
		&lt;select id="$core_v2_encoding.HtmlAttributeEncode($sortById)"&gt;
			&lt;option value="AppealDate"&gt;$core_v2_language.GetResource('SortBy_AppealDate')&lt;/option&gt;
			&lt;option value="ContentDate"&gt;$core_v2_language.GetResource('SortBy_ContentDate')&lt;/option&gt;
			&lt;option value="AuthorUserName"&gt;$core_v2_language.GetResource('SortBy_ContentAuthor')&lt;/option&gt;
		&lt;/select&gt;
	&lt;/span&gt;
	&lt;span class="filter-label"&gt;$core_v2_language.GetResource('Group')&lt;/span&gt;
	## Group
	#set ($groupSelectorId = $core_v2_widget.UniqueId('groupSelectorId'))
	&lt;span class="filter-option"&gt;
		&lt;input	id="$core_v2_encoding.HtmlAttributeEncode($groupSelectorId)"
				name="$core_v2_encoding.HtmlAttributeEncode($groupSelectorId)"
				type="text" style="width:300px;" value="${currentGroup.ContainerId}" /&gt;
	&lt;/span&gt;
&lt;/div&gt;


$core_v2_ui.PagedContent('load-appeals.vm')

#registerEndOfPageHtml('telligent.evolution.widgets.appealQueue')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.appealQueue.register({
				wrapperId: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
				pagedContentWrapper: '#$core_v2_encoding.JavascriptEncode($core_v2_ui.PagedContentWrapperElementId)',
				listUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('load-appeals.vm'))',
				singleUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('load-appeal.vm'))',
				appealStateFilter: '#$core_v2_encoding.JavascriptEncode($appealStateFilterId)',
				sortBy: '#$core_v2_encoding.JavascriptEncode($sortById)',
				groupSelector: jQuery('#$core_v2_encoding.JavascriptEncode($groupSelectorId)'),
				noGroupsMatchText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('GroupLookUp_NoMatches'))",
				defaultGroupName: '$core_v2_encoding.JavascriptEncode($currentGroup.Name)',
				defaultGroupId: '$currentGroup.ContainerId'
			});
		});
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:AppealQueue_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:AppealQueue_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="AppealQueue_Name">Abuse Appeal Queue</resource><resource name="AppealQueue_Description">Displays a manageable queue of abusive content appeals</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="SortBy">Sort By</resource><resource name="SortBy_ContentDate">Publish Date</resource><resource name="SortBy_AppealDate">Appeal Date</resource><resource name="SortBy_ContentAuthor">Content Author</resource><resource name="FilterAppealState">Any State</resource><resource name="FilterAppealState_Initiated">Possibly Abusive (Awaiting Appeal)</resource><resource name="FilterAppealState_AuthorResponded">Appealed</resource><resource name="FilterAppealState_Accepted">Restored (Appeal Accepted)</resource><resource name="FilterAppealState_Rejected">Archived (Confirmed Abusive)</resource><resource name="FilterAppealState_Expired">Appeal Expired (Content Removed)</resource><resource name="No_Appeals">No Appeals</resource><resource name="AppealNotice">Appeal Notice</resource><resource name="MemberSince">Member Since</resource><resource name="CurrentRoles">Current Roles</resource><resource name="Posts">Posts &amp; Comments by author</resource><resource name="PostsWithFlags">with flags</resource><resource name="PostsHidden">hidden</resource><resource name="Appeals">Appeals made by author</resource><resource name="AppealsOpen">open</resource><resource name="AppealsAccepted">accepted</resource><resource name="ContentHidden">Hidden</resource><resource name="ContentViews">Views</resource><resource name="ContentPosted">Posted</resource><resource name="ContentFlaggedBy">Flagged By</resource><resource name="ContentInGroup">In Group</resource><resource name="InitiatedMessage">The hiding of this content has not yet been appealed.	 The window for appealing will close on &lt;strong&gt;{0}&lt;/strong&gt;.</resource><resource name="ExpiredMessage">This appeal has expired</resource><resource name="AcceptedMessage">This appeal was accepted and the content was restored</resource><resource name="RejectedMessage">This appeal was rejected and the content was kept hidden</resource><resource name="ResponseHeading">{0}'s Response:</resource><resource name="ReportedContent">Reported Content:</resource><resource name="ViewPost">View Post</resource><resource name="BoardResponseLabel">Explain your decision</resource><resource name="Cancel">Go Back</resource><resource name="Accept">Restore</resource><resource name="Reject">Keep Hidden</resource><resource name="Responder">Responder</resource><resource name="Accepted">Restored</resource><resource name="Rejected">Archived</resource><resource name="NoContent">Content cannot be retrieved for this appeal</resource><resource name="Show">Show</resource><resource name="Group">Group</resource><resource name="expand">expand</resource><resource name="GroupLookUp_NoMatches">A matching group could not be found.</resource><resource name="And_More">And {0} more</resource><resource name="Account_Deleted">The account for the author of this content no longer exists.</resource></language></languageResources>
		<files>
			<file name="appeal.vm">I3NldCAoJGlzQW5vbnltb3VzID0gZmFsc2UpCiNpZiAoISRhcHBlYWwuQXV0aG9yVXNlciB8fCAhJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJGFwcGVhbC5BdXRob3JVc2VyLklkKSkKCSNzZXQgKCRpc0Fub255bW91cyA9IHRydWUpCiNlbmQKCjxsaSBkYXRhLWFwcGVhbGlkPSIkYXBwZWFsLkFwcGVhbElkIiBjbGFzcz0iY29udGVudC1pdGVtIGFwcGVhbCAjaWYoJHNob3VsZEV4cGFuZCkgZXhwYW5kZWQgI2VuZCI+CgoJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPgoJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdBcHBlYWxOb3RpY2UnKQoJPC9kaXY+CgoJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCI+CgkJPGEgY2xhc3M9ImV4cGFuZGVyIiBocmVmPSIjIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ2V4cGFuZCcpPC9hPgoKCQkjIyBhdXRob3IgYXR0cmlidXRlcwoJCTxkaXYgY2xhc3M9ImF0dHJpYnV0ZS1saXN0LWhlYWRlciI+PC9kaXY+CgkJPHVsIGNsYXNzPSJhdHRyaWJ1dGUtbGlzdCBhdXRob3IiPgoJCSNpZiAoJGlzQW5vbnltb3VzKQoJCQk8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIGF1dGhvciI+CgkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQWNjb3VudF9EZWxldGVkJykKCQkJPC9saT4KCQkjZWxzZQoJCQk8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIGF1dGhvciI+CgkJCQkjaWYgKCRhcHBlYWwuQXV0aG9yVXNlcikKCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+CgkJCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPgoJCQkJCQkJI2lmICgkYXBwZWFsLkF1dGhvclVzZXIuUHJvZmlsZVVybCkKCQkJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhcHBlYWwuQXV0aG9yVXNlci5Qcm9maWxlVXJsKSI+CgkJCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGFwcGVhbC5BdXRob3JVc2VyLkF2YXRhclVybCwzMiwzMiwiJXthbHQ9JGFwcGVhbC5BdXRob3JVc2VyLkRpc3BsYXlOYW1lLHN0eWxlPSdib3JkZXItd2lkdGg6MDsnfSIpCgkJCQkJCQkJPC9hPgoJCQkJCQkJI2Vsc2UKCQkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRhcHBlYWwuQXV0aG9yVXNlci5BdmF0YXJVcmwsMzIsMzIsIiV7YWx0PSRhcHBlYWwuQXV0aG9yVXNlci5EaXNwbGF5TmFtZSxzdHlsZT0nYm9yZGVyLXdpZHRoOjA7J30iKQoJCQkJCQkJI2VuZAoJCQkJCQk8L3NwYW4+CgkJCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPgoJCQkJCQkJI2lmKCRhcHBlYWwuQXV0aG9yVXNlci5Qcm9maWxlVXJsKQoJCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFwcGVhbC5BdXRob3JVc2VyLlByb2ZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSI+CgkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kYXBwZWFsLkF1dGhvclVzZXIuRGlzcGxheU5hbWUKCQkJCQkJCQk8L2E+CgkJCQkJCQkjZWxzZQoJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kYXBwZWFsLkF1dGhvclVzZXIuRGlzcGxheU5hbWUKCQkJCQkJCSNlbmQKCQkJCQkJPC9zcGFuPgoJCQkJCTwvZGl2PgoJCQkJI2VuZAoJCQkJPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4KCQkJCQkjaWYgKCRhcHBlYWwuQXV0aG9yUmVzcG9uc2VEYXRlKQoJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRhcHBlYWwuQXV0aG9yUmVzcG9uc2VEYXRlKQoJCQkJCSNlbmQKCQkJCTwvZGl2PgoJCQk8L2xpPgoKCQkJI2lmKCRzaG91bGRFeHBhbmQpCgoJCQkJIyMgam9pbiBkYXRlCgkJCQkjaWYgKCRhcHBlYWwuQXV0aG9yVXNlci5Kb2luRGF0ZSkKCQkJCQk8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIGpvaW4tZGF0ZSI+CgkJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtbmFtZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ01lbWJlclNpbmNlJyk8L3NwYW4+CgkJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtdmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJGFwcGVhbC5BdXRob3JVc2VyLkpvaW5EYXRlKTwvc3Bhbj4KCQkJCQk8L2xpPgoJCQkJI2VuZAoKCQkJCSMjIHJvbGVzCgkJCQkjc2V0ICgkdXNlclJvbGVzID0gJGNvcmVfdjJfcm9sZS5MaXN0KCIleyBJbmNsdWRlID0gJ3VzZXInLCBVc2VySWQgPSAkYXBwZWFsLkF1dGhvclVzZXIuSWQsIFBhZ2VJbmRleCA9IDAsIFBhZ2VTaXplID0gMjAgfSIpKQoJCQkJI2ZvcmVhY2ggKCRyb2xlIGluICR1c2VyUm9sZXMpCgkJCQkjYmVmb3JlYWxsCgkJCQkJPGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSByb2xlcyI+CgkJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtbmFtZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0N1cnJlbnRSb2xlcycpPC9zcGFuPgoJCQkJCQk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIj4KCQkJCSNlYWNoCgkJCQkJI2lmICgkcm9sZSAmJiAoISRyb2xlLkdyb3VwSWQgfHwgJHJvbGUuR3JvdXBJZCA9PSAwKSkKCQkJCQkJJHJvbGUuTmFtZSwmbmJzcDsKCQkJCQkjZW5kCgkJCQkjYWZ0ZXJhbGwKCQkJCQkJPC9zcGFuPgoJCQkJCTwvbGk+CgkJCQkjZW5kCgoJCQkJI3NldCgkY29udGVudHMgPSAkY29yZV92Ml9hYnVzaXZlQ29udGVudC5MaXN0KCIleyBBdXRob3JVc2VySWQgPSAkYXBwZWFsLkF1dGhvclVzZXIuQ29udGVudElkLCBQYWdlU2l6ZSA9IDEwLCBQYWdlSW5kZXggPSAwIH0iKSkKCgkJCQkjIyBjb3VudCBvZiBhYnVzaXZlIGNvbnRlbnQgaW4gdmFyaW91cyBzdGF0ZXMKCQkJCSNzZXQoJHJlcG9ydGVkQWJ1c2l2ZUNvbnRlbnQgPSAkY29yZV92Ml9hYnVzaXZlQ29udGVudC5MaXN0KCIleyBBYnVzZVN0YXRlID0gJ1JlcG9ydGVkJywgQXV0aG9yVXNlcklkID0gJGFwcGVhbC5BdXRob3JVc2VyLkNvbnRlbnRJZCwgUGFnZVNpemUgPSAxLCBQYWdlSW5kZXggPSAwIH0iKSkKCQkJCSNzZXQoJGFwcGVhbGVkQWJ1c2l2ZUNvbnRlbnQgPSAkY29yZV92Ml9hYnVzaXZlQ29udGVudC5MaXN0KCIleyBBcHBlYWxTdGF0ZSA9ICdJbml0aWF0ZWQnLCBBdXRob3JVc2VySWQgPSAkYXBwZWFsLkF1dGhvclVzZXIuQ29udGVudElkLCBQYWdlU2l6ZSA9IDEsIFBhZ2VJbmRleCA9IDAgfSIpKQoJCQkJI3NldCgkYXBwZWFsUmVzcG9uc2VkQWJ1c2l2ZUNvbnRlbnQgPSAkY29yZV92Ml9hYnVzaXZlQ29udGVudC5MaXN0KCIleyBBcHBlYWxTdGF0ZSA9ICdBdXRob3JSZXNwb25kZWQnLCBBdXRob3JVc2VySWQgPSAkYXBwZWFsLkF1dGhvclVzZXIuQ29udGVudElkLCBQYWdlU2l6ZSA9IDEsIFBhZ2VJbmRleCA9IDAgfSIpKQoJCQkJI3NldCgkY29uZmlybWVkQWJ1c2l2ZUNvbnRlbnQgPSAkY29yZV92Ml9hYnVzaXZlQ29udGVudC5MaXN0KCIleyBBcHBlYWxTdGF0ZSA9ICdSZWplY3RlZCcsIEF1dGhvclVzZXJJZCA9ICRhcHBlYWwuQXV0aG9yVXNlci5Db250ZW50SWQsIFBhZ2VTaXplID0gMSwgUGFnZUluZGV4ID0gMCB9IikpCgkJCQkjc2V0KCRleHBpcmVkQWJ1c2l2ZUNvbnRlbnQgPSAkY29yZV92Ml9hYnVzaXZlQ29udGVudC5MaXN0KCIleyBBcHBlYWxTdGF0ZSA9ICdFeHBpcmVkJywgQXV0aG9yVXNlcklkID0gJGFwcGVhbC5BdXRob3JVc2VyLkNvbnRlbnRJZCwgUGFnZVNpemUgPSAxLCBQYWdlSW5kZXggPSAwIH0iKSkKCQkJCSNzZXQoJG5vdEFidXNpdmVDb250ZW50ID0gJGNvcmVfdjJfYWJ1c2l2ZUNvbnRlbnQuTGlzdCgiJXsgQWJ1c2VTdGF0ZSA9ICdOb3RBYnVzaXZlJywgQXV0aG9yVXNlcklkID0gJGFwcGVhbC5BdXRob3JVc2VyLkNvbnRlbnRJZCwgUGFnZVNpemUgPSAxLCBQYWdlSW5kZXggPSAwIH0iKSkKCgkJCQkjIyBjb3VudHMgb2YgYWJ1c2UgYXBwZWFscyBpbiB2YXJpb3VzIHN0YXRlcwoJCQkJI3NldCAoJGluaXRpYXRlZEFwcGVhbHMgPSAkY29yZV92Ml9hYnVzZUFwcGVhbC5MaXN0KCIleyBBcHBlYWxTdGF0ZSA9ICdJbml0aWF0ZWQnLCBDb250ZW50QXV0aG9ySWQgPSAkYXBwZWFsLkF1dGhvclVzZXIuQ29udGVudElkLCBQYWdlU2l6ZSA9IDEsIFBhZ2VJbmRleCA9IDAJfSIpKQoJCQkJI3NldCAoJGFjY2VwdGVkQXBwZWFscyA9ICRjb3JlX3YyX2FidXNlQXBwZWFsLkxpc3QoIiV7IEFwcGVhbFN0YXRlID0gJ0FjY2VwdGVkJywgQ29udGVudEF1dGhvcklkID0gJGFwcGVhbC5BdXRob3JVc2VyLkNvbnRlbnRJZCwgUGFnZVNpemUgPSAxLCBQYWdlSW5kZXggPSAwICB9IikpCgkJCQkjc2V0ICgkcmVqZWN0ZWRBcHBlYWxzID0gJGNvcmVfdjJfYWJ1c2VBcHBlYWwuTGlzdCgiJXsgQXBwZWFsU3RhdGUgPSAnUmVqZWN0ZWQnLCBDb250ZW50QXV0aG9ySWQgPSAkYXBwZWFsLkF1dGhvclVzZXIuQ29udGVudElkLCBQYWdlU2l6ZSA9IDEsIFBhZ2VJbmRleCA9IDAgIH0iKSkKCQkJCSNzZXQgKCRleHBpcmVkQXBwZWFscyA9ICRjb3JlX3YyX2FidXNlQXBwZWFsLkxpc3QoIiV7IEFwcGVhbFN0YXRlID0gJ0V4cGlyZWQnLCBDb250ZW50QXV0aG9ySWQgPSAkYXBwZWFsLkF1dGhvclVzZXIuQ29udGVudElkLCBQYWdlU2l6ZSA9IDEsIFBhZ2VJbmRleCA9IDAJfSIpKQoJCQkJI3NldCAoJGF1dGhvclJlc3BvbnNlQXBwZWFscyA9ICRjb3JlX3YyX2FidXNlQXBwZWFsLkxpc3QoIiV7IEFwcGVhbFN0YXRlID0gJ0F1dGhvclJlc3BvbmRlZCcsIENvbnRlbnRBdXRob3JJZCA9ICRhcHBlYWwuQXV0aG9yVXNlci5Db250ZW50SWQsIFBhZ2VTaXplID0gMSwgUGFnZUluZGV4ID0gMCAgfSIpKQoKCQkJCSNzZXQgKCR0b3RhbENvbW1lbnRDb3VudCA9IDApCgkJCQkjc2V0ICgkYWxsQ29tbWVudHMgPSAkY29yZV92Ml9jb21tZW50cy5MaXN0KCIleyBQYWdlSW5kZXggPSAwLCBQYWdlU2l6ZSA9IDEsIFVzZXJJZCA9ICRhcHBlYWwuQXV0aG9yVXNlci5JZCB9IikpCgkJCQkjc2V0ICgkdG90YWxDb21tZW50Q291bnQgPSAkYWxsQ29tbWVudHMuVG90YWxDb3VudCkKCQkJCSNzZXQgKCR0b3RhbFBvc3RDb3VudCA9ICRhcHBlYWwuQXV0aG9yVXNlci5Ub3RhbFBvc3RzICsgJHRvdGFsQ29tbWVudENvdW50KQoKCQkJCTxsaSBjbGFzcz0iYXR0cmlidXRlLWl0ZW0gcG9zdHMiPgoJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtbmFtZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1Bvc3RzJyk8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSI+JHRvdGFsUG9zdENvdW50PC9zcGFuPgoJCQkJPC9saT4KCgkJCQkjc2V0ICgkY29udGVudFdpdGhGbGFncyA9ICRyZXBvcnRlZEFidXNpdmVDb250ZW50LlRvdGFsQ291bnQgKyAkYXBwZWFsZWRBYnVzaXZlQ29udGVudC5Ub3RhbENvdW50ICsgJGV4cGlyZWRBYnVzaXZlQ29udGVudC5Ub3RhbENvdW50ICsgJGNvbmZpcm1lZEFidXNpdmVDb250ZW50LlRvdGFsQ291bnQgKyAkYXBwZWFsUmVzcG9uc2VkQWJ1c2l2ZUNvbnRlbnQuVG90YWxDb3VudCkKCQkJCTxsaSBjbGFzcz0iYXR0cmlidXRlLWl0ZW0gcmVwb3J0ZWQiPgoJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtbmFtZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1Bvc3RzV2l0aEZsYWdzJyk8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSI+JGNvbnRlbnRXaXRoRmxhZ3M8L3NwYW4+CgkJCQk8L2xpPgoKCQkJCSNzZXQgKCRjb250ZW50SGlkZGVuID0gJGluaXRpYXRlZEFwcGVhbHMuVG90YWxDb3VudCArICRyZWplY3RlZEFwcGVhbHMuVG90YWxDb3VudCArICRleHBpcmVkQXBwZWFscy5Ub3RhbENvdW50ICsgJGF1dGhvclJlc3BvbnNlQXBwZWFscy5Ub3RhbENvdW50KQoJCQkJPGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSBoaWRkZW4iPgoJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtbmFtZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1Bvc3RzSGlkZGVuJyk8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSI+JGNvbnRlbnRIaWRkZW48L3NwYW4+CgkJCQk8L2xpPgoKCQkJCSNzZXQgKCRhcHBlYWxDb3VudCA9ICRhY2NlcHRlZEFwcGVhbHMuVG90YWxDb3VudCArICRyZWplY3RlZEFwcGVhbHMuVG90YWxDb3VudCArICRleHBpcmVkQXBwZWFscy5Ub3RhbENvdW50ICsgJGF1dGhvclJlc3BvbnNlQXBwZWFscy5Ub3RhbENvdW50KQoJCQkJPGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSBhcHBlYWxzIj4KCQkJCQk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLW5hbWUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdBcHBlYWxzJyk8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSI+JGFwcGVhbENvdW50PC9zcGFuPgoJCQkJPC9saT4KCgkJCQkjc2V0ICgkcmVzcG9uZGVkQXBwZWFsQ291bnQgPSAkYXV0aG9yUmVzcG9uc2VBcHBlYWxzLlRvdGFsQ291bnQpCgkJCQk8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIHJlc3BvbmRlZCI+CgkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS1uYW1lIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQXBwZWFsc09wZW4nKTwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIj4kcmVzcG9uZGVkQXBwZWFsQ291bnQ8L3NwYW4+CgkJCQk8L2xpPgoKCQkJCSNzZXQgKCRhY2NlcHRlZEFwcGVhbENvdW50ID0gJGFjY2VwdGVkQXBwZWFscy5Ub3RhbENvdW50KQoJCQkJPGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSBhY2NlcHRlZCI+CgkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS1uYW1lIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQXBwZWFsc0FjY2VwdGVkJyk8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSI+JGFjY2VwdGVkQXBwZWFsQ291bnQ8L3NwYW4+CgkJCQk8L2xpPgoJCQkjZW5kCgkJI2VuZAoJCTwvdWw+CgkJPGRpdiBjbGFzcz0iYXR0cmlidXRlLWxpc3QtZm9vdGVyIj48L2Rpdj4KCgoJCSMjIGNvbnRlbnQgYXR0cmlidXRlcwoJCTxkaXYgY2xhc3M9ImF0dHJpYnV0ZS1saXN0LWhlYWRlciI+PC9kaXY+CgkJPHVsIGNsYXNzPSJhdHRyaWJ1dGUtbGlzdCBjb250ZW50Ij4KCQkJPGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSBoaWRkZW4tZGF0ZSI+CgkJCQk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLW5hbWUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb250ZW50SGlkZGVuJyk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlQW5kVGltZSgkYXBwZWFsLkFwcGVhbEluaXRpYXRlZERhdGUpPC9zcGFuPgoJCQk8L2xpPgoJCQk8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIGNyZWF0ZWQtZGF0ZSI+CgkJCQk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLW5hbWUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb250ZW50UG9zdGVkJyk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlQW5kVGltZSgkYXBwZWFsLkNvbnRlbnQuQ3JlYXRlZERhdGUpPC9zcGFuPgoJCQk8L2xpPgoKCQkJI2lmKCRzaG91bGRFeHBhbmQpCgoJCQkJI3NldCAoJHJlcG9ydHMgPSAkY29yZV92Ml9hYnVzZVJlcG9ydC5MaXN0KCIleyBBYnVzaXZlQ29udGVudElkID0gJGFwcGVhbC5Db250ZW50SWQsIEFwcGVhbGlkID0gJGFwcGVhbC5BcHBlYWxJZCwgUGFnZUluZGV4ID0gMCwgUGFnZVNpemUgPSAyMCB9IikpCgkJCQkjZm9yZWFjaCAoJHJlcG9ydCBpbiAkcmVwb3J0cykKCQkJCSNiZWZvcmVhbGwKCQkJCQk8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIHJlcG9ydGVkIj4KCQkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS1uYW1lIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29udGVudEZsYWdnZWRCeScpPC9zcGFuPgoJCQkJCQk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIj4KCgkJCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJCQkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4KCQkJCSNlYWNoCgkJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+CgkJCQkJCQkJPHNwYW4gY2xhc3M9ImRhdGUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJHJlcG9ydC5DcmVhdGVkRGF0ZSk8L3NwYW4+CgkJCQkJCQkJI2lmICgkcmVwb3J0LkNyZWF0ZWRVc2VyKQoJCQkJCQkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KCQkJCQkJCQkJCSNpZigkcmVwb3J0LkNyZWF0ZWRVc2VyLlByb2ZpbGVVcmwpCgkJCQkJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcmVwb3J0LkNyZWF0ZWRVc2VyLlByb2ZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSI+CgkJCQkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kcmVwb3J0LkNyZWF0ZWRVc2VyLkRpc3BsYXlOYW1lCgkJCQkJCQkJCQkJPC9hPgoJCQkJCQkJCQkJI2Vsc2UKCQkJCQkJCQkJCQk8c3Bhbj48L3NwYW4+JHJlcG9ydC5DcmVhdGVkVXNlci5EaXNwbGF5TmFtZQoJCQkJCQkJCQkJI2VuZAoJCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJI2VuZAoJCQkJCQkJPC9saT4KCQkJCSNhZnRlcmFsbAoJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCSNpZiAoJHJlcG9ydHMuVG90YWxDb3VudCA+IDIwKQoJCQkJCQkJCQkjc2V0ICgkZGlmZmVyZW5jZSA9ICRyZXBvcnRzLlRvdGFsQ291bnQgLSAyMCkKCQkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdBbmRfTW9yZScpLCBkaWZmZXJlbmNlKQoJCQkJCQkJCSNlbmQKCQkJCQkJCTwvbGk+CgkJCQkJCQk8L3VsPgoJCQkJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+CgkJCQkJCTwvc3Bhbj4KCQkJCQkJPC9saT4KCQkJCSNlbmQKCQkJCSNpZiAoJGFwcGVhbC5Db250ZW50LkFwcGxpY2F0aW9uLkNvbnRhaW5lcikKCQkJCQk8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIGNvbnRhaW5lciI+CgkJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtbmFtZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnRlbnRJbkdyb3VwJyk8L3NwYW4+CgkJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtdmFsdWUiPiQhYXBwZWFsLkNvbnRlbnQuQXBwbGljYXRpb24uQ29udGFpbmVyLkh0bWxOYW1lKCdXZWInKTwvc3Bhbj4KCQkJCQk8L2xpPgoJCQkJI2VuZAoKCQkJI2VuZAoJCTwvdWw+CgkJPGRpdiBjbGFzcz0iYXR0cmlidXRlLWxpc3QtZm9vdGVyIj48L2Rpdj4KCgkJIyMgYXBwZWFsIGNvbnRlbnQKCQk8ZGl2IGNsYXNzPSJwb3N0LWNvbnRlbnQgYXBwZWFsIj4KCQkJI2lmICgkYXBwZWFsLkFwcGVhbFN0YXRlID09ICdJbml0aWF0ZWQnKQoJCQkJPHNwYW4gY2xhc3M9Im1lc3NhZ2UiPgoJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSW5pdGlhdGVkTWVzc2FnZScpLCAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlQW5kVGltZSgkYXBwZWFsLkFwcGVhbEV4cGlyZXMpKQoJCQkJPC9zcGFuPgoJCQkjZWxzZWlmKCRhcHBlYWwuQXBwZWFsU3RhdGUgPT0gJ0V4cGlyZWQnKQoJCQkJPHNwYW4gY2xhc3M9Im1lc3NhZ2UiPgoJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFeHBpcmVkTWVzc2FnZScpCgkJCQk8L3NwYW4+CgkJCSNlbHNlaWYoJGFwcGVhbC5BcHBlYWxTdGF0ZSA9PSAnQWNjZXB0ZWQnKQoJCQkJPHNwYW4gY2xhc3M9Im1lc3NhZ2UiPgoJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdBY2NlcHRlZE1lc3NhZ2UnKQoJCQkJPC9zcGFuPgoJCQkjZWxzZWlmKCRhcHBlYWwuQXBwZWFsU3RhdGUgPT0gJ1JlamVjdGVkJykKCQkJCTxzcGFuIGNsYXNzPSJtZXNzYWdlIj4KCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnUmVqZWN0ZWRNZXNzYWdlJykKCQkJCTwvc3Bhbj4KCQkJI2VuZAoJCQkjaWYgKCRhcHBlYWwuQXBwZWFsU3RhdGUgIT0gJ0luaXRpYXRlZCcpCgkJCQk8c3BhbiBjbGFzcz0icmVzcG9uc2UgaGVhZGluZyI+CgkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdSZXNwb25zZUhlYWRpbmcnKSwgJGFwcGVhbC5BdXRob3JVc2VyLkRpc3BsYXlOYW1lKQoJCQkJPC9zcGFuPgoJCQkJJGFwcGVhbC5BdXRob3JSZXNwb25zZQoJCQkjZW5kCgkJPC9kaXY+CgoKCQkjaWYoJHNob3VsZEV4cGFuZCkKCgkJCTxoNCBjbGFzcz0icmVwb3J0ZWQtY29udGVudCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1JlcG9ydGVkQ29udGVudCcpPC9oND4KCQkJPGRpdiBjbGFzcz0icG9zdC1jb250ZW50IGNvbnRlbnQiPgoJCQkJI3NldCAoJHRoZWF0ZXJVcmwgPSAkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCdoaWRkZW5jb250ZW50LnZtJykpCgkJCQkjc2V0ICgkdGhlYXRlclVybCA9ICRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJHRoZWF0ZXJVcmwsICJBcHBlYWxJZD0kYXBwZWFsLkFwcGVhbElkIikpCgkJCQk8YSBocmVmPSIjIiBjbGFzcz0idWktdGhlYXRlciIgZGF0YS10aGVhdGVydXJsPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR0aGVhdGVyVXJsKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1ZpZXdQb3N0Jyk8L2E+CgkJCQk8cD4kIWFwcGVhbC5Cb2FyZFJlc3BvbnNlPC9wPgoJCQk8L2Rpdj4KCgkJCSMjIHJlc29sdmVkCgkJCSNpZiAoJGFwcGVhbC5BcHBlYWxTdGF0ZSA9PSAnQWNjZXB0ZWQnIHx8ICRhcHBlYWwuQXBwZWFsU3RhdGUgPT0gJ1JlamVjdGVkJyB8fCAkYXBwZWFsLkFwcGVhbFN0YXRlID09ICdFeHBpcmVkJykKCQkJCTxkaXYgY2xhc3M9ImF0dHJpYnV0ZS1saXN0LWhlYWRlciI+PC9kaXY+CgkJCQk8dWwgY2xhc3M9ImF0dHJpYnV0ZS1saXN0IHJlc3BvbnNlIj4KCQkJCQkjaWYgKCRhcHBlYWwuTW9kaWZpZWRCeVVzZXIpCgkJCQkJCTxsaSBjbGFzcz0iYXR0cmlidXRlLWl0ZW0gcmVzcG9uZGVyIj4KCQkJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtbmFtZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1Jlc3BvbmRlcicpPC9zcGFuPgoJCQkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSI+CgkJCQkJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+CgkJCQkJCQkJCSNpZiAoJGFwcGVhbC5Nb2RpZmllZEJ5VXNlci5Qcm9maWxlVXJsKQoJCQkJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYXBwZWFsLk1vZGlmaWVkQnlVc2VyLlByb2ZpbGVVcmwpIj4KCQkJCQkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRhcHBlYWwuTW9kaWZpZWRCeVVzZXIuQXZhdGFyVXJsLDMyLDMyLCIle2FsdD0kYXBwZWFsLk1vZGlmaWVkQnlVc2VyLkRpc3BsYXlOYW1lLHN0eWxlPSdib3JkZXItd2lkdGg6MDsnfSIpCgkJCQkJCQkJCQk8L2E+CgkJCQkJCQkJCSNlbHNlCgkJCQkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRhcHBlYWwuTW9kaWZpZWRCeVVzZXIuQXZhdGFyVXJsLDMyLDMyLCIle2FsdD0kYXBwZWFsLk1vZGlmaWVkQnlVc2VyLkRpc3BsYXlOYW1lLHN0eWxlPSdib3JkZXItd2lkdGg6MDsnfSIpCgkJCQkJCQkJCSNlbmQKCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CgkJCQkJCQkJCSNpZigkYXBwZWFsLk1vZGlmaWVkQnlVc2VyLlByb2ZpbGVVcmwpCgkJCQkJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhcHBlYWwuTW9kaWZpZWRCeVVzZXIuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4KCQkJCQkJCQkJCQk8c3Bhbj48L3NwYW4+JGFwcGVhbC5Nb2RpZmllZEJ5VXNlci5EaXNwbGF5TmFtZQoJCQkJCQkJCQkJPC9hPgoJCQkJCQkJCQkjZWxzZQoJCQkJCQkJCQkJPHNwYW4+PC9zcGFuPiRhcHBlYWwuTW9kaWZpZWRCeVVzZXIuRGlzcGxheU5hbWUKCQkJCQkJCQkJI2VuZAoJCQkJCQkJCTwvc3Bhbj4KCQkJCQkJCTwvc3Bhbj4KCQkJCQkJPC9saT4KCQkJCQkjZW5kCgkJCQkJPGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSByZXNwb25zZSI+CgkJCQkJCSNpZiAoJGFwcGVhbC5BcHBlYWxTdGF0ZSA9PSAnQWNjZXB0ZWQnKQoJCQkJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS1uYW1lIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQWNjZXB0ZWQnKTwvc3Bhbj4KCQkJCQkJI2Vsc2VpZiAoJGFwcGVhbC5BcHBlYWxTdGF0ZSA9PSdSZWplY3RlZCcpCgkJCQkJCQk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLW5hbWUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdSZWplY3RlZCcpPC9zcGFuPgoJCQkJCQkjZW5kCgkJCQkJCSNpZiAoJGFwcGVhbC5SZXNvbHV0aW9uRGF0ZSkKCQkJCQkJCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtdmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGVBbmRUaW1lKCRhcHBlYWwuUmVzb2x1dGlvbkRhdGUpPC9zcGFuPgoJCQkJCQkjZW5kCgkJCQkJPC9saT4KCQkJCTwvdWw+CgkJCQk8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1mb290ZXIiPjwvZGl2PgoJCQkjIyBzdGlsbCBtYW5pcHVsYXRhYmxlCgkJCSNlbHNlaWYoISRhcHBlYWwuUmVxdWlyZXNNYW51YWxBY3Rpb25Ub0NvcnJlY3RDb250ZW50KQoJCQkJI2lmICgkYXBwZWFsLkNvbnRlbnQuSHRtbE5hbWUoJ1dlYicpIHx8ICRhcHBlYWwuQ29udGVudC5IdG1sRGVzY3JpcHRpb24oJ1dlYicpKQoJCQkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCBmaWVsZC1saXN0IiBzdHlsZT0iZGlzcGxheTpub25lIj4KCQkJCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2PgoJCQkJCQk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPgoJCQkJCQkJPGxlZ2VuZCBjbGFzcz0iZmllbGQtbGlzdC1kZXNjcmlwdGlvbiI+PC9sZWdlbmQ+CgkJCQkJCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPgoJCQkJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBtZW1iZXJzaGlwLXR5cGUiPgoJCQkJCQkJCQk8bGFiZWwgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0JvYXJkUmVzcG9uc2UnKSIgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQm9hcmRSZXNwb25zZUxhYmVsJyk8L2xhYmVsPgoJCQkJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJCQkJCQk8dGV4dGFyZWEgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQm9hcmRSZXNwb25zZScpIj48L3RleHRhcmVhPgoJCQkJCQkJCQk8L3NwYW4+CgkJCQkJCQkJPC9saT4KCQkJCQkJCTwvdWw+CgkJCQkJCTwvZmllbGRzZXQ+CgkJCQkJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWFjdGlvbnMgYmVnaW4iPgoJCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPgoJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCTxhIGhyZWY9IiMiIGNsYXNzPSJiZWdpbi1hY2NlcHQiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQWNjZXB0Jyk8L2E+CgkJCQkJCQk8L2xpPgoJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCTxhIGhyZWY9IiMiIGNsYXNzPSJiZWdpbi1yZWplY3QiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnUmVqZWN0Jyk8L2E+CgkJCQkJCQk8L2xpPgoJCQkJCQk8L3VsPgoJCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtZm9vdGVyIj48L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWFjdGlvbnMgYWNjZXB0IiBzdHlsZT0iZGlzcGxheTpub25lIj4KCQkJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+CgkJCQkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4KCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQk8YSBocmVmPSIjIiBjbGFzcz0iYmFjayI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDYW5jZWwnKTwvYT4KCQkJCQkJCTwvbGk+CgkJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+CgkJCQkJCQkJPGEgaHJlZj0iIyIgY2xhc3M9ImFjY2VwdCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdBY2NlcHQnKTwvYT4KCQkJCQkJCTwvbGk+CgkJCQkJCTwvdWw+CgkJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2PgoJCQkJCTwvZGl2PgoJCQkJCTxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyByZWplY3QiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPgoJCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPgoJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCTxhIGhyZWY9IiMiIGNsYXNzPSJiYWNrIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NhbmNlbCcpPC9hPgoJCQkJCQkJPC9saT4KCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQk8YSBocmVmPSIjIiBjbGFzcz0icmVqZWN0Ij48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1JlamVjdCcpPC9hPgoJCQkJCQkJPC9saT4KCQkJCQkJPC91bD4KCQkJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+CgkJCQkJPC9kaXY+CgkJCQkjZW5kCgkJCSNlbmQKCgkJI2VuZAoKCTwvZGl2PgoKCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtZm9vdGVyIj48L2Rpdj4KPC9saT4K</file>
			<file name="hiddencontent.vm">I3NldCAoJGFwcGVhbElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUd1aWQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdBcHBlYWxJZCcpKSkKCiNzZXQgKCRhcHBlYWwgPSBmYWxzZSkKI3NldCAoJGFwcGVhbCA9ICRjb3JlX3YyX2FidXNlQXBwZWFsLkdldCgkYXBwZWFsSWQpKQojc2V0ICgkY29udGVudCA9IGZhbHNlKQojaWYgKCRhcHBlYWwpCgkjc2V0ICgkY29udGVudCA9ICRhcHBlYWwuQ29udGVudCkKI2VuZAoKI2lmICgkY29udGVudCkKCSNzZXQgKCRuYW1lID0gZmFsc2UpCgkjc2V0ICgkbmFtZSA9ICRjb250ZW50Lkh0bWxOYW1lKCdXZWInKSkKCSNzZXQgKCRkZXNjcmlwdGlvbiA9IGZhbHNlKQoJI3NldCAoJGRlc2NyaXB0aW9uID0gJGNvbnRlbnQuSHRtbERlc2NyaXB0aW9uKCdXZWInKSkKCgkjaWYgKCRuYW1lIHx8ICRkZXNjcmlwdGlvbikKCQkjc2V0ICgkYXV0aG9yID0gZmFsc2UpCgkJI3NldCAoJGF1dGhvciA9ICRjb3JlX3YyX3VzZXIuR2V0KCIle0lkID0gJGNvbnRlbnQuQ3JlYXRlZEJ5VXNlcklkIH0iKSkKCgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIgYXBwZWFsLWhpZGRlbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1JlcG9ydGVkQ29udGVudCcpPC9kaXY+CgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCBhcHBlYWwtaGlkZGVuIj4KCQkJI2lmICgkYXV0aG9yKQoJCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgoJCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPgoJCQkJCQkjaWYgKCRhdXRob3IuUHJvZmlsZVVybCkKCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGF1dGhvci5Qcm9maWxlVXJsKSI+CgkJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkYXV0aG9yLkF2YXRhclVybCwzMiwzMiwiJXthbHQ9JGF1dGhvci5EaXNwbGF5TmFtZSxzdHlsZT0nYm9yZGVyLXdpZHRoOjA7J30iKQoJCQkJCQkJPC9hPgoJCQkJCQkjZWxzZQoJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkYXV0aG9yLkF2YXRhclVybCwzMiwzMiwiJXthbHQ9JGF1dGhvci5EaXNwbGF5TmFtZSxzdHlsZT0nYm9yZGVyLXdpZHRoOjA7J30iKQoJCQkJCQkjZW5kCgkJCQkJPC9zcGFuPgoJCQkJPC9kaXY+CgkJCSNlbmQKCQkJPGg0IGNsYXNzPSJwb3N0LW5hbWUiPgoJCQkJJCFuYW1lCgkJCTwvaDQ+CgkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCI+CgkJCQkkIWRlc2NyaXB0aW9uCgkJCTwvZGl2PgoJCTwvZGl2PgoJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtZm9vdGVyIj48L2Rpdj4KCSNlbHNlCgkJPHNwYW4gY2xhc3M9Im1lc3NhZ2UiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOb0NvbnRlbnQnKTwvc3Bhbj4KCSNlbmQKI2Vsc2UKCTxzcGFuIGNsYXNzPSJtZXNzYWdlIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTm9Db250ZW50Jyk8L3NwYW4+CiNlbmQKCg==</file>
			<file name="load-appeal.vm">I3NldCAoJGFwcGVhbElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUd1aWQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdBcHBlYWxJZCcpKSkKI3NldCAoJGFwcGVhbCA9IGZhbHNlKQojc2V0ICgkc2hvdWxkRXhwYW5kID0gdHJ1ZSkKI3NldCAoJGFwcGVhbCA9ICRjb3JlX3YyX2FidXNlQXBwZWFsLkdldCgkYXBwZWFsSWQpKQoKJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdhcHBlYWwudm0nKQo=</file>
			<file name="load-appeals.vm">I3NldCAoJHBhZ2VkTGlzdFVybCA9IGZhbHNlKQoKI2lmICgkYXBwZWFsKQoJI3NldCAoJGFwcGVhbHMgPSBbJGFwcGVhbF0pCiNlbHNlCgkjc2V0ICgkcGFnZWRMaXN0VXJsID0gJGNvcmVfdjJfd2lkZ2V0LkdldEV4ZWN1dGVkRmlsZVVybCgnbG9hZC1hcHBlYWxzLnZtJykpCgkjc2V0ICgkcGFnZVNpemUgPSAxMCkKCSNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91aS5HZXRDdXJyZW50UGFnZUluZGV4KCkpCgkjc2V0ICgkcmVzdWx0c0ZvdW5kID0gZmFsc2UpCgoJIyMgbG9vcCB0d2ljZSBzbyB3ZSBjYW4gdHJ5IGFnYWluIGlmIHdlIGRvbid0IGZpbmQgcmVzdWx0cyB0aGUgZmlyc3QgdGltZQoJI2ZvcmVhY2goJGkgaW4gWzEuLjJdKQoJCSNpZighJHJlc3VsdHNGb3VuZCkKCQkJI3NldCAoJGFwcGVhbFN0YXRlRmlsdGVyID0gZmFsc2UpCgkJCSNzZXQgKCRhcHBlYWxTdGF0ZUZpbHRlciA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19hcHBlYWxTdGF0ZScpKQoJCQkjaWYgKCEkYXBwZWFsU3RhdGVGaWx0ZXIgJiYgJGRlZmF1bHRBcHBlYWxTdGF0ZSkKCQkJCSNzZXQgKCRhcHBlYWxTdGF0ZUZpbHRlciA9ICRkZWZhdWx0QXBwZWFsU3RhdGUpCgkJCSNlbmQKCgkJCSNzZXQgKCRncm91cEZpbHRlciA9IGZhbHNlKQoJCQkjc2V0ICgkZ3JvdXBGaWx0ZXIgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZ3JvdXBJZCcpKQoJCQkjaWYgKCEkZ3JvdXBGaWx0ZXIgJiYgJGNvbnRhaW5lcklkKQoJCQkJI3NldCAoJGdyb3VwRmlsdGVyID0gJGNvbnRhaW5lcklkKQoJCQkjZW5kCgoJCQkjc2V0ICgkc29ydEJ5ID0gZmFsc2UpCgkJCSNzZXQgKCRzb3J0QnkgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc29ydEJ5JykpCgoJCQkjc2V0ICgkYXBwZWFsTGlzdE9wdGlvbnMgPSAiJXsgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgUGFnZVNpemUgPSAkcGFnZVNpemUgfSIpCgkJCSNpZiAoJGFwcGVhbFN0YXRlRmlsdGVyKQoJCQkJJGFwcGVhbExpc3RPcHRpb25zLkFkZCgnQXBwZWFsU3RhdGUnLCAkYXBwZWFsU3RhdGVGaWx0ZXIpCgkJCSNlbmQKCQkJI2lmICgkZ3JvdXBGaWx0ZXIpCgkJCQkkYXBwZWFsTGlzdE9wdGlvbnMuQWRkKCdDb250YWluZXJJZCcsICRncm91cEZpbHRlcikKCQkJI2VuZAoJCQkjaWYgKCRzb3J0QnkpCgkJCQkkYXBwZWFsTGlzdE9wdGlvbnMuQWRkKCdTb3J0QnknLCAkc29ydEJ5KQoJCQkjZW5kCgoJCQkjc2V0ICgkYXBwZWFscyA9ICRjb3JlX3YyX2FidXNlQXBwZWFsLkxpc3QoJGFwcGVhbExpc3RPcHRpb25zKSkKCQkJCgkJCSNpZiAoJGFwcGVhbHMuQ291bnQgPT0gMCAmJiAkcGFnZUluZGV4ID4gMCkKCQkJCSNzZXQgKCRwYWdlSW5kZXggPSAwKQoJCQkjZW5kCgkJI2VuZAoJI2VuZAojZW5kCgojZm9yZWFjaCAoJGFwcGVhbCBpbiAkYXBwZWFscykKI2JlZm9yZWFsbAoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+CiNlYWNoCgkkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ2FwcGVhbC52bScpCiNhZnRlcmFsbAoJPC91bD4KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2Pgojbm9kYXRhCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+CgkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05vX0FwcGVhbHMnKQoJPC9kaXY+CiNlbmQKCiNpZiAoJHBhZ2VkTGlzdFVybCkKCSRjb3JlX3YyX3VpLlBhZ2VyKCRhcHBlYWxzLlBhZ2VJbmRleCwgJGFwcGVhbHMuUGFnZVNpemUsICRhcHBlYWxzLlRvdGFsQ291bnQsICIleyBQYWdlZENvbnRlbnRVcmwgPSAkcGFnZWRMaXN0VXJsLCBUcmFuc2l0aW9uID0gJ25vbmUnIH0iKQojZW5kCg==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQsIGdsb2JhbCkgewoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9OyB9CgoJdmFyIEFwcGVhbFNlcnZpY2UgPSAoZnVuY3Rpb24oKXsKCQl2YXIgdXBkYXRlQXBwZWFsID0gZnVuY3Rpb24oYXBwZWFsSWQsIHJlYXNvbiwgc3RhdGUsIGNvbXBsZXRlKSB7CgkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wdXQoewoJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvYWJ1c2VhcHBlYWxzL3tBcHBlYWxJZH0uanNvbicsCgkJCQlkYXRhOiB7CgkJCQkJQXBwZWFsSWQ6IGFwcGVhbElkLAoJCQkJCUJvYXJkUmVzcG9uc2U6IHJlYXNvbiwKCQkJCQlBcHBlYWxTdGF0ZTogc3RhdGUKCQkJCX0sCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJCWNvbXBsZXRlKHJlc3BvbnNlKTsKCQkJCX0KCQkJfSkKCQl9OwoJCXJldHVybiB7CgkJCWFjY2VwdDogZnVuY3Rpb24oYXBwZWFsSWQsIHJlYXNvbiwgY29tcGxldGUpIHsKCQkJCXVwZGF0ZUFwcGVhbChhcHBlYWxJZCwgcmVhc29uLCAnQWNjZXB0ZWQnLCBjb21wbGV0ZSk7CgkJCX0sCgkJCXJlamVjdDogZnVuY3Rpb24oYXBwZWFsSWQsIHJlYXNvbiwgY29tcGxldGUpIHsKCQkJCXVwZGF0ZUFwcGVhbChhcHBlYWxJZCwgcmVhc29uLCAnUmVqZWN0ZWQnLCBjb21wbGV0ZSk7CgkJCX0KCQl9Cgl9KSgpOwoKCXZhciBidWlsZENvbnRleHQgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJY29udGV4dC5hcHBlYWxTdGF0ZUZpbHRlciA9ICQoY29udGV4dC5hcHBlYWxTdGF0ZUZpbHRlcik7CgkJaW5pdEdyb3VwU2VsZWN0b3IoY29udGV4dCk7CgkJY29udGV4dC5zb3J0QnkgPSAkKGNvbnRleHQuc29ydEJ5KTsKCQljb250ZXh0LnBhZ2VkQ29udGVudFdyYXBwZXIgPSAkKGNvbnRleHQucGFnZWRDb250ZW50V3JhcHBlcik7CgkJcmV0dXJuIGNvbnRleHQ7Cgl9LAoJYmluZEV2ZW50cyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQljb250ZXh0LmFwcGVhbFN0YXRlRmlsdGVyLmJpbmQoJ2NoYW5nZScsIGZ1bmN0aW9uKCl7IGZpbHRlcihjb250ZXh0KTsgfSk7CgkJY29udGV4dC5ncm91cFNlbGVjdG9yLmJpbmQoJ2dsb3dMb29rVXBUZXh0Qm94Q2hhbmdlJywgZnVuY3Rpb24oKXsgZmlsdGVyKGNvbnRleHQpOyB9KTsKCQljb250ZXh0LnNvcnRCeS5iaW5kKCdjaGFuZ2UnLCBmdW5jdGlvbigpeyBmaWx0ZXIoY29udGV4dCk7IH0pOwoJCWNvbnRleHQucGFnZWRDb250ZW50V3JhcHBlci5kZWxlZ2F0ZSgnYS5iZWdpbi1yZWplY3QnLCAnY2xpY2snLCBmdW5jdGlvbihlKXsKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQl2YXIgYXBwZWFsID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNvbnRlbnQtaXRlbS5hcHBlYWwnKSwKCQkJCWJlZ2luQWN0aW9ucyA9IGFwcGVhbC5maW5kKCcucG9zdC1hY3Rpb25zLmJlZ2luJyksCgkJCQlyZWplY3RBY3Rpb25zID0gYXBwZWFsLmZpbmQoJy5wb3N0LWFjdGlvbnMucmVqZWN0JyksCgkJCQloaWRkZW5Db250ZW50ID0gYXBwZWFsLmZpbmQoJy5wb3N0LWNvbnRlbnQuY29udGVudCcpLAoJCQkJY29udGVudFJlc3BvbnNlID0gYXBwZWFsLmZpbmQoJy5wb3N0LWNvbnRlbnQuZmllbGQtbGlzdCcpOwoJCQloaWRkZW5Db250ZW50LmhpZGUoKTsKCQkJY29udGVudFJlc3BvbnNlLnNob3coKTsKCQkJYmVnaW5BY3Rpb25zLmhpZGUoKTsKCQkJcmVqZWN0QWN0aW9ucy5zaG93KCk7CgkJfSk7CgkJY29udGV4dC5wYWdlZENvbnRlbnRXcmFwcGVyLmRlbGVnYXRlKCdhLmJlZ2luLWFjY2VwdCcsICdjbGljaycsIGZ1bmN0aW9uKGUpewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCXZhciBhcHBlYWwgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY29udGVudC1pdGVtLmFwcGVhbCcpLAoJCQkJYmVnaW5BY3Rpb25zID0gYXBwZWFsLmZpbmQoJy5wb3N0LWFjdGlvbnMuYmVnaW4nKSwKCQkJCWFjY2VwdEFjdGlvbnMgPSBhcHBlYWwuZmluZCgnLnBvc3QtYWN0aW9ucy5hY2NlcHQnKSwKCQkJCWhpZGRlbkNvbnRlbnQgPSBhcHBlYWwuZmluZCgnLnBvc3QtY29udGVudC5jb250ZW50JyksCgkJCQljb250ZW50UmVzcG9uc2UgPSBhcHBlYWwuZmluZCgnLnBvc3QtY29udGVudC5maWVsZC1saXN0Jyk7CgkJCWhpZGRlbkNvbnRlbnQuaGlkZSgpOwoJCQljb250ZW50UmVzcG9uc2Uuc2hvdygpOwoJCQliZWdpbkFjdGlvbnMuaGlkZSgpOwoJCQlhY2NlcHRBY3Rpb25zLnNob3coKTsKCQl9KTsKCQljb250ZXh0LnBhZ2VkQ29udGVudFdyYXBwZXIuZGVsZWdhdGUoJ2EuYmFjaycsICdjbGljaycsIGZ1bmN0aW9uKGUpewoJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCXZhciBhcHBlYWwgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY29udGVudC1pdGVtLmFwcGVhbCcpLAoJCQkJYmVnaW5BY3Rpb25zID0gYXBwZWFsLmZpbmQoJy5wb3N0LWFjdGlvbnMuYmVnaW4nKSwKCQkJCXJlamVjdEFjdGlvbnMgPSBhcHBlYWwuZmluZCgnLnBvc3QtYWN0aW9ucy5yZWplY3QnKSwKCQkJCWFjY2VwdEFjdGlvbnMgPSBhcHBlYWwuZmluZCgnLnBvc3QtYWN0aW9ucy5hY2NlcHQnKSwKCQkJCWhpZGRlbkNvbnRlbnQgPSBhcHBlYWwuZmluZCgnLnBvc3QtY29udGVudC5jb250ZW50JyksCgkJCQljb250ZW50UmVzcG9uc2UgPSBhcHBlYWwuZmluZCgnLnBvc3QtY29udGVudC5maWVsZC1saXN0Jyk7CgkJCWNvbnRlbnRSZXNwb25zZS5oaWRlKCk7CgkJCWFjY2VwdEFjdGlvbnMuaGlkZSgpOwoJCQlyZWplY3RBY3Rpb25zLmhpZGUoKTsKCQkJaGlkZGVuQ29udGVudC5zaG93KCk7CgkJCWJlZ2luQWN0aW9ucy5zaG93KCk7CgkJfSk7CgkJY29udGV4dC5wYWdlZENvbnRlbnRXcmFwcGVyLmRlbGVnYXRlKCdhLnJlamVjdCcsJ2NsaWNrJyxmdW5jdGlvbihlKXsKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQloYW5kbGVSZWplY3QoY29udGV4dCwgJCh0aGlzKS5jbG9zZXN0KCdsaS5hcHBlYWwnKSk7CgkJfSk7CgkJY29udGV4dC5wYWdlZENvbnRlbnRXcmFwcGVyLmRlbGVnYXRlKCdhLmFjY2VwdCcsJ2NsaWNrJyxmdW5jdGlvbihlKXsKCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQloYW5kbGVBY2NlcHQoY29udGV4dCwgJCh0aGlzKS5jbG9zZXN0KCdsaS5hcHBlYWwnKSk7CgkJfSk7CgkJY29udGV4dC5wYWdlZENvbnRlbnRXcmFwcGVyLmRlbGVnYXRlKCdhLmV4cGFuZGVyJywgJ2NsaWNrJywgZnVuY3Rpb24oZSl7CgkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJdmFyIGxpbmsgPSAkKGUudGFyZ2V0KSwKCQkJCWFwcGVhbEl0ZW0gPSBsaW5rLmNsb3Nlc3QoJy5jb250ZW50LWl0ZW0uYXBwZWFsJyk7CgkJCWlmKGFwcGVhbEl0ZW0uaGFzQ2xhc3MoJ2V4cGFuZGVkJykpIHsKCQkJCWFwcGVhbEl0ZW0ucmVtb3ZlQ2xhc3MoJ2V4cGFuZGVkJyk7CgkJCQlyZWNhbGN1bGF0ZVBvc2l0aW9uKGFwcGVhbEl0ZW0ucGFyZW50KCkpOwoJCQl9IGVsc2UgewoJCQkJbG9hZEFwcGVhbChhcHBlYWxJdGVtLmRhdGEoJ2FwcGVhbGlkJyksIGFwcGVhbEl0ZW0sIGNvbnRleHQpOwoJCQl9CgkJfSk7Cgl9LAoJaGFuZGxlUmVqZWN0ID0gZnVuY3Rpb24oY29udGV4dCwgYXBwZWFsTGlzdEl0ZW0pIHsKCQl2YXIgcmVhc29uID0gYXBwZWFsTGlzdEl0ZW0uZmluZCgndGV4dGFyZWEnKTsKCQlyZWFzb24uYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpOwoJCUFwcGVhbFNlcnZpY2UucmVqZWN0KGFwcGVhbExpc3RJdGVtLmRhdGEoJ2FwcGVhbGlkJyksIHJlYXNvbi52YWwoKSwgZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJbG9hZEFwcGVhbChhcHBlYWxMaXN0SXRlbS5kYXRhKCdhcHBlYWxpZCcpLCBhcHBlYWxMaXN0SXRlbSwgY29udGV4dCk7CgkJfSk7Cgl9LAoJaGFuZGxlQWNjZXB0ID0gZnVuY3Rpb24oY29udGV4dCwgYXBwZWFsTGlzdEl0ZW0pIHsKCQl2YXIgcmVhc29uID0gYXBwZWFsTGlzdEl0ZW0uZmluZCgndGV4dGFyZWEnKTsKCQlyZWFzb24uYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpOwoJCUFwcGVhbFNlcnZpY2UuYWNjZXB0KGFwcGVhbExpc3RJdGVtLmRhdGEoJ2FwcGVhbGlkJyksIHJlYXNvbi52YWwoKSwgZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJbG9hZEFwcGVhbChhcHBlYWxMaXN0SXRlbS5kYXRhKCdhcHBlYWxpZCcpLCBhcHBlYWxMaXN0SXRlbSwgY29udGV4dCk7CgkJfSk7Cgl9LAoJbG9hZEFwcGVhbCA9IGZ1bmN0aW9uKGFwcGVhbElkLCBsaSwgY29udGV4dCkgewoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoewoJCQl1cmw6IGNvbnRleHQuc2luZ2xlVXJsLAoJCQlkYXRhOiB7IEFwcGVhbElkOiBhcHBlYWxJZCB9LAoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJdmFyIHVsID0gbGkucGFyZW50KCk7CgkJCQlsaS5yZXBsYWNlV2l0aChyZXNwb25zZSk7CgkJCQlyZWNhbGN1bGF0ZVBvc2l0aW9uKHVsKTsKCQkJfQoJCX0pCgl9LAoJZmlsdGVyID0gZnVuY3Rpb24oY29udGV4dCkgewoJCXZhciBkYXRhID0ge307CgkJaWYoY29udGV4dC5hcHBlYWxTdGF0ZUZpbHRlci52YWwoKS5sZW5ndGggPiAwKSB7CgkJCWRhdGEud19hcHBlYWxTdGF0ZSA9IGNvbnRleHQuYXBwZWFsU3RhdGVGaWx0ZXIudmFsKCk7CgkJfQoJCWlmKGNvbnRleHQuZ3JvdXBTZWxlY3Rvci52YWwoKS5sZW5ndGggPiAwKSB7CgkJCWRhdGEud19ncm91cElkID0gY29udGV4dC5ncm91cFNlbGVjdG9yLnZhbCgpOwoJCX0KCQlpZihjb250ZXh0LnNvcnRCeS52YWwoKS5sZW5ndGggPiAwKSB7CgkJCWRhdGEud19zb3J0QnkgPSBjb250ZXh0LnNvcnRCeS52YWwoKTsKCQl9CgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7CgkJCXVybDogY29udGV4dC5saXN0VXJsLAoJCQlkYXRhOiBkYXRhLAoJCQlzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsKCQkJCWNvbnRleHQucGFnZWRDb250ZW50V3JhcHBlci5odG1sKHJlc3BvbnNlKTsKCQkJfQoJCX0pOwoJfSwKCXNwaW5uZXIgPSAnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+PGltZyBzcmM9IicgKyAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAndXRpbGl0eS9zcGlubmVyLmdpZiIgLz48L2Rpdj4nLAoJc2VhcmNoR3JvdXBzID0gZnVuY3Rpb24oY29udGV4dCwgdGV4dGJveCwgc2VhcmNoVGV4dCkgewoJCWlmKHNlYXJjaFRleHQgJiYgc2VhcmNoVGV4dC5sZW5ndGggPj0gMikgewoKCQkJdGV4dGJveC5nbG93TG9va1VwVGV4dEJveCgndXBkYXRlU3VnZ2VzdGlvbnMnLCBbCgkJCQl0ZXh0Ym94Lmdsb3dMb29rVXBUZXh0Qm94KCdjcmVhdGVMb29rVXAnLCAnJywgc3Bpbm5lciwgc3Bpbm5lciwgZmFsc2UpCgkJCV0pOwoKCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7CgkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ncm91cHMuanNvbicsCgkJCQlkYXRhOiB7CgkJCQkJR3JvdXBOYW1lRmlsdGVyOiBzZWFyY2hUZXh0LAoJCQkJCVBlcm1pc3Npb246ICdHcm91cF9SZXZpZXdBYnVzZUFwcGVhbHMnCgkJCQl9LAoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQlpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuR3JvdXBzLmxlbmd0aCA+PSAxKSB7CgkJCQkJCXRleHRib3guZ2xvd0xvb2tVcFRleHRCb3goJ3VwZGF0ZVN1Z2dlc3Rpb25zJywKCQkJCQkJCSQubWFwKHJlc3BvbnNlLkdyb3VwcywgZnVuY3Rpb24oZ3JvdXAsIGkpIHsKCQkJCQkJCQlyZXR1cm4gdGV4dGJveC5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywgZ3JvdXAuQ29udGFpbmVySWQsIGdyb3VwLk5hbWUsIGdyb3VwLk5hbWUsIHRydWUpOwoJCQkJCQkJfSkpOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXRleHRib3guZ2xvd0xvb2tVcFRleHRCb3goJ3VwZGF0ZVN1Z2dlc3Rpb25zJywgWwoJCQkJCQkJdGV4dGJveC5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywgJycsIGNvbnRleHQubm9Hcm91cHNNYXRjaFRleHQsIGNvbnRleHQubm9Hcm91cHNNYXRjaFRleHQsIGZhbHNlKQoJCQkJCQldKTsKCQkJCQl9CgkJCQl9CgkJCX0pOwoJCX0KCX0sCglpbml0R3JvdXBTZWxlY3RvciA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQljb250ZXh0Lmdyb3VwU2VsZWN0b3IKCQkJLmdsb3dMb29rVXBUZXh0Qm94KHsKCQkJCWRlbGltaXRlcjogJywnLAoJCQkJYWxsb3dEdXBsaWNhdGVzOiB0cnVlLAoJCQkJbWF4VmFsdWVzOiAxLAoJCQkJb25HZXRMb29rVXBzOiBmdW5jdGlvbih0Yiwgc2VhcmNoVGV4dCkgewoJCQkJCXNlYXJjaEdyb3Vwcyhjb250ZXh0LCB0Yiwgc2VhcmNoVGV4dCk7CgkJCQl9LAoJCQkJZW1wdHlIdG1sOiAnJywKCQkJCXNlbGVjdGVkTG9va1Vwc0h0bWw6IFtdLAoJCQkJZGVsZXRlSW1hZ2VVcmw6ICcnfSk7CgoJCWlmKGNvbnRleHQuZGVmYXVsdEdyb3VwTmFtZSAmJiBjb250ZXh0LmRlZmF1bHRHcm91cElkKSB7CgkJCWNvbnRleHQuZ3JvdXBTZWxlY3Rvci5nbG93TG9va1VwVGV4dEJveCgnYWRkJywKCQkJCWNvbnRleHQuZ3JvdXBTZWxlY3Rvci5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywKCQkJCQljb250ZXh0LmRlZmF1bHRHcm91cElkLAoJCQkJCWNvbnRleHQuZGVmYXVsdEdyb3VwTmFtZSwKCQkJCQljb250ZXh0LmRlZmF1bHRHcm91cE5hbWUsCgkJCQkJdHJ1ZSkpOwoJCX0KCX0sCglyZWNhbGN1bGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKHVsRWxlbSkgewoJCWlmICgkLmJyb3dzZXIubXNpZSAmJiAkLmJyb3dzZXIudmVyc2lvbiA9PSAnNy4wJykgewoJCQkkLmVhY2godWxFbGVtLmNoaWxkcmVuKCdsaScpLCBmdW5jdGlvbihpLCBuKSB7CgkJCQkkKG4pLmNzcygnZGlzcGxheScsICdibG9jaycpOwoJCQkJJChuKS5jc3MoJ2Rpc3BsYXknLCAnaW5saW5lLWJsb2NrJyk7CgkJCX0pOwoJCX0KCX07CgoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuYXBwZWFsUXVldWUgPSB7CgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJY29udGV4dCA9IGJ1aWxkQ29udGV4dChjb250ZXh0KTsKCQkJYmluZEV2ZW50cyhjb250ZXh0KTsKCQl9Cgl9Owp9KGpRdWVyeSwgd2luZG93KSk7Cg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BlogArchiveList_Name}" version="7.5.0.32466" description="${resource:Blogs_BlogArchiveList_Description}" instanceIdentifier="957f4b146dab4c47af2abc060f6bcbfe" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="blog-archive-list">
		<contentScript>

#set ($blogId = $core_v2_blog.Current.Id)
#set ($blogPostSummaries = $core_v2_blogPostSummary.List($blogId))

&lt;div class="content-list-header"&gt;&lt;/div&gt;
&lt;div class="content-list-name"&gt;$core_v2_language.GetResource('Weblog_Archive')&lt;/div&gt;
&lt;ul class="content-list"&gt;
#foreach ($summary in $blogPostSummaries)
	&lt;li class="content-item"&gt;
		&lt;a class="internal-link view-post-archive-list" href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.Month($blogId, $summary.Date))"&gt;$core_v2_language.FormatDate($summary.Date, "MMMM yyyy")&lt;/a&gt; ($summary.Count)
	&lt;/li&gt;
#end
&lt;/ul&gt;
&lt;div class="content-list-footer"&gt;&lt;/div&gt;

	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BlogArchiveList_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_BlogArchiveList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_BlogArchiveList_Name">Blog - Monthly Archive List</resource><resource name="Blogs_BlogArchiveList_Description">Displays a list of months of archived blog posts.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Weblog_Archive">Archives</resource></language></languageResources>
		<requiredContext>
			<context id="94b4a7db70934b0abcce06169b6f2272" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BlogBanner_Name}" version="7.5.0.32466" description="${resource:Blogs_BlogBanner_Description}" instanceIdentifier="fc84fcb661ba42f8a3f70cbe360aa02b" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="blog-banner">
		<contentScript>
#set($blog = $core_v2_blog.Current)
#if(!$blog)
	$core_v2_widget.Hide()
#end

&lt;div class="application-banner-header"&gt;&lt;/div&gt;
&lt;div class="application-banner"&gt;
	&lt;h3 class="application-name"&gt;$blog.Name&lt;/h3&gt;
	&lt;div class="application-description"&gt;
		$!blog.Description
	&lt;/div&gt;
	&lt;div class="application-banner-actions"&gt;
		&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
		&lt;ul class="navigation-list"&gt;
			#if ($blog &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_blog.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($blog.ContentId, $core_v2_blog.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($blog.ContentId, $core_v2_blog.ContentTypeId))
				&lt;li class="navigation-item favorite-on"&gt;$core_v2_ui.Bookmark($blog.ContentId, $core_v2_blog.ContentTypeId)&lt;/li&gt;
			#end

			#set($url = false)
			#set($url = $core_v2_blogUrls.Rss($blog.Id))
			#if ($url)
				&lt;li class="navigation-item rss"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_Rss')&lt;/a&gt;&lt;/li&gt;
			#end

			#set($url = false)
			#set($url = $core_v2_blogUrls.AddBlogPost($blog.Id))
			#if ($url)
				&lt;li class="navigation-item add-post"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link add-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Blog_Edit_CreatePost')&lt;/a&gt;&lt;/li&gt;
			#end
		&lt;/ul&gt;
		&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="application-banner-footer"&gt;&lt;/div&gt;
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BlogBanner_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_BlogBanner_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_BlogBanner_Name">Blog - Banner</resource><resource name="Blogs_BlogBanner_Description">Displays a banner of common blog information and links.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Weblog_Link_Rss">RSS for posts</resource><resource name="Blog_Edit_CreatePost">New Post</resource></language></languageResources>
		<requiredContext>
			<context id="94b4a7db70934b0abcce06169b6f2272" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BlogBreadCrumbs_Name}" version="7.5.0.32466" description="${resource:Blogs_BlogBreadCrumbs_Description}" instanceIdentifier="1522833937c0489fa9efa022396fbfb9" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="blog-bread-crumbs">
		<contentScript>
#set($page = $core_v2_blogUrls.Current)

&lt;div class="breadcrumb-list-header"&gt;&lt;/div&gt;
&lt;div class="breadcrumb-list"&gt;
	&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Home())" class="internal-link view-home"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Home")&lt;/a&gt;&lt;/span&gt;

	#foreach($group in $core_v2_group.CurrentGroupPath)
	#each
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($group.Url)" class="internal-link view-group"&gt;&lt;span&gt;&lt;/span&gt;$group.Name&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($core_v2_blog.Current)
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.Blog($core_v2_blog.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_blog.Current.Name&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($core_v2_blogPost.Current)
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.BlogPost($core_v2_blogPost.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_blogPost.Current.Title&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($page == "Day")
		#set($date = $core_v2_utility.ParseDate($core_v2_page.GetQueryStringValue('y'), $core_v2_page.GetQueryStringValue('m'), $core_v2_page.GetQueryStringValue('d')))
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.Day($core_v2_blog.Current.Id, $date))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_encoding.HtmlEncode($date.ToString("MMMM, yyyy"))&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Month")
		#set($date = $core_v2_utility.ParseDate($core_v2_page.GetQueryStringValue('y'), $core_v2_page.GetQueryStringValue('m'), $core_v2_page.GetQueryStringValue('d')))
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.Month($core_v2_blog.Current.Id, $date))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_encoding.HtmlEncode($date.ToString("MMMM, yyyy"))&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "AddBlog")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.AddBlog($core_v2_blog.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("CF_CreateBlog")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Contact")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.Contact($core_v2_blog.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Contact")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "About")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.About($core_v2_blog.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Blogs_AboutBlog_Title_About") $core_v2_blog.Current.Name&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "LinkList")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.LinkList($core_v2_blog.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Weblog_Link_Links")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "CustomPage")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.CustomPage($core_v2_blog.Current.Id, $core_v2_customPage.Current.Name))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_widget.ApplyTokens($core_v2_customPage.Current.Title)&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Tags")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.Tags($core_v2_blog.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("TagBreadCrumb_Root")&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_tags.Current &amp;&amp; $core_v2_tags.Current.Count &gt; 0)
			#set($index = 0)
			#foreach($tag in $core_v2_tags.Current)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.Tags($core_v2_blog.Current.Id, $core_v2_utility.Slice($core_v2_tags.Current, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$tag&lt;/a&gt;&lt;/span&gt;
			#end
		#end
	#end
&lt;/div&gt;
&lt;div class="breadcrumb-list-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BlogBreadCrumbs_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_BlogBreadCrumbs_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_BlogBreadCrumbs_Name">Blog - Breadcrumbs</resource><resource name="Blogs_BlogBreadCrumbs_Description">Displays bread crumb links for blog pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Home">Home</resource><resource name="BreadCrumb_Seperator"> &amp;raquo; </resource><resource name="CF_CreateBlog">Create Blog</resource><resource name="Contact">Contact</resource><resource name="Blogs_AboutBlog_Title_About">About</resource><resource name="Weblog_Link_Links">Links</resource><resource name="TagBreadCrumb_Root">All Tags</resource></language></languageResources>
		<requiredContext>
			<context id="a4e1c4b7f9ce44eeb558d06fcc50c2cc" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BlogFeedbackList_Name}" version="7.5.0.32466" description="${resource:Blogs_BlogFeedbackList_Description}" instanceIdentifier="0782ea3dec88461ea2c2c7fca58aeed2" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="blog-feedback-list">
		<contentScript>

#set ($blogId = false)
#set ($blogId = $core_v2_blog.Current.Id)
#set ($blogPostId = false)
#set ($blogPostId = $core_v2_blogPost.Current.id)

#if(!$blogId || !$blogPostId)
	$core_v2_widget.Hide()
#end

$core_v2_ui.PagedContent('load.vm')

#registerEndOfPageHtml('telligent.evolution.widgets.blogFeedbackList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end

#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.blogFeedbackList.register({
			wrapper:jQuery('#$core_v2_ui.PagedContentWrapperElementId'),
			baseUrl:'$core_v2_encoding.JavascriptEncode($core_v2_page.Url)',
			loadCommentsUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('load.vm'))',
			deleteVerificationText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Weblog_Comment_DeleteVerify"))',
			errorText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_CommentForm_PublishError'))',
			loadingText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_CommentForm_Publishing'))',
			blogId: $blogId,
			blogPostId: $blogPostId,
			pagedMessage: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PagedContentPagedEvent)',
			pageIndexQueryStringKey: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PageIndexQueryStringKey)'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end

	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BlogFeedbackList_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_BlogFeedbackList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="weblogRssComments" resourceName="Weblog_Link_Rss_AllComments" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="pageSize" resourceName="CF_Comment_PageSize" dataType="int" defaultValue="15"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_BlogFeedbackList_Name">Blog - Comment List</resource><resource name="Blogs_BlogFeedbackList_Description">Displays a list comments for a blog post.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Weblog_Link_Rss_AllComments">RSS for comments</resource><resource name="CF_Comment_PageSize">Number of comments to display per page</resource><resource name="Weblog_Comment_DeleteVerify">Are you sure you want to delete this comment?</resource><resource name="Weblog_CommentForm_PublishError">There was an error saving your comment.</resource><resource name="Weblog_CommentForm_Publishing">Publishing</resource><resource name="Comments">Comments</resource><resource name="Delete">Delete</resource></language></languageResources>
		<requiredContext>
			<context id="24fa6951ab1244f5be3df20cc46b361b" />
		</requiredContext>
		<files>
			<file name="load.vm">I3NldCAoJHdlYmxvZ1Jzc0NvbW1lbnRzID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnd2VibG9nUnNzQ29tbWVudHMnLCB0cnVlKSkKI3NldCAoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdwYWdlU2l6ZScsIDE1KSkKI3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3VpLkdldEN1cnJlbnRQYWdlSW5kZXgoKSkKI3NldCAoJGJsb2dJZCA9ICRjb3JlX3YyX2Jsb2cuQ3VycmVudC5JZCkKI3NldCAoJHBvc3RJZCA9ICRjb3JlX3YyX2Jsb2dQb3N0LkN1cnJlbnQuSWQpCiNzZXQgKCRwb3N0QXV0aG9ySWQgPSAkY29yZV92Ml9ibG9nUG9zdC5DdXJyZW50LkF1dGhvci5JZCkKI3NldCAoJGNvbW1lbnRzID0gJGNvcmVfdjJfYmxvZ0NvbW1lbnQuTGlzdCgkcG9zdElkLCAiJXtQYWdlU2l6ZT0kcGFnZVNpemUsUGFnZUluZGV4PSRwYWdlSW5kZXh9IikpCiNzZXQgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkID0gJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpKQoKI2ZvcmVhY2goJGNvbW1lbnQgaW4gJGNvbW1lbnRzKQojYmVmb3JlYWxsCgk8YSBuYW1lPSJjb21tZW50cyI+PC9hPgoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+Cgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtbmFtZSI+CgkJI3NldCAoJHJzc1VybCA9IGZhbHNlKQoJCSNzZXQgKCRyc3NVcmwgPSAkY29yZV92Ml9ibG9nVXJscy5CbG9nUG9zdENvbW1lbnRzUnNzKCRwb3N0SWQpKQoJCSNpZiAoJHdlYmxvZ1Jzc0NvbW1lbnRzICYmICRyc3NVcmwpCgkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHJzcyIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcnNzVXJsKSI+CgkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNvbW1lbnRzIikKCQkJPC9hPgoJCSNlbHNlCgkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDb21tZW50cyIpCgkJI2VuZAoJPC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+CiNlYWNoCgkjc2V0KCRJc0Fub255bW91cyA9IHRydWUpCgkjc2V0KCRJc0Fub255bW91cyA9ICEkY29yZV92Ml9Vc2VyLklzUmVnaXN0ZXJlZCgkY29tbWVudC5BdXRob3IuSWQpKQoJI2lmICgkcG9zdEF1dGhvcklkID09ICRjb21tZW50LkF1dGhvci5JZCkKCQk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSB1c2VyLWlzLWF1dGhvciIgZGF0YS1jb21tZW50aWQ9IiRjb21tZW50LklkIj4KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LW91dGVyIGZpamktZnVsbC1wb3N0LW91dGVyIHVzZXItaXMtYXV0aG9yIj4gPCEtLSBjaGVjayBvbiB0aGlzIC0tPgoJCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWhlYWRlciB1c2VyLWlzLWF1dGhvciI+CgkJCQkJPGRpdiBjbGFzcz0iciBmaWppLXIiPjwvZGl2PgoJCQkJPC9kaXY+CgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QgdXNlci1pcy1hdXRob3IiPgoJI2Vsc2UKCQk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1jb21tZW50aWQ9IiRjb21tZW50LklkIj4KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LW91dGVyIGZpamktZnVsbC1wb3N0LW91dGVyIj4KCQkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1oZWFkZXIiPgoJCQkJCTxkaXYgY2xhc3M9InIgZmlqaS1yIj48L2Rpdj4KCQkJCTwvZGl2PgoJCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0Ij4KCSNlbmQKCQkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaW5uZXIgZmlqaS1mdWxsLXBvc3QtaW5uZXIiPgoJCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+CgkJCQkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4KCQkJCQkJCQkjaWYoJGNvbW1lbnQuQXV0aG9yLlByb2ZpbGVVcmwpCgkJCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvbW1lbnQuQXV0aG9yLlByb2ZpbGVVcmwpIj4KCQkJCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGNvbW1lbnQuQXV0aG9yLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JGNvbW1lbnQuQXV0aG9yLkRpc3BsYXlOYW1lfSIpCgkJCQkJCQkJCTwvYT4KCQkJCQkJCQkjZWxzZQoJCQkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRjb21tZW50LkF1dGhvci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7Ym9yZGVyPScwJywgYWx0PSRjb21tZW50LkF1dGhvci5EaXNwbGF5TmFtZX0iKQoJCQkJCQkJCSNlbmQKCQkJCQkJCTwvc3Bhbj4KCQkJCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPgoJCQkJCQkJCSNpZigkY29tbWVudC5BdXRob3IuUHJvZmlsZVVybCkKCQkJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29tbWVudC5BdXRob3IuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4KCQkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29tbWVudC5BdXRob3IuRGlzcGxheU5hbWUKCQkJCQkJCQkJPC9hPgoJCQkJCQkJCSNlbHNlCgkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29tbWVudC5BdXRob3IuRGlzcGxheU5hbWUKCQkJCQkJCQkjZW5kCgkJCQkJCQk8L3NwYW4+CgkJCQkJCTwvZGl2PgoJCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWRhdGUiPgoJCQkJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlQW5kVGltZSgkY29tbWVudC5QdWJsaXNoZWREYXRlKTwvc3Bhbj4KCQkJCQkJPC9kaXY+CgkJCQkJICAgIDxkaXYgY2xhc3M9InBvc3QtbW9kZXJhdGUiPgoJCQkJCSAgICAgICAgI2lmICgkYWNjZXNzaW5nVXNlcklzUmVnaXN0ZXJlZCkKCQkJCQkJCQkjc2V0ICgkbW9kZXJhdGVPcHRpb25zID0gIiV7fSIpCgkJCQkJCQkJI2lmKCRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgiYmxvZ3MiLCAkYmxvZ0lkLCAiQmxvZ19EZWxldGVDb21tZW50IikuSXNBbGxvd2VkKQoJCQkJCQkJCQkjc2V0ICgkRFEgPSAnIicpCgkJCQkJCQkJCSRtb2RlcmF0ZU9wdGlvbnMuQWRkKCdBZGRpdGlvbmFsTGlua3MnLCJbeyR7RFF9aHJlZiR7RFF9OiR7RFF9IyR7RFF9LCR7RFF9dGV4dCR7RFF9OiR7RFF9JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdEZWxldGUnKX0ke0RRfSwke0RRfWNsYXNzTmFtZSR7RFF9OiR7RFF9ZGVsZXRlLXBvc3Qke0RRfX1dIikKCQkJCQkJCQkjZW5kCgkJCQkJICAgICAgICAgICAgJGNvcmVfdjJfdWkuTW9kZXJhdGUoJGNvbW1lbnQuQ29tbWVudElkLCAkY29tbWVudC5Db21tZW50Q29udGVudFR5cGVJZCwgJG1vZGVyYXRlT3B0aW9ucykKCQkJCQkgICAgICAgICNlbmQKCQkJCQkgICAgPC9kaXY+CgkJCQkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj4KCQkJCQkJCSRjb21tZW50LkJvZHkKCQkJCQkJPC9kaXY+CgkJCQkJCTxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+CgkJCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJCQkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4KCQkJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBwb3N0LWxpa2UtY291bnQiPgoJCQkJCQkJCQkjaWYgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkKQoJCQkJCQkJCQkJI3NldCAoJGxpa2VGb3JtYXQgPSAne3RvZ2dsZX0gPHNwYW4gY2xhc3M9ImNvdW50Ij48c3BhbiBjbGFzcz0ibGlrZS1pbmRpY2F0b3IgaW5saW5lIj48L3NwYW4+e2NvdW50fTwvc3Bhbj4nKQoJCQkJCQkJCQkjZWxzZQoJCQkJCQkJCQkJI3NldCAoJGxpa2VGb3JtYXQgPSAnPHNwYW4gY2xhc3M9ImNvdW50Ij48c3BhbiBjbGFzcz0ibGlrZS1pbmRpY2F0b3IgaW5saW5lIj48L3NwYW4+e2NvdW50fTwvc3Bhbj4nKQoJCQkJCQkJCQkjZW5kCgkJCQkJICAgICAgICAgICAgCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtdmFsdWUiPiRjb3JlX3YyX3VpLkxpa2UoJGNvbW1lbnQuQ29tbWVudElkLCAkY29tbWVudC5Db21tZW50Q29udGVudFR5cGVJZCwgIiV7IEZvcm1hdCA9ICRsaWtlRm9ybWF0IH0iKTwvc3Bhbj4KCQkJCQkgICAgICAgICAgICA8L2xpPgoJCQkJCQkJPC91bD4KCQkJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2PgoJCQkJCQk8L2Rpdj4KCQkJCQk8L2Rpdj4KCQkJCTwvZGl2PgoJCSNpZiAoJHBvc3RBdXRob3JJZCA9PSAkY29tbWVudC5BdXRob3IuSWQpCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtZm9vdGVyIHVzZXItaXMtYXV0aG9yIj4KCQkJCQk8ZGl2IGNsYXNzPSJyIGZpamktciI+PC9kaXY+CgkJCQk8L2Rpdj4KCQkjZWxzZQoJCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciI+CgkJCQkJPGRpdiBjbGFzcz0iciBmaWppLXIiPjwvZGl2PgoJCQkJPC9kaXY+CgkJI2VuZAoJCQk8L2Rpdj4KCQk8L2xpPgojYWZ0ZXJhbGwKCTwvdWw+Cgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4KI2VuZAoKI3NldCgkYmFzZVVybCA9ICRjb3JlX3YyX3BhZ2UuVXJsKQojc2V0KCRiYXNlVXJsID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2Jhc2VVcmwnKSkKCiRjb3JlX3YyX3VpLlBhZ2VyKCRjb21tZW50cy5QYWdlSW5kZXgsICRjb21tZW50cy5QYWdlU2l6ZSwgJGNvbW1lbnRzLlRvdGFsQ291bnQsICIle1RhcmdldD0nY29tbWVudHMnLEJhc2VVcmw9JGJhc2VVcmwsUGFnZWRDb250ZW50RmlsZT0nbG9hZC52bScsVHJhbnNpdGlvbj0nbm9uZSd9IikK</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpewoKCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQoKCXZhciBlcnJvckh0bWwgPSAnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciI+e0Vycm9yVGV4dH08L2Rpdj4nLAoJCWxvYWRpbmdIdG1sID0gJzxkaXYgY2xhc3M9Im1lc3NhZ2UgbG9hZGluZyI+e0xvYWRpbmdUZXh0fTwvZGl2PicsCgkJbG9hZCA9IGZ1bmN0aW9uKGNvbnRleHQsIHJlYmFzZVBhZ2VyKSB7CgkJCXZhciBkYXRhID0geyB3X2Jhc2VVcmw6IGNvbnRleHQuYmFzZVVybCB9OwoJCQlpZihyZWJhc2VQYWdlcikgewoJCQkJZGF0YVtjb250ZXh0LnBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5XSA9IDE7CgoJCQkJdmFyIGhhc2hEYXRhID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5oYXNoRGF0YSgpOwoJCQkJaGFzaERhdGFbY29udGV4dC5wYWdlSW5kZXhRdWVyeVN0cmluZ0tleV0gPSAxOwoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5oYXNoRGF0YShoYXNoRGF0YSk7CgkJCX0KCQkJc2V0Q29udGVudChjb250ZXh0LCBsb2FkaW5nSHRtbC5yZXBsYWNlKC9ce0xvYWRpbmdUZXh0XH0vZywgY29udGV4dC5sb2FkaW5nVGV4dCkpOwoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsKCQkJCXVybDogY29udGV4dC5sb2FkQ29tbWVudHNVcmwsCgkJCQlkYXRhOiBkYXRhLAoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQlpZihyZXNwb25zZSkgewoJCQkJCQlzZXRDb250ZW50KGNvbnRleHQsIHJlc3BvbnNlKTsKCQkJCQl9CgkJCQl9LAoJCQkJZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5lcnJvclRleHQsCgkJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkgewoJCQkJCXNldENvbnRlbnQoY29udGV4dCwgZXJyb3JIdG1sLnJlcGxhY2UoL1x7RXJyb3JUZXh0XH0vZywgZGVzYykpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWF0dGFjaEhhbmRsZXJzID0gZnVuY3Rpb24oY29udGV4dCkgewoJCQkkKGNvbnRleHQud3JhcHBlcikuYmluZCgnZXZvbHV0aW9uTW9kZXJhdGVMaW5rQ2xpY2tlZCcsZnVuY3Rpb24oZSkgewoJCQkJdmFyIGNvbW1lbnRJZCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jb250ZW50LWl0ZW0nKS5kYXRhKCdjb21tZW50aWQnKTsKCQkJCWRlbGV0ZVBvc3RDb21tZW50KGNvbnRleHQsIGNvbnRleHQuYmxvZ0lkLCBjb250ZXh0LmJsb2dQb3N0SWQsIGNvbW1lbnRJZCwgZSk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoJCX0sCgkJc2V0Q29udGVudCA9IGZ1bmN0aW9uKGNvbnRleHQsIGh0bWwpIHsKCQkJY29udGV4dC53cmFwcGVyLmh0bWwoaHRtbCkuY3NzKCJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsKCQl9LAoJCWRlbGV0ZVBvc3RDb21tZW50ID0gZnVuY3Rpb24oY29udGV4dCwgYmxvZ0lkLCBibG9nUG9zdElkLCBjb21tZW50SWQsIGV2ZW50KSB7CgkJCWlmKGNvbmZpcm0oY29udGV4dC5kZWxldGVWZXJpZmljYXRpb25UZXh0KSkgewoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7CgkJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvYmxvZ3Mve0Jsb2dJZH0vcG9zdHMve0Jsb2dQb3N0SWR9L2NvbW1lbnRzL3tDb21tZW50SWR9Lmpzb24nLAoJCQkJCWRhdGE6IHsKCQkJCQkJQmxvZ0lkOiBibG9nSWQsCgkJCQkJCUJsb2dQb3N0SWQ6IGJsb2dQb3N0SWQsCgkJCQkJCUNvbW1lbnRJZDogY29tbWVudElkCgkJCQkJfSwKCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJCQl2YXIgaXRlbSA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCdsaS5jb250ZW50LWl0ZW0nKTsKCQkJCQkJdmFyIHJlbWFpbmluZ0l0ZW1zID0gJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJ3VsJykuZmluZCgnbGkuY29udGVudC1pdGVtJyk7CgkJCQkJCWl0ZW0uc2xpZGVVcChmdW5jdGlvbigpIHsKCQkJCQkJCWl0ZW0ucmVtb3ZlKCk7CgkJCQkJCQkvLyBpZiB0aGVyZSB3ZXJlIG5vIG1vcmUgY29tbWVudHMsIGhpZGUgdGhlIGNvbW1lbnRzIGxpc3QgYWx0b2dldGhlcgoJCQkJCQkJaWYoY29udGV4dC53cmFwcGVyLmZpbmQoJ2xpJykubGVuZ3RoID09PSAwKSB7CgkJCQkJCQkJY29udGV4dC53cmFwcGVyLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsKCQkJCQkJCX0KCQkJCQkJCWxvYWQoY29udGV4dCwgcmVtYWluaW5nSXRlbXMubGVuZ3RoID09PSAxKQoJCQkJCQl9KTsKCQkJCQl9CgkJCQl9KTsKCQkJfQoJCX07CgoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuYmxvZ0ZlZWRiYWNrTGlzdCA9IHsKCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgewogICAgICAgICAgICBhdHRhY2hIYW5kbGVycyhjb250ZXh0KTsKCgkJCSQoZG9jdW1lbnQpLmJpbmQoJ3RlbGxpZ2VudF9ibG9nc19jb21tZW50cG9zdGVkJywgZnVuY3Rpb24oZSwgbWVzc2FnZSkgewoJCQkJbG9hZChjb250ZXh0KTsKCQkJfSk7CgkJfQoJfTsKCn0pKGpRdWVyeSk7</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BlogLinks_Name}" version="7.5.0.32466" description="${resource:Blogs_BlogLinks_Description}" instanceIdentifier="aa55795b63a949718dea4032197f3507" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="blog-links">
		<contentScript>
#set($links = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('links','Link=weblogCreate&amp;amp;Link=weblogEdit&amp;amp;Link=weblogEditPost&amp;amp;Link=weblogSubscribe&amp;amp;Link=weblogFavorite&amp;amp;Link=weblogRss&amp;amp;Link=weblogManageCustomPages&amp;amp;Link=weblogEditTheme')))
#set($hasLinks = false)
#set($currentGroup = $core_v2_group.Current)
#set($currentBlog = $core_v2_blog.Current)
#set($currentBlogPost = $core_v2_blogPost.Current)
#set($currentBlogComment = $core_v2_blogComment.Current)
#if($currentBlog)
	#set($canCreatePost = $core_v2_nodePermission.Get('blogs',$currentBlog.Id,'Blog_CreatePost').IsAllowed)
#end

&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#foreach($link in $links.Values('Link'))
		#set($url = false)
		#if($link == 'weblogGroupBlogsRss')
			#if ($currentGroup)
				#set($url = $core_v2_blogUrls.GroupAggregateRssBlogsOnly($currentGroup.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_GroupRss')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogAdministration')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.Administration($currentBlog.Id))
			#elseif ($currentGroup)
				#set($url = $core_v2_blogUrls.GroupAggregateAdministration($currentGroup.Id))
			#end
			#if($url)
				&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-application weblog"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_BlogAdministration')&lt;/a&gt;&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'weblogHome')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.Blog($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-application"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Home')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogAbout')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.About($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-user-profile"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_AboutAuthor')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogContact')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.Contact($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-contact"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_Contact')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogFavorite')
			#if ($currentBlog &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_blog.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($currentBlog.ContentId, $core_v2_blog.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($currentBlog.ContentId, $core_v2_blog.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($currentBlog.ContentId, $core_v2_blog.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'weblogPostFavorite')
			#if ($currentBlogPost &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_blogPost.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($currentBlogPost.ContentId, $core_v2_blogPost.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($currentBlogPost.ContentId, $core_v2_blogPost.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($currentBlogPost.ContentId, $core_v2_blogPost.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'weblogPostShare')
			#if ($currentBlogPost)
				#set($url = $core_v2_blogUrls.ShareBlogPost($currentBlogPost.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="#" onclick="Telligent_Modal.Open('$core_v2_encoding.HtmlEncode($core_v2_encoding.JavaScriptEncode($url))',550,300,null); return false;" class="internal-link email-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_PostShare')&lt;/a&gt;&lt;/li&gt;
				#else
					&lt;li class="navigation-item"&gt;&lt;a href="mailto:?subject=$currentBlogPost.Title&amp;body=$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AbsoluteUrl($currentBlogPost.Url))" class="internal-link email-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_PostShare')&lt;/a&gt;&lt;/li&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'weblogEditPost')
			#if ($currentBlogPost &amp;&amp; $currentBlogPost.Title)
				#set($url = $core_v2_blogUrls.EditBlogPost($currentBlogPost.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_EditPost')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogAddPost')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.AddBlogPost($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link add-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Quick_Post')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogSendEmail')
			#if ($currentBlog &amp;&amp; $canCreatePost)
				#set($url = $core_v2_blogUrls.MailingList($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link add-post send-email"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_PostByEmail')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogRss')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.Rss($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_Rss')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogAtom')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.Atom($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_Atom')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogRssComments')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.CommentsRss($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_Rss_AllComments')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogPostRssComments')
			#if ($currentBlogPost)
				#set($url = $core_v2_blogUrls.BlogPostCommentsRss($currentBlogPost.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Link_Rss_Comments')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogSubscribe')
			#if ($currentBlog &amp;&amp; (!$currentBlogPost || !$currentBlogPost.Title))
				## REGISTERED USERS GET STANDARD AJAX SUBSCRIBE/UNSUBSCRIBE LINK
				#if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
					&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('blogSubscribe')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
					#registerEndOfPageHtml()
						&lt;script type="text/javascript"&gt;
						jQuery(function(j){
							j('#$core_v2_widget.UniqueId('blogSubscribe')').evolutionToggleLink({
								onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_Unsubscribe'))',
								offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_Subscribe'))',
								processingHtml: '&lt;span&gt;&lt;/span&gt;...',
								changeState: function(val) {
									j.telligent.evolution.post({
										url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
										data: {type:'blog',subscribe:val,blogId:$currentBlog.Id},
										dataType: 'json',
										success: function(response) { j('#$core_v2_widget.UniqueId('blogSubscribe')').evolutionToggleLink('val', response.subscribe); if (response.warnings &amp;&amp; response.warnings.length &gt; 0) { jQuery.telligent.evolution.notifications.show(response.warnings[0], { type: 'warning' }); } },
										error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('blogSubscribe')').evolutionToggleLink('val', !val); }
									});
								},
								onCssClass: 'internal-link subscription-on',
								offCssClass: 'internal-link subscription-off',
								processingCssClass: 'internal-link processing',
								val: #if($core_v2_blog.IsSubscribed($currentBlog.Id)) true#else false#end
							});
						});
						&lt;/script&gt;
					#end
					#set($hasLinks = true)

				## ANONYMOUS USERS GET AN EMAIL FORM INPUT
				#else
					&lt;li class="navigation-item email-subscription"&gt;
						&lt;div class="field-list-header email-subscription-form"&gt;&lt;/div&gt;
						&lt;fieldset class="field-list email-subscription-form"&gt;
							&lt;ul class="field-list"&gt;
								&lt;li class="field-item"&gt;
                  &lt;span class="field-item-icon"&gt;&lt;/span&gt;
									&lt;span class="field-item-description"&gt;&lt;/span&gt;
									&lt;span class="field-item-input"&gt;
										&lt;input id="$core_v2_widget.UniqueId('blogSubscribeEmail')" name="blogSubscribeEmail" type="text" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Weblog_Subscription_EmailAddress'))" id="" title="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Weblog_Subscription_EmailAddress_Tooltip'))" onfocus="if(this.defaultValue==this.value) this.value='';" onblur="if(this.value=='') this.value=this.defaultValue;" /&gt;
										&lt;span class="field-item-validation"&gt;&lt;/span&gt;
										&lt;a id="$core_v2_widget.UniqueId('blogSubscribe')"	href="#"&gt;$core_v2_language.GetResource('Weblog_Subscription_Subscribe')&lt;/a&gt;
										#registerEndOfPageHtml()
											&lt;script type="text/javascript"&gt;
											jQuery(function(j){
												j('#$core_v2_widget.UniqueId('blogSubscribe')').evolutionValidation({
													validateOnLoad: false,
													onSuccessfulClick: function(e) {
														j.telligent.evolution.post({
															url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
															data: {
																type:'blogAnonymous',
																email:j('#$core_v2_widget.UniqueId('blogSubscribeEmail')').val(),
																blogId:$currentBlog.Id
															},
															success: function(response) {
																j(e.target)
																	.hide()
																	.siblings('input')
																	.hide()
																	.closest('li')
																	.find('span.field-item-description')
																	.html(response.message);
															},
															error: function(xhr, desc, ex) {
																j(e.target)
																	.hide()
																	.siblings('input')
																	.hide()
																	.closest('li')
																	.find('span.field-item-description')
																	.html(desc);
															}
														});
													}
												}).evolutionValidation('addCustomValidation', 'email', function() {
													var email = j('#$core_v2_widget.UniqueId('blogSubscribeEmail')').val();
													return !!email &amp;&amp; email != '$core_v2_language.GetResource('Weblog_Subscription_EmailAddress')';
												}, '$core_v2_language.GetResource('Weblog_Subscription_NoEmailErrorMessage')', j('#$core_v2_widget.UniqueId('blogSubscribeEmail')').next(), null);
												#if ($core_v2_utility.ParseBool($core_v2_page.GetQueryStringValue('sub')) == true)
													j.telligent.evolution.notifications.show('$core_v2_language.GetResource("Weblog_Subscription_SuccessMessage")', {type: 'success', duration: 10000});
												#end
											});
											&lt;/script&gt;
										#end
									&lt;/span&gt;
								&lt;/li&gt;
							&lt;/ul&gt;
						&lt;/fieldset&gt;
						&lt;div class="field-list-footer email-subscription"&gt;&lt;/div&gt;
					&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogPostSubscribe')
			#if ($currentBlogPost &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
				&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('blogPostSubscribe')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					jQuery(function(j){
						j('#$core_v2_widget.UniqueId('blogPostSubscribe')').evolutionToggleLink({
							onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Blog_PostQuestionAnswerView_StopFollowing'))',
							offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Blog_PostQuestionAnswerView_FollowThisQuestion'))',
							processingHtml: '&lt;span&gt;&lt;/span&gt;...',
							changeState: function(val) {
								j.telligent.evolution.post({
									url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
									data: {type:'blogPost',subscribe:val,blogPostId:$currentBlogPost.Id},
									dataType: 'json',
									success: function(response) { j('#$core_v2_widget.UniqueId('blogPostSubscribe')').evolutionToggleLink('val', response.subscribe); if (response.warnings &amp;&amp; response.warnings.length &gt; 0) { jQuery.telligent.evolution.notifications.show(response.warnings[0], { type: 'warning' }); } },
									error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('blogPostSubscribe')').evolutionToggleLink('val', !val); }
								});
							},
							onCssClass: 'internal-link subscription-on',
							offCssClass: 'internal-link subscription-off',
							processingCssClass: 'internal-link processing',
							val: #if($core_v2_blogPost.IsSubscribed($currentBlogPost.Id)) true#else false#end
						});
					});
					&lt;/script&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'weblogQuickEdit')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.ControlPanel($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-control-panel"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_Quick_Manage')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogManageCustomPages')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.CustomPages($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link manage-pages weblog"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Blogs_BlogLinks_ManageCustomPages')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogEditTheme')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.EditTheme($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-theme"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Blogs_BlogLinks_EditTheme')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogEdit')
			#if ($currentBlog)
				#set($url = $core_v2_blogUrls.EditBlog($currentBlog.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-application weblog"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Blogs_BlogLinks_EditSettings')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'weblogCreate')
			#if ($currentGroup)
				#set($url = $core_v2_blogUrls.AddBlog($currentGroup.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link add-application weblog"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_BlogCreate')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#end
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
#if($hasLinks == false)
	$core_v2_widget.Hide()
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BlogLinks_Title_Options}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_BlogLinks_Title_Options}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="links" resourceName="Blogs_BlogLinks_Links" dataType="custom" defaultValue="Link=weblogCreate&amp;amp;Link=weblogEdit&amp;amp;Link=weblogEditPost&amp;amp;Link=weblogSubscribe&amp;amp;Link=weblogFavorite&amp;amp;Link=weblogRss&amp;amp;Link=weblogManageCustomPages&amp;amp;Link=weblogEditTheme" controlType="Telligent.Evolution.Controls.SortableListControl, Telligent.Evolution.Controls" height="300" key="Link" &gt;
		&lt;propertyValue value="weblogGroupBlogsRss" resourceName="Weblog_Link_GroupRss_Config" /&gt;
		&lt;propertyValue value="weblogAdministration" resourceName="Weblog_Link_BlogAdministration" /&gt;
		&lt;propertyValue value="weblogHome" resourceName="Home" /&gt;
		&lt;propertyValue value="weblogAbout" resourceName="Weblog_Link_AboutAuthor" /&gt;
		&lt;propertyValue value="weblogContact" resourceName="Weblog_Link_Contact" /&gt;
		&lt;propertyValue value="weblogFavorite" resourceName="Weblog_Link_Favorite" /&gt;
		&lt;propertyValue value="weblogPostFavorite" resourceName="Weblog_Link_FavoritePost" /&gt;
		&lt;propertyValue value="weblogPostShare" resourceName="Weblog_Link_PostShare" /&gt;
		&lt;propertyValue value="weblogEditPost" resourceName="Weblog_Link_EditPost" /&gt;
		&lt;propertyValue value="weblogAddPost" resourceName="Weblog_Quick_Post" /&gt;
		&lt;propertyValue value="weblogSendEmail" resourceName="Weblog_Link_PostByEmail" /&gt;
		&lt;propertyValue value="weblogRss" resourceName="Weblog_Link_Rss" /&gt;
		&lt;propertyValue value="weblogAtom" resourceName="Weblog_Link_Atom" /&gt;
		&lt;propertyValue value="weblogRssComments" resourceName="Weblog_Link_Rss_AllComments" /&gt;
		&lt;propertyValue value="weblogPostRssComments" resourceName="Weblog_Link_Rss_Comments" /&gt;
		&lt;propertyValue value="weblogSubscribe" resourceName="Weblog_Link_EmailSubscriptions" /&gt;
		&lt;propertyValue value="weblogPostSubscribe" resourceName="Weblog_Link_EmailPostSubscriptions" /&gt;
		&lt;propertyValue value="weblogQuickEdit" resourceName="Weblog_Quick_Manage" /&gt;
		&lt;propertyValue value="weblogManageCustomPages" resourceName="Weblog_Link_ManageCustomPages" /&gt;
		&lt;propertyValue value="weblogEditTheme" resourceName="Blogs_BlogLinks_EditTheme" /&gt;
		&lt;propertyValue value="weblogEdit" resourceName="Weblog_Link_ControlPanel" /&gt;
		&lt;propertyValue value="weblogCreate" resourceName="CF_CreateBlog" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_BlogLinks_Name">Blog - Links</resource><resource name="Blogs_BlogLinks_Description">Displays links used to view recent blog activity or browse all blogs.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Blogs_BlogLinks_Links">Select, rearrange, and enable the links to be displayed</resource><resource name="Weblog_Link_GroupRss_Config">Subscribe via RSS (all blogs in group)</resource><resource name="Weblog_Link_BlogAdministration">Blog administration</resource><resource name="Home">Home</resource><resource name="Weblog_Link_AboutAuthor">About</resource><resource name="Weblog_Link_Contact">Contact blog author</resource><resource name="Weblog_Link_Favorite">Bookmark this blog</resource><resource name="Weblog_Link_FavoritePost">Bookmark this post</resource><resource name="Weblog_Link_PostShare">Share this</resource><resource name="Weblog_Link_EditPost">Edit this post</resource><resource name="Weblog_Quick_Post">Write a blog post</resource><resource name="Weblog_Link_PostByEmail">New post by email</resource><resource name="Weblog_Link_Rss">RSS</resource><resource name="Weblog_Link_Atom">Atom</resource><resource name="Weblog_Link_Rss_AllComments">RSS for comments</resource><resource name="Weblog_Link_Rss_Comments">RSS for post comments</resource><resource name="Weblog_Link_EmailSubscriptions">Email subscriptions for blog</resource><resource name="Weblog_Link_EmailPostSubscriptions">Email subscriptions for post</resource><resource name="Weblog_Quick_Manage">My blog dashboard</resource><resource name="Weblog_Link_ManageCustomPages">Manage pages</resource><resource name="Blogs_BlogLinks_EditTheme">Edit blog theme</resource><resource name="Weblog_Link_ControlPanel">Control panel</resource><resource name="CF_CreateBlog">Create new blog</resource><resource name="Weblog_Link_GroupRss">RSS</resource><resource name="Weblog_Unsubscribe">Blog notifications are on</resource><resource name="Weblog_Subscribe">Blog notifications are off</resource><resource name="Weblog_Subscription_EmailAddress">Subscribe w/ Email Address</resource><resource name="Weblog_Subscription_EmailAddress_Tooltip">Enter your email address</resource><resource name="Weblog_Subscription_Subscribe">OK</resource><resource name="Weblog_Subscription_NoEmailErrorMessage">*</resource><resource name="Blog_PostQuestionAnswerView_StopFollowing">Comment notifications are on</resource><resource name="Blog_PostQuestionAnswerView_FollowThisQuestion">Comment notifications are off</resource><resource name="Blogs_BlogLinks_ManageCustomPages">Manage pages</resource><resource name="Blogs_BlogLinks_EditSettings">Blog settings</resource><resource name="CF_BlogCreate">Create new blog</resource><resource name="Weblog_Subscription_YourSubscribed">Thanks for subscribing, you will receive a confirmation email shortly.</resource><resource name="Weblog_Subscription_AlreadySubscribed">You're already subscribed, please check your email for a confirmation email.</resource><resource name="Weblog_Subscription_AlreadyConfirmed">You will receive email notifications when this blog is updated.</resource><resource name="Weblog_Subscription_SuccessMessage">You have successfully subscribed to receive email updates for this blog.</resource><resource name="Blogs_BlogLinks_Title_Options">Options</resource></language></languageResources>
		<files>
			<file name="subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJHR5cGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgndHlwZScpKQoJI3NldCgkc3Vic2NyaWJlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUJvb2woJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3N1YnNjcmliZScpKSkKCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQoJI3NldCgkcmVzcG9uc2UgPSBmYWxzZSkKCgkjaWYgKCR0eXBlID09ICdibG9nJykKCQkjc2V0KCRyZXNwb25zZSA9ICRjb3JlX3YyX2Jsb2cuU2V0U3Vic2NyaWJlZCgkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdibG9nSWQnKSksICRzdWJzY3JpYmUpKQoJCSNpZiAoJHJlc3BvbnNlICYmICRyZXNwb25zZS5FcnJvcnMuQ291bnQgPiAwKQoJCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJHJlc3BvbnNlLkVycm9ycykKCQkjZW5kCgkJeyJzdWJzY3JpYmUiOiNpZigkc3Vic2NyaWJlKSB0cnVlI2Vsc2UgZmFsc2UjZW5kLCJ3YXJuaW5ncyI6WwoJCQkjZm9yZWFjaCAoJHdhcm5pbmcgaW4gJHJlc3BvbnNlLldhcm5pbmdzKQoJCQkJI2VhY2gKCQkJCQkiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkd2FybmluZy5NZXNzYWdlKSIKCQkJCSNiZXR3ZWVuCgkJCQkJLAoJCQkjZW5kCgkJXX0KCSNlbHNlaWYgKCR0eXBlID09ICdibG9nQW5vbnltb3VzJykKCQkjc2V0KCRibG9nSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdibG9nSWQnKSkpCgkJI3NldCgkZW1haWwgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZW1haWwnKSkKCQkjc2V0KCRzdWJzY3JpcHRpb25SZXNwb25zZSA9ICRjb3JlX3YyX2Jsb2cuU3Vic2NyaWJlQW5vbnltb3VzbHkoJGJsb2dJZCwgJGVtYWlsKSkKCgkJI2lmKCRzdWJzY3JpcHRpb25SZXNwb25zZSA9PSAnU3Vic2NyaWJlZCcpCgkJCSNzZXQoJG1lc3NhZ2UgPSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnV2VibG9nX1N1YnNjcmlwdGlvbl9Zb3VyU3Vic2NyaWJlZCcpKQoJCSNlbHNlaWYoJHN1YnNjcmlwdGlvblJlc3BvbnNlID09ICdBbHJlYWR5U3Vic2NyaWJlZCcpCgkJCSNzZXQoJG1lc3NhZ2UgPSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnV2VibG9nX1N1YnNjcmlwdGlvbl9BbHJlYWR5U3Vic2NyaWJlZCcpKQoJCSNlbHNlaWYoJHN1YnNjcmlwdGlvblJlc3BvbnNlID09ICdBbHJlYWR5Q29uZmlybWVkJykKCQkJI3NldCgkbWVzc2FnZSA9ICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdXZWJsb2dfU3Vic2NyaXB0aW9uX0FscmVhZHlDb25maXJtZWQnKSkKCQkjZWxzZQoJCQkjc2V0KCRtZXNzYWdlID0gJ1N1YnNjcmlwdGlvbiBlcnJvcicpCgkJI2VuZAoKCQl7Im1lc3NhZ2UiOiIkbWVzc2FnZSJ9CgkjZWxzZWlmICgkdHlwZSA9PSAnYmxvZ1Bvc3QnKQoJCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfYmxvZ1Bvc3QuU2V0U3Vic2NyaWJlZCgkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdibG9nUG9zdElkJykpLCAkc3Vic2NyaWJlKSkKCQkjaWYgKCRyZXNwb25zZSAmJiAkcmVzcG9uc2UuRXJyb3JzLkNvdW50ID4gMCkKCQkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRyZXNwb25zZS5FcnJvcnMpCgkJI2VuZAoJCXsic3Vic2NyaWJlIjojaWYoJHN1YnNjcmliZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZCwid2FybmluZ3MiOlsKCQkJI2ZvcmVhY2ggKCR3YXJuaW5nIGluICRyZXNwb25zZS5XYXJuaW5ncykKCQkJCSNlYWNoCgkJCQkJIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHdhcm5pbmcuTWVzc2FnZSkiCgkJCQkjYmV0d2VlbgoJCQkJCSwKCQkJI2VuZAoJCV19CgkjZWxzZQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigiVW5yZWNvZ25pemVkIHN1YnNjcmlwdGlvbiB0eXBlLiIpCgkjZW5kCiNlbmQ=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BlogPost_Name}" version="7.5.0.32466" description="${resource:Blogs_BlogPost_Description}" instanceIdentifier="e65a4dae629e4c0fbf16a5e79923f0ed" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="blog-post">
		<contentScript>
#set($post = false)
#set($post = $core_v2_blogPost.Current)
#if(!$post)
    $core_v2_widget.Hide()
#end
#set ($accessingUserIsRegistered = $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
$core_v2_blogPost.IncrementViewCount($post.Id)

&lt;div class="full-post-header"&gt;&lt;/div&gt;
&lt;div class="full-post"&gt;
    &lt;h3 class="post-name"&gt;$post.Title&lt;/h3&gt;
    #if ($core_v2_blogPost.AreRatingsEnabled($post.Id))
        &lt;div class="post-rating"&gt;
            $core_v2_language.GetResource("RateThis")&lt;br /&gt;
            $core_v2_ui.Rate($post.ContentId, $core_v2_blogPost.ContentTypeId)
        &lt;/div&gt;
    #end
    &lt;div class="post-author"&gt;
        &lt;span class="avatar"&gt;
            #if ($post.Author.ProfileUrl)
                &lt;a href="$core_v2_encoding.HtmlAttributeEncode($post.Author.ProfileUrl)"&gt;
                    $core_v2_ui.GetResizedImageHtml($post.Author.AvatarUrl, 32, 32, "%{border='0', alt=$post.Author.DisplayName}")
                &lt;/a&gt;
            #else
                $core_v2_ui.GetResizedImageHtml($post.Author.AvatarUrl, 32, 32, "%{border='0', alt=$post.Author.DisplayName}")
            #end
        &lt;/span&gt;
        &lt;span class="user-name"&gt;
            #if ($post.Author.ProfileUrl)
                &lt;a href="$core_v2_encoding.HtmlAttributeEncode($post.Author.ProfileUrl)" class="internal-link view-user-profile"&gt;
                    &lt;span&gt;&lt;/span&gt;$post.Author.DisplayName
                &lt;/a&gt;
            #else
                &lt;span&gt;&lt;/span&gt;$post.Author.DisplayName
            #end
        &lt;/span&gt;
    &lt;/div&gt;

    &lt;div class="post-date"&gt;
        &lt;span class="value"&gt;
            $core_v2_language.FormatDateAndTime($post.PublishedDate)
        &lt;/span&gt;
    &lt;/div&gt;
    &lt;div class="post-attributes"&gt;
        &lt;div class="attribute-list-header"&gt;&lt;/div&gt;
        &lt;ul class="attribute-list"&gt;
             &lt;li class="attribute-item post-reply-count"&gt;
                &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Comments')&lt;/span&gt;
                &lt;span class="attribute-value"&gt;&lt;a href="#comments" class="internal-link view-replies"&gt;&lt;span&gt;&lt;/span&gt;$post.CommentCount&lt;/a&gt;&lt;/span&gt;
             &lt;/li&gt;
             &lt;li class="attribute-item post-like-count"&gt;
                &lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Likes')&lt;/span&gt;
                &lt;span class="attribute-value"&gt;$core_v2_ui.Like($post.ContentId, $core_v2_blogPost.ContentTypeId, "%{ Format = '{count}' }")&lt;/span&gt;
             &lt;/li&gt;
        &lt;/ul&gt;
        &lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="post-content user-defined-markup"&gt;$post.Body("Web")&lt;/div&gt;
    &lt;div class="post-attachment-viewer"&gt;
        #if ($post.File &amp;&amp; $post.File.FileUrl)
            &lt;div class="post-attachment"&gt;
                &lt;span class="label"&gt;$core_v2_language.GetResource('CreateEditPost_Inline12')&lt;/span&gt;
                &lt;span class="value"&gt;
                    &lt;a href="$core_v2_encoding.HtmlAttributeEncode($post.File.FileUrl)" class="internal-link download-attachment"&gt;
                        &lt;span class="avatar"&gt;$!core_v2_ui.GetPreviewHtml($post.File.FileUrl, "%{Width = 28, Height = 28}")&lt;/span&gt;
                        $post.File.FileName
                    &lt;/a&gt;
                &lt;/span&gt;
            &lt;/div&gt;
        #end
    &lt;/div&gt;
    &lt;div class="post-actions"&gt;
        &lt;div class="navigation-list-header"&gt;&lt;/div&gt;
        &lt;ul class="navigation-list"&gt;
			#if ($core_v2_bookmark.SupportsBookmarks($core_v2_blogPost.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($post.ContentId, $core_v2_blogPost.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($post.ContentId, $core_v2_blogPost.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($post.ContentId, $core_v2_blogPost.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
            &lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AdjustTarget($post.Url, 'comments'))" class="internal-link view-replies"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('Blog_PostQuestionAnswerView_CommentsCountFormatString'), $post.CommentCount.ToString())&lt;/a&gt;&lt;/li&gt;
            #if($post.IsExternal)
                &lt;li class="navigation-item"&gt;
                    $core_v2_language.FormatString($core_v2_language.GetResource('Weblog_ReadMirroredPost'), $core_v2_encoding.HtmlAttributeEncode($post.TitleUrl), $core_v2_language.FormatUrl($post.TitleUrl))
                &lt;/li&gt;
            #end
            #if ($accessingUserIsRegistered)
                &lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('blogPostSubscribe')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
                #registerEndOfPageHtml()
                    &lt;script type="text/javascript"&gt;
                    jQuery(function(j){
                        j('#$core_v2_widget.UniqueId('blogPostSubscribe')').evolutionToggleLink({
                            onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Blog_PostQuestionAnswerView_StopFollowing'))',
                            offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Blog_PostQuestionAnswerView_FollowThisQuestion'))',
                            processingHtml: '&lt;span&gt;&lt;/span&gt;...',
                            changeState: function(val) {
                                j.telligent.evolution.post({
                                    url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
                                    data: {subscribe:val,blogPostId:$post.Id},
                                    dataType: 'json',
                                    success: function(response) { j('#$core_v2_widget.UniqueId('blogPostSubscribe')').evolutionToggleLink('val', response.subscribe); },
                                    error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('blogPostSubscribe')').evolutionToggleLink('val', !val); }
                                });
                            },
                            onCssClass: 'internal-link subscription-on',
                            offCssClass: 'internal-link subscription-off',
                            processingCssClass: 'internal-link processing',
                            val: #if($core_v2_blog.IsSubscribed($currentBlog.Id)) true#else false#end
                        });
                    });
                    &lt;/script&gt;
                #end
            #end
        &lt;/ul&gt;
        &lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
    &lt;/div&gt;
    #if ($post.Tags.Count &gt; 0 || $core_v2_tags.CanAddTags($post.ContentId, $core_v2_blogPost.ContentTypeId))
        &lt;div class="post-tags"&gt;
            #set($tagUrlFormat = $core_v2_page.AbsoluteUrl($core_v2_blogUrls.Tags($post.BlogId, $core_v2_utility.MakeList('TAGNAME')).Replace('TAGNAME','{tag}')))
            $core_v2_ui.Tag($post.ContentId, $core_v2_blogPost.ContentTypeId, "%{UrlFormat=$tagUrlFormat}")
        &lt;/div&gt;
    #end

	#if ($accessingUserIsRegistered)
		#set ($likeFormat = '{toggle} &lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;{count}&lt;/span&gt;')
	#else
		#set ($likeFormat = '&lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;{count}&lt;/span&gt;')
	#end
	&lt;div class="post-like"&gt;
	    $core_v2_ui.Like($post.ContentId, $core_v2_blogPost.ContentTypeId, "%{ Format = $likeFormat }")
	&lt;/div&gt;
    &lt;div class="post-moderate"&gt;
        #if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
            $core_v2_ui.Moderate($post.ContentId, $core_v2_blogPost.ContentTypeId, "%{ CssClass = 'expanded' }")
        #end
    &lt;/div&gt;
&lt;/div&gt;
&lt;div class="full-post-footer"&gt;&lt;/div&gt;
        </contentScript>
		<headerScript>
#set($blog = false)
#set($blog = $core_v2_blog.Current)
#if ($blog)
    &lt;a class="internal-link view-application weblog" href="$core_v2_encoding.HtmlAttributeEncode($blog.Url)"&gt;&lt;span&gt;&lt;/span&gt;$blog.Name&lt;/a&gt;
#else
    $core_v2_language.GetResource('Blogs_BlogPost_Name')
#end
        </headerScript>
		<languageResources><language key="en-us"><resource name="Blogs_BlogPost_Name">Blog - Post</resource><resource name="Blogs_BlogPost_Description">Displays a blog post.</resource><resource name="RateThis">Rate This</resource><resource name="Comments">Comments</resource><resource name="CreateEditPost_Inline12">Attachment:</resource><resource name="Blog_PostQuestionAnswerView_CommentsCountFormatString">&lt;span&gt;&lt;/span&gt;{0} Comments</resource><resource name="Weblog_ReadMirroredPost">Read the complete post at &lt;a href="{0}"&gt;{1}&lt;/a&gt;</resource><resource name="Blog_PostQuestionAnswerView_StopFollowing">Email unsubscribe from comments to this blog post</resource><resource name="Blog_PostQuestionAnswerView_FollowThisQuestion">Email subscribe to comments to this blog post</resource><resource name="Likes">Likes</resource></language></languageResources>
		<requiredContext>
			<context id="24fa6951ab1244f5be3df20cc46b361b" />
		</requiredContext>
		<files>
			<file name="subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJHN1YnNjcmliZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzdWJzY3JpYmUnKSkpCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykKCgkkY29yZV92Ml9ibG9nUG9zdC5TZXRTdWJzY3JpYmVkKCRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2Jsb2dQb3N0SWQnKSksICRzdWJzY3JpYmUpCgl7InN1YnNjcmliZSI6I2lmKCRzdWJzY3JpYmUpIHRydWUjZWxzZSBmYWxzZSNlbmR9CiNlbmQ=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BlogPostCommentForm_Name}" version="7.5.0.32466" description="${resource:Blogs_BlogPostCommentForm_Description}" instanceIdentifier="00def6bf983b470f9fb85e0f9948b9a5" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="blog-post-comment-form">
		<contentScript>

#set ($post = $core_v2_blogPost.Current)
## hide if no post
#if (!$post)
	$core_v2_widget.Hide()
#end

#set ($blog = $core_v2_blog.Current)
#set ($group = $core_v2_group.Get("%{ Id = $post.GroupId }"))
#set ($displayCommentThreshold = $core_v2_widget.GetIntValue('displayCommentThreshold', 0))

## hide when no group
#if (!$group)
	$core_v2_widget.Hide()
#end
## hide if comments are disabled
#if (!$blog.EnableCommentsOverride)
	$core_v2_widget.Hide()
#end
## hide if the post is external
#if ($post.IsExternal)
	$core_v2_widget.Hide()
#end
## hide the post if comments aren't enabled on the post
#if ($post.IsLocked)
	$core_v2_widget.Hide()
#end
## hide if no permission
#set($canCreateComment = $core_v2_nodePermission.Get('blogs',$blog.Id,'Blog_CreateComment').IsAllowed)
#if (!$canCreateComment)
	$core_v2_widget.Hide()
#end
## support comment count threshholds when configured with a non-zero value
#if ($displayCommentThreshold != 0 &amp;&amp; $post.CommentCount &lt; $displayCommentThreshold)
	$core_v2_widget.Hide()
#end

&lt;div id="$core_v2_widget.UniqueId('successMessage')" class="message success"&gt;
	$core_v2_language.GetResource('CF_Comment_SuccessMessage') &amp;nbsp;
	&lt;a href="#" class="internal-link close-message" title="$core_v2_language.GetResource('Close')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Close')&lt;/a&gt;
&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('moderateMessage')" class="message warning"&gt;
	$core_v2_language.GetResource('CF_Comment_ModeratedMessaage') &amp;nbsp;
	&lt;a href="#" class="internal-link close-message" title="$core_v2_language.GetResource('Close')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Close')&lt;/a&gt;
&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('errorMessage')" class="message error" style="display: none;"&gt;&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('form')"&gt;
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;legend class="field-list-description"&gt;$core_v2_language.GetResource('Weblog_CommentForm_WhatDoYouThink')&lt;/legend&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item post-body"&gt;
				#if (!$core_v2_user.IsRegistered($core_v2_user.Accessing.Id) &amp;&amp; !$canCreateComment)
					&lt;label class="field-item-header" for="post-body"&gt;$core_v2_language.GetResource('Weblog_CommentForm_Comments')&lt;/label&gt;
				#end
				&lt;span class="field-item-input"&gt;
					&lt;textarea id="$core_v2_widget.UniqueId('body')" rows="3" name="$core_v2_widget.UniqueId('body')" style="resize: none; overflow-y: hidden;"&gt;&lt;/textarea&gt;
				&lt;/span&gt;
				&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item post-submit"&gt;
				&lt;span class="field-item-input"&gt;
					&lt;a href="#" onclick="return false;" class="internal-link add-reply submit-button" id="$core_v2_widget.UniqueId('save')"&gt;
						&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Weblog_CommentForm_PostComment')
					&lt;/a&gt;
					&lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
				&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.BlogPostCommentForm')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	jQuery(document).ready(function(j){
		j.telligent.evolution.widgets.blogPostCommentForm.register({
			wrapperId: '$core_v2_widget.WrapperElementId',
			blogId: $blog.Id,
			postId: $post.Id,
			publishErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_CommentForm_PublishError'))',
			publishingText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_CommentForm_Publishing'))',
			publishText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_CommentForm_PostComment'))',
			bodyRequiredText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_CommentForm_EnterCommentWarning'))',
			save: j('#$core_v2_widget.UniqueId('save')'),
			bodySelector: '#$core_v2_widget.UniqueId('body')',
			successMessage: j('#$core_v2_widget.UniqueId('successMessage')'),
			moderateMessage: j('#$core_v2_widget.UniqueId('moderateMessage')'),
			errorMessage: j('#$core_v2_widget.UniqueId('errorMessage')')
		});
	});
	&lt;/script&gt;
#end

			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BlogPostCommentForm_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_BlogPostCommentForm_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="displayCommentThreshold" resourceName="CF_BlogPostCommentForm_DisplayCommentThreshold" dataType="int" defaultValue="0"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="0" maxValue="100" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_BlogPostCommentForm_Name">Blog - Add Comment Form</resource><resource name="Blogs_BlogPostCommentForm_Description">Displays a form used to add comments to a blog post.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_BlogPostCommentForm_DisplayCommentThreshold">Minimum number of comments required to display</resource><resource name="CF_Comment_SuccessMessage">Your comment has been posted.</resource><resource name="Close">Close</resource><resource name="CF_Comment_ModeratedMessaage">Thank you, your comment requires moderation so it may take a while to appear.</resource><resource name="Weblog_CommentForm_WhatDoYouThink">Leave a Comment</resource><resource name="Weblog_CommentForm_Comments">Comment</resource><resource name="Weblog_CommentForm_PostComment">Post</resource><resource name="Weblog_CommentForm_PublishError">There was an error saving your comment.</resource><resource name="Weblog_CommentForm_Publishing">Publishing</resource><resource name="Weblog_CommentForm_EnterCommentWarning">Please enter a comment</resource></language></languageResources>
		<requiredContext>
			<context id="24fa6951ab1244f5be3df20cc46b361b" />
		</requiredContext>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQsIGdsb2JhbCkgew0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciBfc2F2ZSA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJew0KCQljb250ZXh0LnN1Y2Nlc3NNZXNzYWdlLmhpZGUoKTsNCgkJY29udGV4dC5tb2RlcmF0ZU1lc3NhZ2UuaGlkZSgpOw0KCQljb250ZXh0LmVycm9yTWVzc2FnZS5oaWRlKCk7DQoJCXZhciB3ID0gJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCk7DQoNCgkJY29udGV4dC5zYXZlDQoJCQkuaHRtbCgnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LnB1Ymxpc2hpbmdUZXh0KQ0KCQkJLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL2Jsb2dzL3tCbG9nSWR9L3Bvc3RzL3tQb3N0SWR9L2NvbW1lbnRzLmpzb24/SW5jbHVkZUZpZWxkcz1Db21tZW50LklkLENvbW1lbnQuSXNBcHByb3ZlZCcsDQoJCQlkYXRhOiB7DQoJCQkJQm9keTogJChjb250ZXh0LmJvZHlTZWxlY3RvcikuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpLA0KCQkJCUJsb2dJZDogY29udGV4dC5ibG9nSWQsDQoJCQkJUG9zdElkOiBjb250ZXh0LnBvc3RJZA0KCQkJfSwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJJCgnLnByb2Nlc3NpbmcnLCB3KS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7DQoNCgkJCQlpZihyZXNwb25zZS5Db21tZW50LklzQXBwcm92ZWQpIHsNCgkJCQkJY29udGV4dC5zdWNjZXNzTWVzc2FnZS5zbGlkZURvd24oKTsNCgkJCQkJZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNvbnRleHQuc3VjY2Vzc01lc3NhZ2UuZmFkZU91dCgpLnNsaWRlVXAoKTsgfSwgOTk5OSk7DQoJCQkJCSQoZG9jdW1lbnQpLnRyaWdnZXIoJ3RlbGxpZ2VudF9ibG9nc19jb21tZW50cG9zdGVkJywgJycpOw0KCQkJCX0gZWxzZSB7DQoJCQkJCWNvbnRleHQubW9kZXJhdGVNZXNzYWdlLnNsaWRlRG93bigpOw0KCQkJCQlnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHsgY29udGV4dC5tb2RlcmF0ZU1lc3NhZ2UuZmFkZU91dCgpLnNsaWRlVXAoKTsgfSwgOTk5OSk7DQoJCQkJfQ0KDQoJCQkJJChjb250ZXh0LmJvZHlTZWxlY3RvcikuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcsJycpOw0KCQkJCSQoY29udGV4dC5ib2R5U2VsZWN0b3IpLmNoYW5nZSgpOw0KCQkJCWNvbnRleHQuc2F2ZS5ldm9sdXRpb25WYWxpZGF0aW9uKCdyZXNldCcpOw0KCQkJCWNvbnRleHQuc2F2ZS5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQucHVibGlzaFRleHQpLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJfSwNCgkJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KSB7DQoJCQkJJCgnLnByb2Nlc3NpbmcnLCB3KS5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7DQoJCQkJY29udGV4dC5zYXZlLmh0bWwoJzxzcGFuPjwvc3Bhbj4nICsgY29udGV4dC5wdWJsaXNoVGV4dCkucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJY29udGV4dC5lcnJvck1lc3NhZ2UuaHRtbChjb250ZXh0LnB1Ymxpc2hFcnJvclRleHQgKyAnICgnICsgZGVzYyArICcpJykuc2xpZGVEb3duKCk7DQoJCQl9DQoJCX0pOw0KCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5ibG9nUG9zdENvbW1lbnRGb3JtID0gew0KCSAgICByZWdpc3RlcjogZnVuY3Rpb24gKGNvbnRleHQpIHsNCgkgICAgICAgICQoJ3RleHRhcmVhJykuZXZvbHV0aW9uUmVzaXplKCk7DQoNCgkJCWlmIChkb2N1bWVudC5VUkwuaW5kZXhPZignI2FkZGNvbW1lbnQnKSA+PSAwKSB7DQoJCQkJJChjb250ZXh0LmJvZHlTZWxlY3RvcikuZm9jdXMoKTsNCgkJCX0NCg0KCQkJJCgnLmludGVybmFsLWxpbmsuY2xvc2UtbWVzc2FnZScsICQoJyMnICsgY29udGV4dC53cmFwcGVySWQpKS5jbGljayhmdW5jdGlvbigpIHsNCgkJCQkkKHRoaXMpLmJsdXIoKTsNCgkJCQljb250ZXh0LnN1Y2Nlc3NNZXNzYWdlLmZhZGVPdXQoKS5zbGlkZVVwKCk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfSk7DQoNCgkJCXZhciBib2R5ID0gJChjb250ZXh0LmJvZHlTZWxlY3Rvcik7DQoJCQlib2R5Lm9uZSgnZm9jdXMnLCBmdW5jdGlvbigpew0KCQkJCWJvZHkuZXZvbHV0aW9uQ29tcG9zZXIoew0KCQkJCQlwbHVnaW5zOiBbJ21lbnRpb25zJywnaGFzaHRhZ3MnXQ0KCQkJCX0pOw0KCQkJfSk7DQoNCgkJCWNvbnRleHQuc2F2ZQ0KCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCgkJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpDQoJCQkJCXsNCgkJCQkJCWlmIChpc1ZhbGlkKSB7DQoJCQkJCQkJY29udGV4dC5zYXZlLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQljb250ZXh0LnNhdmUuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCQl9DQoJCQkJCX0sDQoJCQkJCW9uU3VjY2Vzc2Z1bENsaWNrOiBmdW5jdGlvbihlKQ0KCQkJCQl7DQoJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCQkkKCcucHJvY2Vzc2luZycsIGNvbnRleHQuc2F2ZS5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsNCgkJCQkJCWNvbnRleHQuc2F2ZS5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJCV9zYXZlKGNvbnRleHQpOw0KCQkJCQl9DQoJCQkJfSkNCgkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLGNvbnRleHQuYm9keVNlbGVjdG9yLCB7DQoJCQkJCXJlcXVpcmVkOiB0cnVlLA0KCQkJCQltYXhsZW5ndGg6IDEwMDAwMDAsDQoJCQkJCW1lc3NhZ2VzOg0KCQkJCQl7DQoJCQkJCQlyZXF1aXJlZDogY29udGV4dC5ib2R5UmVxdWlyZWRUZXh0DQoJCQkJCX0NCgkJCQl9LCAnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgLmZpZWxkLWl0ZW0ucG9zdC1ib2R5IC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsNCgkJfQ0KCX07DQoNCn0pKGpRdWVyeSwgd2luZG93KTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BlogPostList_Name}" version="7.5.0.32466" description="${resource:Blogs_BlogPostList_Description}" instanceIdentifier="dd895400883f4f43beca9fd9376a55b1" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="blog-post-list">
		<contentScript>

#set($viewType = $core_v2_widget.GetStringValue('viewType', 'standard'))
$core_v2_widget.ExecuteFile("view-${viewType}.vm")

#registerEndOfPageHtml('telligent.evolution.widgets.blogPostList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery.telligent.evolution.widgets.blogPostList.register({
		wrapper: "#$core_v2_widget.WrapperElementId",
		listUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('callback-standard-list.vm'))",
		detailUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('callback-standard-detail.vm'))",
		viewType: "$core_v2_encoding.JavascriptEncode($viewType)"
	});
	//]]&gt;
	&lt;/script&gt;
#end

		</contentScript>
		<headerScript>
#set($blogPostNameResource = $core_v2_language.GetResource('Blogs_BlogPostList_Name'))
#set($header = $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BlogPostList_Name}')))
#set($currentBlog = $core_v2_blog.Current)
#set($DQ = '"')
#if($currentBlog &amp;&amp; $header == $blogPostNameResource)
	#set($header = "&lt;a class=${DQ}internal-link view-application weblog${DQ} href=${DQ}${core_v2_encoding.HtmlAttributeEncode($currentBlog.Url)}${DQ}&gt;&lt;span&gt;&lt;/span&gt;${core_v2_encoding.HtmlEncode($currentBlog.Name)}&lt;/a&gt;")
#end
#set($userFilterType = $core_v2_widget.GetStringValue("userQueryType", "all"))
#if($userFilterType == "accessingUser")
	#set($user = $core_v2_user.Accessing)
#elseif($userFilterType == "currentUser")
	#set($user = $core_v2_user.Current)
#end
#if($user &amp;&amp; $core_v2_user.IsRegistered($user.Id))
	#set($header = "${header} &lt;a class=${DQ}internal-link rss${DQ} href=${DQ}${core_v2_encoding.HtmlAttributeEncode($core_v2_blogUrls.UserRss($user.Id))}${DQ}&gt;&lt;span&gt;&lt;/span&gt;${core_v2_encoding.HtmlEncode($core_v2_language.GetResource('Rss'))}&lt;/a&gt;")
#end
$header
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_BlogPostList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="viewType" resourceName="CF_BlogPostList_ViewType" dataType="string" defaultValue="standard" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls"&gt;
		&lt;propertyValue value="standard" resourceName="CF_BlogPostList_StandardView" propertiesToShow="viewDetail,showComments,pageSize" propertiesToHide="pageSizeForExcerptView" /&gt;
		&lt;propertyValue value="simple" resourceName="CF_BlogPostList_SimpleView" propertiesToShow="pageSizeForExcerptView" propertiesToHide="viewDetail,showComments,pageSize" /&gt;
		&lt;propertyValue value="simpleExpanded" resourceName="CF_BlogPostList_SimpleExpandedView" propertiesToShow="showComments,pageSizeForExcerptView" propertiesToHide="viewDetail,pageSize" /&gt;
	&lt;/property&gt;
	&lt;property id="viewDetail" resourceName="CF_BlogPostList_ViewDetail" dataType="string" defaultValue="list"&gt;
		&lt;propertyValue value="list" resourceName="CF_BlogPostList_ListView" /&gt;
		&lt;propertyValue value="detail" resourceName="CF_BlogPostList_DetailView" /&gt;
	&lt;/property&gt;
	&lt;property id="postSortBy" resourceName="CF_BlogPostList_PostSortBy" dataType="string" defaultValue="MostRecent"&gt;
		&lt;propertyValue value="MostRecent" resourceName="CF_BlogPostList_PostSortBy_MostRecent" /&gt;
		&lt;propertyValue value="MostViewed" resourceName="CF_BlogPostList_PostSortBy_MostViewed" /&gt;
		&lt;propertyValue value="MostComments" resourceName="CF_BlogPostList_PostSortBy_MostComments" /&gt;
	&lt;/property&gt;
	&lt;property id="userQueryType" resourceName="CF_BlogPostList_UserQueryType" dataType="string" defaultValue="all"&gt;
		&lt;propertyValue value="all" resourceName="CF_BlogPostList_UserQueryType_All" /&gt;
		&lt;propertyValue value="accessingUser" resourceName="CF_BlogPostList_UserQueryType_Accessing" /&gt;
		&lt;propertyValue value="currentUser" resourceName="CF_BlogPostList_UserQueryType_Current" /&gt;
	&lt;/property&gt;
	&lt;property id="selectedBlogOrGroup" resourceName="CF_Blog_SelectGroupAndBlog" dataType="custom" controlType="Telligent.Evolution.Blogs.Controls.BlogSelectionControl, Telligent.Evolution.Blogs" width="95%" /&gt;
	&lt;property id="tagsToFilter" resourceName="CF_BlogPostList_TagsToFilter" dataType="string" /&gt;
	&lt;property id="showComments" resourceName="CF_BlogPostList_ShowComments" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="excerptSize" resourceName="CF_BlogPostList_ExcerptSize" dataType="int" defaultValue="250" descriptionResourceName="CF_BlogPostList_ExcerptSize_Description"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="10000" /&gt;
	&lt;/property&gt;
	&lt;property id="pageSize" resourceName="CF_BlogPostList_PageSize" dataType="int" defaultValue="25"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="pageSizeForExcerptView" resourceName="CF_BlogPostList_PageSize" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_BlogPostList_Name">Blog - Post List</resource><resource name="Blogs_BlogPostList_Description">Displays a list of blog posts.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_BlogPostList_ViewType">View Type</resource><resource name="CF_BlogPostList_StandardView">Filtered/Paged List</resource><resource name="CF_BlogPostList_SimpleView">Not Filtered/Not Paged List</resource><resource name="CF_BlogPostList_SimpleExpandedView">First Post Excerpt/Not Filtered/Not Paged</resource><resource name="CF_BlogPostList_ViewDetail">View Detail</resource><resource name="CF_BlogPostList_ListView">List View</resource><resource name="CF_BlogPostList_DetailView">Detail View</resource><resource name="CF_BlogPostList_PostSortBy">Sort Posts By</resource><resource name="CF_BlogPostList_PostSortBy_MostRecent">Most Recent</resource><resource name="CF_BlogPostList_PostSortBy_MostViewed">Most Viewed</resource><resource name="CF_BlogPostList_PostSortBy_MostComments">Most Comments</resource><resource name="CF_BlogPostList_UserQueryType">User Query Type</resource><resource name="CF_BlogPostList_UserQueryType_All">All</resource><resource name="CF_BlogPostList_UserQueryType_Accessing">The logged in user</resource><resource name="CF_BlogPostList_UserQueryType_Current">The current user</resource><resource name="CF_Blog_SelectGroupAndBlog">Select group/blog to pull content from</resource><resource name="CF_BlogPostList_TagsToFilter">Tag to filter posts by</resource><resource name="CF_BlogPostList_ShowComments">Show Comment Count</resource><resource name="CF_BlogPostList_ExcerptSize">Excerpt Size</resource><resource name="CF_BlogPostList_PageSize">Number of posts to display</resource><resource name="CF_BlogPostList_ExcerptSize_Description">Enter the maximum number of characters to display for post excerpts.</resource><resource name="Rss">RSS</resource><resource name="Weblog_EntryList_Posted">Posted</resource><resource name="by">by</resource><resource name="Comments">Comments</resource><resource name="Weblog_NoPosts_Created">No blog posts have yet been created.</resource><resource name="Hubs_SortBy">Sort by: </resource><resource name="MostRecent">Most Recent</resource><resource name="MostViews">Most Views</resource><resource name="MostComments">Most Comments</resource><resource name="Weblog_ListView">Excerpt View</resource><resource name="Weblog_DetailView">Full Post View</resource><resource name="Blogs_BlogPostList_Title_News">News</resource><resource name="Blogs_BlogPostList_Title_Popular">Popular</resource><resource name="Blogs_BlogPostList_Title_Activity">Activity</resource><resource name="UserBlogPosts_Header_Leader" /><resource name="UserBlogPosts_Header_Trailer">'s Posts</resource></language></languageResources>
		<files>
			<file name="callback-standard-detail.vm">I3NldCAoJHN0YW5kYXJkVmlldyA9ICdkZXRhaWwnKQojc2V0ICgkdmlld1R5cGUgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfdmlld1R5cGUnKSkKJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCJzdWJ2aWV3LXBlcmZvcm0tcXVlcnkudm0iKQokY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoInN1YnZpZXctcmVuZGVyLXN0YW5kYXJkLnZtIik=</file>
			<file name="callback-standard-list.vm">I3NldCAoJHN0YW5kYXJkVmlldyA9ICJsaXN0IikKI3NldCAoJHZpZXdUeXBlID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3ZpZXdUeXBlJykpCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgic3Vidmlldy1wZXJmb3JtLXF1ZXJ5LnZtIikKJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCJzdWJ2aWV3LXJlbmRlci1zdGFuZGFyZC52bSIp</file>
			<file name="subview-perform-query.vm">IyMgQW5hbHl6ZXMgY29udGV4dCBhbmQgcGVyZm9ybXMgYSBibG9nIHBvc3QgcXVlcnkgYmFzZWQgb24gaXQsCiMjIHJlc3VsdGluZyBpbiBhbiBleHBvc2VkICRwb3N0cyBvYmplY3QgaW4gd2lkZ2V0IHNjb3BlCgojIyB1c2VyIHRvIHF1ZXJ5CiNzZXQgKCR1c2VyID0gZmFsc2UpCiNzZXQoJHVzZXJGaWx0ZXJUeXBlID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCJ1c2VyUXVlcnlUeXBlIiwgImFsbCIpKQojaWYoJHVzZXJGaWx0ZXJUeXBlID09ICJhY2Nlc3NpbmdVc2VyIikKCSNzZXQoJHVzZXIgPSAkY29yZV92Ml91c2VyLkFjY2Vzc2luZykKI2Vsc2VpZigkdXNlckZpbHRlclR5cGUgPT0gImN1cnJlbnRVc2VyIikKCSNzZXQoJHVzZXIgPSAkY29yZV92Ml91c2VyLkN1cnJlbnQpCiNlbmQKCiMjIGJsb2cgcG9zdCBkYXRhIHNvdXJjaW5nCiNzZXQoJHNlbGVjdGVkQmxvZ09yR3JvdXAgPSAkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoInNlbGVjdGVkQmxvZ09yR3JvdXAiLCAiIikpCiNzZXQoJHBhcnNlZEJsb2dPckdyb3VwID0gJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCRzZWxlY3RlZEJsb2dPckdyb3VwKSkKI3NldCgkYmxvZ3MgPSBmYWxzZSkKI3NldCgkYmxvZ3MgPSAkcGFyc2VkQmxvZ09yR3JvdXAuVmFsdWVzKCdCbG9nJykpCiNzZXQoJGdyb3VwID0gZmFsc2UpCiNzZXQoJGdyb3VwID0gJHBhcnNlZEJsb2dPckdyb3VwLlZhbHVlKCdHcm91cCcpKQojc2V0KCRpbmNsdWRlU3ViR3JvdXBzID0gJHBhcnNlZEJsb2dPckdyb3VwLlZhbHVlKCdJbmNsdWRlU3ViR3JvdXBzJykpCiNpZiAoJHNlbGVjdGVkQmxvZ09yR3JvdXAubGVuZ3RoID09IDApCgkjc2V0ICgkaW5jbHVkZVN1Ykdyb3VwcyA9IHRydWUpCiNlbmQKCiNpZiAoISRibG9ncyAmJiAhJGdyb3VwKQoJI2lmICgkY29yZV92Ml9ibG9nLkN1cnJlbnQpCgkJI3NldCgkYmxvZ3MgPSBbJGNvcmVfdjJfYmxvZy5DdXJyZW50LklkXSkKCSNlbHNlaWYoJGNvcmVfdjJfZ3JvdXAuQ3VycmVudCkKCQkjc2V0KCRncm91cCA9ICRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQpCgkjZW5kCiNlbHNlaWYgKCEkYmxvZ3MgJiYgJGdyb3VwID09ICctMScpCgkjc2V0KCRncm91cCA9ICRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQpCiNlbmQKCiNzZXQoJHRhZ3NUb0ZpbHRlciA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgndGFnc1RvRmlsdGVyJywgJycpKQoKIyMgc29ydGluZwojc2V0ICgkcG9zdFNvcnRCeSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnUG9zdFNvcnRCeScpKQojaWYgKCEkcG9zdFNvcnRCeSB8fCAkcG9zdFNvcnRCeS5MZW5ndGggPT0gMCkKCSMjIGlmIG5vdCBwcm92aWRlZCwgdXNlIHRoZSBkZWZhdWx0Cgkjc2V0KCRwb3N0U29ydEJ5ID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdwb3N0U29ydEJ5JywgJ01vc3RSZWNlbnQnKSkKI2VuZAojIyBwYWdpbmcKI3NldCgkcGFnZUluZGV4ID0gJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQojaWYgKCR2aWV3VHlwZSA9PSAnc3RhbmRhcmQnKQoJI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ3BhZ2VTaXplJywgNSkpCiNlbHNlCgkjc2V0KCRwYWdlU2l6ZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRJbnRWYWx1ZSgncGFnZVNpemVGb3JFeGNlcnB0VmlldycsIDUpKQojZW5kCgojIyBiYXNlIGJsb2cgcXVlcnkKI3NldCAoJHF1ZXJ5ID0gIiV7IFBhZ2VTaXplID0gJHBhZ2VTaXplLCBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBTb3J0QnkgPSAkcG9zdFNvcnRCeSwgVGFncyA9ICR0YWdzVG9GaWx0ZXIgfSIpCgojIyBkYXRlIGZpbHRlcmluZwojc2V0ICgkZGF5ID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ2QnKSkpCiNzZXQgKCRtb250aCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdtJykpKQojc2V0ICgkeWVhciA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd5JykpKQojc2V0ICgkbWluRGF0ZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VEYXRlKCcwMDAxLTAxLTAxJykpCiNzZXQgKCRtYXhEYXRlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZURhdGUoJzk5OTktMTItMzEnKSkKI2lmICgkbW9udGggPiAwICYmICRtb250aCA8IDEzICYmICRkYXkgPiAwICYmICRkYXkgPCAzMiAmJiAkeWVhciA+ICRtaW5EYXRlLlllYXIgJiYgJHllYXIgPD0gJG1heERhdGUuWWVhcikKICAgICNzZXQgKCRjdXJyZW50QmxvZ1Bvc3QgPSBmYWxzZSkKICAgICNzZXQgKCRjdXJyZW50QmxvZ1Bvc3QgPSAkY29yZV92Ml9ibG9nUG9zdC5DdXJyZW50KQogICAgI2lmICghJGN1cnJlbnRCbG9nUG9zdCkKICAgICAgICAkcXVlcnkuQWRkKCdEYXRlRmlsdGVyJywgIiR7eWVhcn0tJHttb250aH0tJHtkYXl9IikKICAgICAgICAkcXVlcnkuQWRkKCdEYXRlRmlsdGVyVHlwZScsICdNb250aCcpCiAgICAjZW5kCiNlbmQKCiNzZXQoJG9uZUJsb2cgPSB0cnVlKQoKIyMgUXVlcnkgZm9yIGJsb2cgcG9zdHMKI2lmKCRibG9ncykKCSMjIGdldCBwb3N0cyByZWxhdGVkIHRvIGEgZ3JvdXAgb3IgZ3JvdXBzCgkjIyBjb25zdHJ1Y3QgYSBjb21tYS1zZXBhcmF0ZWQgc3RyaW5nIG9mIGJsb2cgaWRzCgkjZm9yZWFjaCAoJGJsb2cgaW4gJGJsb2dzKQoJCSMjIGlkIG9mIDAgbWVhbnMgdXNlIHRoZSBjdXJyZW50IGJsb2cKCQkjaWYgKCRibG9nID09IDApCgkJCSNzZXQgKCRibG9nID0gJGNvcmVfdjJfYmxvZy5DdXJyZW50LklkKQoJCSNlbmQKCQkjaWYoJGJsb2cgPiAwKQoJCQkjaWYoISRibG9nSWRzKQoJCQkJI3NldCgkYmxvZ0lkcyA9ICIkYmxvZyIpCgkJCSNlbHNlCgkJCQkjc2V0KCRibG9nSWRzID0gIiRibG9nSWRzLCRibG9nIikKCQkJCSNzZXQoJG9uZUJsb2cgPSBmYWxzZSkKCQkJI2VuZAoJCSNlbmQKCSNlbmQKCgkkcXVlcnkuQWRkKCdCbG9nSWRzJywgJGJsb2dJZHMpCiNlbHNlCgkjIyBnZXQgcG9zdHMgcmVsYXRlZCB0byBhIGdyb3VwCgkjaWYoJGdyb3VwID09IDAgfHwgISRncm91cCkKCQkjc2V0KCRncm91cElkID0gJGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCkKCSNlbHNlCgkJI3NldCgkZ3JvdXBJZCA9ICRncm91cCkKCSNlbmQKCgkjc2V0KCRncm91cEJsb2dzID0gJGNvcmVfdjJfYmxvZy5MaXN0KCIle0dyb3VwSWQ9JGdyb3VwSWQsSW5jbHVkZVN1Ykdyb3Vwcz0kaW5jbHVkZVN1Ykdyb3VwcyxQYWdlSW5kZXg9MCxQYWdlU2l6ZT0yfSIpKQoJI2lmKCRncm91cEJsb2dzICYmICRncm91cEJsb2dzLkNvdW50ID4gMSkKCQkjc2V0KCRvbmVCbG9nID0gZmFsc2UpCgkjZW5kCgoJJHF1ZXJ5LkFkZCgnR3JvdXBJZCcsICRncm91cElkKQoJJHF1ZXJ5LkFkZCgnSW5jbHVkZVN1Ykdyb3VwcycsICRpbmNsdWRlU3ViR3JvdXBzKQojZW5kCgojIyB1c2VyIGZpbHRlcmluZwojaWYgKCR1c2VyKQoJJHF1ZXJ5LkFkZCgnQXV0aG9ySWQnLCAkdXNlci5JZCkKI2VuZAoKI3NldCAoJHBvc3RzID0gJGNvcmVfdjJfYmxvZ1Bvc3QuTGlzdCgkcXVlcnkpKQo=</file>
			<file name="subview-render-standard.vm">I3NldCgkc2hvd0NvbW1lbnRzID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgic2hvd0NvbW1lbnRzIiwgdHJ1ZSkpCiNzZXQoJGV4Y2VycHRTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdleGNlcnB0U2l6ZScsIDI1MCkpCgojZm9yZWFjaCgkcG9zdCBpbiAkcG9zdHMpCiNlYWNoCiAgICAjc2V0ICgkYmxvZyA9ICRjb3JlX3YyX2Jsb2cuR2V0KCIleyBJZCA9ICRwb3N0LkJsb2dJZCB9IikpCiAgICAjaWYgKCRibG9nICYmICRibG9nLklkID4gMCkKICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4KICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCI+CgogICAgICAgICAgICAjaWYoJGJsb2cgJiYgISRvbmVCbG9nKQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hcHBsaWNhdGlvbiI+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImxhYmVsIj48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InZhbHVlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctYXBwbGljYXRpb24iIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGJsb2cuVXJsKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+JGJsb2cuTmFtZQogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICNlbmQKCiAgICAgICAgICAgIDxoNCBjbGFzcz0icG9zdC1uYW1lIj4KICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBvc3QuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0Ij4KICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+JHBvc3QuVGl0bGUKICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgPC9oND4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1dlYmxvZ19FbnRyeUxpc3RfUG9zdGVkJyk8L3NwYW4+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdEFnb0RhdGUoJHBvc3QuUHVibGlzaGVkRGF0ZSk8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImV2b2x1dGlvbjItcG9zdC1hdXRob3ItYnkgZmlqaS1wb3N0LWF1dGhvci1ieSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ2J5Jyk8L3NwYW4+CiAgICAgICAgICAgICAgICAjaWYoJHVzZXJGaWx0ZXJUeXBlICE9ICdhbGwnKQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXZhdGFyIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwb3N0LlVybCkiPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHBvc3QuQXV0aG9yLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JHBvc3QuQXV0aG9yLkRpc3BsYXlOYW1lfSIpPC9hPjwvc3Bhbj4KICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkcG9zdC5BdXRob3IuUHJvZmlsZVVybCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwb3N0LkF1dGhvci5Qcm9maWxlVXJsKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHBvc3QuQXV0aG9yLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JHBvc3QuQXV0aG9yLkRpc3BsYXlOYW1lfSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRwb3N0LkF1dGhvci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7Ym9yZGVyPScwJywgYWx0PSRwb3N0LkF1dGhvci5EaXNwbGF5TmFtZX0iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KICAgICAgICAgICAgICAgICAgICAgI2lmICgkcG9zdC5BdXRob3IuUHJvZmlsZVVybCkKICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwb3N0LkF1dGhvci5Qcm9maWxlVXJsKSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPiRwb3N0LkF1dGhvci5EaXNwbGF5TmFtZQogICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAjZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPiRwb3N0LkF1dGhvci5EaXNwbGF5TmFtZQogICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1yYXRpbmciPgogICAgICAgICAgICAgICAgI3NldCAoJHJhdGluZyA9IGZhbHNlKQogICAgICAgICAgICAgICAgI3NldCAoJHJhdGluZyA9ICRjb3JlX3YyX2Jsb2dQb3N0LkdldFJhdGluZygkcG9zdC5JZCkuQXZlcmFnZSkKICAgICAgICAgICAgICAgICNpZiAoJHJhdGluZyAmJiAkY29yZV92Ml9ibG9nUG9zdC5BcmVSYXRpbmdzRW5hYmxlZCgkcG9zdC5JZCkpCiAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuUmF0ZSgkcG9zdC5Db250ZW50SWQsICRjb3JlX3YyX2Jsb2dQb3N0LkNvbnRlbnRUeXBlSWQsICIle1JlYWRPbmx5PSd0cnVlJyxDc3NDbGFzcz0nc21hbGwnfSIpCiAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgI3NldCAoJHNob3dDb21tZW50Q291bnQgPSBmYWxzZSkKICAgICAgICAgICAgI2lmKCRzaG93Q29tbWVudHMgJiYgISRwb3N0LklzRXh0ZXJuYWwgJiYgKCRwb3N0LkNvbW1lbnRDb3VudCA+IDAgfHwgKCRibG9nLkVuYWJsZUNvbW1lbnRzT3ZlcnJpZGUgJiYgISRwb3N0LklzTG9ja2VkKSkpCiAgICAgICAgICAgICAgICAjc2V0ICgkc2hvd0NvbW1lbnRDb3VudCA9IHRydWUpCiAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdHRyaWJ1dGVzIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImF0dHJpYnV0ZS1saXN0LWhlYWRlciI+PC9kaXY+CiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9ImF0dHJpYnV0ZS1saXN0Ij4KICAgICAgICAgICAgICAgICAgICAjc2V0ICgkbGlrZXMgPSBmYWxzZSkKICAgICAgICAgICAgICAgICAgICAjc2V0ICgkbGlrZXMgPSAkY29yZV92Ml9saWtlLkxpc3QoIiV7IENvbnRlbnRJZCA9ICRwb3N0LkNvbnRlbnRJZCwgQ29udGVudFR5cGVJZCA9ICRjb3JlX3YyX2Jsb2dQb3N0LkNvbnRlbnRUeXBlSWQsIFBhZ2VTaXplID0gMSB9IikpCiAgICAgICAgICAgICAgICAgICAgI2lmICgoJHNob3dDb21tZW50Q291bnQgJiYgJHBvc3QuQ29tbWVudENvdW50ID4gMCkgfHwgKCRsaWtlcyAmJiAkbGlrZXMuVG90YWxDb3VudCA+IDApKQogICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIGNvdW50cyI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwb3N0LlVybCkjY29tbWVudHMiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJHNob3dDb21tZW50Q291bnQgJiYgJHBvc3QuQ29tbWVudENvdW50ID4gMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSByZXBseS1jb3VudCI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXZhdGFyIj48L3NwYW4+JHBvc3QuQ29tbWVudENvdW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkbGlrZXMgJiYgJGxpa2VzLlRvdGFsQ291bnQgPiAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIGxpa2UtY291bnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF2YXRhciI+PC9zcGFuPiRjb3JlX3YyX3VpLkxpa2UoJHBvc3QuQ29udGVudElkLCAkY29yZV92Ml9ibG9nUG9zdC5Db250ZW50VHlwZUlkLCAiJXsgRm9ybWF0ID0gJ3tjb3VudH0nIH0iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1mb290ZXIiPjwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICNpZiAoJHN0YW5kYXJkVmlldyA9PSAnbGlzdCcpCiAgICAgICAgICAgICAgICAkY29yZV92Ml9wYWdlLlNldENvb2tpZVZhbHVlKCdCbG9nUG9zdExpc3QtVmlld1R5cGUnLCAnTGlzdCcpCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LXN1bW1hcnkiPgogICAgICAgICAgICAgICAgICAgICNpZigkcG9zdC5FeGNlcnB0ICYmICRwb3N0LkV4Y2VycHQuTGVuZ3RoID4gMCkKICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJHBvc3QuRXhjZXJwdCwgJGV4Y2VycHRTaXplLCAnLi4uJykKICAgICAgICAgICAgICAgICAgICAjZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkcG9zdC5Cb2R5KCdXZWJRdW90ZScpLCAkYmxvZy5Qb3N0U3VtbWFyeUxlbmd0aERlZmF1bHQsICcuLi4nKQogICAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAjZWxzZWlmICgkc3RhbmRhcmRWaWV3ID09ICdkZXRhaWwnKQogICAgICAgICAgICAgICAgJGNvcmVfdjJfcGFnZS5TZXRDb29raWVWYWx1ZSgnQmxvZ1Bvc3RMaXN0LVZpZXdUeXBlJywgJ0RldGFpbCcpCiAgICAgICAgICAgICAgICAkY29yZV92Ml9ibG9nUG9zdC5JbmNyZW1lbnRWaWV3Q291bnQoJHBvc3QuSWQpCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWNvbnRlbnQgdXNlci1kZWZpbmVkLW1hcmt1cCI+JHBvc3QuQm9keSgpPC9kaXY+CiAgICAgICAgICAgICNlbmQKCiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIiPjwvZGl2PgogICAgPC9saT4KICAgICNlbmQKI25vZGF0YQogICAgPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdXZWJsb2dfTm9Qb3N0c19DcmVhdGVkJyk8L2Rpdj4KI2VuZAo=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKCgl2YXIgc2V0dXBMaXN0RGV0YWlsTGlua3MgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJCS8vIGZpbHRlciB2aWV3IGxpbmtzCgkJCSQoIi52aWV3LXR5cGUgc3Bhbi5maWx0ZXItb3B0aW9uIGEiLCBjb250ZXh0LndyYXBwZXIpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oZSl7CgkJCQl2YXIgbGluayA9ICQoZS50YXJnZXQpOwoKCQkJCS8vIHJlbW92ZSBjdXJyZW50ICdzZWxlY3RlZCcgY2xhc3NlcwoJCQkJbGluay5wYXJlbnRzKCdkaXYudmlldy10eXBlJykuZmluZCgnc3BhbicpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOwoJCQkJLy8gYWRkIHNlbGVjdGVkIHRvIGNsaWNrZWQgbGluawoJCQkJbGluay5wYXJlbnQoKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsKCgkJCQkvLyBnZXQgdGhlIHR5cGUgb2YgdmlldyBiZWluZyBzaG93biBmcm9tIHRoZSBjc3MgY2xhc3MgbmFtZQoJCQkJdmFyIGZpbHRlclR5cGUgPSBsaW5rLmF0dHIoJ2NsYXNzJykuc3BsaXQoJyAnKVsxXS5zcGxpdCgnLScpWzFdOwoJCQkJdmFyIHVybCA9ICcnOwoKCQkJCS8vIGRldGVybWluZSB3aGF0IGFqYXggdXJsIGVuZG9pbnQgdG8gdXNlCgkJCQlpZihmaWx0ZXJUeXBlID09PSAnbGlzdCcpIHsKCQkJCQl1cmwgPSBjb250ZXh0Lmxpc3RVcmw7CgkJCQl9IGVsc2UgaWYoZmlsdGVyVHlwZSA9PT0gJ2RldGFpbCcpIHsKCQkJCQl1cmwgPSBjb250ZXh0LmRldGFpbFVybDsKCQkJCX0KCgkJCQkvLyBsb2FkIHRoZSBhamF4IHJlc3BvbnNlIGludG8gdGhlIGxpc3QKCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoewoJCQkJCXVybDogdXJsLAoJCQkJCWRhdGE6IHsgd192aWV3VHlwZTogY29udGV4dC52aWV3VHlwZSB9LAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJCSQoJ3VsLmNvbnRlbnQtbGlzdCcsIGNvbnRleHQud3JhcHBlcikuaHRtbChyZXNwb25zZSk7CgkJCQkJfQoJCQkJfSkKCgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoJCX07CgoJdmFyIGFwaSA9IHsKCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgewoJCQljb250ZXh0LndyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlcik7CgkJCXNldHVwTGlzdERldGFpbExpbmtzKGNvbnRleHQpOwoJCX0KCX07CgoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9OyB9CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5ibG9nUG9zdExpc3QgPSBhcGk7Cgp9KShqUXVlcnkpOwo=</file>
			<file name="view-simple.vm">JGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCJzdWJ2aWV3LXBlcmZvcm0tcXVlcnkudm0iKQoKI2ZvcmVhY2goJHBvc3QgaW4gJHBvc3RzKQojYmVmb3JlYWxsCiAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIHNpbXBsZSI+PC9kaXY+CiAgICA8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCBzaW1wbGUiPgojZWFjaAogICAgICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtIHNpbXBsZSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCI+CiAgICAgICAgICAgICAgICA8aDQgY2xhc3M9InBvc3QtbmFtZSI+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcG9zdC5VcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXBvc3QiPgogICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+JHBvc3QuVGl0bGUKICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICA8L2g0PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdXZWJsb2dfRW50cnlMaXN0X1Bvc3RlZCcpPC9zcGFuPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ2YWx1ZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0QWdvRGF0ZSgkcG9zdC5QdWJsaXNoZWREYXRlKTwvc3Bhbj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJmaWppLXBvc3QtYXV0aG9yLWJ5IGV2b2x1dGlvbjItcG9zdC1hdXRob3ItYnkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdieScpPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICNpZigkdXNlckZpbHRlclR5cGUgIT0gJ2FsbCcpCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBvc3QuVXJsKSI+JGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkcG9zdC5BdXRob3IuQXZhdGFyVXJsLCAzMiwgMzIsICIle2JvcmRlcj0nMCcsIGFsdD0kcG9zdC5BdXRob3IuRGlzcGxheU5hbWV9Iik8L2E+PC9zcGFuPgogICAgICAgICAgICAgICAgICAgICNlbHNlaWYgKCEkY29yZV92Ml91c2VyLklzUmVnaXN0ZXJlZCgkY29yZV92Ml91c2VyLkFjY2Vzc2luZy5JZCkpCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkcG9zdC5BdXRob3IuQXZhdGFyVXJsLCAzMiwgMzIsICIle2JvcmRlcj0nMCcsIGFsdD0kcG9zdC5BdXRob3IuRGlzcGxheU5hbWV9IikKICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRwb3N0LkF1dGhvci5Vc2VybmFtZQogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF2YXRhciI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRwb3N0LkF1dGhvci5Qcm9maWxlVXJsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBvc3QuQXV0aG9yLlByb2ZpbGVVcmwpIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkcG9zdC5BdXRob3IuQXZhdGFyVXJsLCAzMiwgMzIsICIle2JvcmRlcj0nMCcsIGFsdD0kcG9zdC5BdXRob3IuRGlzcGxheU5hbWV9IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHBvc3QuQXV0aG9yLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JHBvc3QuQXV0aG9yLkRpc3BsYXlOYW1lfSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAjZW5kCgogICAgICAgICAgICAgICAgICAgICNpZiAoISRjb3JlX3YyX3VzZXIuSXNSZWdpc3RlcmVkKCRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nLklkKSkKICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcG9zdC5BdXRob3IuVXNlcm5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkcG9zdC5BdXRob3IuUHJvZmlsZVVybCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcG9zdC5BdXRob3IuUHJvZmlsZVVybCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+JHBvc3QuQXV0aG9yLkRpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+JHBvc3QuQXV0aG9yLkRpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICAjc2V0ICgkbGlrZXMgPSBmYWxzZSkKICAgICAgICAgICAgICAgICNzZXQgKCRsaWtlcyA9ICRjb3JlX3YyX2xpa2UuTGlzdCgiJXsgQ29udGVudElkID0gJHBvc3QuQ29udGVudElkLCBDb250ZW50VHlwZUlkID0gJGNvcmVfdjJfYmxvZ1Bvc3QuQ29udGVudFR5cGVJZCwgUGFnZVNpemUgPSAxIH0iKSkKICAgICAgICAgICAgICAgICNpZiAoJHBvc3QuQ29tbWVudENvdW50ID4gMCB8fCAoJGxpa2VzICYmICRsaWtlcy5Ub3RhbENvdW50ID4gMCkpCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBvc3QtY291bnRzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcG9zdC5VcmwpI2NvbW1lbnRzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJHBvc3QuQ29tbWVudENvdW50ID4gMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY291bnQgcmVwbHktY291bnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXZhdGFyIj48L3NwYW4+JHBvc3QuQ29tbWVudENvdW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkbGlrZXMgJiYgJGxpa2VzLlRvdGFsQ291bnQgPiAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjb3VudCBsaWtlLWNvdW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF2YXRhciI+PC9zcGFuPiRjb3JlX3YyX3VpLkxpa2UoJHBvc3QuQ29udGVudElkLCAkY29yZV92Ml9ibG9nUG9zdC5Db250ZW50VHlwZUlkLCAiJXsgRm9ybWF0ID0gJ3tjb3VudH0nIH0iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICNlbmQKCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciI+PC9kaXY+CiAgICAgICAgPC9saT4KI2FmdGVyYWxsCiAgICA8L3VsPgogICAgPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciBzaW1wbGUiPjwvZGl2Pgojbm9kYXRhCiAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1dlYmxvZ19Ob1Bvc3RzX0NyZWF0ZWQnKTwvZGl2PgojZW5kCg==</file>
			<file name="view-simpleExpanded.vm">JGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCJzdWJ2aWV3LXBlcmZvcm0tcXVlcnkudm0iKQojc2V0KCRleGNlcnB0U2l6ZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRJbnRWYWx1ZSgnZXhjZXJwdFNpemUnLCAyNTApKQoKI2ZvcmVhY2goJHBvc3QgaW4gJHBvc3RzKQojYmVmb3JlYWxsCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIHNpbXBsZS1leHBhbmRlZCI+PC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCBzaW1wbGUtZXhwYW5kZWQiPgojZWFjaAoJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4KCQkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPjwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0Ij4KCQkJCSNpZigkdmVsb2NpdHlDb3VudCA9PSAxKQoJCQkJCSNpZigkY29yZV92Ml9ibG9nLkN1cnJlbnQpCgkJCQkJCSNzZXQoJGN1cnJlbnRCbG9nID0gJGNvcmVfdjJfYmxvZy5DdXJyZW50KQoJCQkJCSNlbHNlaWYoJHBvc3QpCgkJCQkJCSNzZXQoJGN1cnJlbnRCbG9nID0gJGNvcmVfdjJfYmxvZy5HZXQoIiV7SWQ9JHBvc3QuQmxvZ0lkfSIpKQoJCQkJCSNlbmQKCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWFwcGxpY2F0aW9uIj4KCQkJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4KCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGN1cnJlbnRCbG9nLlVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctYXBwbGljYXRpb24iPgoJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY3VycmVudEJsb2cuTmFtZQoJCQkJCQkJPC9hPgoJCQkJCQk8L3NwYW4+CgkJCQkJPC9kaXY+CgkJCQkJPGg0IGNsYXNzPSJwb3N0LW5hbWUgZmlqaS1maXJzdCBldm9sdXRpb24yLWZpcnN0Ij4KCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcG9zdC5VcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXBvc3QiPgoJCQkJCQkJPHNwYW4+PC9zcGFuPiRwb3N0LlRpdGxlCgkJCQkJCTwvYT4KCQkJCQk8L2g0PgoJCQkJCTxkaXYgY2xhc3M9InBvc3Qtc3VtbWFyeSI+CgkJCQkJCSNpZigkcG9zdC5FeGNlcnB0ICYmICRwb3N0LkV4Y2VycHQuTGVuZ3RoID4gMCkKCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRwb3N0LkV4Y2VycHQsICRleGNlcnB0U2l6ZSwgJy4uLicpCgkJCQkJCSNlbHNlCgkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkcG9zdC5Cb2R5KCdXZWJRdW90ZScpLCAkY3VycmVudEJsb2cuUG9zdFN1bW1hcnlMZW5ndGhEZWZhdWx0LCAnLi4uJykKCQkJCQkJI2VuZAoJCQkJCTwvZGl2PgoJCQkJI2Vsc2UKCQkJCQk8aDQgY2xhc3M9InBvc3QtbmFtZSI+CgkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBvc3QuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0Ij4KCQkJCQkJCTxzcGFuPjwvc3Bhbj4kcG9zdC5UaXRsZQoJCQkJCQk8L2E+CgkJCQkJPC9oND4KCQkJCSNlbmQKCQkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+CgkJCQkJPHNwYW4gY2xhc3M9ImxhYmVsIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnV2VibG9nX0VudHJ5TGlzdF9Qb3N0ZWQnKTwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0idmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdEFnb0RhdGUoJHBvc3QuUHVibGlzaGVkRGF0ZSk8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4KCQkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KCQkJCQkJPHNwYW4gY2xhc3M9ImZpamktcG9zdC1hdXRob3ItYnkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdieScpPC9zcGFuPgoJCQkJCQkjaWYgKCRwb3N0LkF1dGhvci5Qcm9maWxlVXJsKQoJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBvc3QuQXV0aG9yLlByb2ZpbGVVcmwpIj4KCQkJCQkJCQk8c3Bhbj48L3NwYW4+JHBvc3QuQXV0aG9yLkRpc3BsYXlOYW1lCgkJCQkJCQk8L2E+CgkJCQkJCSNlbHNlCgkJCQkJCQk8c3Bhbj48L3NwYW4+JHBvc3QuQXV0aG9yLkRpc3BsYXlOYW1lCgkJCQkJCSNlbmQKCQkJCQk8L3NwYW4+CgkJCQk8L2Rpdj4KCiAgICAgICAgICAgICAgICAjc2V0ICgkbGlrZXMgPSBmYWxzZSkKICAgICAgICAgICAgICAgICNzZXQgKCRsaWtlcyA9ICRjb3JlX3YyX2xpa2UuTGlzdCgiJXsgQ29udGVudElkID0gJHBvc3QuQ29udGVudElkLCBDb250ZW50VHlwZUlkID0gJGNvcmVfdjJfYmxvZ1Bvc3QuQ29udGVudFR5cGVJZCwgUGFnZVNpemUgPSAxIH0iKSkKICAgICAgICAgICAgICAgICNpZiAoJHBvc3QuQ29tbWVudENvdW50ID4gMCB8fCAoJGxpa2VzICYmICRsaWtlcy5Ub3RhbENvdW50ID4gMCkpCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBvc3QtY291bnRzIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcG9zdC5VcmwpI2NvbW1lbnRzIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJHBvc3QuQ29tbWVudENvdW50ID4gMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY291bnQgcmVwbHktY291bnQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXZhdGFyIj48L3NwYW4+JHBvc3QuQ29tbWVudENvdW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkbGlrZXMgJiYgJGxpa2VzLlRvdGFsQ291bnQgPiAwKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjb3VudCBsaWtlLWNvdW50Ij4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF2YXRhciI+PC9zcGFuPiRjb3JlX3YyX3VpLkxpa2UoJHBvc3QuQ29udGVudElkLCAkY29yZV92Ml9ibG9nUG9zdC5Db250ZW50VHlwZUlkLCAiJXsgRm9ybWF0ID0gJ3tjb3VudH0nIH0iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICNlbmQKCgkJCTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciI+PC9kaXY+CgkJPC9saT4KI2FmdGVyYWxsCgk8L3VsPgoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciBzaW1wbGUtZXhwYW5kZWQiPjwvZGl2Pgojbm9kYXRhCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1dlYmxvZ19Ob1Bvc3RzX0NyZWF0ZWQnKTwvZGl2PgojZW5kCg==</file>
			<file name="view-standard.vm">JGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCJzdWJ2aWV3LXBlcmZvcm0tcXVlcnkudm0iKQoKI3NldCgkcXVlcnlTb3J0QnkgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ1Bvc3RTb3J0QnknKSkKI2lmKCEkcXVlcnlTb3J0QnkpCgkjc2V0KCRxdWVyeVNvcnRCeSA9ICRwb3N0U29ydEJ5KQojZW5kCgojc2V0KCRzdGFuZGFyZFZpZXcgPSAkY29yZV92Ml9sYW5ndWFnZS5Mb3dlcmNhc2UoJGNvcmVfdjJfcGFnZS5HZXRDb29raWVWYWx1ZSgnQmxvZ1Bvc3RMaXN0LVZpZXdUeXBlJykpKQojaWYoISRzdGFuZGFyZFZpZXcgfHwgJHN0YW5kYXJkVmlldy5sZW5ndGggPT0gMCkKCSNzZXQoJHN0YW5kYXJkVmlldyA9ICRjb3JlX3YyX2xhbmd1YWdlLkxvd2VyY2FzZSgkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoJ3ZpZXdEZXRhaWwnLCAnTGlzdCcpKSkKI2VuZAoKPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+CjxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2PgoKPGRpdj4KCTxkaXYgY2xhc3M9ImZpbHRlciI+CgoJCTxkaXYgY2xhc3M9InF1ZXJ5LXR5cGUiPgoJCQk8c3BhbiBjbGFzcz0iZmlsdGVyLWxhYmVsIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19Tb3J0QnknKTwvc3Bhbj4KCQkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24gI2lmKCRxdWVyeVNvcnRCeSA9PSAnTW9zdFJlY2VudCcpIHNlbGVjdGVkICNlbmQiPgoJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAiUG9zdFNvcnRCeT1Nb3N0UmVjZW50JiRjb3JlX3YyX3VpLlBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5PTEiKSkiPgoJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdNb3N0UmVjZW50JykKCQkJCTwvYT4KCQkJPC9zcGFuPgoJCQk8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj58PC9zcGFuPgoJCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiAjaWYoJHF1ZXJ5U29ydEJ5ID09ICdNb3N0Vmlld2VkJykgc2VsZWN0ZWQgI2VuZCI+CgkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJQb3N0U29ydEJ5PU1vc3RWaWV3ZWQmJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSIpKSI+CgkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ01vc3RWaWV3cycpCgkJCQk8L2E+CgkJCTwvc3Bhbj4KCQkJPHNwYW4gY2xhc3M9InNlcGFyYXRvciI+fDwvc3Bhbj4KCQkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24gI2lmKCRxdWVyeVNvcnRCeSA9PSAnTW9zdENvbW1lbnRzJykgc2VsZWN0ZWQgI2VuZCI+CgkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJQb3N0U29ydEJ5PU1vc3RDb21tZW50cyYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xIikpIj4KCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTW9zdENvbW1lbnRzJykKCQkJCTwvYT4KCQkJPC9zcGFuPgoJCTwvZGl2PgoKCQk8ZGl2IGNsYXNzPSJ2aWV3LXR5cGUiPgoJCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiAjaWYoJHN0YW5kYXJkVmlldyA9PSAnbGlzdCcpIHNlbGVjdGVkICNlbmQgIj4KCQkJCTxhIGhyZWY9IiMiIHRpdGxlPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdXZWJsb2dfTGlzdFZpZXcnKSkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctbGlzdCI+CgkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1dlYmxvZ19MaXN0VmlldycpCgkJCQk8L2E+CgkJCTwvc3Bhbj4KCQkJPHNwYW4gY2xhc3M9InNlcGFyYXRvciI+fDwvc3Bhbj4KCQkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24gI2lmKCRzdGFuZGFyZFZpZXcgPT0gJ2RldGFpbCcpIHNlbGVjdGVkICNlbmQgIj4KCQkJCTxhIGhyZWY9IiMiIHRpdGxlPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdXZWJsb2dfRGV0YWlsVmlldycpKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1kZXRhaWwtbGlzdCI+CgkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1dlYmxvZ19EZXRhaWxWaWV3JykKCQkJCTwvYT4KCQkJPC9zcGFuPgoJCTwvZGl2PgoKCTwvZGl2PgoKCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIgc3RhbmRhcmQiPjwvZGl2PgoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3Qgc3RhbmRhcmQiPgoJCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgic3Vidmlldy1yZW5kZXItc3RhbmRhcmQudm0iKQoJPC91bD4KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIgc3RhbmRhcmQiPjwvZGl2PgoKCSRjb3JlX3YyX3VpLlBhZ2VyKCRwb3N0cy5QYWdlSW5kZXgsICRwb3N0cy5QYWdlU2l6ZSwgJHBvc3RzLlRvdGFsQ291bnQpCgo8L2Rpdj4=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BlogTitle_Name}" version="7.5.0.32466" description="${resource:Blogs_BlogTitle_Description}" instanceIdentifier="ab83412b2d074c4ca17fc451ae3ec7f8" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="blog-title">
		<contentScript>
#set($page = $core_v2_blogUrls.Current)
#if($page == 'BlogPost')
	#set($title = $core_v2_blogPost.Current.Title)
#elseif ($page == 'UserBlogs')
	#set($title = $core_v2_language.FormatString($core_v2_language.GetResource('CF_BlogTitle_UsersBlogPosts'), $core_v2_user.Current.DisplayName))
#elseif ($page == 'AddBlog')
	#set($title = $core_v2_language.GetResource('CF_CreateBlog'))
#elseif ($page == 'Day')
	#set($title = $core_v2_language.FormatDate($core_v2_utility.ParseDate($core_v2_page.GetQueryStringValue('y'), $core_v2_page.GetQueryStringValue('m'), $core_v2_page.GetQueryStringValue('d'))))
#elseif ($page == 'Month')
	#set($title = $core_v2_utility.ParseDate( $core_v2_page.GetQueryStringValue("y"), $core_v2_page.GetQueryStringValue("m"), $core_v2_page.GetQueryStringValue('d')).ToString('MMMM, yyyy'))
#elseif ($page == 'Bloggers')
	#set($title = $core_v2_language.GetResource('Blog_Breadcrumbs_Bloggers'))
#elseif ($page == 'Contact')
	#set($title = $core_v2_language.GetResource('Contact'))
#elseif ($page == 'About')
	#set($title = $core_v2_blog.Current.AboutTitle)
#elseif ($page == 'LinkList')
	#set($title = $core_v2_language.GetResource('Weblog_Link_Links'))
#elseif ($page == 'Tags')
	#set($title = $core_v2_language.GetResource('TagBrowser_Title'))
#elseif ($page == 'Search')
	#set($title = $core_v2_language.GetResource('Search'))
#elseif ($page == 'CustomPage')
	#set($title = $core_v2_customPage.Current.Title)
#end
#if ($page == 'Blog')
	$core_v2_page.SetTitle('', true, true)
	&lt;h1 class="title"&gt;$core_v2_blog.Current.Name&lt;/h1&gt;
#elseif ($title)
	$core_v2_page.SetTitle($title, true, true)
	&lt;h1 class="title"&gt;$title&lt;/h1&gt;
#else
	$core_v2_page.SetTitle($core_v2_language.GetResource('Core_ApplicationNavigation_Blogs'), true, true)
	&lt;h1 class="title"&gt;$core_v2_language.GetResource('Core_ApplicationNavigation_Blogs')&lt;/h1&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BlogTitle_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_BlogTitle_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_BlogTitle_Name">Blog - Title</resource><resource name="Blogs_BlogTitle_Description">Displays the title for blog pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_BlogTitle_UsersBlogPosts">{0}'s Blog Posts</resource><resource name="CF_CreateBlog">Create Blog</resource><resource name="Blog_Breadcrumbs_Bloggers">Bloggers</resource><resource name="Contact">Contact</resource><resource name="Weblog_Link_Links">Links</resource><resource name="TagBrowser_Title">Browse by Tags</resource><resource name="Search">Search</resource><resource name="Core_ApplicationNavigation_Blogs">Blogs</resource></language></languageResources>
		<requiredContext>
			<context id="a4e1c4b7f9ce44eeb558d06fcc50c2cc" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_BreadCrumbs_Name}" version="7.5.0.32466" description="${resource:Core_BreadCrumbs_Description}" instanceIdentifier="407bf6e733714e1abdcdff774d10ac98" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="bread-crumbs">
		<contentScript>
#set($page = $core_v2_urls.Current)

&lt;div class="breadcrumb-list-header"&gt;&lt;/div&gt;
&lt;div class="breadcrumb-list"&gt;
	&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Home())" class="internal-link view-home"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Home")&lt;/a&gt;&lt;/span&gt;

	#if ($core_v2_user.Current)
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		#if ($core_v2_user.Current.ProfileUrl)
			&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_user.Current.ProfileUrl)"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_user.Current.DisplayName&lt;/a&gt;&lt;/span&gt;
		#else
			&lt;span class="breadcrumb-item"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_user.Current.DisplayName&lt;/span&gt;
		#end
	#end

	#if ($page == "Conversation")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Conversations())"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("ViewUserProfile_AllConversations")&lt;/a&gt;&lt;/span&gt;
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Conversation($core_v2_conversation.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_conversation.Current.FirstMessage.Subject&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Conversations")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Conversations())"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("ViewUserProfile_AllConversations")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "AddUser")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.AddUser())"&gt;$core_v2_language.GetResource("register")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "ApiKeys")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Settings())"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Home_EditProfile")&lt;/a&gt;&lt;/span&gt;
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.ApiKeys())"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("ApiKeys_AuthorizedApplications")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Tags")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Tags())"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("TagBreadCrumb_Root")&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_tags.Current &amp;&amp; $core_v2_tags.Current.Count &gt; 0)
			#set($index = 0)
			#foreach($tag in $core_v2_tags.Current)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Tags($core_v2_utility.Slice($core_v2_tags.Current, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$tag&lt;/a&gt;&lt;/span&gt;
			#end
		#end
	#elseif ($page == "Search")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Search())"&gt;$core_v2_language.GetResource("Core_Search_Name")&lt;/a&gt;&lt;/span&gt;
		#set($queryText = $core_v2_page.GetQueryStringValue('q'))
		#if ($queryText)
			&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
			&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.Url)"&gt;&amp;quot;$core_v2_encoding.HtmlEncode($queryText)&amp;quot;&lt;/a&gt;&lt;/span&gt;
		#end
	#elseif ($page == "ChangePassword")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.ChangePassword())"&gt;$core_v2_language.GetResource("EditProfile_PasswordChange")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "ForgotPassword")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.ForgotPassword())"&gt;$core_v2_language.GetResource("Core_ForgottenPassword")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Invite")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Invite())"&gt;$core_v2_language.GetResource("InviteUser_Title")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Settings")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Settings())"&gt;$core_v2_language.GetResource("Home_EditProfile")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "AcceptInvitation")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.Url)"&gt;$core_v2_language.GetResource("Core_AcceptInvitation_Name")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Activities")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Activities($core_v2_user.Current.Id))"&gt;$core_v2_language.GetResource("Core_Activities")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "UserGroups")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.UserGroups($core_v2_user.Current.Id))"&gt;$core_v2_language.GetResource("Groups")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Friends")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Friends($core_v2_user.Current.Id))"&gt;$core_v2_language.GetResource("EditProfile_Friends")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Favorites")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Favorites($core_v2_user.Current.Id))"&gt;$core_v2_language.GetResource("FavoritePopupMenu_Text")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "UserLikes")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserLikes($core_v2_user.Current.Id))"&gt;$core_v2_language.GetResource("Likes_Text")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "UserMentions")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserMentions($core_v2_user.Current.Id))"&gt;$core_v2_language.GetResource("Mentions_Text")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "UserBlogs")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserBlogs($core_v2_user.Current.Id))"&gt;$core_v2_language.GetResource("BlogPosts")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "UserFiles")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFiles($core_v2_user.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.FormatString($core_v2_language.GetResource("UserFilesBrowseableList_Name"), $core_v2_user.Current.DisplayName)&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_userFolder.Current &amp;&amp; $core_v2_userFolder.Current.Path.Count &gt; 0)
			#set($index = 0)
			#foreach($folder in $core_v2_userFolder.Current.Path)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFiles($core_v2_user.Current.Id, $core_v2_utility.Slice($core_v2_userFolder.Current.Path, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$folder&lt;/a&gt;&lt;/span&gt;
			#end
		#end
	#elseif ($page == "UserFile")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFiles($core_v2_user.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.FormatString($core_v2_language.GetResource("UserFilesBrowseableList_Name"), $core_v2_user.Current.DisplayName)&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_userFolder.Current &amp;&amp; $core_v2_userFolder.Current.Path.Count &gt; 0)
			#set($index = 0)
			#foreach($folder in $core_v2_userFolder.Current.Path)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFiles($core_v2_user.Current.Id, $core_v2_utility.Slice($core_v2_userFolder.Current.Path, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$folder&lt;/a&gt;&lt;/span&gt;
			#end
		#end
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFile($core_v2_user.Current.Id, $core_v2_userFile.Current.Path, $core_v2_userFile.Current.Name))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_userFile.Current.Name&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "UserFilesSlideshow")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFiles($core_v2_user.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.FormatString($core_v2_language.GetResource("UserFilesBrowseableList_Name"), $core_v2_user.Current.DisplayName)&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_userFolder.Current &amp;&amp; $core_v2_userFolder.Current.Path.Count &gt; 0)
			#set($index = 0)
			#foreach($folder in $core_v2_userFolder.Current.Path)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFiles($core_v2_user.Current.Id, $core_v2_utility.Slice($core_v2_userFolder.Current.Path, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$folder&lt;/a&gt;&lt;/span&gt;
			#end
		#end
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.Url)"&gt;$core_v2_language.GetResource("Slideshow")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Custom")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Custom($core_v2_customPage.Current.Name))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_widget.ApplyTokens($core_v2_customPage.Current.Title)&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "UserCustom")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserCustom($core_v2_user.Current.Id, $core_v2_customPage.Current.Name))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_widget.ApplyTokens($core_v2_customPage.Current.Title)&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "AbuseAppeal")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.Url)"&gt;$core_v2_language.GetResource("AbuseAppeal")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "AppealQueue")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.Url)"&gt;$core_v2_language.GetResource("AppealQueue")&lt;/a&gt;&lt;/span&gt;
	#end
&lt;/div&gt;
&lt;div class="breadcrumb-list-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_BreadCrumbs_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_BreadCrumbs_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_BreadCrumbs_Name">Core Breadcrumbs</resource><resource name="Core_BreadCrumbs_Description">Displays BreadCrumbs for the general core of the site.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Home">Home</resource><resource name="BreadCrumb_Seperator"> &amp;raquo; </resource><resource name="ViewUserProfile_AllConversations">All Messages</resource><resource name="register">Join</resource><resource name="Home_EditProfile">Settings</resource><resource name="ApiKeys_AuthorizedApplications">Authorized Applications</resource><resource name="TagBreadCrumb_Root">All Tags</resource><resource name="Core_Search_Name">Search</resource><resource name="EditProfile_PasswordChange">Change Password</resource><resource name="Core_ForgottenPassword">Forgotten Password</resource><resource name="InviteUser_Title">Invite Users</resource><resource name="Core_AcceptInvitation_Name">Accept Invitation</resource><resource name="Core_Activities">Activities</resource><resource name="EditProfile_Friends">Friends</resource><resource name="FavoritePopupMenu_Text">Bookmarks</resource><resource name="Likes_Text">Likes</resource><resource name="Mentions_Text">Mentions</resource><resource name="Groups">Groups</resource><resource name="BlogPosts">Blog Posts</resource><resource name="UserFilesBrowseableList_Name">{0}'s Files</resource><resource name="Slideshow">Slideshow</resource><resource name="AbuseAppeal">Abuse Appeal</resource><resource name="AppealQueue">Appeal Queue</resource></language></languageResources>
		<requiredContext>
			<context id="bf16d7f34f0e492ab9853a9926675d8e" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_BrowseBlogs_Name}" version="7.5.0.32466" description="${resource:Blogs_BrowseBlogs_Description}" instanceIdentifier="14cf475b5faa466eac0bfab2127e177f" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="browse-blogs">
		<contentScript>
#set($pageIndex = $core_v2_page.GetFormValue('pageIndex'))
#set($pageSize = $core_v2_widget.GetIntValue('itemsBeforeScroll', 5))
#set($showSubGroups = $core_v2_widget.GetBoolValue('groupAndSubGroups', false))
#set($sortOrder = 'Descending')
#set($showSortOptions = true)
#set ($sortBy = $core_v2_widget.GetStringValue('defaultSortOrder', 'ApplicationName'))
## Simple mapping to convert configuration's name for Name and Thread to the API's
#if ($sortBy == 'ApplicationName')
	#set ($sortBy = 'Name')
	#set($sortOrder = 'Ascending')
#elseif ($sortBy == 'Posts')
	#set ($sortBy = 'Thread')
#end

#set($blogs = false)
#set($blogs = $core_v2_blog.List("%{GroupId=$core_v2_group.Current.Id,IncludeSubGroups=$showSubGroups,PageIndex=$pageIndex,PageSize=$pageSize,SortBy=$sortBy,SortOrder=$sortOrder}"))

#if($core_v2_widget.GetBoolValue('includeSearch', true) &amp;&amp; $blogs &amp;&amp; $blogs.TotalCount &gt; 3)
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;&lt;input type="text" value="$core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterWeblog')" /&gt;&lt;a href="javascript:void(0)" class="internal-link clear-search" title="$core_v2_language.GetResource('BrowseGroups_Clear')"&gt;$core_v2_language.GetResource('BrowseGroups_Clear')&lt;/a&gt;&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#end

&lt;div id="$core_v2_widget.UniqueId('list')"&gt;
	$core_v2_widget.ExecuteFile('list.vm')
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.BrowseBlogs')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.browseBlogs.register({
			searchUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('search-callback.vm'))',
			listUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('list-callback.vm'))',
			wrapperId: '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
			pageIndex: 0,
			pageSize: $core_v2_widget.GetIntValue('itemsBeforeScroll', 1),
			defaultSearchText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterWeblog'))',
			list: jQuery('#$core_v2_widget.UniqueId('list')'),
			error: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_Error'))',
			defaultSortBy: '$core_v2_encoding.JavascriptEncode($sortBy)',
			defaultSortOrder: '$core_v2_encoding.JavascriptEncode($sortOrder)'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
#if($core_v2_widget.GetBoolValue('includeGroupName',false))
	$core_v2_language.FormatString($core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BrowseBlogs_Name}')), $core_v2_group.Current.Name)
#else
	$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_BrowseBlogs_Name}'))
#end
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_BrowseBlogs_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="showTitleColumn" resourceName="UIFragment_Core_BrowseApplication_ShowTitle_Blog" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showGroupColumn" resourceName="UIFragment_Core_BrowseApplication_ShowGroup_Blog" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="showPostsColumn" resourceName="UIFragment_Core_BrowseApplication_ShowPosts" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showLastPostColumn" resourceName="UIFragment_Core_BrowseApplication_ShowLatest" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="groupAndSubGroups" resourceName="UIFragment_Core_BrowseApplication_GroupAndSubGroups" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="itemsBeforeScroll" resourceName="UIFragment_Core_BrowseApplication_ItemsToShow" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="defaultSortOrder" resourceName="UIFragment_Core_BrowseApplication_DefaultSortOrder" dataType="string" defaultValue="ApplicationName"&gt;
		&lt;propertyValue value="ApplicationName" resourceName="UIFragment_Core_BrowseApplication_ApplicationName" /&gt;
		&lt;propertyValue value="Posts" resourceName="UIFragment_Core_BrowseApplication_Posts" /&gt;
		&lt;propertyValue value="LastPost" resourceName="UIFragment_Core_BrowseApplication_LastPost" /&gt;
	&lt;/property&gt;
	&lt;property id="includeGroupName" resourceName="UIFragment_Core_BrowseApplication_IncludeGroupName" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="includeSearch" resourceName="UIFragment_Core_BrowseApplication_IncludeSearch" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_BrowseBlogs_Name">Blog - Browse Blogs</resource><resource name="Blogs_BrowseBlogs_Description">Displays a browse control to view all blogs on the site.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UIFragment_Core_BrowseApplication_ShowTitle_Blog">Show Blog Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowGroup_Blog">Show Blog Group Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowPosts">Show Post Count</resource><resource name="UIFragment_Core_BrowseApplication_ShowLatest">Show Latest Post Date</resource><resource name="UIFragment_Core_BrowseApplication_GroupAndSubGroups">Show data from Group and all Subgroups</resource><resource name="UIFragment_Core_BrowseApplication_ItemsToShow">Number of results to display</resource><resource name="UIFragment_Core_BrowseApplication_DefaultSortOrder">Default Sort Order</resource><resource name="UIFragment_Core_BrowseApplication_ApplicationName">Application Name</resource><resource name="UIFragment_Core_BrowseApplication_Posts">Posts</resource><resource name="UIFragment_Core_BrowseApplication_LastPost">Last Post</resource><resource name="UIFragment_Core_BrowseApplication_IncludeGroupName">Include current group's name in Title (Title must be a formatted string with a {0} placeholder)</resource><resource name="UIFragment_Core_BrowseApplication_IncludeSearch">Include search box (when more than 3 results)</resource><resource name="UIFragment_Core_BrowseApplication_FilterWeblog">Find a blog...</resource><resource name="BrowseGroups_Clear">Clear</resource><resource name="UIFragment_Core_BrowseApplication_Error">An error occurred while searching.</resource><resource name="UIFragment_Core_BrowseApplication_BlogColumn">Blog</resource><resource name="UIFragment_Core_BrowseApplication_GroupColumn">Group</resource><resource name="UIFragment_Core_BrowseApplication_PostsColumn">Posts</resource><resource name="UIFragment_Core_BrowseApplication_LastPostColumn">Last Post</resource><resource name="UIFragment_Core_BrowseApplication_RemoveFavorite">Remove from Bookmarks</resource><resource name="UIFragment_Core_BrowseApplication_AddFavorite">Bookmark</resource><resource name="Today">Today</resource><resource name="Yesterday">Yesterday</resource><resource name="NA">N/A</resource><resource name="UIFragment_Core_BrowseApplication_NoResults">No results could be found.</resource><resource name="Utility_Pager_previousButton">&lt; Previous</resource><resource name="Utility_Pager_nextButton">Next &gt;</resource><resource name="Blogs_BrowseBlogs_Title_BrowseBlogsIn">Browse Blogs in {0}</resource><resource name="Blogs_BrowseBlogs_Title_BrowseBlogs">Browse Blogs</resource></language></languageResources>
		<files>
			<file name="header.vm">I3NldCgkc2hvd1RpdGxlID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd1RpdGxlQ29sdW1uJywgdHJ1ZSkpDQojc2V0KCRzaG93R3JvdXAgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93R3JvdXBDb2x1bW4nLCBmYWxzZSkpDQojc2V0KCRzaG93UG9zdHMgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93UG9zdHNDb2x1bW4nLCB0cnVlKSkNCiNzZXQoJHNob3dMYXN0UG9zdCA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ3Nob3dMYXN0UG9zdENvbHVtbicsIHRydWUpKQ0KI3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8dGhlYWQ+DQoJPHRyIGNsYXNzPSJ0YWJsZS1oZWFkZXIiPg0KCQkjaWYoJHNob3dUaXRsZSkNCgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBhcHBsaWNhdGlvbi10aXRsZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9CbG9nQ29sdW1uJykjaWYoJHNob3dTb3J0T3B0aW9ucyk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayNpZighJHNvcnRCeSB8fCAkc29ydEJ5ICE9ICdOYW1lJyB8fCAkc29ydE9yZGVyLlRvTG93ZXIoKSA9PSAnYXNjZW5kaW5nJykgc29ydC1hc2NlbmRpbmcjZWxzZSBzb3J0LWRlc2NlbmRpbmcjZW5kIj48c3Bhbj48L3NwYW4+PC9hPiNlbmQ8L3RoPg0KCQkJI3NldCgkY29sdW1uQ291bnQgPSAkY29sdW1uQ291bnQgKyAxKQ0KCQkjZW5kDQoJCSNpZigkc2hvd0dyb3VwKQ0KCQkJPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIGFwcGxpY2F0aW9uLWdyb3VwIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX0dyb3VwQ29sdW1uJyk8L3RoPg0KCQkJI3NldCgkY29sdW1uQ291bnQgPSAkY29sdW1uQ291bnQgKyAxKQ0KCQkjZW5kDQoJCSNpZigkc2hvd1Bvc3RzKQ0KCQkJPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIHBvc3QtY291bnQiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fUG9zdHNDb2x1bW4nKSNpZigkc2hvd1NvcnRPcHRpb25zKTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rI2lmKCEkc29ydEJ5IHx8ICRzb3J0QnkgIT0gJ1RocmVhZCcgfHwgJHNvcnRPcmRlci5Ub0xvd2VyKCkgPT0gJ2Rlc2NlbmRpbmcnKSBzb3J0LWRlc2NlbmRpbmcjZWxzZSBzb3J0LWFzY2VuZGluZyNlbmQiPjxzcGFuPjwvc3Bhbj48L2E+I2VuZDwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgkJI2lmKCRzaG93TGFzdFBvc3QpDQoJCQk8dGggY2xhc3M9InRhYmxlLWhlYWRlci1jb2x1bW4gcG9zdC1kYXRlIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX0xhc3RQb3N0Q29sdW1uJykjaWYoJHNob3dTb3J0T3B0aW9ucyk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayNpZighJHNvcnRCeSB8fCAkc29ydEJ5ICE9ICdMYXN0UG9zdCcgfHwgJHNvcnRPcmRlci5Ub0xvd2VyKCkgPT0gJ2Rlc2NlbmRpbmcnKSBzb3J0LWRlc2NlbmRpbmcjZWxzZSBzb3J0LWFzY2VuZGluZyNlbmQiPjxzcGFuPjwvc3Bhbj48L2E+I2VuZDwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgk8L3RyPgkJDQo8L3RoZWFkPg0KDQo=</file>
			<file name="list-callback.vm">I3NldCgkcGFnZUluZGV4ID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKQ0KI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ2l0ZW1zQmVmb3JlU2Nyb2xsJywgNSkpDQojc2V0KCRzaG93U3ViR3JvdXBzID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnZ3JvdXBBbmRTdWJHcm91cHMnLCBmYWxzZSkpDQojc2V0KCRzb3J0QnkgPSAnTmFtZScpDQojc2V0KCRzb3J0T3JkZXIgPSAnQXNjZW5kaW5nJykNCiNzZXQoJHNvcnRCeSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19zb3J0QnknKSkNCiNzZXQoJHNvcnRPcmRlciA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19zb3J0T3JkZXInKSkNCiNzZXQoJHNob3dTb3J0T3B0aW9ucyA9IHRydWUpDQoNCiNzZXQoJGJsb2dzID0gZmFsc2UpDQojc2V0KCRibG9ncyA9ICRjb3JlX3YyX2Jsb2cuTGlzdCgiJXtHcm91cElkPSRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQsSW5jbHVkZVN1Ykdyb3Vwcz0kc2hvd1N1Ykdyb3VwcyxQYWdlSW5kZXg9JHBhZ2VJbmRleCxQYWdlU2l6ZT0kcGFnZVNpemUsU29ydEJ5PSRzb3J0QnksU29ydE9yZGVyPSRzb3J0T3JkZXJ9IikpDQoNCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnbGlzdC52bScp</file>
			<file name="list.vm">I3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWhlYWRlciI+PC9kaXY+DQo8dGFibGUgY2xhc3M9InRhYmxlLWxpc3QiPg0KCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnaGVhZGVyLnZtJykNCgk8dGJvZHk+DQoJI2ZvcmVhY2goJGJsb2cgaW4gJGJsb2dzKQ0KCQkjZWFjaA0KCQkJPHRyIGNsYXNzPSJ0YWJsZS1pdGVtIj4NCgkJCQkjaWYoJHNob3dUaXRsZSkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gYXBwbGljYXRpb24tdGl0bGUiPg0KCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1hcHBsaWNhdGlvbiIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYmxvZy5VcmwpIj4kYmxvZy5OYW1lPC9hPg0KCQkJCQkJI2lmICgkYmxvZyAmJiAkY29yZV92Ml9ib29rbWFyay5TdXBwb3J0c0Jvb2ttYXJrcygkY29yZV92Ml9ibG9nLkNvbnRlbnRUeXBlSWQpICYmICRjb3JlX3YyX2Jvb2ttYXJrLkNhbkJvb2ttYXJrKCRibG9nLkNvbnRlbnRJZCwgJGNvcmVfdjJfYmxvZy5Db250ZW50VHlwZUlkKSAmJiAkY29yZV92Ml9ib29rbWFyay5DYW5VbkJvb2ttYXJrKCRibG9nLkNvbnRlbnRJZCwgJGNvcmVfdjJfYmxvZy5Db250ZW50VHlwZUlkKSkNCgkJCQkJCQkkY29yZV92Ml91aS5Cb29rbWFyaygkYmxvZy5Db250ZW50SWQsICRjb3JlX3YyX2Jsb2cuQ29udGVudFR5cGVJZCkNCgkJCQkJCSNlbmQNCg0KCQkJCQkJI2lmKCRibG9nLkRlc2NyaXB0aW9uKTxzcGFuIGNsYXNzPSJkZXNjcmlwdGlvbiI+JGJsb2cuRGVzY3JpcHRpb248L3NwYW4+I2VuZA0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dHcm91cCkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gYXBwbGljYXRpb24tZ3JvdXAiPiRibG9nLkdyb3VwLk5hbWU8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dQb3N0cyB8fCAkc2hvd0xhc3RQb3N0KQ0KCQkJCQkjc2V0KCRwYWdlcyA9ICRjb3JlX3YyX2Jsb2dQb3N0Lkxpc3QoIiV7QmxvZ0lkPSRibG9nLklkLFBhZ2VJbmRleD0wLFBhZ2VTaXplPTF9IikpDQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd1Bvc3RzKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWNvdW50Ij4NCgkJCQkJCSRwYWdlcy5Ub3RhbENvdW50LlRvU3RyaW5nKCIjLCMwIikNCgkJCQkJPC90ZD4NCgkJCQkjZW5kDQoJCQkJI2lmICgkc2hvd0xhc3RQb3N0KQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWRhdGUiPg0KCQkJCQkJI2lmKCRwYWdlcy5Ub3RhbENvdW50ID4gMCkNCgkJCQkJCQkjc2V0ICgkY3VycmVudERhdGVTdHJpbmcgPSAkY29yZV92Ml91dGlsaXR5LkN1cnJlbnREYXRlLlRvZGF5LlRvU2hvcnREYXRlU3RyaW5nKCkpDQoJCQkJCQkJI2lmICgkYmxvZy5MYXRlc3RQb3N0RGF0ZS5Ub1Nob3J0RGF0ZVN0cmluZygpID09ICRjdXJyZW50RGF0ZVN0cmluZykNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1RvZGF5JykNCgkJCQkJCQkjZWxzZWlmKCRibG9nLkxhdGVzdFBvc3REYXRlLkFkZERheXMoMSkuVG9TaG9ydERhdGVTdHJpbmcoKSA9PSAkY3VycmVudERhdGVTdHJpbmcpDQoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdZZXN0ZXJkYXknKQkJCQkJCQkJDQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkYmxvZy5MYXRlc3RQb3N0RGF0ZSkNCgkJCQkJCQkjZW5kDQoJCQkJCQkjZWxzZQ0KCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOQScpDQoJCQkJCQkjZW5kDQoJCQkJCTwvdGQ+DQoJCQkJI2VuZA0KCQkJPC90cj4NCgkJCSNzZXQoJGhhc1Jlc3VsdHMgPSB0cnVlKQ0KCQkjbm9kYXRhDQoJCQk8dHIgY2xhc3M9InRhYmxlLWl0ZW0iPjx0ZCBjb2xzcGFuPSIkY29sdW1uQ291bnQiPjxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX05vUmVzdWx0cycpPC9kaXY+PC90ZD48L3RyPg0KCQkjZW5kDQoJPC90Ym9keT4NCjwvdGFibGU+DQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWZvb3RlciI+PC9kaXY+DQo8ZGl2IGNsYXNzPSJwYWdlciI+DQoJI2lmKCRibG9ncy5QYWdlSW5kZXggPiAwKQ0KCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJwcmV2aW91cyI+PHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1V0aWxpdHlfUGFnZXJfcHJldmlvdXNCdXR0b24nKTwvc3Bhbj48L2E+DQoJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPjwvc3Bhbj4NCgkjZW5kDQoJI2lmKCgkYmxvZ3MuUGFnZUluZGV4ICsgMSkgKiAkYmxvZ3MuUGFnZVNpemUgPCAkYmxvZ3MuVG90YWxDb3VudCkNCgkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0ibmV4dCI+PHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1V0aWxpdHlfUGFnZXJfbmV4dEJ1dHRvbicpPC9zcGFuPjwvYT4NCgkjZW5kDQo8L2Rpdj4=</file>
			<file name="search-callback.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJHNlYXJjaFRleHQgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc2VhcmNoVGV4dCcpKQ0KI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ2l0ZW1zQmVmb3JlU2Nyb2xsJywgNSkpDQojc2V0KCRzb3J0QnkgPSBmYWxzZSkNCiNzZXQoJHNvcnRPcmRlciA9IGZhbHNlKQ0KI3NldCgkc2hvd1N1Ykdyb3VwcyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2dyb3VwQW5kU3ViR3JvdXBzJywgZmFsc2UpKQ0KDQojc2V0KCRzZWFyY2hSZXN1bHRzID0gJGNvcmVfdjJfYmxvZy5TZWFyY2goJHNlYXJjaFRleHQsICIle0dyb3VwSWQ9JGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCxJbmNsdWRlU3ViR3JvdXBzPSRzaG93U3ViR3JvdXBzLFBhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleH0iKSkNCg0KI3NldCgkY29sdW1uQ291bnQgPSAwKQ0KI3NldCgkc2hvd1NvcnRPcHRpb25zID0gZmFsc2UpDQojc2V0KCRoYXNSZXN1bHRzID0gZmFsc2UpDQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWhlYWRlciI+PC9kaXY+DQo8dGFibGUgY2xhc3M9InRhYmxlLWxpc3QiPg0KCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnaGVhZGVyLnZtJykNCgk8dGJvZHk+DQoJI2ZvcmVhY2goJHNlYXJjaFJlc3VsdCBpbiAkc2VhcmNoUmVzdWx0cykNCgkjZWFjaA0KCQkjc2V0KCRibG9nID0gZmFsc2UpCQ0KCQkjc2V0KCRibG9nID0gJGNvcmVfdjJfYmxvZy5HZXQoIiV7SWQ9JHNlYXJjaFJlc3VsdC5Db250ZW50SWR9IikpDQoJCSNpZigkYmxvZykNCgkJCTx0ciBjbGFzcz0idGFibGUtaXRlbSI+DQoJCQkJI2lmKCRzaG93VGl0bGUpDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIGFwcGxpY2F0aW9uLXRpdGxlIj4NCgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctYXBwbGljYXRpb24iIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGJsb2cuVXJsKSI+JGJsb2cuTmFtZTwvYT4NCgkJCQkJCSNpZiAoJGNvcmVfdjJfYm9va21hcmsuU3VwcG9ydHNCb29rbWFya3MoJGNvcmVfdjJfYmxvZy5Db250ZW50VHlwZUlkKSAmJiAkY29yZV92Ml9ib29rbWFyay5DYW5Cb29rbWFyaygkYmxvZy5Db250ZW50SWQsICRjb3JlX3YyX2Jsb2cuQ29udGVudFR5cGVJZCkgJiYgJGNvcmVfdjJfYm9va21hcmsuQ2FuVW5Cb29rbWFyaygkYmxvZy5Db250ZW50SWQsICRjb3JlX3YyX2Jsb2cuQ29udGVudFR5cGVJZCkpDQoJCQkJCQkJJGNvcmVfdjJfdWkuQm9va21hcmsoJGJsb2cuQ29udGVudElkLCAkY29yZV92Ml9ibG9nLkNvbnRlbnRUeXBlSWQpDQoJCQkJCQkjZW5kDQoJCQkJCQkjaWYoJGJsb2cuRGVzY3JpcHRpb24pPHNwYW4gY2xhc3M9ImRlc2NyaXB0aW9uIj4kYmxvZy5EZXNjcmlwdGlvbjwvc3Bhbj4jZW5kDQoJCQkJCTwvdGQ+DQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd0dyb3VwKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBhcHBsaWNhdGlvbi1ncm91cCI+JGJsb2cuR3JvdXAuTmFtZTwvdGQ+DQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd1Bvc3RzIHx8ICRzaG93TGFzdFBvc3QpDQoJCQkJCSNzZXQoJHBhZ2VzID0gJGNvcmVfdjJfYmxvZ1Bvc3QuTGlzdCgiJXtCbG9nSWQ9JGJsb2cuSWQsUGFnZUluZGV4PTAsUGFnZVNpemU9MX0iKSkNCgkJCQkjZW5kDQoJCQkJI2lmKCRzaG93UG9zdHMpDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIHBvc3QtY291bnQiPg0KCQkJCQkJJHBhZ2VzLlRvdGFsQ291bnQNCgkJCQkJPC90ZD4NCgkJCQkjZW5kDQoJCQkJI2lmICgkc2hvd0xhc3RQb3N0KQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWRhdGUiPg0KCQkJCQkJI2lmKCRwYWdlcy5Ub3RhbENvdW50ID4gMCkNCgkJCQkJCQkjc2V0ICgkY3VycmVudERhdGVTdHJpbmcgPSAkY29yZV92Ml91dGlsaXR5LkN1cnJlbnREYXRlLlRvZGF5LlRvU2hvcnREYXRlU3RyaW5nKCkpDQoJCQkJCQkJI2lmICgkYmxvZy5MYXRlc3RQb3N0RGF0ZS5Ub1Nob3J0RGF0ZVN0cmluZygpID09ICRjdXJyZW50RGF0ZVN0cmluZykNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1RvZGF5JykNCgkJCQkJCQkjZWxzZWlmKCRibG9nLkxhdGVzdFBvc3REYXRlLkFkZERheXMoMSkuVG9TaG9ydERhdGVTdHJpbmcoKSA9PSAkY3VycmVudERhdGVTdHJpbmcpDQoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdZZXN0ZXJkYXknKQkJCQkJCQkJDQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkYmxvZy5MYXRlc3RQb3N0RGF0ZSkNCgkJCQkJCQkjZW5kCQkJCQkJCQ0KCQkJCQkJI2Vsc2UNCgkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTkEnKQ0KCQkJCQkJI2VuZA0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCTwvdHI+DQoJCQkjc2V0KCRoYXNSZXN1bHRzID0gdHJ1ZSkNCgkJI2VuZA0KCSNlbmQNCgkjaWYoISRoYXNSZXN1bHRzKQ0KCQk8dHIgY2xhc3M9InRhYmxlLWl0ZW0iPjx0ZCBjb2xzcGFuPSIkY29sdW1uQ291bnQiPjxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX05vUmVzdWx0cycpPC9kaXY+PC90ZD48L3RyPg0KCSNlbmQNCjwvdGJvZHk+DQo8L3RhYmxlPg0KPGRpdiBjbGFzcz0idGFibGUtbGlzdC1mb290ZXIiPjwvZGl2Pg0KPGRpdiBjbGFzcz0icGFnZXIiPg0KCSNpZigkc2VhcmNoUmVzdWx0cy5QYWdlSW5kZXggPiAwKQ0KCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJwcmV2aW91cyI+PHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1V0aWxpdHlfUGFnZXJfcHJldmlvdXNCdXR0b24nKTwvc3Bhbj48L2E+DQoJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPjwvc3Bhbj4NCgkjZW5kDQoJI2lmKCgkc2VhcmNoUmVzdWx0cy5QYWdlSW5kZXggKyAxKSAqICRzZWFyY2hSZXN1bHRzLlBhZ2VTaXplIDwgJHNlYXJjaFJlc3VsdHMuVG90YWxDb3VudCkNCgkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0ibmV4dCI+PHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1V0aWxpdHlfUGFnZXJfbmV4dEJ1dHRvbicpPC9zcGFuPjwvYT4NCgkjZW5kDQo8L2Rpdj4=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJCQkkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJdmFyIF9hdHRhY2hIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJdmFyIHcgPSAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKTsNCg0KCQkkKCcucGFnZXIgLnByZXZpb3VzJywgdykuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQlfcGFnZShjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCAtIDEpOw0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9KTsNCg0KCQkkKCcucGFnZXIgLm5leHQnLCB3KS5jbGljayhmdW5jdGlvbigpIHsNCgkJCV9wYWdlKGNvbnRleHQsIGNvbnRleHQucGFnZUluZGV4ICsgMSk7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0pOw0KDQoJCSQoJy50YWJsZS1oZWFkZXItY29sdW1uJywgdykuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQlpZiAoJCgnYScsIHRoaXMpLmxlbmd0aCA+IDApDQoJCQl7DQoJCQkJdmFyIHNvcnRCeSA9ICQodGhpcykuYXR0cignY2xhc3MnKS5zcGxpdCgnICcpWzFdOw0KCQkJCWNvbnRleHQuc29ydEJ5ID0gX2NvbnZlcnRDbGFzc1RvU29ydEJ5KGNvbnRleHQsIHNvcnRCeSk7DQoJCQkJdmFyIHNvcnRPcmRlciA9ICQoJ2EnLCB0aGlzKS5hdHRyKCdjbGFzcycpLnNwbGl0KCcgJylbMV07DQoJCQkJY29udGV4dC5zb3J0T3JkZXIgPSBfY29udmVydENsYXNzVG9Tb3J0T3JkZXIoY29udGV4dCwgc29ydE9yZGVyLCB0cnVlKTsNCgkJCQlfbGlzdChjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCk7DQoJCQl9DQoJCX0pOw0KDQoJCSQoJy50YWJsZS1oZWFkZXItY29sdW1uIGEnLCB3KS5jbGljayhmdW5jdGlvbihlKSB7DQoJCQkkKHRoaXMpLnBhcmVudCgpLmNsaWNrKCk7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0pOw0KCX0sDQoJX3BhZ2UgPSBmdW5jdGlvbiAoY29udGV4dCwgcGFnZUluZGV4KSB7DQoJCWlmIChjb250ZXh0LnNlYXJjaFRleHQpDQoJCQlfc2VhcmNoKGNvbnRleHQsIGNvbnRleHQuc2VhcmNoVGV4dCwgcGFnZUluZGV4KTsNCgkJZWxzZQ0KCQkJX2xpc3QoY29udGV4dCwgcGFnZUluZGV4KTsNCgl9LA0KCV9yZWZyZXNoID0gZnVuY3Rpb24oY29udGV4dCkgew0KCQlpZihjb250ZXh0LnNlYXJjaFRleHQpDQoJCQlfc2VhcmNoKGNvbnRleHQsIGNvbnRleHQuc2VhcmNoVGV4dCwgcGFnZUluZGV4KTsNCgkJZWxzZQ0KCQkJX2xpc3QoY29udGV4dCwgY29udGV4dC5wYWdlSW5kZXgpOw0KCX0sDQoJX2xpc3QgPSBmdW5jdGlvbihjb250ZXh0LCBwYWdlSW5kZXgpIHsNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQl1cmw6IGNvbnRleHQubGlzdFVybCwJCQkNCgkJCWRhdGE6IHsgd19wYWdlSW5kZXg6IHBhZ2VJbmRleCwgd19zb3J0Qnk6IChjb250ZXh0LnNvcnRCeSB8fCBjb250ZXh0LmRlZmF1bHRTb3J0QnkpLCB3X3NvcnRPcmRlcjogKGNvbnRleHQuc29ydE9yZGVyIHx8IGNvbnRleHQuZGVmYXVsdFNvcnRPcmRlcikgfSwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJY29udGV4dC5saXN0Lmh0bWwocmVzcG9uc2UpOw0KCQkJCWNvbnRleHQucGFnZUluZGV4ID0gcGFnZUluZGV4Ow0KCQkJCWNvbnRleHQuc2VhcmNoVGV4dCA9ICcnOw0KCQkJCV9hdHRhY2hIYW5kbGVycyhjb250ZXh0KTsNCgkJCX0sDQoJCQlkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmVycm9yLA0KCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsNCgkJCQljb250ZXh0Lmxpc3QuaHRtbCgnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciBlcnJvcl9fbWVzc2FnZSI+JyArIGRlc2MgKyAnPC9kaXY+Jyk7DQoJCQl9DQoJCX0pOw0KCX0sDQoJX3NlYXJjaCA9IGZ1bmN0aW9uKGNvbnRleHQsIHF1ZXJ5LCBwYWdlSW5kZXgpIHsNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQl1cmw6IGNvbnRleHQuc2VhcmNoVXJsLA0KCQkJZGF0YTogeyB3X3NlYXJjaFRleHQ6IHF1ZXJ5LCB3X3BhZ2VJbmRleDogcGFnZUluZGV4IH0sDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KCQkJCWNvbnRleHQubGlzdC5odG1sKHJlc3BvbnNlKTsNCgkJCQljb250ZXh0LnBhZ2VJbmRleCA9IHBhZ2VJbmRleDsNCgkJCQljb250ZXh0LnNlYXJjaFRleHQgPSBxdWVyeTsNCgkJCQlfYXR0YWNoSGFuZGxlcnMoY29udGV4dCk7DQoJCQl9LA0KCQkJZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5lcnJvciwNCgkJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KSB7DQoJCQkJY29udGV4dC5saXN0Lmh0bWwoJzxkaXYgY2xhc3M9Im1lc3NhZ2UgZXJyb3IgZXJyb3JfX21lc3NhZ2UiPicgKyBkZXNjICsgJzwvZGl2PicpOw0KCQkJfQ0KCQl9KTsNCgl9LA0KCV9jb252ZXJ0Q2xhc3NUb1NvcnRCeSA9IGZ1bmN0aW9uKGNvbnRleHQsIHNvcnRCeUNsYXNzKSB7DQoJCXN3aXRjaChzb3J0QnlDbGFzcykgew0KCQkJY2FzZSAncG9zdC1jb3VudCc6IHJldHVybiAnVGhyZWFkJzsNCgkJCWNhc2UgJ3Bvc3QtZGF0ZSc6IHJldHVybiAnTGFzdFBvc3QnOw0KCQkJY2FzZSAnYXBwbGljYXRpb24tdGl0bGUnOg0KCQkJY2FzZSAnYXBwbGljYXRpb24tZ3JvdXAnOg0KCQkJZGVmYXVsdDogcmV0dXJuICdOYW1lJzsNCgkJfQ0KCX0sDQoJX2NvbnZlcnRDbGFzc1RvU29ydE9yZGVyID0gZnVuY3Rpb24oY29udGV4dCwgc29ydE9yZGVyQ2xhc3MsIHJldmVyc2UpIHsNCgkJc3dpdGNoKHNvcnRPcmRlckNsYXNzKSB7DQoJCQljYXNlICdzb3J0LWFzY2VuZGluZyc6DQoJCQkJaWYoIXJldmVyc2UpDQoJCQkJCXJldHVybiAnQXNjZW5kaW5nJzsNCgkJCQllbHNlDQoJCQkJCXJldHVybiAnRGVzY2VuZGluZyc7DQoJCQkJYnJlYWs7DQoJCQljYXNlICdzb3J0LWRlc2NlbmRpbmcnOg0KCQkJZGVmYXVsdDoNCgkJCQlpZighcmV2ZXJzZSkNCgkJCQkJcmV0dXJuICdEZXNjZW5kaW5nJzsNCgkJCQllbHNlDQoJCQkJCXJldHVybiAnQXNjZW5kaW5nJzsNCgkJCQlicmVhazsNCgkJfQ0KCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5icm93c2VCbG9ncyA9IHsNCgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJCXZhciB3ID0gJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCk7DQoNCgkJCSQoJy5maWVsZC1pdGVtLWlucHV0IGlucHV0JywgdykuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQkJCWlmICgkKHRoaXMpLnZhbCgpID09IGNvbnRleHQuZGVmYXVsdFNlYXJjaFRleHQpDQoJCQkJCQkkKHRoaXMpLnZhbCgnJyk7DQoJCQkJfSkua2V5dXAoZnVuY3Rpb24oZSkgew0KCQkJCQljb250ZXh0Ll9sYXN0S2V5Q29kZSA9IGUua2V5Q29kZTsNCgkJCQkJaWYgKGNvbnRleHQuX3NlYXJjaFRpbWVvdXQpDQoJCQkJCQljbGVhclRpbWVvdXQoY29udGV4dC5fc2VhcmNoVGltZW91dCk7DQoNCgkJCQkJdmFyIHNlYXJjaFRleHQgPSAkKHRoaXMpLnZhbCgpOw0KDQoJCQkJCWlmIChzZWFyY2hUZXh0Lmxlbmd0aCA+IDApIHsNCgkJCQkJCSQoJy5pbnRlcm5hbC1saW5rLmNsZWFyLXNlYXJjaCcsIHcpLnNob3coKTsNCgkJCQkJCWNvbnRleHQuX3NlYXJjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkJeyBfc2VhcmNoKGNvbnRleHQsIHNlYXJjaFRleHQsIDApOyB9LCA1MDApOw0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJJCgnLmludGVybmFsLWxpbmsuY2xlYXItc2VhcmNoJywgdykuaGlkZSgpOw0KCQkJCQkJY29udGV4dC5fc2VhcmNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IF9saXN0KGNvbnRleHQsIDApOyB9LCA1MDApOw0KCQkJCQl9DQoJCQkJfSk7DQoNCgkJCSQoJy5pbnRlcm5hbC1saW5rLmNsZWFyLXNlYXJjaCcsIHcpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJCSQoJy5maWVsZC1pdGVtLWlucHV0IGlucHV0JywgdykudmFsKCcnKTsNCgkJCQlfbGlzdChjb250ZXh0LCAwKTsNCgkJCQkkKHRoaXMpLmhpZGUoKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KS5oaWRlKCk7DQoNCgkJCV9hdHRhY2hIYW5kbGVycyhjb250ZXh0KTsNCgkJfQ0KCX07DQp9KShqUXVlcnkpOw0K</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_BrowseForums_Name}" version="7.5.0.32466" description="${resource:Forums_BrowseForums_Description}" instanceIdentifier="59feef7f27aa473180bb52071008660b" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="browse-forums">
		<contentScript>
#set($pageIndex = 0)
#set($pageIndex = $core_v2_page.GetFormValue('pageIndex'))
#set($pageSize = 5)
#set($pageSize = $core_v2_widget.GetIntValue('itemsBeforeScroll', 5))
#set($showSubGroups = $core_v2_widget.GetBoolValue('groupAndSubGroups', false))
#set($sortOrder = 'Descending')
#set($showSortOptions = true)
#set ($sortBy = 'ApplicationName')
#set ($sortBy = $core_v2_widget.GetStringValue('defaultSortOrder', 'ApplicationName'))
## Simple mapping to convert configuration's name for Name and PostCount to the API's
#if ($sortBy == 'ApplicationName')
	#set ($sortBy = 'Name')
	#set($sortOrder = 'Ascending')
#elseif ($sortBy == 'Posts')
	#set ($sortBy = 'TotalPosts')
#end

#set($forums = false)
#set($forums = $core_v2_forum.List("%{GroupId=$core_v2_group.Current.Id,IncludeSubGroups=$showSubGroups,PageIndex=$pageIndex,PageSize=$pageSize,SortBy=$sortBy,SortOrder=$sortOrder}"))

#if($core_v2_widget.GetBoolValue('includeSearch', true) &amp;&amp; $forums.TotalCount &gt; 3)
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;&lt;input type="text" value="$core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterForum')" /&gt;&lt;a href="javascript:void(0)" class="internal-link clear-search" title="$core_v2_language.GetResource('BrowseGroups_Clear')"&gt;$core_v2_language.GetResource('BrowseGroups_Clear')&lt;/a&gt;&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#end

&lt;div id="$core_v2_widget.UniqueId('list')"&gt;
	$core_v2_widget.ExecuteFile('list.vm')
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.BrowseForums')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.browseForums.register({
			searchUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('search-callback.vm'))',
			listUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('list-callback.vm'))',
			wrapperId: '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
			pageIndex: 0,
			pageSize: $core_v2_widget.GetIntValue('itemsBeforeScroll', 5),
			defaultSearchText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterForum'))',
			list: jQuery('#$core_v2_widget.UniqueId('list')'),
			error: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_Error'))',
			defaultSortBy: '$core_v2_encoding.JavascriptEncode($sortBy)',
			defaultSortOrder: '$core_v2_encoding.JavascriptEncode($sortOrder)'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
#if($core_v2_widget.GetBoolValue('includeGroupName',false))
	$core_v2_language.FormatString($core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_BrowseForums_Name}')), $core_v2_group.Current.Name)
#else
	$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_BrowseForums_Name}'))
#end
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_BrowseForums_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="showTitleColumn" resourceName="UIFragment_Core_BrowseApplication_ShowTitle_Forum" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showGroupColumn" resourceName="UIFragment_Core_BrowseApplication_ShowGroup_Forum" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="showPostsColumn" resourceName="UIFragment_Core_BrowseApplication_ShowPosts" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showLastPostColumn" resourceName="UIFragment_Core_BrowseApplication_ShowLatest" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="groupAndSubGroups" resourceName="UIFragment_Core_BrowseApplication_GroupAndSubGroups" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="itemsBeforeScroll" resourceName="UIFragment_Core_BrowseApplication_ItemsToShow" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="defaultSortOrder" resourceName="UIFragment_Core_BrowseApplication_DefaultSortOrder" dataType="string" defaultValue="ApplicationName"&gt;
		&lt;propertyValue value="ApplicationName" resourceName="UIFragment_Core_BrowseApplication_ApplicationName" /&gt;
		&lt;propertyValue value="Posts" resourceName="UIFragment_Core_BrowseApplication_Posts" /&gt;
		&lt;propertyValue value="LastPost" resourceName="UIFragment_Core_BrowseApplication_LastPost" /&gt;
	&lt;/property&gt;
	&lt;property id="includeGroupName" resourceName="UIFragment_Core_BrowseApplication_IncludeGroupName" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="includeSearch" resourceName="UIFragment_Core_BrowseApplication_IncludeSearch" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Forums_BrowseForums_Name">Forums - Browse Forums</resource><resource name="Forums_BrowseForums_Description">Displays a browse control to view all forums on the site.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UIFragment_Core_BrowseApplication_ShowTitle_Forum">Show Forum Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowGroup_Forum">Show Forum Group Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowPosts">Show Post Count</resource><resource name="UIFragment_Core_BrowseApplication_ShowLatest">Show Latest Post Date</resource><resource name="UIFragment_Core_BrowseApplication_GroupAndSubGroups">Show data from Group and all Subgroups</resource><resource name="UIFragment_Core_BrowseApplication_ItemsToShow">Number of results to display</resource><resource name="UIFragment_Core_BrowseApplication_DefaultSortOrder">Default Sort Order</resource><resource name="UIFragment_Core_BrowseApplication_ApplicationName">Application Name</resource><resource name="UIFragment_Core_BrowseApplication_Posts">Posts</resource><resource name="UIFragment_Core_BrowseApplication_LastPost">Last Post</resource><resource name="UIFragment_Core_BrowseApplication_IncludeGroupName">Include current group's name in Title (Title must be a formatted string with a {0} placeholder)</resource><resource name="UIFragment_Core_BrowseApplication_IncludeSearch">Include search box (when more than 3 results)</resource><resource name="UIFragment_Core_BrowseApplication_FilterForum">Find a forum...</resource><resource name="BrowseGroups_Clear">Clear</resource><resource name="UIFragment_Core_BrowseApplication_Error">An error occurred while searching.</resource><resource name="UIFragment_Core_BrowseApplication_ForumColumn">Forum</resource><resource name="UIFragment_Core_BrowseApplication_GroupColumn">Group</resource><resource name="UIFragment_Core_BrowseApplication_PostsColumn">Posts</resource><resource name="UIFragment_Core_BrowseApplication_LastPostColumn">Last Post</resource><resource name="UIFragment_Core_BrowseApplication_RemoveFavorite">Remove from Bookmarks</resource><resource name="UIFragment_Core_BrowseApplication_AddFavorite">Bookmark</resource><resource name="Today">Today</resource><resource name="Yesterday">Yesterday</resource><resource name="NA">N/A</resource><resource name="UIFragment_Core_BrowseApplication_NoResults">No results could be found.</resource><resource name="Utility_Pager_previousButton">&lt; Previous</resource><resource name="Utility_Pager_nextButton">Next &gt;</resource><resource name="Forums_BrowseForums_Title_BrowseForums">Browse Forums</resource></language></languageResources>
		<files>
			<file name="header.vm">I3NldCgkc2hvd1RpdGxlID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd1RpdGxlQ29sdW1uJywgdHJ1ZSkpDQojc2V0KCRzaG93R3JvdXAgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93R3JvdXBDb2x1bW4nLCBmYWxzZSkpDQojc2V0KCRzaG93UG9zdHMgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93UG9zdHNDb2x1bW4nLCB0cnVlKSkNCiNzZXQoJHNob3dMYXN0UG9zdCA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ3Nob3dMYXN0UG9zdENvbHVtbicsIHRydWUpKQ0KI3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8dGhlYWQ+DQoJPHRyIGNsYXNzPSJ0YWJsZS1oZWFkZXIiPg0KCQkjaWYoJHNob3dUaXRsZSkNCgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBhcHBsaWNhdGlvbi10aXRsZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9Gb3J1bUNvbHVtbicpI2lmKCRzaG93U29ydE9wdGlvbnMpPGEgY2xhc3M9ImludGVybmFsLWxpbmsjaWYoISRzb3J0QnkgfHwgJHNvcnRCeSAhPSAnTmFtZScgfHwgJHNvcnRPcmRlci5Ub0xvd2VyKCkgPT0gJ2FzY2VuZGluZycpIHNvcnQtYXNjZW5kaW5nI2Vsc2Ugc29ydC1kZXNjZW5kaW5nI2VuZCI+PHNwYW4+PC9zcGFuPjwvYT4jZW5kPC90aD4NCgkJCSNzZXQoJGNvbHVtbkNvdW50ID0gJGNvbHVtbkNvdW50ICsgMSkNCgkJI2VuZA0KCQkjaWYoJHNob3dHcm91cCkNCgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBhcHBsaWNhdGlvbi1ncm91cCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9Hcm91cENvbHVtbicpPC90aD4NCgkJCSNzZXQoJGNvbHVtbkNvdW50ID0gJGNvbHVtbkNvdW50ICsgMSkNCgkJI2VuZA0KCQkjaWYoJHNob3dQb3N0cykNCgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBwb3N0LWNvdW50Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX1Bvc3RzQ29sdW1uJykjaWYoJHNob3dTb3J0T3B0aW9ucyk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayNpZighJHNvcnRCeSB8fCAkc29ydEJ5ICE9ICdUb3RhbFBvc3RzJyB8fCAkc29ydE9yZGVyLlRvTG93ZXIoKSA9PSAnZGVzY2VuZGluZycpIHNvcnQtZGVzY2VuZGluZyNlbHNlIHNvcnQtYXNjZW5kaW5nI2VuZCI+PHNwYW4+PC9zcGFuPjwvYT4jZW5kPC90aD4NCgkJCSNzZXQoJGNvbHVtbkNvdW50ID0gJGNvbHVtbkNvdW50ICsgMSkNCgkJI2VuZA0KCQkjaWYoJHNob3dMYXN0UG9zdCkNCgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBwb3N0LWRhdGUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fTGFzdFBvc3RDb2x1bW4nKSNpZigkc2hvd1NvcnRPcHRpb25zKTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rI2lmKCEkc29ydEJ5IHx8ICRzb3J0QnkgIT0gJ0xhc3RQb3N0JyB8fCAkc29ydE9yZGVyLlRvTG93ZXIoKSA9PSAnZGVzY2VuZGluZycpIHNvcnQtZGVzY2VuZGluZyNlbHNlIHNvcnQtYXNjZW5kaW5nI2VuZCI+PHNwYW4+PC9zcGFuPjwvYT4jZW5kPC90aD4NCgkJCSNzZXQoJGNvbHVtbkNvdW50ID0gJGNvbHVtbkNvdW50ICsgMSkNCgkJI2VuZA0KCTwvdHI+CQkNCjwvdGhlYWQ+DQoNCg==</file>
			<file name="list-callback.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJHBhZ2VTaXplID0gNSkNCiNzZXQoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdpdGVtc0JlZm9yZVNjcm9sbCcsIDUpKQ0KI3NldCgkc2hvd1N1Ykdyb3VwcyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2dyb3VwQW5kU3ViR3JvdXBzJywgZmFsc2UpKQ0KI3NldCgkc29ydEJ5ID0gJ05hbWUnKQ0KI3NldCgkc29ydE9yZGVyID0gJ0FzY2VuZGluZycpDQojc2V0KCRzb3J0QnkgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc29ydEJ5JykpDQojc2V0KCRzb3J0T3JkZXIgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc29ydE9yZGVyJykpDQojc2V0KCRzaG93U29ydE9wdGlvbnMgPSB0cnVlKQ0KDQojc2V0KCRmb3J1bXMgPSBmYWxzZSkNCiNzZXQoJGZvcnVtcyA9ICRjb3JlX3YyX2ZvcnVtLkxpc3QoIiV7R3JvdXBJZD0kY29yZV92Ml9ncm91cC5DdXJyZW50LklkLEluY2x1ZGVTdWJHcm91cHM9JHNob3dTdWJHcm91cHMsUGFnZUluZGV4PSRwYWdlSW5kZXgsUGFnZVNpemU9JHBhZ2VTaXplLFNvcnRCeT0kc29ydEJ5LFNvcnRPcmRlcj0kc29ydE9yZGVyfSIpKQ0KDQokY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ2xpc3Qudm0nKQ==</file>
			<file name="list.vm">I3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWhlYWRlciI+PC9kaXY+DQo8dGFibGUgY2xhc3M9InRhYmxlLWxpc3QiPg0KCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnaGVhZGVyLnZtJykNCgk8dGJvZHk+DQoJI2ZvcmVhY2goJGZvcnVtIGluICRmb3J1bXMpDQoJCSNlYWNoDQoJCQk8dHIgY2xhc3M9InRhYmxlLWl0ZW0iPg0KCQkJCSNpZigkc2hvd1RpdGxlKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBhcHBsaWNhdGlvbi10aXRsZSI+DQoJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LWFwcGxpY2F0aW9uIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRmb3J1bS5VcmwpIj4kZm9ydW0uTmFtZTwvYT4NCgkJCQkJCSNpZiAoJGZvcnVtICYmICRjb3JlX3YyX2Jvb2ttYXJrLlN1cHBvcnRzQm9va21hcmtzKCRjb3JlX3YyX2ZvcnVtLkNvbnRlbnRUeXBlSWQpICYmICRjb3JlX3YyX2Jvb2ttYXJrLkNhbkJvb2ttYXJrKCRmb3J1bS5Db250ZW50SWQsICRjb3JlX3YyX2ZvcnVtLkNvbnRlbnRUeXBlSWQpICYmICRjb3JlX3YyX2Jvb2ttYXJrLkNhblVuQm9va21hcmsoJGZvcnVtLkNvbnRlbnRJZCwgJGNvcmVfdjJfZm9ydW0uQ29udGVudFR5cGVJZCkpDQoJCQkJCQkJJGNvcmVfdjJfdWkuQm9va21hcmsoJGZvcnVtLkNvbnRlbnRJZCwgJGNvcmVfdjJfZm9ydW0uQ29udGVudFR5cGVJZCkNCgkJCQkJCSNlbmQNCgkJCQkJCSNpZigkZm9ydW0uRGVzY3JpcHRpb24pPHNwYW4gY2xhc3M9ImRlc2NyaXB0aW9uIj4kZm9ydW0uRGVzY3JpcHRpb248L3NwYW4+I2VuZA0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dHcm91cCkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gYXBwbGljYXRpb24tZ3JvdXAiPiRmb3J1bS5Hcm91cC5OYW1lPC90ZD4NCgkJCQkjZW5kDQoJCQkJI2lmKCRzaG93UG9zdHMgfHwgJHNob3dMYXN0UG9zdCkNCgkJCQkJI3NldCgkcGFnZXMgPSAkY29yZV92Ml9mb3J1bVRocmVhZC5MaXN0KCIle0ZvcnVtSWQ9JGZvcnVtLklkLFBhZ2VJbmRleD0wLFBhZ2VTaXplPTF9IikpDQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd1Bvc3RzKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWNvdW50Ij4NCgkJCQkJCSRwYWdlcy5Ub3RhbENvdW50LlRvU3RyaW5nKCIjLCMwIikNCgkJCQkJPC90ZD4NCgkJCQkjZW5kDQoJCQkJI2lmICgkc2hvd0xhc3RQb3N0KQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWRhdGUiPg0KCQkJCQkJI2lmKCRwYWdlcy5Ub3RhbENvdW50ID4gMCAmJiAkZm9ydW0uTGF0ZXN0UG9zdERhdGUpDQoJCQkJCQkJI3NldCAoJGN1cnJlbnREYXRlU3RyaW5nID0gJGNvcmVfdjJfdXRpbGl0eS5DdXJyZW50RGF0ZS5Ub2RheS5Ub1Nob3J0RGF0ZVN0cmluZygpKQ0KCQkJCQkJCSNpZiAoJGZvcnVtLkxhdGVzdFBvc3REYXRlLlRvU2hvcnREYXRlU3RyaW5nKCkgPT0gJGN1cnJlbnREYXRlU3RyaW5nKQ0KCQkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVG9kYXknKQ0KCQkJCQkJCSNlbHNlaWYoJGZvcnVtLkxhdGVzdFBvc3REYXRlLkFkZERheXMoMSkuVG9TaG9ydERhdGVTdHJpbmcoKSA9PSAkY3VycmVudERhdGVTdHJpbmcpDQoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdZZXN0ZXJkYXknKQ0KCQkJCQkJCSNlbHNlDQoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJGZvcnVtLkxhdGVzdFBvc3REYXRlKQ0KCQkJCQkJCSNlbmQNCgkJCQkJCSNlbHNlDQoJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05BJykNCgkJCQkJCSNlbmQNCgkJCQkJPC90ZD4NCgkJCQkjZW5kDQoJCQk8L3RyPg0KCQkJI3NldCgkaGFzUmVzdWx0cyA9IHRydWUpDQoJCSNub2RhdGENCgkJCTx0ciBjbGFzcz0idGFibGUtaXRlbSI+PHRkIGNvbHNwYW49IiRjb2x1bW5Db3VudCI+PGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fTm9SZXN1bHRzJyk8L2Rpdj48L3RkPjwvdHI+DQoJI2VuZA0KCTwvdGJvZHk+DQo8L3RhYmxlPg0KPGRpdiBjbGFzcz0idGFibGUtbGlzdC1mb290ZXIiPjwvZGl2Pg0KPGRpdiBjbGFzcz0icGFnZXIiPg0KCSNpZigkZm9ydW1zLlBhZ2VJbmRleCA+IDApDQoJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9InByZXZpb3VzIj48c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVXRpbGl0eV9QYWdlcl9wcmV2aW91c0J1dHRvbicpPC9zcGFuPjwvYT4NCgkJPHNwYW4gY2xhc3M9InNlcGFyYXRvciI+PC9zcGFuPg0KCSNlbmQNCgkjaWYoKCRmb3J1bXMuUGFnZUluZGV4ICsgMSkgKiAkZm9ydW1zLlBhZ2VTaXplIDwgJGZvcnVtcy5Ub3RhbENvdW50KQ0KCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJuZXh0Ij48c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVXRpbGl0eV9QYWdlcl9uZXh0QnV0dG9uJyk8L3NwYW4+PC9hPg0KCSNlbmQNCjwvZGl2Pg==</file>
			<file name="search-callback.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJHNlYXJjaFRleHQgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc2VhcmNoVGV4dCcpKQ0KI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ2l0ZW1zQmVmb3JlU2Nyb2xsJywgNSkpDQojc2V0KCRzb3J0QnkgPSBmYWxzZSkNCiNzZXQoJHNvcnRPcmRlciA9IGZhbHNlKQ0KI3NldCgkc2hvd1N1Ykdyb3VwcyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2dyb3VwQW5kU3ViR3JvdXBzJywgZmFsc2UpKQ0KDQojc2V0KCRzZWFyY2hSZXN1bHRzID0gJGNvcmVfdjJfZm9ydW0uU2VhcmNoKCRzZWFyY2hUZXh0LCAiJXtHcm91cElkPSRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQsSW5jbHVkZVN1Ykdyb3Vwcz0kc2hvd1N1Ykdyb3VwcyxQYWdlU2l6ZT0kcGFnZVNpemUsUGFnZUluZGV4PSRwYWdlSW5kZXh9IikpDQoNCiNzZXQoJGNvbHVtbkNvdW50ID0gMCkNCiNzZXQoJHNob3dTb3J0T3B0aW9ucyA9IGZhbHNlKQ0KI3NldCgkaGFzUmVzdWx0cyA9IGZhbHNlKQ0KPGRpdiBjbGFzcz0idGFibGUtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KPHRhYmxlIGNsYXNzPSJ0YWJsZS1saXN0Ij4NCgkkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ2hlYWRlci52bScpDQoJPHRib2R5Pg0KCSNmb3JlYWNoKCRzZWFyY2hSZXN1bHQgaW4gJHNlYXJjaFJlc3VsdHMpDQoJI2VhY2gNCgkJI3NldCgkZm9ydW0gPSBmYWxzZSkNCgkJI3NldCgkZm9ydW0gPSAkY29yZV92Ml9mb3J1bS5HZXQoJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkc2VhcmNoUmVzdWx0LkNvbnRlbnRJZCkpKQ0KCQkjaWYoJGZvcnVtKQ0KCQkJPHRyIGNsYXNzPSJ0YWJsZS1pdGVtIj4NCgkJCQkjaWYoJHNob3dUaXRsZSkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gYXBwbGljYXRpb24tdGl0bGUiPg0KCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1hcHBsaWNhdGlvbiIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZm9ydW0uVXJsKSI+JGZvcnVtLk5hbWU8L2E+DQoJCQkJCQkjaWYgKCRmb3J1bSAmJiAkY29yZV92Ml9ib29rbWFyay5TdXBwb3J0c0Jvb2ttYXJrcygkY29yZV92Ml9mb3J1bS5Db250ZW50VHlwZUlkKSAmJiAkY29yZV92Ml9ib29rbWFyay5DYW5Cb29rbWFyaygkZm9ydW0uQ29udGVudElkLCAkY29yZV92Ml9mb3J1bS5Db250ZW50VHlwZUlkKSAmJiAkY29yZV92Ml9ib29rbWFyay5DYW5VbkJvb2ttYXJrKCRmb3J1bS5Db250ZW50SWQsICRjb3JlX3YyX2ZvcnVtLkNvbnRlbnRUeXBlSWQpKQ0KCQkJCQkJCSRjb3JlX3YyX3VpLkJvb2ttYXJrKCRmb3J1bS5Db250ZW50SWQsICRjb3JlX3YyX2ZvcnVtLkNvbnRlbnRUeXBlSWQpDQoJCQkJCQkjZW5kDQoJCQkJCQkjaWYoJGZvcnVtLkRlc2NyaXB0aW9uKTxzcGFuIGNsYXNzPSJkZXNjcmlwdGlvbiI+JGZvcnVtLkRlc2NyaXB0aW9uPC9zcGFuPiNlbmQNCgkJCQkJPC90ZD4NCgkJCQkjZW5kDQoJCQkJI2lmKCRzaG93R3JvdXApDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIGFwcGxpY2F0aW9uLWdyb3VwIj4kZm9ydW0uR3JvdXAuTmFtZTwvdGQ+DQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd1Bvc3RzIHx8ICRzaG93TGFzdFBvc3QpDQoJCQkJCSNzZXQoJHBhZ2VzID0gJGNvcmVfdjJfZm9ydW1UaHJlYWQuTGlzdCgiJXtGb3J1bUlkPSRmb3J1bS5JZCxQYWdlSW5kZXg9MCxQYWdlU2l6ZT0xfSIpKQ0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dQb3N0cykNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gcG9zdC1jb3VudCI+DQoJCQkJCQkkcGFnZXMuVG90YWxDb3VudC5Ub1N0cmluZygiIywjMCIpDQoJCQkJCTwvdGQ+DQoJCQkJI2VuZA0KCQkJCSNpZiAoJHNob3dMYXN0UG9zdCkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gcG9zdC1kYXRlIj4NCgkJCQkJCSNpZigkcGFnZXMuVG90YWxDb3VudCA+IDApDQoJCQkJCQkJI3NldCAoJGN1cnJlbnREYXRlU3RyaW5nID0gJGNvcmVfdjJfdXRpbGl0eS5DdXJyZW50RGF0ZS5Ub2RheS5Ub1Nob3J0RGF0ZVN0cmluZygpKQ0KCQkJCQkJCSNpZiAoJGZvcnVtLkxhdGVzdFBvc3REYXRlLlRvU2hvcnREYXRlU3RyaW5nKCkgPT0gJGN1cnJlbnREYXRlU3RyaW5nKQ0KCQkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVG9kYXknKQ0KCQkJCQkJCSNlbHNlaWYoJGZvcnVtLkxhdGVzdFBvc3REYXRlLkFkZERheXMoMSkuVG9TaG9ydERhdGVTdHJpbmcoKSA9PSAkY3VycmVudERhdGVTdHJpbmcpDQoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdZZXN0ZXJkYXknKQ0KCQkJCQkJCSNlbHNlDQoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJGZvcnVtLkxhdGVzdFBvc3REYXRlKQ0KCQkJCQkJCSNlbmQNCgkJCQkJCSNlbHNlDQoJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05BJykNCgkJCQkJCSNlbmQNCgkJCQkJPC90ZD4NCgkJCQkjZW5kDQoJCQk8L3RyPg0KCQkJI3NldCgkaGFzUmVzdWx0cyA9IHRydWUpDQoJCSNlbmQNCgkjZW5kDQoJI2lmKCEkaGFzUmVzdWx0cykNCgkJPHRyIGNsYXNzPSJ0YWJsZS1pdGVtIj48dGQgY29sc3Bhbj0iJGNvbHVtbkNvdW50Ij48ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9Ob1Jlc3VsdHMnKTwvZGl2PjwvdGQ+PC90cj4NCgkjZW5kDQo8L3Rib2R5Pg0KPC90YWJsZT4NCjxkaXYgY2xhc3M9InRhYmxlLWxpc3QtZm9vdGVyIj48L2Rpdj4NCjxkaXYgY2xhc3M9InBhZ2VyIj4NCgkjaWYoJHNlYXJjaFJlc3VsdHMuUGFnZUluZGV4ID4gMCkNCgkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0icHJldmlvdXMiPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVdGlsaXR5X1BhZ2VyX3ByZXZpb3VzQnV0dG9uJyk8L3NwYW4+PC9hPg0KCQk8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj48L3NwYW4+DQoJI2VuZA0KCSNpZigoJHNlYXJjaFJlc3VsdHMuUGFnZUluZGV4ICsgMSkgKiAkc2VhcmNoUmVzdWx0cy5QYWdlU2l6ZSA8ICRzZWFyY2hSZXN1bHRzLlRvdGFsQ291bnQpDQoJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9Im5leHQiPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVdGlsaXR5X1BhZ2VyX25leHRCdXR0b24nKTwvc3Bhbj48L2E+DQoJI2VuZA0KPC9kaXY+</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICAgICAkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJdmFyIF9hdHRhY2hIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJdmFyIHcgPSAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKTsNCgkJDQoJCSQoJy5wYWdlciAucHJldmlvdXMnLCB3KS5jbGljayhmdW5jdGlvbigpIHsNCgkJCV9wYWdlKGNvbnRleHQsIGNvbnRleHQucGFnZUluZGV4IC0gMSk7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0pOw0KCQkNCgkJJCgnLnBhZ2VyIC5uZXh0JywgdykuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQlfcGFnZShjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCArIDEpOw0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9KTsNCgkJDQoJCSQoJy50YWJsZS1oZWFkZXItY29sdW1uJywgdykuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQlpZiAoJCgnYScsIHRoaXMpLmxlbmd0aCA+IDApDQoJCQl7DQoJCQkJdmFyIHNvcnRCeSA9ICQodGhpcykuYXR0cignY2xhc3MnKS5zcGxpdCgnICcpWzFdOw0KCQkJCWNvbnRleHQuc29ydEJ5ID0gX2NvbnZlcnRDbGFzc1RvU29ydEJ5KGNvbnRleHQsIHNvcnRCeSk7DQoJCQkJdmFyIHNvcnRPcmRlciA9ICQoJ2EnLCB0aGlzKS5hdHRyKCdjbGFzcycpLnNwbGl0KCcgJylbMV07DQoJCQkJY29udGV4dC5zb3J0T3JkZXIgPSBfY29udmVydENsYXNzVG9Tb3J0T3JkZXIoY29udGV4dCwgc29ydE9yZGVyLCB0cnVlKTsNCgkJCQlfbGlzdChjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCk7DQoJCQl9DQoJCX0pOw0KCQkNCgkJJCgnLnRhYmxlLWhlYWRlci1jb2x1bW4gYScsIHcpLmNsaWNrKGZ1bmN0aW9uKGUpIHsNCgkJCSQodGhpcykucGFyZW50KCkuY2xpY2soKTsNCgkJCXJldHVybiBmYWxzZTsNCgkJfSk7DQoJfSwNCglfcGFnZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYWdlSW5kZXgpIHsNCgkJaWYgKGNvbnRleHQuc2VhcmNoVGV4dCkNCgkJCV9zZWFyY2goY29udGV4dCwgY29udGV4dC5zZWFyY2hUZXh0LCBwYWdlSW5kZXgpOw0KCQllbHNlDQoJCQlfbGlzdChjb250ZXh0LCBwYWdlSW5kZXgpOw0KCX0sDQoJX3JlZnJlc2ggPSBmdW5jdGlvbihjb250ZXh0KSB7DQoJCWlmKGNvbnRleHQuc2VhcmNoVGV4dCkNCgkJCV9zZWFyY2goY29udGV4dCwgY29udGV4dC5zZWFyY2hUZXh0LCBwYWdlSW5kZXgpOw0KCQllbHNlDQoJCQlfbGlzdChjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCk7DQoJfSwNCglfbGlzdCA9IGZ1bmN0aW9uKGNvbnRleHQsIHBhZ2VJbmRleCkgew0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCXVybDogY29udGV4dC5saXN0VXJsLA0KCQkJZGF0YTogeyB3X3BhZ2VJbmRleDogcGFnZUluZGV4LCB3X3NvcnRCeTogKGNvbnRleHQuc29ydEJ5IHx8IGNvbnRleHQuZGVmYXVsdFNvcnRCeSksIHdfc29ydE9yZGVyOiAoY29udGV4dC5zb3J0T3JkZXIgfHwgY29udGV4dC5kZWZhdWx0U29ydE9yZGVyKSB9LA0KCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCgkJCQljb250ZXh0Lmxpc3QuaHRtbChyZXNwb25zZSk7DQoJCQkJY29udGV4dC5wYWdlSW5kZXggPSBwYWdlSW5kZXg7DQoJCQkJY29udGV4dC5zZWFyY2hUZXh0ID0gJyc7DQoJCQkJX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KCQkJfSwNCgkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuZXJyb3IsDQoJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkgew0KCQkJCWNvbnRleHQubGlzdC5odG1sKCc8ZGl2IGNsYXNzPSJtZXNzYWdlIGVycm9yIGVycm9yX19tZXNzYWdlIj4nICsgZGVzYyArICc8L2Rpdj4nKTsNCgkJCX0NCgkJfSk7DQoJfSwNCglfc2VhcmNoID0gZnVuY3Rpb24oY29udGV4dCwgcXVlcnksIHBhZ2VJbmRleCkgew0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCXVybDogY29udGV4dC5zZWFyY2hVcmwsDQoJCQlkYXRhOiB7IHdfc2VhcmNoVGV4dDogcXVlcnksIHdfcGFnZUluZGV4OiBwYWdlSW5kZXggfSwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJY29udGV4dC5saXN0Lmh0bWwocmVzcG9uc2UpOw0KCQkJCWNvbnRleHQucGFnZUluZGV4ID0gcGFnZUluZGV4Ow0KCQkJCWNvbnRleHQuc2VhcmNoVGV4dCA9IHF1ZXJ5Ow0KCQkJCV9hdHRhY2hIYW5kbGVycyhjb250ZXh0KTsNCgkJCX0sDQoJCQlkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmVycm9yLA0KCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsNCgkJCQljb250ZXh0Lmxpc3QuaHRtbCgnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciBlcnJvcl9fbWVzc2FnZSI+JyArIGRlc2MgKyAnPC9kaXY+Jyk7DQoJCQl9DQoJCX0pOw0KCX0sDQoJX2NvbnZlcnRDbGFzc1RvU29ydEJ5ID0gZnVuY3Rpb24oY29udGV4dCwgc29ydEJ5Q2xhc3MpIHsNCgkJc3dpdGNoKHNvcnRCeUNsYXNzKSB7DQoJCQljYXNlICdwb3N0LWNvdW50JzogcmV0dXJuICdUb3RhbFBvc3RzJzsNCgkJCWNhc2UgJ3Bvc3QtZGF0ZSc6IHJldHVybiAnTGFzdFBvc3QnOw0KCQkJY2FzZSAnYXBwbGljYXRpb24tdGl0bGUnOg0KCQkJY2FzZSAnYXBwbGljYXRpb24tZ3JvdXAnOg0KCQkJZGVmYXVsdDogcmV0dXJuICdOYW1lJzsNCgkJfQ0KCX0sDQoJX2NvbnZlcnRDbGFzc1RvU29ydE9yZGVyID0gZnVuY3Rpb24oY29udGV4dCwgc29ydE9yZGVyQ2xhc3MsIHJldmVyc2UpIHsNCgkJc3dpdGNoKHNvcnRPcmRlckNsYXNzKSB7DQoJCQljYXNlICdzb3J0LWFzY2VuZGluZyc6IA0KCQkJCWlmKCFyZXZlcnNlKQ0KCQkJCQlyZXR1cm4gJ0FzY2VuZGluZyc7DQoJCQkJZWxzZQ0KCQkJCQlyZXR1cm4gJ0Rlc2NlbmRpbmcnOw0KCQkJCWJyZWFrOw0KCQkJY2FzZSAnc29ydC1kZXNjZW5kaW5nJzogDQoJCQlkZWZhdWx0OiANCgkJCQlpZighcmV2ZXJzZSkNCgkJCQkJcmV0dXJuICdEZXNjZW5kaW5nJzsNCgkJCQllbHNlDQoJCQkJCXJldHVybiAnQXNjZW5kaW5nJzsNCgkJCQlicmVhazsNCgkJfQ0KCX07DQoJCQ0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmJyb3dzZUZvcnVtcyA9IHsNCgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJCXZhciB3ID0gJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCk7DQoJCQ0KCQkJJCgnLmZpZWxkLWl0ZW0taW5wdXQgaW5wdXQnLCB3KS5jbGljayhmdW5jdGlvbigpIHsNCgkJCQkJaWYgKCQodGhpcykudmFsKCkgPT0gY29udGV4dC5kZWZhdWx0U2VhcmNoVGV4dCkNCgkJCQkJCSQodGhpcykudmFsKCcnKTsNCgkJCQl9KS5rZXl1cChmdW5jdGlvbihlKSB7DQoJCQkJCWNvbnRleHQuX2xhc3RLZXlDb2RlID0gZS5rZXlDb2RlOw0KCQkJCQlpZiAoY29udGV4dC5fc2VhcmNoVGltZW91dCkNCgkJCQkJCWNsZWFyVGltZW91dChjb250ZXh0Ll9zZWFyY2hUaW1lb3V0KTsNCgkJCQkJDQoJCQkJCXZhciBzZWFyY2hUZXh0ID0gJCh0aGlzKS52YWwoKTsNCgkJCQkJDQoJCQkJCWlmIChzZWFyY2hUZXh0Lmxlbmd0aCA+IDApIHsNCgkJCQkJCSQoJy5pbnRlcm5hbC1saW5rLmNsZWFyLXNlYXJjaCcsIHcpLnNob3coKTsNCgkJCQkJCWNvbnRleHQuX3NlYXJjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkJeyBfc2VhcmNoKGNvbnRleHQsIHNlYXJjaFRleHQsIDApOyB9LCA1MDApOw0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJJCgnLmludGVybmFsLWxpbmsuY2xlYXItc2VhcmNoJywgdykuaGlkZSgpOw0KCQkJCQkJY29udGV4dC5fc2VhcmNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IF9saXN0KGNvbnRleHQsIDApOyB9LCA1MDApOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQkNCgkJCSQoJy5pbnRlcm5hbC1saW5rLmNsZWFyLXNlYXJjaCcsIHcpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJCSQoJy5maWVsZC1pdGVtLWlucHV0IGlucHV0JywgdykudmFsKCcnKTsNCgkJCQlfbGlzdChjb250ZXh0LCAwKTsNCgkJCQkkKHRoaXMpLmhpZGUoKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KS5oaWRlKCk7DQoJCQkJDQoJCQlfYXR0YWNoSGFuZGxlcnMoY29udGV4dCk7DQoJCX0NCgl9Ow0KfSkoalF1ZXJ5KTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_BrowseMediaGalleries_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_BrowseMediaGalleries_Description}" instanceIdentifier="9ede0520b2374b0c851730e85afc2c17" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="browse-media-galleries">
		<contentScript>
#set($pageIndex = 0)
#set($pageIndex = $core_v2_page.GetFormValue('pageIndex'))
#set($pageSize = 5)
#set($pageSize = $core_v2_widget.GetIntValue('itemsBeforeScroll', 5))
#set($showSubGroups = $core_v2_widget.GetBoolValue('groupAndSubGroups', false))
#set($sortOrder = 'Descending')
#set($showSortOptions = true)
#set ($sortBy = 'ApplicationName')
#set ($sortBy = $core_v2_widget.GetStringValue('defaultSortOrder', 'ApplicationName'))
## Simple mapping to convert configuration's name for Name and PostCount to the API's
#if ($sortBy == 'ApplicationName')
	#set ($sortBy = 'Name')
	#set($sortOrder = 'Ascending')
#elseif ($sortBy == 'Posts')
	#set ($sortBy = 'TotalPosts')
#end

#set($galleries = false)
#set($galleries = $core_v2_gallery.List("%{GroupId=$core_v2_group.Current.Id,IncludeSubGroups=$showSubGroups,PageIndex=$pageIndex,PageSize=$pageSize,SortBy=$sortBy,SortOrder=$sortOrder}"))

#if($core_v2_widget.GetBoolValue('includeSearch', true) &amp;&amp; $galleries &amp;&amp; $galleries.TotalCount &gt; 3)
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;&lt;input type="text" value="$core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterMediaGallery')" /&gt;&lt;a href="javascript:void(0)" class="internal-link clear-search" title="$core_v2_language.GetResource('BrowseGroups_Clear')"&gt;$core_v2_language.GetResource('BrowseGroups_Clear')&lt;/a&gt;&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#end

&lt;div id="$core_v2_widget.UniqueId('list')"&gt;
	$core_v2_widget.ExecuteFile('list.vm')
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.BrowseMediaGalleries')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.browseGalleries.register({
			searchUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('search-callback.vm'))',
			listUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('list-callback.vm'))',
			wrapperId: '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
			pageIndex: 0,
			pageSize: $core_v2_widget.GetIntValue('itemsBeforeScroll', 5),
			defaultSearchText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterMediaGallery'))',
			list: jQuery('#$core_v2_widget.UniqueId('list')'),
			error: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_Error'))',
			defaultSortBy: '$core_v2_encoding.JavascriptEncode($sortBy)',
			defaultSortOrder: '$core_v2_encoding.JavascriptEncode($sortOrder)'			
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
#if($core_v2_widget.GetBoolValue('includeGroupName',false))
	$core_v2_language.FormatString($core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_BrowseMediaGalleries_Name}')), $core_v2_group.Current.Name)
#else
	$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_BrowseMediaGalleries_Name}'))
#end
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_BrowseMediaGalleries_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="showTitleColumn" resourceName="UIFragment_Core_BrowseApplication_ShowTitle_MediaGallery" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showGroupColumn" resourceName="UIFragment_Core_BrowseApplication_ShowGroup_MediaGallery" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="showPostsColumn" resourceName="UIFragment_Core_BrowseApplication_ShowPosts" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showLastPostColumn" resourceName="UIFragment_Core_BrowseApplication_ShowLatest" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="groupAndSubGroups" resourceName="UIFragment_Core_BrowseApplication_GroupAndSubGroups" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="itemsBeforeScroll" resourceName="UIFragment_Core_BrowseApplication_ItemsToShow" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="defaultSortOrder" resourceName="UIFragment_Core_BrowseApplication_DefaultSortOrder" dataType="string" defaultValue="ApplicationName"&gt;
		&lt;propertyValue value="ApplicationName" resourceName="UIFragment_Core_BrowseApplication_ApplicationName" /&gt;
		&lt;propertyValue value="Posts" resourceName="UIFragment_Core_BrowseApplication_Posts" /&gt;
		&lt;propertyValue value="LastPost" resourceName="UIFragment_Core_BrowseApplication_LastPost" /&gt;
	&lt;/property&gt;
	&lt;property id="includeGroupName" resourceName="UIFragment_Core_BrowseApplication_IncludeGroupName" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="includeSearch" resourceName="UIFragment_Core_BrowseApplication_IncludeSearch" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_BrowseMediaGalleries_Name">Media Gallery - Browse Media Galleries</resource><resource name="MediaGalleries_BrowseMediaGalleries_Description">Displays a browse control to view all media galleries on the site.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UIFragment_Core_BrowseApplication_ShowTitle_MediaGallery">Show File Gallery Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowGroup_MediaGallery">Show File Gallery Group Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowPosts">Show Post Count</resource><resource name="UIFragment_Core_BrowseApplication_ShowLatest">Show Latest Post Date</resource><resource name="UIFragment_Core_BrowseApplication_GroupAndSubGroups">Show data from Group and all Subgroups</resource><resource name="UIFragment_Core_BrowseApplication_ItemsToShow">Number of results to display</resource><resource name="UIFragment_Core_BrowseApplication_DefaultSortOrder">Default Sort Order</resource><resource name="UIFragment_Core_BrowseApplication_ApplicationName">Application Name</resource><resource name="UIFragment_Core_BrowseApplication_Posts">Posts</resource><resource name="UIFragment_Core_BrowseApplication_LastPost">Last Post</resource><resource name="UIFragment_Core_BrowseApplication_IncludeGroupName">Include current group's name in Title (Title must be a formatted string with a {0} placeholder)</resource><resource name="UIFragment_Core_BrowseApplication_IncludeSearch">Include search box (when more than 3 results)</resource><resource name="UIFragment_Core_BrowseApplication_FilterMediaGallery">Find a gallery...</resource><resource name="BrowseGroups_Clear">Clear</resource><resource name="UIFragment_Core_BrowseApplication_Error">An error occurred while searching.</resource><resource name="UIFragment_Core_BrowseApplication_MediaGalleryColumn">File Gallery</resource><resource name="UIFragment_Core_BrowseApplication_GroupColumn">Group</resource><resource name="UIFragment_Core_BrowseApplication_PostsColumn">Posts</resource><resource name="UIFragment_Core_BrowseApplication_LastPostColumn">Last Post</resource><resource name="UIFragment_Core_BrowseApplication_RemoveFavorite">Remove from Bookmarks</resource><resource name="UIFragment_Core_BrowseApplication_AddFavorite">Bookmark</resource><resource name="Today">Today</resource><resource name="Yesterday">Yesterday</resource><resource name="NA">N/A</resource><resource name="UIFragment_Core_BrowseApplication_NoResults">No results could be found.</resource><resource name="Utility_Pager_previousButton">&lt; Previous</resource><resource name="Utility_Pager_nextButton">Next &gt;</resource><resource name="MediaGalleries_BrowseMediaGalleries_Title_BrowseFileGalleries">Browse File Galleries</resource></language></languageResources>
		<files>
			<file name="header.vm">I3NldCgkc2hvd1RpdGxlID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd1RpdGxlQ29sdW1uJywgdHJ1ZSkpDQojc2V0KCRzaG93R3JvdXAgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93R3JvdXBDb2x1bW4nLCBmYWxzZSkpDQojc2V0KCRzaG93UG9zdHMgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93UG9zdHNDb2x1bW4nLCB0cnVlKSkNCiNzZXQoJHNob3dMYXN0UG9zdCA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ3Nob3dMYXN0UG9zdENvbHVtbicsIHRydWUpKQ0KI3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8dGhlYWQ+DQoJPHRyIGNsYXNzPSJ0YWJsZS1oZWFkZXIiPg0KCQkjaWYoJHNob3dUaXRsZSkNCgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBhcHBsaWNhdGlvbi10aXRsZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9NZWRpYUdhbGxlcnlDb2x1bW4nKSNpZigkc2hvd1NvcnRPcHRpb25zKTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rI2lmKCEkc29ydEJ5IHx8ICRzb3J0QnkgIT0gJ05hbWUnIHx8ICRzb3J0T3JkZXIuVG9Mb3dlcigpID09ICdhc2NlbmRpbmcnKSBzb3J0LWFzY2VuZGluZyNlbHNlIHNvcnQtZGVzY2VuZGluZyNlbmQiPjxzcGFuPjwvc3Bhbj48L2E+I2VuZDwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgkJI2lmKCRzaG93R3JvdXApDQoJCQk8dGggY2xhc3M9InRhYmxlLWhlYWRlci1jb2x1bW4gYXBwbGljYXRpb24tZ3JvdXAiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fR3JvdXBDb2x1bW4nKTwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgkJI2lmKCRzaG93UG9zdHMpDQoJCQk8dGggY2xhc3M9InRhYmxlLWhlYWRlci1jb2x1bW4gcG9zdC1jb3VudCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9Qb3N0c0NvbHVtbicpI2lmKCRzaG93U29ydE9wdGlvbnMpPGEgY2xhc3M9ImludGVybmFsLWxpbmsjaWYoISRzb3J0QnkgfHwgJHNvcnRCeSAhPSAnVG90YWxQb3N0cycgfHwgJHNvcnRPcmRlci5Ub0xvd2VyKCkgPT0gJ2Rlc2NlbmRpbmcnKSBzb3J0LWRlc2NlbmRpbmcjZWxzZSBzb3J0LWFzY2VuZGluZyNlbmQiPjxzcGFuPjwvc3Bhbj48L2E+I2VuZDwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgkJI2lmKCRzaG93TGFzdFBvc3QpDQoJCQk8dGggY2xhc3M9InRhYmxlLWhlYWRlci1jb2x1bW4gcG9zdC1kYXRlIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX0xhc3RQb3N0Q29sdW1uJykjaWYoJHNob3dTb3J0T3B0aW9ucyk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayNpZighJHNvcnRCeSB8fCAkc29ydEJ5ICE9ICdMYXN0UG9zdCcgfHwgJHNvcnRPcmRlci5Ub0xvd2VyKCkgPT0gJ2Rlc2NlbmRpbmcnKSBzb3J0LWRlc2NlbmRpbmcjZWxzZSBzb3J0LWFzY2VuZGluZyNlbmQiPjxzcGFuPjwvc3Bhbj48L2E+I2VuZDwvdGg+DQoJCQkjc2V0KCRjb2x1bW5Db3VudCA9ICRjb2x1bW5Db3VudCArIDEpDQoJCSNlbmQNCgk8L3RyPgkJDQo8L3RoZWFkPg0KDQo=</file>
			<file name="list-callback.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJHBhZ2VTaXplID0gNSkNCiNzZXQoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdpdGVtc0JlZm9yZVNjcm9sbCcsIDUpKQ0KI3NldCgkc2hvd1N1Ykdyb3VwcyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2dyb3VwQW5kU3ViR3JvdXBzJywgZmFsc2UpKQ0KI3NldCgkc29ydEJ5ID0gJ05hbWUnKQ0KI3NldCgkc29ydE9yZGVyID0gJ0FzY2VuZGluZycpDQojc2V0KCRzb3J0QnkgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc29ydEJ5JykpDQojc2V0KCRzb3J0T3JkZXIgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc29ydE9yZGVyJykpDQojc2V0KCRzaG93U29ydE9wdGlvbnMgPSB0cnVlKQ0KDQojc2V0KCRnYWxsZXJpZXMgPSBmYWxzZSkNCiNzZXQoJGdhbGxlcmllcyA9ICRjb3JlX3YyX2dhbGxlcnkuTGlzdCgiJXtHcm91cElkPSRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQsSW5jbHVkZVN1Ykdyb3Vwcz0kc2hvd1N1Ykdyb3VwcyxQYWdlSW5kZXg9JHBhZ2VJbmRleCxQYWdlU2l6ZT0kcGFnZVNpemUsU29ydEJ5PSRzb3J0QnksU29ydE9yZGVyPSRzb3J0T3JkZXJ9IikpDQoNCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnbGlzdC52bScp</file>
			<file name="list.vm">I3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWhlYWRlciI+PC9kaXY+DQo8dGFibGUgY2xhc3M9InRhYmxlLWxpc3QiPg0KCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnaGVhZGVyLnZtJykNCgk8dGJvZHk+DQoJI2ZvcmVhY2goJGdhbGxlcnkgaW4gJGdhbGxlcmllcykNCgkJI2VhY2gNCgkJCTx0ciBjbGFzcz0idGFibGUtaXRlbSI+DQoJCQkJI2lmKCRzaG93VGl0bGUpDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIGFwcGxpY2F0aW9uLXRpdGxlIj4NCgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctYXBwbGljYXRpb24iIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGdhbGxlcnkuVXJsKSI+JGdhbGxlcnkuTmFtZTwvYT4NCgkJCQkJCSNpZiAoJGdhbGxlcnkgJiYgJGNvcmVfdjJfYm9va21hcmsuU3VwcG9ydHNCb29rbWFya3MoJGNvcmVfdjJfZ2FsbGVyeS5Db250ZW50VHlwZUlkKSAmJiAkY29yZV92Ml9ib29rbWFyay5DYW5Cb29rbWFyaygkZ2FsbGVyeS5Db250ZW50SWQsICRjb3JlX3YyX2dhbGxlcnkuQ29udGVudFR5cGVJZCkgJiYgJGNvcmVfdjJfYm9va21hcmsuQ2FuVW5Cb29rbWFyaygkZ2FsbGVyeS5Db250ZW50SWQsICRjb3JlX3YyX2dhbGxlcnkuQ29udGVudFR5cGVJZCkpDQoJCQkJCQkJJGNvcmVfdjJfdWkuQm9va21hcmsoJGdhbGxlcnkuQ29udGVudElkLCAkY29yZV92Ml9nYWxsZXJ5LkNvbnRlbnRUeXBlSWQpDQoJCQkJCQkjZW5kDQoJCQkJCQkjaWYoJGdhbGxlcnkuRGVzY3JpcHRpb24pPHNwYW4gY2xhc3M9ImRlc2NyaXB0aW9uIj4kZ2FsbGVyeS5EZXNjcmlwdGlvbjwvc3Bhbj4jZW5kDQoJCQkJCTwvdGQ+DQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd0dyb3VwKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBhcHBsaWNhdGlvbi1ncm91cCI+JGdhbGxlcnkuR3JvdXAuTmFtZTwvdGQ+DQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd1Bvc3RzIHx8ICRzaG93TGFzdFBvc3QpDQoJCQkJCSNzZXQoJHBhZ2VzID0gJGNvcmVfdjJfbWVkaWEuTGlzdCgiJXtHYWxsZXJ5SWQ9JGdhbGxlcnkuSWQsUGFnZUluZGV4PTAsUGFnZVNpemU9MX0iKSkNCgkJCQkjZW5kDQoJCQkJI2lmKCRzaG93UG9zdHMpDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIHBvc3QtY291bnQiPg0KCQkJCQkJJHBhZ2VzLlRvdGFsQ291bnQuVG9TdHJpbmcoIiMsIzAiKQ0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYgKCRzaG93TGFzdFBvc3QpDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIHBvc3QtZGF0ZSI+DQoJCQkJCQkjaWYoJHBhZ2VzLlRvdGFsQ291bnQgPiAwKQ0KCQkJCQkJCSNzZXQgKCRjdXJyZW50RGF0ZVN0cmluZyA9ICRjb3JlX3YyX3V0aWxpdHkuQ3VycmVudERhdGUuVG9kYXkuVG9TaG9ydERhdGVTdHJpbmcoKSkNCgkJCQkJCQkjaWYgKCRnYWxsZXJ5LkxhdGVzdFBvc3REYXRlLlRvU2hvcnREYXRlU3RyaW5nKCkgPT0gJGN1cnJlbnREYXRlU3RyaW5nKQ0KCQkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVG9kYXknKQ0KCQkJCQkJCSNlbHNlaWYoJGdhbGxlcnkuTGF0ZXN0UG9zdERhdGUuQWRkRGF5cygxKS5Ub1Nob3J0RGF0ZVN0cmluZygpID09ICRjdXJyZW50RGF0ZVN0cmluZykNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1llc3RlcmRheScpDQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkZ2FsbGVyeS5MYXRlc3RQb3N0RGF0ZSkNCgkJCQkJCQkjZW5kDQoJCQkJCQkjZWxzZQ0KCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOQScpDQoJCQkJCQkjZW5kDQoJCQkJCTwvdGQ+DQoJCQkJI2VuZA0KCQkJPC90cj4NCgkJCSNzZXQoJGhhc1Jlc3VsdHMgPSB0cnVlKQ0KCQkjbm9kYXRhDQoJCQk8dHIgY2xhc3M9InRhYmxlLWl0ZW0iPjx0ZCBjb2xzcGFuPSIkY29sdW1uQ291bnQiPjxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX05vUmVzdWx0cycpPC9kaXY+PC90ZD48L3RyPg0KCSNlbmQNCgk8L3Rib2R5Pg0KPC90YWJsZT4NCjxkaXYgY2xhc3M9InRhYmxlLWxpc3QtZm9vdGVyIj48L2Rpdj4NCjxkaXYgY2xhc3M9InBhZ2VyIj4NCgkjaWYoJGdhbGxlcmllcy5QYWdlSW5kZXggPiAwKQ0KCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJwcmV2aW91cyI+PHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1V0aWxpdHlfUGFnZXJfcHJldmlvdXNCdXR0b24nKTwvc3Bhbj48L2E+DQoJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPjwvc3Bhbj4NCgkjZW5kDQoJI2lmKCgkZ2FsbGVyaWVzLlBhZ2VJbmRleCArIDEpICogJGdhbGxlcmllcy5QYWdlU2l6ZSA8ICRnYWxsZXJpZXMuVG90YWxDb3VudCkNCgkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0ibmV4dCI+PHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1V0aWxpdHlfUGFnZXJfbmV4dEJ1dHRvbicpPC9zcGFuPjwvYT4NCgkjZW5kDQo8L2Rpdj4=</file>
			<file name="search-callback.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJHNlYXJjaFRleHQgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc2VhcmNoVGV4dCcpKQ0KI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ2l0ZW1zQmVmb3JlU2Nyb2xsJywgNSkpDQojc2V0KCRzb3J0QnkgPSBmYWxzZSkNCiNzZXQoJHNvcnRPcmRlciA9IGZhbHNlKQ0KI3NldCgkc2hvd1N1Ykdyb3VwcyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2dyb3VwQW5kU3ViR3JvdXBzJywgZmFsc2UpKQ0KDQojc2V0KCRzZWFyY2hSZXN1bHRzID0gJGNvcmVfdjJfZ2FsbGVyeS5TZWFyY2goJHNlYXJjaFRleHQsICIle0dyb3VwSWQ9JGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCxJbmNsdWRlU3ViR3JvdXBzPSRzaG93U3ViR3JvdXBzLFBhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleH0iKSkNCg0KI3NldCgkY29sdW1uQ291bnQgPSAwKQ0KI3NldCgkc2hvd1NvcnRPcHRpb25zID0gZmFsc2UpDQojc2V0KCRoYXNSZXN1bHRzID0gZmFsc2UpDQoNCjxkaXYgY2xhc3M9InRhYmxlLWxpc3QtaGVhZGVyIj48L2Rpdj4NCjx0YWJsZSBjbGFzcz0idGFibGUtbGlzdCI+DQoJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdoZWFkZXIudm0nKQ0KCTx0Ym9keT4NCgkjZm9yZWFjaCgkc2VhcmNoUmVzdWx0IGluICRzZWFyY2hSZXN1bHRzKQ0KCSNlYWNoDQoJCSNzZXQoJGdhbGxlcnkgPSBmYWxzZSkNCgkJI3NldCgkZ2FsbGVyeSA9ICRjb3JlX3YyX2dhbGxlcnkuR2V0KCIle0lkPSRzZWFyY2hSZXN1bHQuQ29udGVudElkfSIpKQ0KCQkjaWYoJGdhbGxlcnkpDQoJCQk8dHIgY2xhc3M9InRhYmxlLWl0ZW0iPg0KCQkJCSNpZigkc2hvd1RpdGxlKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBhcHBsaWNhdGlvbi10aXRsZSI+DQoJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LWFwcGxpY2F0aW9uIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRnYWxsZXJ5LlVybCkiPiRnYWxsZXJ5Lk5hbWU8L2E+DQoJCQkJCQkjaWYgKCRnYWxsZXJ5ICYmICRjb3JlX3YyX2Jvb2ttYXJrLlN1cHBvcnRzQm9va21hcmtzKCRjb3JlX3YyX2dhbGxlcnkuQ29udGVudFR5cGVJZCkgJiYgJGNvcmVfdjJfYm9va21hcmsuQ2FuQm9va21hcmsoJGdhbGxlcnkuQ29udGVudElkLCAkY29yZV92Ml9nYWxsZXJ5LkNvbnRlbnRUeXBlSWQpICYmICRjb3JlX3YyX2Jvb2ttYXJrLkNhblVuQm9va21hcmsoJGdhbGxlcnkuQ29udGVudElkLCAkY29yZV92Ml9nYWxsZXJ5LkNvbnRlbnRUeXBlSWQpKQ0KCQkJCQkJCSRjb3JlX3YyX3VpLkJvb2ttYXJrKCRnYWxsZXJ5LkNvbnRlbnRJZCwgJGNvcmVfdjJfZ2FsbGVyeS5Db250ZW50VHlwZUlkKQ0KCQkJCQkJI2VuZA0KCQkJCQkJI2lmKCRnYWxsZXJ5LkRlc2NyaXB0aW9uKTxzcGFuIGNsYXNzPSJkZXNjcmlwdGlvbiI+JGdhbGxlcnkuRGVzY3JpcHRpb248L3NwYW4+I2VuZA0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dHcm91cCkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gYXBwbGljYXRpb24tZ3JvdXAiPiRnYWxsZXJ5Lkdyb3VwLk5hbWU8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dQb3N0cyB8fCAkc2hvd0xhc3RQb3N0KQ0KCQkJCQkjc2V0KCRwYWdlcyA9ICRjb3JlX3YyX21lZGlhLkxpc3QoIiV7R2FsbGVyeUlkPSRnYWxsZXJ5LklkLFBhZ2VJbmRleD0wLFBhZ2VTaXplPTF9IikpDQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd1Bvc3RzKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWNvdW50Ij4NCgkJCQkJCSRwYWdlcy5Ub3RhbENvdW50DQoJCQkJCTwvdGQ+DQoJCQkJI2VuZA0KCQkJCSNpZiAoJHNob3dMYXN0UG9zdCkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gcG9zdC1kYXRlIj4NCgkJCQkJCSNpZigkcGFnZXMuVG90YWxDb3VudCA+IDApDQoJCQkJCQkJI3NldCAoJGN1cnJlbnREYXRlU3RyaW5nID0gJGNvcmVfdjJfdXRpbGl0eS5DdXJyZW50RGF0ZS5Ub2RheS5Ub1Nob3J0RGF0ZVN0cmluZygpKQ0KCQkJCQkJCSNpZiAoJGdhbGxlcnkuTGF0ZXN0UG9zdERhdGUuVG9TaG9ydERhdGVTdHJpbmcoKSA9PSAkY3VycmVudERhdGVTdHJpbmcpDQoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdUb2RheScpDQoJCQkJCQkJI2Vsc2VpZigkZ2FsbGVyeS5MYXRlc3RQb3N0RGF0ZS5BZGREYXlzKDEpLlRvU2hvcnREYXRlU3RyaW5nKCkgPT0gJGN1cnJlbnREYXRlU3RyaW5nKQ0KCQkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnWWVzdGVyZGF5JykNCgkJCQkJCQkjZWxzZQ0KCQkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRnYWxsZXJ5LkxhdGVzdFBvc3REYXRlKQ0KCQkJCQkJCSNlbmQNCgkJCQkJCSNlbHNlDQoJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05BJykNCgkJCQkJCSNlbmQNCgkJCQkJPC90ZD4NCgkJCQkjZW5kDQoJCQk8L3RyPg0KCQkJI3NldCgkaGFzUmVzdWx0cyA9IHRydWUpDQoJCSNlbmQNCgkjZW5kDQoJI2lmKCEkaGFzUmVzdWx0cykNCgkJPHRyIGNsYXNzPSJ0YWJsZS1pdGVtIj48dGQgY29sc3Bhbj0iJGNvbHVtbkNvdW50Ij48ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9Ob1Jlc3VsdHMnKTwvZGl2PjwvdGQ+PC90cj4NCgkjZW5kDQo8L3Rib2R5Pg0KPC90YWJsZT4NCjxkaXYgY2xhc3M9InRhYmxlLWxpc3QtZm9vdGVyIj48L2Rpdj4NCjxkaXYgY2xhc3M9InBhZ2VyIj4NCgkjaWYoJHNlYXJjaFJlc3VsdHMuUGFnZUluZGV4ID4gMCkNCgkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0icHJldmlvdXMiPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVdGlsaXR5X1BhZ2VyX3ByZXZpb3VzQnV0dG9uJyk8L3NwYW4+PC9hPg0KCQk8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj48L3NwYW4+DQoJI2VuZA0KCSNpZigoJHNlYXJjaFJlc3VsdHMuUGFnZUluZGV4ICsgMSkgKiAkc2VhcmNoUmVzdWx0cy5QYWdlU2l6ZSA8ICRzZWFyY2hSZXN1bHRzLlRvdGFsQ291bnQpDQoJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9Im5leHQiPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVdGlsaXR5X1BhZ2VyX25leHRCdXR0b24nKTwvc3Bhbj48L2E+DQoJI2VuZA0KPC9kaXY+</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICAgICAkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJdmFyIF9hdHRhY2hIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJdmFyIHcgPSAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKTsNCgkJDQoJCSQoJy5wYWdlciAucHJldmlvdXMnLCB3KS5jbGljayhmdW5jdGlvbigpIHsNCgkJCV9wYWdlKGNvbnRleHQsIGNvbnRleHQucGFnZUluZGV4IC0gMSk7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0pOw0KCQkNCgkJJCgnLnBhZ2VyIC5uZXh0JywgdykuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQlfcGFnZShjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCArIDEpOw0KCQkJcmV0dXJuIGZhbHNlOw0KCQl9KTsNCgkJDQoJCSQoJy50YWJsZS1oZWFkZXItY29sdW1uJywgdykuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQlpZiAoJCgnYScsIHRoaXMpLmxlbmd0aCA+IDApDQoJCQl7DQoJCQkJdmFyIHNvcnRCeSA9ICQodGhpcykuYXR0cignY2xhc3MnKS5zcGxpdCgnICcpWzFdOw0KCQkJCWNvbnRleHQuc29ydEJ5ID0gX2NvbnZlcnRDbGFzc1RvU29ydEJ5KGNvbnRleHQsIHNvcnRCeSk7DQoJCQkJdmFyIHNvcnRPcmRlciA9ICQoJ2EnLCB0aGlzKS5hdHRyKCdjbGFzcycpLnNwbGl0KCcgJylbMV07DQoJCQkJY29udGV4dC5zb3J0T3JkZXIgPSBfY29udmVydENsYXNzVG9Tb3J0T3JkZXIoY29udGV4dCwgc29ydE9yZGVyLCB0cnVlKTsNCgkJCQlfbGlzdChjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCk7DQoJCQl9DQoJCX0pOw0KCQkNCgkJJCgnLnRhYmxlLWhlYWRlci1jb2x1bW4gYScsIHcpLmNsaWNrKGZ1bmN0aW9uKGUpIHsNCgkJCSQodGhpcykucGFyZW50KCkuY2xpY2soKTsNCgkJCXJldHVybiBmYWxzZTsNCgkJfSk7DQoJfSwNCglfcGFnZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYWdlSW5kZXgpIHsNCgkJaWYgKGNvbnRleHQuc2VhcmNoVGV4dCkNCgkJCV9zZWFyY2goY29udGV4dCwgY29udGV4dC5zZWFyY2hUZXh0LCBwYWdlSW5kZXgpOw0KCQllbHNlDQoJCQlfbGlzdChjb250ZXh0LCBwYWdlSW5kZXgpOw0KCX0sDQoJX3JlZnJlc2ggPSBmdW5jdGlvbihjb250ZXh0KSB7DQoJCWlmKGNvbnRleHQuc2VhcmNoVGV4dCkNCgkJCV9zZWFyY2goY29udGV4dCwgY29udGV4dC5zZWFyY2hUZXh0LCBwYWdlSW5kZXgpOw0KCQllbHNlDQoJCQlfbGlzdChjb250ZXh0LCBjb250ZXh0LnBhZ2VJbmRleCk7DQoJfSwNCglfbGlzdCA9IGZ1bmN0aW9uKGNvbnRleHQsIHBhZ2VJbmRleCkgew0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCXVybDogY29udGV4dC5saXN0VXJsLA0KCQkJZGF0YTogeyB3X3BhZ2VJbmRleDogcGFnZUluZGV4LCB3X3NvcnRCeTogKGNvbnRleHQuc29ydEJ5IHx8IGNvbnRleHQuZGVmYXVsdFNvcnRCeSksIHdfc29ydE9yZGVyOiAoY29udGV4dC5zb3J0T3JkZXIgfHwgY29udGV4dC5kZWZhdWx0U29ydE9yZGVyKSB9LA0KCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCgkJCQljb250ZXh0Lmxpc3QuaHRtbChyZXNwb25zZSk7DQoJCQkJY29udGV4dC5wYWdlSW5kZXggPSBwYWdlSW5kZXg7DQoJCQkJY29udGV4dC5zZWFyY2hUZXh0ID0gJyc7DQoJCQkJX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KCQkJfSwNCgkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuZXJyb3IsDQoJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkgew0KCQkJCWNvbnRleHQubGlzdC5odG1sKCc8ZGl2IGNsYXNzPSJtZXNzYWdlIGVycm9yIGVycm9yX19tZXNzYWdlIj4nICsgZGVzYyArICc8L2Rpdj4nKTsNCgkJCX0NCgkJfSk7DQoJfSwNCglfc2VhcmNoID0gZnVuY3Rpb24oY29udGV4dCwgcXVlcnksIHBhZ2VJbmRleCkgew0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCXVybDogY29udGV4dC5zZWFyY2hVcmwsDQoJCQlkYXRhOiB7IHdfc2VhcmNoVGV4dDogcXVlcnksIHdfcGFnZUluZGV4OiBwYWdlSW5kZXggfSwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJY29udGV4dC5saXN0Lmh0bWwocmVzcG9uc2UpOw0KCQkJCWNvbnRleHQucGFnZUluZGV4ID0gcGFnZUluZGV4Ow0KCQkJCWNvbnRleHQuc2VhcmNoVGV4dCA9IHF1ZXJ5Ow0KCQkJCV9hdHRhY2hIYW5kbGVycyhjb250ZXh0KTsNCgkJCX0sDQoJCQlkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmVycm9yLA0KCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsNCgkJCQljb250ZXh0Lmxpc3QuaHRtbCgnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciBlcnJvcl9fbWVzc2FnZSI+JyArIGRlc2MgKyAnPC9kaXY+Jyk7DQoJCQl9DQoJCX0pOw0KCX0sDQoJX2NvbnZlcnRDbGFzc1RvU29ydEJ5ID0gZnVuY3Rpb24oY29udGV4dCwgc29ydEJ5Q2xhc3MpIHsNCgkJc3dpdGNoKHNvcnRCeUNsYXNzKSB7DQoJCQljYXNlICdwb3N0LWNvdW50JzogcmV0dXJuICdUb3RhbFBvc3RzJzsNCgkJCWNhc2UgJ3Bvc3QtZGF0ZSc6IHJldHVybiAnTGFzdFBvc3QnOw0KCQkJY2FzZSAnYXBwbGljYXRpb24tdGl0bGUnOg0KCQkJY2FzZSAnYXBwbGljYXRpb24tZ3JvdXAnOg0KCQkJZGVmYXVsdDogcmV0dXJuICdOYW1lJzsNCgkJfQ0KCX0sDQoJX2NvbnZlcnRDbGFzc1RvU29ydE9yZGVyID0gZnVuY3Rpb24oY29udGV4dCwgc29ydE9yZGVyQ2xhc3MsIHJldmVyc2UpIHsNCgkJc3dpdGNoKHNvcnRPcmRlckNsYXNzKSB7DQoJCQljYXNlICdzb3J0LWFzY2VuZGluZyc6IA0KCQkJCWlmKCFyZXZlcnNlKQ0KCQkJCQlyZXR1cm4gJ0FzY2VuZGluZyc7DQoJCQkJZWxzZQ0KCQkJCQlyZXR1cm4gJ0Rlc2NlbmRpbmcnOw0KCQkJCWJyZWFrOw0KCQkJY2FzZSAnc29ydC1kZXNjZW5kaW5nJzogDQoJCQlkZWZhdWx0OiANCgkJCQlpZighcmV2ZXJzZSkNCgkJCQkJcmV0dXJuICdEZXNjZW5kaW5nJzsNCgkJCQllbHNlDQoJCQkJCXJldHVybiAnQXNjZW5kaW5nJzsNCgkJCQlicmVhazsNCgkJfQ0KCX07DQoJCQ0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmJyb3dzZUdhbGxlcmllcyA9IHsNCgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJCXZhciB3ID0gJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCk7DQoJCQ0KCQkJJCgnLmZpZWxkLWl0ZW0taW5wdXQgaW5wdXQnLCB3KS5jbGljayhmdW5jdGlvbigpIHsNCgkJCQkJaWYgKCQodGhpcykudmFsKCkgPT0gY29udGV4dC5kZWZhdWx0U2VhcmNoVGV4dCkNCgkJCQkJCSQodGhpcykudmFsKCcnKTsNCgkJCQl9KS5rZXl1cChmdW5jdGlvbihlKSB7DQoJCQkJCWNvbnRleHQuX2xhc3RLZXlDb2RlID0gZS5rZXlDb2RlOw0KCQkJCQlpZiAoY29udGV4dC5fc2VhcmNoVGltZW91dCkNCgkJCQkJCWNsZWFyVGltZW91dChjb250ZXh0Ll9zZWFyY2hUaW1lb3V0KTsNCgkJCQkJDQoJCQkJCXZhciBzZWFyY2hUZXh0ID0gJCh0aGlzKS52YWwoKTsNCgkJCQkJDQoJCQkJCWlmIChzZWFyY2hUZXh0Lmxlbmd0aCA+IDApIHsNCgkJCQkJCSQoJy5pbnRlcm5hbC1saW5rLmNsZWFyLXNlYXJjaCcsIHcpLnNob3coKTsNCgkJCQkJCWNvbnRleHQuX3NlYXJjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkJeyBfc2VhcmNoKGNvbnRleHQsIHNlYXJjaFRleHQsIDApOyB9LCA1MDApOw0KCQkJCQl9DQoJCQkJCWVsc2Ugew0KCQkJCQkJJCgnLmludGVybmFsLWxpbmsuY2xlYXItc2VhcmNoJywgdykuaGlkZSgpOw0KCQkJCQkJY29udGV4dC5fc2VhcmNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IF9saXN0KGNvbnRleHQsIDApOyB9LCA1MDApOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQkNCgkJCSQoJy5pbnRlcm5hbC1saW5rLmNsZWFyLXNlYXJjaCcsIHcpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJCSQoJy5maWVsZC1pdGVtLWlucHV0IGlucHV0JywgdykudmFsKCcnKTsNCgkJCQlfbGlzdChjb250ZXh0LCAwKTsNCgkJCQkkKHRoaXMpLmhpZGUoKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KS5oaWRlKCk7DQoJCQ0KCQkJX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_BrowseWikis_Name}" version="7.5.0.32466" description="${resource:Wikis_BrowseWikis_Description}" instanceIdentifier="1c53e7f3d0e147cd88cda740602fa4e4" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="browse-wikis">
		<contentScript>
#set($showTitle = $core_v2_widget.GetBoolValue('showTitleColumn', true))
#set($showGroup = $core_v2_widget.GetBoolValue('showGroupColumn', false))
#set($showPosts = $core_v2_widget.GetBoolValue('showPostsColumn', true))
#set($showLastPost = $core_v2_widget.GetBoolValue('showLastPostColumn', true))
#set($pageIndex = $core_v2_page.GetFormValue('pageIndex', 0))
#set($pageSize = $core_v2_widget.GetIntValue('itemsBeforeScroll', 5))
#set($showSubGroups = $core_v2_widget.GetBoolValue('groupAndSubGroups', false))

#set($wikis = false)
#set($wikis = $core_v2_wiki.List("%{GroupId=$core_v2_group.Current.Id,IncludeSubGroups=$showSubGroups,PageIndex=$pageIndex,PageSize=$pageSize,IncludeDisabled='false'}"))

#if($core_v2_widget.GetBoolValue('includeSearch', true) &amp;&amp; $wikis.TotalCount &gt; 3)
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;&lt;input type="text" value="$core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterWiki')" /&gt;&lt;a href="javascript:void(0)" class="internal-link clear-search" title="$core_v2_language.GetResource('BrowseGroups_Clear')"&gt;$core_v2_language.GetResource('BrowseGroups_Clear')&lt;/a&gt;&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#end

&lt;div id="$core_v2_widget.UniqueId('list')"&gt;
	$core_v2_widget.ExecuteFile('list.vm')
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.BrowseWikis')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.browseWikis.register({
			searchUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('search-callback.vm'))',
			listUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('list-callback.vm'))',
			wrapperId: '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
			pageIndex: 0,
			pageSize: $core_v2_widget.GetIntValue('itemsBeforeScroll', 5),
			defaultSearchText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_FilterWiki'))',
			list: jQuery('#$core_v2_widget.UniqueId('list')'),
			error: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('UIFragment_Core_BrowseApplication_Error'))'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
#if($core_v2_widget.GetBoolValue('includeGroupName',false))
	$core_v2_language.FormatString($core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_BrowseWikis_Name}')), $core_v2_group.Current.Name)
#else
	$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_BrowseWikis_Name}'))
#end
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_BrowseWikis_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="showTitleColumn" resourceName="UIFragment_Core_BrowseApplication_ShowTitle_Wiki" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showGroupColumn" resourceName="UIFragment_Core_BrowseApplication_ShowGroup_Wiki" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="showPostsColumn" resourceName="UIFragment_Core_BrowseApplication_ShowPosts" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="showLastPostColumn" resourceName="UIFragment_Core_BrowseApplication_ShowLatest_Wiki" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="groupAndSubGroups" resourceName="UIFragment_Core_BrowseApplication_GroupAndSubGroups" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="itemsBeforeScroll" resourceName="UIFragment_Core_BrowseApplication_ItemsToShow" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="includeGroupName" resourceName="UIFragment_Core_BrowseApplication_IncludeGroupName" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="includeSearch" resourceName="UIFragment_Core_BrowseApplication_IncludeSearch" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_BrowseWikis_Name">Wikis - Browse Wikis</resource><resource name="Wikis_BrowseWikis_Description">Displays a browse control to view all wikis on the site.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UIFragment_Core_BrowseApplication_ShowTitle_Wiki">Show Wiki Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowGroup_Wiki">Show Wiki Group Name</resource><resource name="UIFragment_Core_BrowseApplication_ShowPosts">Show Post Count</resource><resource name="UIFragment_Core_BrowseApplication_ShowLatest_Wiki">Show Last Update</resource><resource name="UIFragment_Core_BrowseApplication_GroupAndSubGroups">Show data from Group and all Subgroups</resource><resource name="UIFragment_Core_BrowseApplication_ItemsToShow">Number of results to display</resource><resource name="UIFragment_Core_BrowseApplication_IncludeGroupName">Include current group's name in Title (Title must be a formatted string with a {0} placeholder)</resource><resource name="UIFragment_Core_BrowseApplication_IncludeSearch">Include search box (when more than 3 results)</resource><resource name="UIFragment_Core_BrowseApplication_FilterWiki">Find a wiki...</resource><resource name="BrowseGroups_Clear">Clear</resource><resource name="UIFragment_Core_BrowseApplication_Error">An error occurred while searching.</resource><resource name="UIFragment_Core_BrowseApplication_WikiColumn">Wiki</resource><resource name="UIFragment_Core_BrowseApplication_GroupColumn">Group</resource><resource name="UIFragment_Core_BrowseApplication_PostsColumn_Wiki">Pages</resource><resource name="UIFragment_Core_BrowseApplication_LastPostColumn_Wiki">Last Update</resource><resource name="UIFragment_Core_BrowseApplication_RemoveFavorite">Remove from Bookmarks</resource><resource name="UIFragment_Core_BrowseApplication_AddFavorite">Bookmark</resource><resource name="UIFragment_Core_BrowseApplication_NoResults">No results could be found.</resource><resource name="Utility_Pager_previousButton">&lt; Previous</resource><resource name="Utility_Pager_nextButton">Next &gt;</resource><resource name="Wikis_BrowseWikis_Title_BrowseWikis">Browse Wikis</resource></language></languageResources>
		<files>
			<file name="header.vm">I3NldCgkc2hvd1RpdGxlID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd1RpdGxlQ29sdW1uJywgdHJ1ZSkpDQojc2V0KCRzaG93R3JvdXAgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93R3JvdXBDb2x1bW4nLCBmYWxzZSkpDQojc2V0KCRzaG93UG9zdHMgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93UG9zdHNDb2x1bW4nLCB0cnVlKSkNCiNzZXQoJHNob3dMYXN0UG9zdCA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ3Nob3dMYXN0UG9zdENvbHVtbicsIHRydWUpKQ0KI3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8dGhlYWQ+DQoJPHRyIGNsYXNzPSJ0YWJsZS1oZWFkZXIiPg0KCQkjaWYoJHNob3dUaXRsZSkNCgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBhcHBsaWNhdGlvbi10aXRsZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VJRnJhZ21lbnRfQ29yZV9Ccm93c2VBcHBsaWNhdGlvbl9XaWtpQ29sdW1uJyk8L3RoPg0KCQkJI3NldCgkY29sdW1uQ291bnQgPSAkY29sdW1uQ291bnQgKyAxKQ0KCQkjZW5kDQoJCSNpZigkc2hvd0dyb3VwKQ0KCQkJPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIGFwcGxpY2F0aW9uLWdyb3VwIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVUlGcmFnbWVudF9Db3JlX0Jyb3dzZUFwcGxpY2F0aW9uX0dyb3VwQ29sdW1uJyk8L3RoPg0KCQkJI3NldCgkY29sdW1uQ291bnQgPSAkY29sdW1uQ291bnQgKyAxKQ0KCQkjZW5kDQoJCSNpZigkc2hvd1Bvc3RzKQ0KCQkJPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIHBvc3QtY291bnQiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fUG9zdHNDb2x1bW5fV2lraScpPC90aD4NCgkJCSNzZXQoJGNvbHVtbkNvdW50ID0gJGNvbHVtbkNvdW50ICsgMSkNCgkJI2VuZA0KCQkjaWYoJHNob3dMYXN0UG9zdCkNCgkJCTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBwb3N0LWRhdGUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fTGFzdFBvc3RDb2x1bW5fV2lraScpPC90aD4NCgkJCSNzZXQoJGNvbHVtbkNvdW50ID0gJGNvbHVtbkNvdW50ICsgMSkNCgkJI2VuZA0KCTwvdHI+CQkNCjwvdGhlYWQ+DQoNCg==</file>
			<file name="list-callback.vm">I3NldCgkc2hvd1RpdGxlID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd1RpdGxlQ29sdW1uJywgdHJ1ZSkpDQojc2V0KCRzaG93R3JvdXAgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93R3JvdXBDb2x1bW4nLCBmYWxzZSkpDQojc2V0KCRzaG93UG9zdHMgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93UG9zdHNDb2x1bW4nLCB0cnVlKSkNCiNzZXQoJHNob3dMYXN0UG9zdCA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ3Nob3dMYXN0UG9zdENvbHVtbicsIHRydWUpKQ0KI3NldCgkcGFnZUluZGV4ID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKQ0KI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ2l0ZW1zQmVmb3JlU2Nyb2xsJywgNSkpDQojc2V0KCRzaG93U3ViR3JvdXBzID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnZ3JvdXBBbmRTdWJHcm91cHMnLCBmYWxzZSkpDQoNCiNzZXQoJHdpa2lzID0gZmFsc2UpDQojc2V0KCR3aWtpcyA9ICRjb3JlX3YyX3dpa2kuTGlzdCgiJXtHcm91cElkPSRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQsSW5jbHVkZVN1Ykdyb3Vwcz0kc2hvd1N1Ykdyb3VwcyxQYWdlSW5kZXg9JHBhZ2VJbmRleCxQYWdlU2l6ZT0kcGFnZVNpemV9IikpDQoNCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnbGlzdC52bScp</file>
			<file name="list.vm">I3NldCgkY29sdW1uQ291bnQgPSAwKQ0KDQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWhlYWRlciI+PC9kaXY+DQo8dGFibGUgY2xhc3M9InRhYmxlLWxpc3QiPg0KCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnaGVhZGVyLnZtJykNCgk8dGJvZHk+DQoJI2ZvcmVhY2goJHdpa2kgaW4gJHdpa2lzKQ0KCQkjZWFjaA0KCQkJPHRyIGNsYXNzPSJ0YWJsZS1pdGVtIj4NCgkJCQkjaWYoJHNob3dUaXRsZSkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gYXBwbGljYXRpb24tdGl0bGUiPg0KCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1hcHBsaWNhdGlvbiIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkd2lraS5VcmwpIj4kd2lraS5OYW1lPC9hPg0KCQkJCQkJI2lmICgkd2lraSAmJiAkY29yZV92Ml9ib29rbWFyay5TdXBwb3J0c0Jvb2ttYXJrcygkY29yZV92Ml93aWtpLkNvbnRlbnRUeXBlSWQpICYmICRjb3JlX3YyX2Jvb2ttYXJrLkNhbkJvb2ttYXJrKCR3aWtpLkNvbnRlbnRJZCwgJGNvcmVfdjJfd2lraS5Db250ZW50VHlwZUlkKSAmJiAkY29yZV92Ml9ib29rbWFyay5DYW5VbkJvb2ttYXJrKCR3aWtpLkNvbnRlbnRJZCwgJGNvcmVfdjJfd2lraS5Db250ZW50VHlwZUlkKSkNCgkJCQkJCQkkY29yZV92Ml91aS5Cb29rbWFyaygkd2lraS5Db250ZW50SWQsICRjb3JlX3YyX3dpa2kuQ29udGVudFR5cGVJZCkNCgkJCQkJCSNlbmQNCgkJCQkJCTxzcGFuIGNsYXNzPSJkZXNjcmlwdGlvbiI+JHdpa2kuRGVzY3JpcHRpb248L3NwYW4+DQoJCQkJCTwvdGQ+DQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd0dyb3VwKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBhcHBsaWNhdGlvbi1ncm91cCI+JHdpa2kuR3JvdXAuTmFtZTwvdGQ+DQoJCQkJI2VuZA0KCQkJCSNpZigkc2hvd1Bvc3RzKQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWNvdW50Ij4NCgkJCQkJCSNzZXQoJHBhZ2VzID0gJGNvcmVfdjJfd2lraVBhZ2UuTGlzdCgkd2lraS5JZCwgIiV7UGFnZUluZGV4PTAsUGFnZVNpemU9MX0iKSkNCgkJCQkJCSRwYWdlcy5Ub3RhbENvdW50LlRvU3RyaW5nKCIjLCMwIikNCgkJCQkJPC90ZD4NCgkJCQkjZW5kDQoJCQkJI2lmICgkc2hvd0xhc3RQb3N0KQ0KCQkJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWRhdGUiPg0KCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkd2lraS5MYXN0TW9kaWZpZWRVdGNEYXRlKQ0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCTwvdHI+DQoJCSNub2RhdGENCgkJCTx0ciBjbGFzcz0idGFibGUtaXRlbSI+PHRkIGNvbHNwYW49IiRjb2x1bW5Db3VudCI+PGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fTm9SZXN1bHRzJyk8L2Rpdj48L3RkPjwvdHI+DQoJI2VuZA0KCTwvdGJvZHk+DQo8L3RhYmxlPg0KPGRpdiBjbGFzcz0idGFibGUtbGlzdC1mb290ZXIiPjwvZGl2Pg0KPGRpdiBjbGFzcz0icGFnZXIiPg0KCSNpZigkd2lraXMuUGFnZUluZGV4ID4gMCkNCgkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0icHJldmlvdXMiPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVdGlsaXR5X1BhZ2VyX3ByZXZpb3VzQnV0dG9uJyk8L3NwYW4+PC9hPg0KCQk8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj48L3NwYW4+DQoJI2VuZA0KCSNpZigoJHdpa2lzLlBhZ2VJbmRleCArIDEpICogJHdpa2lzLlBhZ2VTaXplIDwgJHdpa2lzLlRvdGFsQ291bnQpDQoJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9Im5leHQiPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVdGlsaXR5X1BhZ2VyX25leHRCdXR0b24nKTwvc3Bhbj48L2E+DQoJI2VuZA0KPC9kaXY+</file>
			<file name="search-callback.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJHNlYXJjaFRleHQgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfc2VhcmNoVGV4dCcpKQ0KI3NldCgkc2hvd1NvcnRPcHRpb25zID0gZmFsc2UpDQojc2V0KCRwYWdlU2l6ZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRJbnRWYWx1ZSgnaXRlbXNCZWZvcmVTY3JvbGwnLDUpKQ0KI3NldCgkc2hvd1N1Ykdyb3VwcyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2dyb3VwQW5kU3ViR3JvdXBzJywgZmFsc2UpKQ0KDQojc2V0KCRzZWFyY2hSZXN1bHRzID0gJGNvcmVfdjJfd2lraS5TZWFyY2goJHNlYXJjaFRleHQsICIle0dyb3VwSWQ9JGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCxJbmNsdWRlU3ViR3JvdXBzPSRzaG93U3ViR3JvdXBzLFBhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleH0iKSkNCg0KI3NldCgkc2hvd1RpdGxlID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd1RpdGxlQ29sdW1uJywgdHJ1ZSkpDQojc2V0KCRzaG93R3JvdXAgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93R3JvdXBDb2x1bW4nLCBmYWxzZSkpDQojc2V0KCRzaG93UG9zdHMgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93UG9zdHNDb2x1bW4nLCB0cnVlKSkNCiNzZXQoJHNob3dMYXN0UG9zdCA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ3Nob3dMYXN0UG9zdENvbHVtbicsIHRydWUpKQ0KI3NldCgkY29sdW1uQ291bnQgPSAwKQ0KI3NldCgkaGFzUmVzdWx0cyA9IGZhbHNlKQ0KDQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWhlYWRlciI+PC9kaXY+DQo8dGFibGUgY2xhc3M9InRhYmxlLWxpc3QiPg0KCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnaGVhZGVyLnZtJykNCgk8dGJvZHk+DQoJI2ZvcmVhY2goJHNlYXJjaFJlc3VsdCBpbiAkc2VhcmNoUmVzdWx0cykNCgkjZWFjaA0KCQkjc2V0KCR3aWtpID0gZmFsc2UpCQ0KCQkjc2V0KCR3aWtpID0gJGNvcmVfdjJfd2lraS5HZXQoIiV7SWQ9JHNlYXJjaFJlc3VsdC5Db250ZW50SWR9IikpDQoJCSNpZigkd2lraSkNCgkJCTx0ciBjbGFzcz0idGFibGUtaXRlbSI+DQoJCQkJI2lmKCRzaG93VGl0bGUpDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIGFwcGxpY2F0aW9uLXRpdGxlIj4NCgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctYXBwbGljYXRpb24iIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHdpa2kuVXJsKSI+JHdpa2kuTmFtZTwvYT4NCgkJCQkJCSNpZiAoJHdpa2kgJiYgJGNvcmVfdjJfYm9va21hcmsuU3VwcG9ydHNCb29rbWFya3MoJGNvcmVfdjJfd2lraS5Db250ZW50VHlwZUlkKSAmJiAkY29yZV92Ml9ib29rbWFyay5DYW5Cb29rbWFyaygkd2lraS5Db250ZW50SWQsICRjb3JlX3YyX3dpa2kuQ29udGVudFR5cGVJZCkgJiYgJGNvcmVfdjJfYm9va21hcmsuQ2FuVW5Cb29rbWFyaygkd2lraS5Db250ZW50SWQsICRjb3JlX3YyX3dpa2kuQ29udGVudFR5cGVJZCkpDQoJCQkJCQkJJGNvcmVfdjJfdWkuQm9va21hcmsoJHdpa2kuQ29udGVudElkLCAkY29yZV92Ml93aWtpLkNvbnRlbnRUeXBlSWQpDQoJCQkJCQkjZW5kDQoJCQkJCQk8c3BhbiBjbGFzcz0iZGVzY3JpcHRpb24iPiR3aWtpLkRlc2NyaXB0aW9uPC9zcGFuPg0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dHcm91cCkNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gYXBwbGljYXRpb24tZ3JvdXAiPiR3aWtpLkdyb3VwLk5hbWU8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYoJHNob3dQb3N0cykNCgkJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gcG9zdC1jb3VudCI+DQoJCQkJCQkjc2V0KCRwYWdlcyA9ICRjb3JlX3YyX3dpa2lQYWdlLkxpc3QoJHdpa2kuSWQsICIle1BhZ2VJbmRleD0wLFBhZ2VTaXplPTF9IikpDQoJCQkJCQkkcGFnZXMuVG90YWxDb3VudA0KCQkJCQk8L3RkPg0KCQkJCSNlbmQNCgkJCQkjaWYgKCRzaG93TGFzdFBvc3QpDQoJCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIHBvc3QtZGF0ZSI+DQoJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCR3aWtpLkxhc3RNb2RpZmllZFV0Y0RhdGUpDQoJCQkJCTwvdGQ+DQoJCQkJI2VuZA0KCQkJPC90cj4NCgkJCSNzZXQoJGhhc1Jlc3VsdHMgPSB0cnVlKQ0KCQkjZW5kDQoJI2VuZA0KCSNpZighJGhhc1Jlc3VsdHMpDQoJCTx0ciBjbGFzcz0idGFibGUtaXRlbSI+PHRkIGNvbHNwYW49IiRjb2x1bW5Db3VudCI+PGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdVSUZyYWdtZW50X0NvcmVfQnJvd3NlQXBwbGljYXRpb25fTm9SZXN1bHRzJyk8L2Rpdj48L3RkPjwvdHI+DQoJI2VuZA0KPC90Ym9keT4NCjwvdGFibGU+DQo8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWZvb3RlciI+PC9kaXY+DQo8ZGl2IGNsYXNzPSJwYWdlciI+DQoJI2lmKCRzZWFyY2hSZXN1bHRzLlBhZ2VJbmRleCA+IDApDQoJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9InByZXZpb3VzIj48c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVXRpbGl0eV9QYWdlcl9wcmV2aW91c0J1dHRvbicpPC9zcGFuPjwvYT4NCgkJPHNwYW4gY2xhc3M9InNlcGFyYXRvciI+PC9zcGFuPg0KCSNlbmQNCgkjaWYoKCRzZWFyY2hSZXN1bHRzLlBhZ2VJbmRleCArIDEpICogJHNlYXJjaFJlc3VsdHMuUGFnZVNpemUgPCAkc2VhcmNoUmVzdWx0cy5Ub3RhbENvdW50KQ0KCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJuZXh0Ij48c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVXRpbGl0eV9QYWdlcl9uZXh0QnV0dG9uJyk8L3NwYW4+PC9hPg0KCSNlbmQNCjwvZGl2Pg==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJCQkkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJdmFyIF9hdHRhY2hIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJew0KCQl2YXIgdyA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQpOw0KDQoJCSQoJy5wYWdlciAucHJldmlvdXMnLCB3KS5jbGljayhmdW5jdGlvbigpDQoJCXsNCgkJCV9wYWdlKGNvbnRleHQsIGNvbnRleHQucGFnZUluZGV4IC0gMSk7DQoJCQlyZXR1cm4gZmFsc2U7DQoJCX0pOw0KDQoJCSQoJy5wYWdlciAubmV4dCcsIHcpLmNsaWNrKGZ1bmN0aW9uKCkNCgkJew0KCQkJX3BhZ2UoY29udGV4dCwgY29udGV4dC5wYWdlSW5kZXggKyAxKTsNCgkJCXJldHVybiBmYWxzZTsNCgkJfSk7DQoJfSwNCglfcGFnZSA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYWdlSW5kZXgpDQoJew0KCQlpZiAoY29udGV4dC5zZWFyY2hUZXh0KQ0KCQkJX3NlYXJjaChjb250ZXh0LCBjb250ZXh0LnNlYXJjaFRleHQsIHBhZ2VJbmRleCk7DQoJCWVsc2UNCgkJCV9saXN0KGNvbnRleHQsIHBhZ2VJbmRleCk7DQoJfSwNCglfcmVmcmVzaCA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJew0KCQlpZihjb250ZXh0LnNlYXJjaFRleHQpDQoJCQlfc2VhcmNoKGNvbnRleHQsIGNvbnRleHQuc2VhcmNoVGV4dCwgcGFnZUluZGV4KTsNCgkJZWxzZQ0KCQkJX2xpc3QoY29udGV4dCwgY29udGV4dC5wYWdlSW5kZXgpOw0KCX0sDQoJX2xpc3QgPSBmdW5jdGlvbihjb250ZXh0LCBwYWdlSW5kZXgpDQoJew0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCXVybDogY29udGV4dC5saXN0VXJsLA0KCQkJZGF0YTogeyB3X3BhZ2VJbmRleDogcGFnZUluZGV4IH0sDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCgkJCXsNCgkJCQljb250ZXh0Lmxpc3QuaHRtbChyZXNwb25zZSk7DQoJCQkJY29udGV4dC5wYWdlSW5kZXggPSBwYWdlSW5kZXg7DQoJCQkJY29udGV4dC5zZWFyY2hUZXh0ID0gJyc7DQoJCQkJX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KCQkJfSwNCgkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuZXJyb3IsDQoJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkNCgkJCXsNCgkJCQljb250ZXh0Lmxpc3QuaHRtbCgnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciBlcnJvcl9fbWVzc2FnZSI+JyArIGRlc2MgKyAnPC9kaXY+Jyk7DQoJCQl9DQoJCX0pOw0KCX0sDQoJX3NlYXJjaCA9IGZ1bmN0aW9uKGNvbnRleHQsIHF1ZXJ5LCBwYWdlSW5kZXgpDQoJew0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCXVybDogY29udGV4dC5zZWFyY2hVcmwsDQoJCQlkYXRhOiB7IHdfc2VhcmNoVGV4dDogcXVlcnksIHdfcGFnZUluZGV4OiBwYWdlSW5kZXggfSwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJew0KCQkJCWNvbnRleHQubGlzdC5odG1sKHJlc3BvbnNlKTsNCgkJCQljb250ZXh0LnBhZ2VJbmRleCA9IHBhZ2VJbmRleDsNCgkJCQljb250ZXh0LnNlYXJjaFRleHQgPSBxdWVyeTsNCgkJCQlfYXR0YWNoSGFuZGxlcnMoY29udGV4dCk7DQoJCQl9LA0KCQkJZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5lcnJvciwNCgkJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KQ0KCQkJew0KCQkJCWNvbnRleHQubGlzdC5odG1sKCc8ZGl2IGNsYXNzPSJtZXNzYWdlIGVycm9yIGVycm9yX19tZXNzYWdlIj4nICsgZGVzYyArICc8L2Rpdj4nKTsNCgkJCX0NCgkJfSk7DQoJfTsNCg0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmJyb3dzZVdpa2lzID0NCgl7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KQ0KCQl7DQoJCQl2YXIgdyA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQpOw0KDQoJCQkkKCcuZmllbGQtaXRlbS1pbnB1dCBpbnB1dCcsIHcpDQoJCQkJLmNsaWNrKGZ1bmN0aW9uKCkNCgkJCQl7DQoJCQkJCWlmICgkKHRoaXMpLnZhbCgpID09IGNvbnRleHQuZGVmYXVsdFNlYXJjaFRleHQpDQoJCQkJCQkkKHRoaXMpLnZhbCgnJyk7DQoJCQkJfSkNCgkJCQkua2V5dXAoZnVuY3Rpb24oZSkNCgkJCQl7DQoJCQkJCWNvbnRleHQuX2xhc3RLZXlDb2RlID0gZS5rZXlDb2RlOw0KCQkJCQlpZiAoY29udGV4dC5fc2VhcmNoVGltZW91dCkNCgkJCQkJCWNsZWFyVGltZW91dChjb250ZXh0Ll9zZWFyY2hUaW1lb3V0KTsNCg0KCQkJCQl2YXIgc2VhcmNoVGV4dCA9ICQodGhpcykudmFsKCk7DQoNCgkJCQkJaWYgKHNlYXJjaFRleHQubGVuZ3RoID4gMCkNCgkJCQkJew0KCQkJCQkJJCgnLmludGVybmFsLWxpbmsuY2xlYXItc2VhcmNoJywgdykuc2hvdygpOw0KCQkJCQkJY29udGV4dC5fc2VhcmNoVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKQl7IF9zZWFyY2goY29udGV4dCwgc2VhcmNoVGV4dCwgMCk7IH0sIDUwMCk7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQl7DQoJCQkJCQkkKCcuaW50ZXJuYWwtbGluay5jbGVhci1zZWFyY2gnLCB3KS5oaWRlKCk7DQoJCQkJCQljb250ZXh0Ll9zZWFyY2hUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgX2xpc3QoY29udGV4dCwgMCk7IH0sIDUwMCk7DQoJCQkJCX0NCgkJCQl9KTsNCg0KCQkJJCgnLmludGVybmFsLWxpbmsuY2xlYXItc2VhcmNoJywgdykuY2xpY2soZnVuY3Rpb24oKQ0KCQkJew0KCQkJCSQoJy5maWVsZC1pdGVtLWlucHV0IGlucHV0JywgdykudmFsKCcnKTsNCgkJCQlfbGlzdChjb250ZXh0LCAwKTsNCgkJCQkkKHRoaXMpLmhpZGUoKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KS5oaWRlKCk7DQoNCgkJCV9hdHRhY2hIYW5kbGVycyhjb250ZXh0KTsNCgkJfQ0KCX07DQp9KShqUXVlcnkpOw0K</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_CaptureThread_Name}" version="7.5.0.32466" description="${resource:Forums_CaptureThread_Description}" instanceIdentifier="f33c85127b2449d3903659092cba6e37" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="capture-thread">
		<contentScript>

#set ($thread = $core_v2_forumThread.Current)
#set ($hasEnabledWikis = true)
#if (!$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	#set ($hasEnabledWikis = false)
#end

#set ($wikis = false)
#set ($wikis = $core_v2_wiki.List("%{ GroupId = $core_v2_group.Current.Id }"))
#if (!$wikis || $wikis.Count == 0)
	#set ($hasEnabledWikis = false)
#end

#set ($wikiSelectId = $core_v2_widget.UniqueId('wikiSelect'))
#set ($submitCaptureId = $core_v2_widget.UniqueId('submitCapture'))
#set ($defaultWikiCaptureUrl = false)

#set ($enabledWikis = [])
#foreach ($wiki in $wikis)
	#if ($wiki.Enabled &amp;&amp; $core_v2_nodePermission.Get("wikis", $wiki.Id, "Wiki_CreatePage").IsAllowed)
		#set ($index = $enabledWikis.Add($wiki))
		#if (!$defaultWikiCaptureUrl)
			#set ($defaultWikiCaptureUrl = $core_v2_wikiUrls.AddPage($wiki.Id, "%{ ForumThreadId = $thread.Id }"))
		#end
	#end
#end

#if ($enabledWikis.Count == 0)
	#set ($hasEnabledWikis = false)
#end

#if (!$hasEnabledWikis)
	&lt;div class="field-list-header"&gt;$core_v2_language.GetResource('Wiki_NoWikisToCapture')&lt;/div&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#else
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;legend class="field-list-description"&gt;$core_v2_language.GetResource('Wiki_CopyToWiki')&lt;/legend&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;label for="$core_v2_encoding.HtmlAttributeEncode($wikiSelectId)" class="field-item-header"&gt;$core_v2_language.GetResource('Wiki_CaptureDesc')&lt;/label&gt;
				&lt;span class="field-item-input"&gt;
					&lt;select name="$core_v2_encoding.HtmlAttributeEncode($wikiSelectId)" id="$core_v2_encoding.HtmlAttributeEncode($wikiSelectId)"&gt;
					#foreach ($wiki in $enabledWikis)
						#set ($captureUrl = $core_v2_wikiUrls.AddPage($wiki.Id, "%{ ForumThreadId = $thread.Id }"))
						#set ($name = $wiki.Name)
						#if ($wiki.Group &amp;&amp; $wiki.Group.ParentGroupId &gt; 0)
							#set ($name = "${wiki.Group.Name} / ${name}")
						#end
						&lt;option value="$core_v2_encoding.HtmlAttributeEncode($captureUrl)"&gt;$name&lt;/option&gt;
					#end
					&lt;/select&gt;
				&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;
					&lt;input type="submit" name="$core_v2_encoding.HtmlAttributeEncode($submitCaptureId)" id="$core_v2_encoding.HtmlAttributeEncode($submitCaptureId)" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Wiki_Capture'))" &gt;
				&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#end

#registerEndOfPageHtml('telligent.evolution.widgets.captureThread')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end

#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.captureThread.register({
				wrapperId: '$core_v2_widget.WrapperElementId',
				wikiCaptureUrl: #if ($enabledWikis.Count == 1 &amp;&amp; $defaultWikiCaptureUrl) '$core_v2_encoding.JavascriptEncode($defaultWikiCaptureUrl)' #else null #end,
				wikiSelect: '#$core_v2_encoding.JavascriptEncode($wikiSelectId)',
				submitCapture: '#$core_v2_encoding.JavascriptEncode($submitCaptureId)'
			});
		});
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_CaptureThread_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_CaptureThread_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Forums_CaptureThread_Name">Forum - Capture Thread</resource><resource name="Forums_CaptureThread_Description">Displays the capture thread to wiki form.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Wiki_NoWikisToCapture">There are no wikis that you have access to create pages for.</resource><resource name="Wiki_CopyToWiki">Capture to wiki</resource><resource name="Wiki_CaptureDesc">Select the wiki to capture the thread into.</resource><resource name="Wiki_Capture">Capture</resource><resource name="Forums_CaptureThread_Title_CaptureThread">Capture Thread</resource></language></languageResources>
		<requiredContext>
			<context id="3e42a61fe20447f78ea9b0bb99a5c6a5" />
		</requiredContext>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQpewoJdmFyIGFwaSA9IHsKCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgewoJCQljb250ZXh0ID0gJC5leHRlbmQoe30sIGFwaS5kZWZhdWx0cywgY29udGV4dCk7CgoJCQkkKGNvbnRleHQuc3VibWl0Q2FwdHVyZSkuYmluZCgnY2xpY2snLCBmdW5jdGlvbihlKXsKCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJChjb250ZXh0Lndpa2lTZWxlY3QpLnZhbCgpOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCQl9Cgl9OwoJJC5leHRlbmQoYXBpLCB7CgkJZGVmYXVsdHM6IHsKCQkJd3JhcHBlcklkOiAnJywKCQkJd2lraUNhcHR1cmVVcmw6IG51bGwsCgkJCXdpa2lTZWxlY3Q6ICcnLAoJCQlzdWJtaXRDYXB0dXJlOiAnJwoJCX0KCX0pOwoKCS8vIGV4cG9zZSBhcGkgaW4gYSBwdWJsaWMgbmFtZXNwYWNlCglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmNhcHR1cmVUaHJlYWQgPSBhcGk7Cgp9KGpRdWVyeSkpOw==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_ChangePassword_Name}" version="7.5.0.32466" description="${resource:Core_ChangePassword_Description}" instanceIdentifier="860c986cbffe41089beaf2a931e7f487" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="change-password">
		<contentScript>
#if (!$core_v2_widget.IsInWidgetPreviewMode)
	$core_v2_page.EnsureSecureConnection("%{ IsAuthenticatingUser = 'true' }")
#end
#if (!$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	#set ($forgotPasswordUrl = $core_v2_urls.ForgotPassword())
	&lt;div class="message"&gt;$core_v2_language.GetResource('ChangePassword_RecoveryLinkExpired') &lt;a href="$core_v2_encoding.HtmlAttributeEncode($forgotPasswordUrl)"&gt;$core_v2_language.GetResource('ChangePassword_ResetPasswordLink')&lt;/a&gt;&lt;/div&gt;
#else
	&lt;div class="message success" style="display:none;" id="$core_v2_widget.UniqueId('successMessage')"&gt;$core_v2_language.GetResource('ChangePassword_Success')&lt;/div&gt;
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;legend class="field-list-description"&gt;
			#if ($core_v2_configuration.AuthenticationType == "windows")
				$core_v2_language.GetResource('ChangePassword_Instructions_SSO')
			#else
				$core_v2_language.GetResource('ChangePassword_Instructions')
			#end
		&lt;/legend&gt;
		&lt;ul class="field-list"&gt;
			#if ($core_v2_authentication.RequireOriginalPasswordWhenChangingPassword() &amp;&amp; $core_v2_configuration.AuthenticationType != "windows")
				&lt;li class="field-item current-password"&gt;
					&lt;label for="$core_v2_widget.UniqueId('currentPassword')" class="field-item-header"&gt;$core_v2_language.GetResource('ChangePassword_CurrentPassword')&lt;/label&gt;
					&lt;span class="field-item-input"&gt;
						&lt;input name="$core_v2_widget.UniqueId('currentPassword')" type="password" autocomplete="off" maxlength="64" size="30" id="$core_v2_widget.UniqueId('currentPassword')" /&gt;
					&lt;/span&gt;
					&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
				&lt;/li&gt;
			#end
			&lt;li class="field-item new-password"&gt;
				&lt;label for="$core_v2_widget.UniqueId('newPassword')" class="field-item-header"&gt;$core_v2_language.GetResource('ChangePassword_NewPassword')&lt;/label&gt;
				&lt;span class="field-item-input"&gt;
					&lt;input name="$core_v2_widget.UniqueId('newPassword')" type="password" autocomplete="off" maxlength="64" size="30" id="$core_v2_widget.UniqueId('newPassword')" /&gt;
				&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item new-password-confirm"&gt;
				&lt;label for="$core_v2_widget.UniqueId('newPasswordConfirm')" class="field-item-header"&gt;$core_v2_language.GetResource('ChangePassword_ReEnterNewPassword')&lt;/label&gt;
				&lt;span class="field-item-input"&gt;
					&lt;input name="$core_v2_widget.UniqueId('newPasswordConfirm')" type="password" autocomplete="off" maxlength="64" size="30" id="$core_v2_widget.UniqueId('newPasswordConfirm')" /&gt;
				&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;
					&lt;input type="submit" name="$core_v2_widget.UniqueId('submitPassword')" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('ChangePassword_ChangePassword'))" id="$core_v2_widget.UniqueId('submitPassword')" /&gt;
				&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#end

#registerEndOfPageHtml('telligent.evolution.widgets.changePassword')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.changePassword.register({
				wrapperId: '$core_v2_widget.WrapperElementId',
				successMessageDiv: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('successMessage'))",
				currentPasswordInput: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId("currentPassword"))",
				newPasswordInput: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId("newPassword"))",
				newPasswordConfirmInput: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId("newPasswordConfirm"))",
				submitPasswordInput: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId("submitPassword"))",
				passwordMinLength: $core_v2_configuration.PasswordMinLength,
				passwordErrorMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ChangePassword_InvalidRegExContent'))',
				passwordLimitsMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ChangePassword_InvalidLength'))',
				passwordMatchMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ChangePassword_ReEnterNewPasswordInvalid'))',
				changeSuccessMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ChangePassword_Success'))',
				changeUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('changePassword.vm'))',
				successUrl: '$core_v2_encoding.JavascriptEncode($core_v2_urls.Settings("%{ Clean = 'true' }"))'
			});
		});
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_ChangePassword_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_ChangePassword_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Core_ChangePassword_Name">Change Password</resource><resource name="Core_ChangePassword_Description">Displays the change password form for a user.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="ChangePassword_Success">Your password has successfully been changed</resource><resource name="ChangePassword_Instructions_SSO">Use this form to set a password that you will use to post from an offline blogging tool such as Microsoft Word or Windows Live Writer.</resource><resource name="ChangePassword_Instructions">Use this form to change your password. Once changed, your new password will be in effect next time you login.</resource><resource name="ChangePassword_CurrentPassword">Current Password:</resource><resource name="ChangePassword_NewPassword">New Password:</resource><resource name="ChangePassword_ReEnterNewPassword">Re-enter New Password:</resource><resource name="ChangePassword_ChangePassword">Change Password</resource><resource name="ChangePassword_InvalidRegExContent">Password contains invalid chars ...</resource><resource name="ChangePassword_InvalidLength">Password is too short, must be at least {0} characters.</resource><resource name="ChangePassword_ReEnterNewPasswordInvalid">Passwords do not match!</resource><resource name="ChangePassword_RecoveryLinkExpired">Password recovery link expired. Please, recover a forgotten password</resource><resource name="ChangePassword_ResetPasswordLink">here</resource></language></languageResources>
		<files>
			<file name="changePassword.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQgKCRjdXJyZW50ID0gJycpCgkjc2V0ICgkY3VycmVudCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdjdXJyZW50UGFzc3dvcmQnKSkKCSNzZXQgKCRuZXcgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnbmV3UGFzc3dvcmQnKSkKCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQoJI3NldCAoJGFkZGl0aW9uYWxJbmZvID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uQ2hhbmdlUGFzc3dvcmQoJGN1cnJlbnQsICRuZXcpKQoKCSMjIGlmIHRoZXJlIHdhcyBubyBhZGRpdGlvbmFsIGluZm8sIGFzc3VtZSBpdCB3b3JrZWQuCgkjIyBDb252ZXJ0IHRoZSBzdWNjZXNzIFVSTCBpbnRvIG5vbi1zZWN1cmVkIHZlcnNpb24sIHJvdW5kdHJpcCBpdCBiYWNrCgkjaWYgKCRhZGRpdGlvbmFsSW5mby5FcnJvcnMuQ291bnQgPT0gMCkKCQl7CgkJCSJjaGFuZ2VkIjoJInRydWUiCgkJfQoJIyMgb3RoZXJ3aXNlLCByZXR1cm4gdGhlIGVycm9yIGNvZGUgYW5kIGEgdXJsIHRvIGRpc3BsYXkgdGhlIGVycm9yIGNvZGUKCSNlbHNlCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRhZGRpdGlvbmFsSW5mby5FcnJvcnMpCgkjZW5kCiNlbmQK</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpewoKCXZhciBjaGFuZ2VQYXNzd29yZCA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQl2YXIgZGF0YSA9IHsKCQkJbmV3UGFzc3dvcmQ6ICQoY29udGV4dC5uZXdQYXNzd29yZElucHV0KS52YWwoKSwKCQkJc3VjY2Vzc1VybDogY29udGV4dC5zdWNjZXNzVXJsCgkJfTsKCQkvLyBpZiB0aGVyZSB3YXMgYSBjdXJyZW50IHBhc3N3b3JkLCBhZGQgaXQgdG8gdGhlIGRhdGEKCQl2YXIgY3VycmVudFBhc3N3b3JkSW5wdXQgPSAkKGNvbnRleHQuY3VycmVudFBhc3N3b3JkSW5wdXQpOwoJCWlmKGN1cnJlbnRQYXNzd29yZElucHV0Lmxlbmd0aCA+IDApIHsKCQkJZGF0YS5jdXJyZW50UGFzc3dvcmQgPSBjdXJyZW50UGFzc3dvcmRJbnB1dC52YWwoKTsKCQl9CgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3QoewoJCQl1cmw6IGNvbnRleHQuY2hhbmdlVXJsLAoJCQlkYXRhOiBkYXRhLAoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJJChjb250ZXh0LnN1Y2Nlc3NNZXNzYWdlRGl2KS5zaG93KCk7CgkJCQlhbGVydChjb250ZXh0LmNoYW5nZVN1Y2Nlc3NNZXNzYWdlKTsKCQkJCXdpbmRvdy5sb2NhdGlvbi5ocmVmID0gY29udGV4dC5zdWNjZXNzVXJsOwoJCQl9CgkJfSk7Cgl9OwoKCXZhciBhcGkgPSB7CgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJY29udGV4dCA9ICQuZXh0ZW5kKHt9LCBhcGkuZGVmYXVsdHMsIGNvbnRleHQpOwoJCQljb250ZXh0LnN1Ym1pdFBhc3N3b3JkSW5wdXQgPSAkKGNvbnRleHQuc3VibWl0UGFzc3dvcmRJbnB1dCkKCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKHsKCQkJCQl2YWxpZGF0ZU9uTG9hZCA6IGZhbHNlLAoJCQkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7IH0sCgkJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQljaGFuZ2VQYXNzd29yZChjb250ZXh0KTsKCQkJCQl9CgkJCQl9KQoJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywKCQkJCQljb250ZXh0Lm5ld1Bhc3N3b3JkSW5wdXQsIHsKCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCXBhc3N3b3JkOiB0cnVlLAoJCQkJCQltaW5sZW5ndGg6IGNvbnRleHQucGFzc3dvcmRNaW5MZW5ndGgsCgkJCQkJCW1lc3NhZ2VzOiB7CgkJCQkJCQlyZXF1aXJlZDogY29udGV4dC5yZXF1aXJlZE1lc3NhZ2UsCgkJCQkJCQlwYXNzd29yZDogY29udGV4dC5wYXNzd29yZEVycm9yTWVzc2FnZSwKCQkJCQkJCW1pbmxlbmd0aDogY29udGV4dC5wYXNzd29yZExpbWl0c01lc3NhZ2UKCQkJCQkJfQoJCQkJCX0sCgkJCQkJJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLm5ldy1wYXNzd29yZCAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywgbnVsbCkKCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsCgkJCQkJY29udGV4dC5uZXdQYXNzd29yZENvbmZpcm1JbnB1dCwgewoJCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQkJZXF1YWxUbzogY29udGV4dC5uZXdQYXNzd29yZElucHV0LAoJCQkJCQltZXNzYWdlczogewoJCQkJCQkJcmVxdWlyZWQ6IGNvbnRleHQucmVxdWlyZWRNZXNzYWdlLAoJCQkJCQkJZXF1YWxUbzogY29udGV4dC5wYXNzd29yZE1hdGNoTWVzc2FnZQoJCQkJCQl9CgkJCQkJfSwKCQkJCQknIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgLmZpZWxkLWl0ZW0ubmV3LXBhc3N3b3JkLWNvbmZpcm0gLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsIG51bGwpOwoKCQkJLy8gaWYgdGhlcmUgd2FzIGEgY3VycmVudCBwYXNzd29yZCBmaWVsZCwgdmFsaWRhdGUgZm9yIGl0IGFzIHdlbGwKCQkJaWYoJChjb250ZXh0LmN1cnJlbnRQYXNzd29yZElucHV0KS5sZW5ndGggPiAwKSB7CgkJCQljb250ZXh0LnN1Ym1pdFBhc3N3b3JkSW5wdXQKCQkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLAoJCQkJCQljb250ZXh0LmN1cnJlbnRQYXNzd29yZElucHV0LCB7CgkJCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQkJCW1lc3NhZ2VzOiB7CgkJCQkJCQkJcmVxdWlyZWQ6IGNvbnRleHQucmVxdWlyZWRNZXNzYWdlCgkJCQkJCQl9CgkJCQkJCX0sCgkJCQkJCScjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5jdXJyZW50LXBhc3N3b3JkIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsKCQkJfQoJCX0KCX07CgkkLmV4dGVuZChhcGksIHsKCQlkZWZhdWx0czogewoJCQl3cmFwcGVySWQ6ICcnLAoJCQlzdWNjZXNzTWVzc2FnZURpdjogJycsCgkJCS8vIGlucHV0cwoJCQljdXJyZW50UGFzc3dvcmRJbnB1dDogJycsCgkJCW5ld1Bhc3N3b3JkSW5wdXQ6ICcnLAoJCQluZXdQYXNzd29yZENvbmZpcm1JbnB1dDogJycsCgkJCXN1Ym1pdFBhc3N3b3JkSW5wdXQ6ICcnLAoJCQkvLyBtZXNzYWdlcwoJCQlwYXNzd29yZE1pbkxlbmd0aDogNSwKCQkJcmVxdWlyZWRNZXNzYWdlOiAnKicsCgkJCXBhc3N3b3JkRXJyb3JNZXNzYWdlOiAnQ2hhbmdlUGFzc3dvcmRfSW52YWxpZFJlZ0V4Q29udGVudCcsCgkJCXBhc3N3b3JkTGltaXRzTWVzc2FnZTogJ0NoYW5nZVBhc3N3b3JkX0ludmFsaWRMZW5ndGgnLAoJCQlwYXNzd29yZE1hdGNoTWVzc2FnZTogJ0NoYW5nZVBhc3N3b3JkX1JlRW50ZXJOZXdQYXNzd29yZEludmFsaWQnLAoJCQljaGFuZ2VTdWNjZXNzTWVzc2FnZTogJ0NoYW5nZVBhc3N3b3JkX1N1Y2Nlc3MnLAoJCQkvLyB1cmxzCgkJCWNoYW5nZVVybDogJycsCgkJCXN1Y2Nlc3NVcmw6ICcnLAoJCQllcnJvclVybDogJycKCQl9Cgl9KTsKCgkvLyBleHBvc2UgYXBpIGluIGEgcHVibGljIG5hbWVzcGFjZQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9OyB9CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5jaGFuZ2VQYXNzd29yZCA9IGFwaTsKCn0oalF1ZXJ5KSk7</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_CommentList_Name}" version="7.5.0.32466" description="${resource:Wikis_CommentList_Description}" instanceIdentifier="6f357415ad7c4f549436edd3b75da6d3" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="comment-list">
		<contentScript>
#set ($page = false)
#set ($page = $core_v2_wikiPage.CurrentOrDefault)
#if (!$page)
    $core_v2_widget.Hide()
#end

$core_v2_ui.PagedContent('load.vm')

#registerEndOfPageHtml('telligent.evolution.widgets.commentList')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end

#registerEndOfPageHtml()
    &lt;script type="text/javascript"&gt;
    //&lt;![CDATA[
    jQuery(document).ready(function()
    {
        jQuery.telligent.evolution.widgets.commentList.register({
            wrapper:jQuery('#$core_v2_ui.PagedContentWrapperElementId'),
            errorText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Wikis_CommentList_Error'))',
            loadingText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Wikis_CommentList_Loading'))',
            loadCommentsUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('load.vm'))',
            deleteVerificationText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Wikis_PageComment_DeleteVerify"))',
            baseUrl:'$core_v2_encoding.JavascriptEncode($core_v2_page.Url)',
            wikiId: $core_v2_wiki.Current.Id,
            pageId: $core_v2_wikiPage.CurrentOrDefault.Id,
			pagedMessage: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PagedContentPagedEvent)',
            pageIndexQueryStringKey: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PageIndexQueryStringKey)'
        });
    });
    //]]&gt;
    &lt;/script&gt;
#end
            </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_WikiBanner_Name}'))
            </headerScript>
		<configuration>
&lt;propertyGroup id="linkArea" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_CommentList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
    &lt;property id="pageSize" resourceName="CF_Comment_PageSize" dataType="int" defaultValue="15"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
    &lt;/property&gt;
&lt;/propertyGroup&gt;
            </configuration>
		<languageResources><language key="en-us"><resource name="Wikis_CommentList_Name">Wikis - Comment List</resource><resource name="Wikis_CommentList_Description">Displays comments for wikis.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_Comment_PageSize">Number of comments to display per page</resource><resource name="CF_Wikis_CommentList_Error">Error retrieving comments.</resource><resource name="CF_Wikis_CommentList_Loading">Loading comments...</resource><resource name="Wikis_PageComment_DeleteVerify">Are you sure you want to delete this comment?</resource><resource name="Wikis_WikiBanner_Name">Wikis - Banner</resource><resource name="Comments">Comments</resource><resource name="Edit">Edit</resource><resource name="Delete">Delete</resource></language></languageResources>
		<requiredContext>
			<context id="bcc95458510e481fba2789f3c8c16591" />
		</requiredContext>
		<files>
			<file name="load.vm">I3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ3BhZ2VTaXplJyw1KSkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3VpLkdldEN1cnJlbnRQYWdlSW5kZXgoKSkNCiNzZXQoJHNvcnQgPSBmYWxzZSkNCiNzZXQoJHNvcnQgPSAkY29yZV91cmxzLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ1NvcnQnKSkNCiNzZXQoJHNvcnRPcmRlciA9IGZhbHNlKQ0KI2lmKCRzb3J0ID09ICJQdWJsaXNoRGF0ZSIpDQoJI3NldCgkc29ydE9yZGVyID0gIkFzY2VuZGluZyIpDQojZWxzZWlmKCRzb3J0ID09ICJNb3N0UmVjZW50IiB8fCAkc29ydCA9PSAiUmF0aW5nQXZlcmFnZSIpDQoJI3NldCgkc29ydE9yZGVyID0gIkRlc2NlbmRpbmciKQ0KI2VuZA0KI3NldCAoJGFjY2Vzc2luZ1VzZXJJc1JlZ2lzdGVyZWQgPSAkY29yZV92Ml91c2VyLklzUmVnaXN0ZXJlZCgkY29yZV92Ml91c2VyLkFjY2Vzc2luZy5JZCkpDQojc2V0KCRjb21tZW50cyA9ICRjb3JlX3YyX3dpa2lDb21tZW50Lkxpc3QoJHdpa2lfdjJfd2lraVBhZ2UuQ3VycmVudE9yRGVmYXVsdC5XaWtpSWQsICRjb3JlX3YyX3dpa2lQYWdlLkN1cnJlbnRPckRlZmF1bHQuSWQsICIle1BhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleH0iKSkNCg0KI2ZvcmVhY2goJGNvbW1lbnQgaW4gJGNvbW1lbnRzKQ0KI2JlZm9yZWFsbA0KCTxhIG5hbWU9ImNvbW1lbnRzIj48L2E+DQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LW5hbWUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDb21tZW50cyIpPC9kaXY+DQoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2VhY2gNCgkjc2V0KCRJc0Fub255bW91cyA9IHRydWUpDQoJI3NldCgkSXNBbm9ueW1vdXMgPSAhJGNvcmVfdjJfVXNlci5Jc1JlZ2lzdGVyZWQoJGNvbW1lbnQuQXV0aG9yLklkKSkNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1jb21tZW50aWQ9IiRjb21tZW50LklkIiBkYXRhLWVkaXR1cmw9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lraVVybHMuRWRpdENvbW1lbnQoJGNvbW1lbnQuSWQpKSI+DQoJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1vdXRlciBmaWppLWZ1bGwtcG9zdC1vdXRlciBldm9sdXRpb24yLWZ1bGwtcG9zdC1vdXRlciI+DQoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyIj4NCgkJCQk8ZGl2IGNsYXNzPSJyIGZpamktciBldm9sdXRpb24yLXIiPjwvZGl2Pg0KCQkJPC9kaXY+DQoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QiPg0KCQkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1pbm5lciBmaWppLWZ1bGwtcG9zdC1pbm5lciBldm9sdXRpb24yLWZ1bGwtcG9zdC1pbm5lciI+DQoJCQkJCTxhIG5hbWU9ImNvbW1lbnQtJGNvbW1lbnQuSWQiPjwvYT4NCgkJCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+DQoJCQkJCQkJI2lmICgkY29tbWVudC5BdXRob3IuUHJvZmlsZVVybCkNCgkJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29tbWVudC5BdXRob3IuUHJvZmlsZVVybCkiPg0KCQkJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkY29tbWVudC5BdXRob3IuQXZhdGFyVXJsLDMyLDMyLCIleyBzdHlsZT0nYm9yZGVyLXdpZHRoOiAwcHg7JywgYWx0PSRjb21tZW50LkF1dGhvci5EaXNwbGF5TmFtZX0iKQ0KCQkJCQkJCQk8L2E+DQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkY29tbWVudC5BdXRob3IuQXZhdGFyVXJsLDMyLDMyLCIleyBzdHlsZT0nYm9yZGVyLXdpZHRoOiAwcHg7JywgYWx0PSRjb21tZW50LkF1dGhvci5EaXNwbGF5TmFtZX0iKQ0KCQkJCQkJCSNlbmQNCgkJCQkJCTwvc3Bhbj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPg0KCQkJCQkJCSNpZiAoJGNvbW1lbnQuQXV0aG9yLlByb2ZpbGVVcmwpDQoJCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvbW1lbnQuQXV0aG9yLlByb2ZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSI+DQoJCQkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvbW1lbnQuQXV0aG9yLkRpc3BsYXlOYW1lDQoJCQkJCQkJCTwvYT4NCgkJCQkJCQkjZWxzZQ0KCQkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvbW1lbnQuQXV0aG9yLkRpc3BsYXlOYW1lDQoJCQkJCQkJI2VuZA0KCQkJCQkJPC9zcGFuPg0KCQkJCQk8L2Rpdj4NCgkJCQkJPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJ2YWx1ZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZUFuZFRpbWUoJGNvbW1lbnQuUHVibGlzaGVkRGF0ZSk8L3NwYW4+DQoJCQkJCTwvZGl2Pg0KCQkJCSAgICA8ZGl2IGNsYXNzPSJwb3N0LW1vZGVyYXRlIj4NCgkJCQkgICAgICAgICNpZiAoJGFjY2Vzc2luZ1VzZXJJc1JlZ2lzdGVyZWQpDQoJCQkJCQkJI3NldCAoJERRID0gJyInKQ0KCQkJCQkJCSNzZXQgKCRtb2RlcmF0ZU9wdGlvbnMgPSAiJXt9IikNCgkJCQkJCQkjc2V0ICgkZGVsZXRlTGluayA9ICIiKQ0KCQkJCQkJCSNpZiAoJGNvcmVfdjJfbm9kZVBlcm1pc3Npb24uR2V0KCd3aWtpc3BhZ2Vjb21tZW50cycsICRjb21tZW50LklkLCAiV2lraV9EZWxldGVDb21tZW50IikuSXNBbGxvd2VkKQ0KCQkJCQkJCQkjc2V0ICgkZGVsZXRlTGluayA9ICJ7JHtEUX1ocmVmJHtEUX06JHtEUX0jJHtEUX0sJHtEUX10ZXh0JHtEUX06JHtEUX0ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0RlbGV0ZScpfSR7RFF9LCR7RFF9Y2xhc3NOYW1lJHtEUX06JHtEUX1kZWxldGUtcG9zdCR7RFF9fSIpDQoJCQkJCQkJI2VuZA0KCQkJCQkJCSNzZXQgKCRlZGl0TGluayA9ICIiKQ0KCQkJCQkJCSNpZiAoJGNvcmVfdjJfbm9kZVBlcm1pc3Npb24uR2V0KCd3aWtpc3BhZ2Vjb21tZW50cycsICRjb21tZW50LklkLCAiV2lraV9Nb2RpZnlDb21tZW50IikuSXNBbGxvd2VkKQ0KCQkJCQkJCQkjc2V0ICgkZWRpdExpbmsgPSAieyR7RFF9aHJlZiR7RFF9OiR7RFF9IyR7RFF9LCR7RFF9dGV4dCR7RFF9OiR7RFF9JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0Jyl9JHtEUX0sJHtEUX1jbGFzc05hbWUke0RRfToke0RRfWVkaXQtcG9zdCR7RFF9fSIpDQoJCQkJCQkJI2VuZA0KCQkJCQkJCSNzZXQgKCRkaXZpZGVyID0gJycpDQoJCQkJCQkJI2lmICgkZGVsZXRlTGluay5sZW5ndGggPiAwICYmICRlZGl0TGluay5sZW5ndGggPiAwKQ0KCQkJCQkJCQkjc2V0ICgkZGl2aWRlciA9ICcsJykNCgkJCQkJCQkjZW5kDQoJCQkJCQkJJG1vZGVyYXRlT3B0aW9ucy5BZGQoJ0FkZGl0aW9uYWxMaW5rcycsIlske2VkaXRMaW5rfSR7ZGl2aWRlcn0ke2RlbGV0ZUxpbmt9XSIpDQoJCQkJICAgICAgICAgICAgJGNvcmVfdjJfdWkuTW9kZXJhdGUoJGNvbW1lbnQuQ29tbWVudElkLCAkY29tbWVudC5Db21tZW50Q29udGVudFR5cGVJZCwgJG1vZGVyYXRlT3B0aW9ucykNCgkJCQkgICAgICAgICNlbmQNCgkJCQkgICAgPC9kaXY+DQoJCQkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj4NCgkJCQkJCSRjb21tZW50LkJvZHkNCgkJCQkJPC9kaXY+DQoJCQkJCTxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+DQoJCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4NCgkJCQkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4NCgkJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBwb3N0LWxpa2UtY291bnQiPg0KCQkJCQkJCQkjaWYgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkKQ0KCQkJCQkJCQkJI3NldCAoJGxpa2VGb3JtYXQgPSAne3RvZ2dsZX0gPHNwYW4gY2xhc3M9ImNvdW50Ij48c3BhbiBjbGFzcz0ibGlrZS1pbmRpY2F0b3IgaW5saW5lIj48L3NwYW4+e2NvdW50fTwvc3Bhbj4nKQ0KCQkJCQkJCQkjZWxzZQ0KCQkJCQkJCQkJI3NldCAoJGxpa2VGb3JtYXQgPSAnPHNwYW4gY2xhc3M9ImNvdW50Ij48c3BhbiBjbGFzcz0ibGlrZS1pbmRpY2F0b3IgaW5saW5lIj48L3NwYW4+e2NvdW50fTwvc3Bhbj4nKQ0KCQkJCQkJCQkjZW5kDQoJCQkJICAgICAgICAgICAgCTxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtdmFsdWUiPiRjb3JlX3YyX3VpLkxpa2UoJGNvbW1lbnQuQ29tbWVudElkLCAkY29tbWVudC5Db21tZW50Q29udGVudFR5cGVJZCwgIiV7IEZvcm1hdCA9ICRsaWtlRm9ybWF0IH0iKTwvc3Bhbj4NCgkJCQkgICAgICAgICAgICA8L2xpPg0KCQkJCQkJPC91bD4NCgkJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2Pg0KCQkJCQk8L2Rpdj4NCgkJCQk8L2Rpdj4NCgkJCTwvZGl2Pg0KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciI+DQoJCQkJPGRpdiBjbGFzcz0iciBmaWppLXIgZXZvbHV0aW9uMi1yIj48L2Rpdj4NCgkJCTwvZGl2Pg0KCQk8L2Rpdj4NCgk8L2xpPg0KI2FmdGVyYWxsDQoJPC91bD4NCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4NCiNlbmQNCg0KI3NldCgkYmFzZVVybCA9ICRjb3JlX3YyX3BhZ2UuVXJsKQ0KI3NldCgkYmFzZVVybCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19iYXNlVXJsJykpDQoNCiRjb3JlX3YyX3VpLlBhZ2VyKCRjb21tZW50cy5QYWdlSW5kZXgsICRjb21tZW50cy5QYWdlU2l6ZSwgJGNvbW1lbnRzLlRvdGFsQ291bnQsICIle1RhcmdldD0nY29tbWVudHMnLEJhc2VVcmw9JGJhc2VVcmwsUGFnZWRDb250ZW50RmlsZT0nbG9hZC52bScsVHJhbnNpdGlvbj0nbm9uZSd9Iik=</file>
			<file name="ui.js">alF1ZXJ5KGZ1bmN0aW9uKCQpew0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKQ0KICAgICAgICAgICAgJC50ZWxsaWdlbnQgPSB7fTsNCg0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307DQoNCiAgICBpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsNCg0KICAgIHZhciBfZXJyb3JIdG1sID0gJzxkaXYgY2xhc3M9Im1lc3NhZ2UgZXJyb3IiPntFcnJvclRleHR9PC9kaXY+JywNCiAgICAgICAgX2xvYWRpbmdIdG1sID0gJzxkaXYgY2xhc3M9Im1lc3NhZ2UgbG9hZGluZyI+e0xvYWRpbmdUZXh0fTwvZGl2PicsDQogICAgICAgIF9sb2FkID0gZnVuY3Rpb24oY29udGV4dCwgcmViYXNlUGFnZXIpIHsNCiAgICAgICAgICAgIHZhciBkYXRhID0geyB3X2Jhc2VVcmw6IGNvbnRleHQuYmFzZVVybCB9Ow0KICAgICAgICAgICAgaWYocmViYXNlUGFnZXIpIHsNCiAgICAgICAgICAgICAgICBkYXRhW2NvbnRleHQucGFnZUluZGV4UXVlcnlTdHJpbmdLZXldID0gMTsNCg0KICAgICAgICAgICAgICAgIHZhciBoYXNoRGF0YSA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi51cmwuaGFzaERhdGEoKTsNCiAgICAgICAgICAgICAgICBoYXNoRGF0YVtjb250ZXh0LnBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5XSA9IDE7DQogICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5oYXNoRGF0YShoYXNoRGF0YSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBfc2V0Q29udGVudChjb250ZXh0LCBfbG9hZGluZ0h0bWwucmVwbGFjZSgve0xvYWRpbmdUZXh0fS9nLCBjb250ZXh0LmxvYWRpbmdUZXh0KSk7DQogICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCiAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQubG9hZENvbW1lbnRzVXJsLA0KICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsDQogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRDb250ZW50KGNvbnRleHQsIHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5lcnJvclRleHQsDQogICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsNCiAgICAgICAgICAgICAgICAgICAgX3NldENvbnRlbnQoY29udGV4dCwgX2Vycm9ySHRtbC5yZXBsYWNlKC97RXJyb3JUZXh0fS9nLCBkZXNjKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIF9hdHRhY2hIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbnRleHQpDQogICAgICAgIHsNCiAgICAgICAgICAgICQoY29udGV4dC53cmFwcGVyKS5iaW5kKCdldm9sdXRpb25Nb2RlcmF0ZUxpbmtDbGlja2VkJyxmdW5jdGlvbihlLCB0YXJnZXRMaW5rKSB7DQogICAgICAgICAgICAgICAgdmFyIG1vZGVyYXRlciA9ICQoZS50YXJnZXQpOw0KICAgICAgICAgICAgICAgIHRhcmdldExpbmsgPSAkKHRhcmdldExpbmspOw0KICAgICAgICAgICAgICAgIHZhciBjb21tZW50SWQgPSBtb2RlcmF0ZXIuY2xvc2VzdCgnLmNvbnRlbnQtaXRlbScpLmRhdGEoJ2NvbW1lbnRpZCcpOw0KICAgICAgICAgICAgICAgIGlmKHRhcmdldExpbmsuaGFzQ2xhc3MoJ2RlbGV0ZS1wb3N0JykpIHsNCiAgICAgICAgICAgICAgICAgICAgX2RlbGV0ZVdpa2lDb21tZW50KGNvbnRleHQsIGNvbnRleHQud2lraUlkLCBjb250ZXh0LnBhZ2VJZCwgY29tbWVudElkLCBlKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRhcmdldExpbmsuaGFzQ2xhc3MoJ2VkaXQtcG9zdCcpKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBlZGl0Q29tbWVudFVybCA9IG1vZGVyYXRlci5jbG9zZXN0KCcuY29udGVudC1pdGVtJykuZGF0YSgnZWRpdHVybCcpOw0KICAgICAgICAgICAgICAgICAgICBUZWxsaWdlbnRfTW9kYWwuT3BlbihlZGl0Q29tbWVudFVybCwgNTAwLCA0MDAsIG51bGwpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICBfc2V0Q29udGVudCA9IGZ1bmN0aW9uKGNvbnRleHQsIGh0bWwpIHsNCiAgICAgICAgICAgIGNvbnRleHQud3JhcHBlci5odG1sKGh0bWwpLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7DQogICAgICAgIH0sDQogICAgICAgIF9kZWxldGVXaWtpQ29tbWVudCA9IGZ1bmN0aW9uKGNvbnRleHQsIHdpa2lJZCwgcGFnZUlkLCBjb21tZW50SWQsIGV2ZW50KSB7DQogICAgICAgICAgICBpZihjb25maXJtKGNvbnRleHQuZGVsZXRlVmVyaWZpY2F0aW9uVGV4dCkpIHsNCiAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZGVsKHsNCiAgICAgICAgICAgICAgICAgICAgdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvd2lraXMve1dpa2lJZH0vcGFnZXMve1dpa2lQYWdlSWR9L2NvbW1lbnRzL3tDb21tZW50SWR9Lmpzb24nLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAgICAgICAgICAgICBXaWtpSWQ6IHdpa2lJZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIFdpa2lQYWdlSWQ6IHBhZ2VJZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIENvbW1lbnRJZDogY29tbWVudElkDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVtYWluaW5nSXRlbXMgPSAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgndWwnKS5maW5kKCdsaS5jb250ZW50LWl0ZW0nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICQoJ2FbbmFtZT1jb21tZW50LScrY29tbWVudElkKyddJywgY29udGV4dC53cmFwcGVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wYXJlbnRzKCdsaS5jb250ZW50LWl0ZW0nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5zbGlkZVVwKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCdhW25hbWU9Y29tbWVudC0nK2NvbW1lbnRJZCsnXScsIGNvbnRleHQud3JhcHBlcikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5wYXJlbnRzKCdsaS5jb250ZW50LWl0ZW0nKS5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgd2VyZSBubyBtb3JlIGNvbW1lbnRzLCBoaWRlIHRoZSBjb21tZW50cyBsaXN0IGFsdG9nZXRoZXINCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29udGV4dC53cmFwcGVyLmZpbmQoJ2xpJykubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LndyYXBwZXIuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkKGNvbnRleHQsIHJlbWFpbmluZ0l0ZW1zLmxlbmd0aCA9PT0gMSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmNvbW1lbnRMaXN0ID0gew0KICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KDQogICAgICAgICAgICAkKGRvY3VtZW50KS5iaW5kKCd0ZWxsaWdlbnRfd2lraXNfY29tbWVudHBvc3RlZCcsIGZ1bmN0aW9uKGUsIG1lc3NhZ2UpIHsNCiAgICAgICAgICAgICAgICBfbG9hZChjb250ZXh0KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfTsNCn0pOw==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_Compare_Name}" version="7.5.0.32466" description="${resource:Wikis_Compare_Description}" instanceIdentifier="875b8baaad9b45f1b117cec30109fd3f" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="compare">
		<contentScript>
#set ($currentPage = $core_v2_wikiPage.Current)
#set ($revANumber = $core_v2_utility.ParseInt($core_v2_page.GetQueryStringValue("revA")))
#set ($revBNumber = $core_v2_utility.ParseInt($core_v2_page.GetQueryStringValue("revB")))

#set ($revA = $core_v2_wikiPageRevision.Get($currentPage.WikiId, $revANumber, "%{PageId = $currentPage.Id}"))
#set ($revB = $core_v2_wikiPageRevision.Get($currentPage.WikiId, $revBNumber, "%{PageId = $currentPage.Id}"))

#if ($revANumber == 0)
	#set ($labelRevA = $core_v2_language.GetResource("Wikis_Compare_StatusMessage_CurrentRevision"))
	#set ($linkRevA = $core_v2_wikiUrls.Page($currentPage.Id))
	#set ($titleA = $currentPage.Title)
	#set ($bodyA = $currentPage.Body())
	#set ($tagsA = $core_v2_utility.Join(", ", $currentPage.Tags))
#elseif ($revA)
	#set ($labelRevA = "$core_v2_language.GetResource('Wikis_Compare_StatusMessage_Revision')$revANumber")
	#set ($linkRevA = $core_v2_wikiUrls.Revision($currentPage.Id, $revANumber))
	#set ($titleA = $revA.Title)
	#set ($bodyA = $revA.Body())
	#set ($tagsA = $revA.Tags)
#end

#if ($revBNumber == 0)
	#set ($labelRevB = $core_v2_language.GetResource("Wikis_Compare_StatusMessage_CurrentRevision"))
	#set ($linkRevB = $core_v2_wikiUrls.Page($currentPage.Id))
	#set ($titleB = $currentPage.Title)
	#set ($bodyB = $currentPage.Body())
	#set ($tagsB = $core_v2_utility.Join(", ", $currentPage.Tags))
#elseif ($revB)
	#set ($labelRevB = "$core_v2_language.GetResource('Wikis_Compare_StatusMessage_Revision')$revBNumber")
	#set ($linkRevB = $core_v2_wikiUrls.Revision($currentPage.Id, $revBNumber))
	#set ($titleB = $revB.Title)
	#set ($bodyB = $revB.Body())
	#set ($tagsB = $revB.Tags)
#end

#set ($mergedTitle = $core_v2_ui.Merge($titleA, $titleB))
#set ($mergedBody = $core_v2_ui.Merge($bodyA, $bodyB))
#set ($mergedTags = $core_v2_ui.Merge($tagsA, $tagsB))

&lt;div class="message warning"&gt;
	$core_v2_language.FormatString($core_v2_language.GetResource("Wikis_Compare_StatusMessage"), $labelRevA, $labelRevB, $linkRevA, $linkRevB)
	&lt;a href='$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Page($currentPage.Id))' class='internal-link view-post'&gt;$core_v2_language.GetResource('Wikis_Compare_StatusMessageLink')&lt;/a&gt;
&lt;/div&gt;
&lt;h2 class="title"&gt;$mergedTitle&lt;/h2&gt;
&lt;div style="font-size: 90%"&gt;$mergedTags&lt;/div&gt;
$mergedBody
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_Compare_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_Compare_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_Compare_Name">Wikis - Compare</resource><resource name="Wikis_Compare_Description">Compares wiki revisions.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Wikis_Compare_StatusMessage_CurrentRevision">the current version</resource><resource name="Wikis_Compare_StatusMessage_Revision">revision </resource><resource name="Wikis_Compare_StatusMessage">You are currently comparing &lt;a href="{2}"&gt;{0}&lt;/a&gt; and &lt;a href="{3}"&gt;{1}&lt;/a&gt;.</resource><resource name="Wikis_Compare_StatusMessageLink">Go to current version</resource></language></languageResources>
		<requiredContext>
			<context id="438f4b20be39493c908f292b4592f6fc" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_ContactBlog_Name}" version="7.5.0.32466" description="${resource:Blogs_ContactBlog_Description}" instanceIdentifier="843230ce227f4d8ba28b5b01312f180d" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="contact-blog">
		<contentScript>
#set ($blog = false)
#set ($blog = $core_v2_blog.Current)
#if (!$blog)
	$core_v2_widget.Hide()
#end
#if (!$blog.ShowContact)
	#if ($core_v2_widget.IsInWidgetPreviewMode)
		&lt;div class="message warning"&gt;$core_v2_language.GetResource('Blogs_ContactBlog_Disabled_Message')&lt;/div&gt;
	#else
		$core_v2_widget.Hide()
	#end
#else
	#set ($nameId = $core_v2_widget.UniqueId('name'))
	#set ($emailId = $core_v2_widget.UniqueId('email'))
	#set ($subjectId = $core_v2_widget.UniqueId('subject'))
	#set ($bodyId = $core_v2_widget.UniqueId('body'))
	#set ($submitId = $core_v2_widget.UniqueId('submit'))
	#set ($successId = $core_v2_widget.UniqueId('success'))

	&lt;div id="$core_v2_encoding.HtmlAttributeEncode($successId)" class="message success" style="display:none;"&gt;
		$core_v2_language.GetResource('Weblog_ContactForm_Sent')
		&lt;a href="$core_v2_encoding.HtmlAttributeEncode($blog.Url)"&gt;
			$core_v2_language.GetResource('Weblog_ContactForm_ReturnToBlog')
		&lt;/a&gt;
	&lt;/div&gt;

	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;div class="field-list-description"&gt;$core_v2_language.GetResource('Contact') - $blog.Name&lt;/div&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;label for="$core_v2_encoding.HtmlAttributeEncode($nameId)" class="field-item-header"&gt;$core_v2_language.GetResource('Weblog_ContactForm_Name')&lt;/label&gt;
				&lt;span class="field-item-input"&gt;&lt;input name="$core_v2_encoding.HtmlAttributeEncode($nameId)" type="text" size="50" id="$core_v2_encoding.HtmlAttributeEncode($nameId)" /&gt;&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;label for="$core_v2_encoding.HtmlAttributeEncode($emailId)" class="field-item-header"&gt;$core_v2_language.GetResource('Weblog_ContactForm_Email')&lt;/label&gt;
				&lt;span class="field-item-input"&gt;&lt;input name="$core_v2_encoding.HtmlAttributeEncode($emailId)" type="text" size="50" id="$core_v2_encoding.HtmlAttributeEncode($emailId)" /&gt;&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;label for="$core_v2_encoding.HtmlAttributeEncode($subjectId)" class="field-item-header"&gt;$core_v2_language.GetResource('Weblog_ContactForm_Subject')&lt;/label&gt;
				&lt;span class="field-item-input"&gt;&lt;input name="$core_v2_encoding.HtmlAttributeEncode($subjectId)" type="text" size="50" id="$core_v2_encoding.HtmlAttributeEncode($subjectId)" /&gt;&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;label for="$core_v2_encoding.HtmlAttributeEncode($bodyId)" class="field-item-header"&gt;$core_v2_language.GetResource('Weblog_ContactForm_Body')&lt;/label&gt;
				&lt;span class="field-item-input"&gt;&lt;textarea name="$core_v2_encoding.HtmlAttributeEncode($bodyId)" rows="8" cols="50" id="$core_v2_encoding.HtmlAttributeEncode($bodyId)"&gt;&lt;/textarea&gt;&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-description"&gt;&lt;/span&gt;
				&lt;span class="field-item-input"&gt;
					&lt;a id="$core_v2_encoding.HtmlAttributeEncode($submitId)" class="internal-link send-email" href="#"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Send')&lt;/a&gt;
				&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
	#registerEndOfPageHtml('telligent.evolution.widgets.contactBlog')
		&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
	#end
	#registerEndOfPageHtml()
		&lt;script type="text/javascript"&gt;
			jQuery(function(){
				jQuery.telligent.evolution.widgets.contactBlog.register({
					wrapper: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
					subject: '#$core_v2_encoding.JavascriptEncode($subjectId)',
					name: '#$core_v2_encoding.JavascriptEncode($nameId)',
					email: '#$core_v2_encoding.JavascriptEncode($emailId)',
					body: '#$core_v2_encoding.JavascriptEncode($bodyId)',
					submit: '#$core_v2_encoding.JavascriptEncode($submitId)',
					success: '#$core_v2_encoding.JavascriptEncode($successId)',
					ipAddress: '$core_v2_encoding.JavascriptEncode($core_v2_page.IpAddress)',
					blogId: $blog.Id
				});
			});
		&lt;/script&gt;
	#end
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_ContactBlog_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_ContactBlog_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_ContactBlog_Name">Blog - Email Author</resource><resource name="Blogs_ContactBlog_Description">Displays the form used to email blog owners.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Weblog_ContactForm_Sent">Your contact request has been sent successfully.</resource><resource name="Weblog_ContactForm_ReturnToBlog">Return to blog</resource><resource name="Contact">Contact</resource><resource name="Weblog_ContactForm_Name">Name</resource><resource name="Weblog_ContactForm_Email">Email</resource><resource name="Weblog_ContactForm_Subject">Subject</resource><resource name="Weblog_ContactForm_Body">Message</resource><resource name="Send">Send</resource><resource name="Blogs_ContactBlog_Title_Contact">Contact</resource><resource name="Blogs_ContactBlog_Disabled_Message">To enable this widget, you must edit this blog's settings, enable the "Email Blog Author" form, and enter an e-mail address.</resource></language></languageResources>
		<requiredContext>
			<context id="94b4a7db70934b0abcce06169b6f2272" />
		</requiredContext>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQpewoKCXZhciB2YWxpZGF0aW9uTWVzc2FnZSA9ICcqJywKCQljcmVhdGVDb250YWN0UmVxdWVzdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3QoewoJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvYmxvZ3Mve0Jsb2dJZH0vY29udGFjdHJlcXVlc3RzLmpzb24nLAoJCQkJZGF0YTogewoJCQkJCUJsb2dJZDogY29udGV4dC5ibG9nSWQsCgkJCQkJU3ViamVjdDogY29udGV4dC5zdWJqZWN0LnZhbCgpLAoJCQkJCUJvZHk6IGNvbnRleHQuYm9keS52YWwoKSwKCQkJCQlOYW1lOiBjb250ZXh0Lm5hbWUudmFsKCksCgkJCQkJRW1haWxBZGRyZXNzOiBjb250ZXh0LmVtYWlsLnZhbCgpLAoJCQkJCUlQQWRkcmVzczogY29udGV4dC5pcEFkZHJlc3MKCQkJCX0sCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJCS8vIGhpZGUgdGhlIGZvcm0KCQkJCQljb250ZXh0LndyYXBwZXIuZmluZCgnLmZpZWxkLWxpc3QtaGVhZGVyLC5maWVsZC1saXN0LC5maWVsZC1saXN0LWZvb3RlcicpLmhpZGUoKTsKCQkJCQkvLyBzaG93IHRoZSBzdWNjZXNzIG1lc3NhZ2UKCQkJCQljb250ZXh0LnN1Y2Nlc3Muc2hvdygpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWFwaSA9IHsKCQkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJCWNvbnRleHQuc3ViamVjdCA9ICQoY29udGV4dC5zdWJqZWN0KTsKCQkJCWNvbnRleHQud3JhcHBlciA9ICQoY29udGV4dC53cmFwcGVyKTsKCQkJCWNvbnRleHQubmFtZSA9ICQoY29udGV4dC5uYW1lKTsKCQkJCWNvbnRleHQuZW1haWwgPSAkKGNvbnRleHQuZW1haWwpOwoJCQkJY29udGV4dC5ib2R5ID0gJChjb250ZXh0LmJvZHkpOwoJCQkJY29udGV4dC5zdWNjZXNzID0gJChjb250ZXh0LnN1Y2Nlc3MpOwoJCQkJY29udGV4dC5zdWJtaXQgPSAkKGNvbnRleHQuc3VibWl0KQoJCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKHsKCQkJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsgfSwKCQkJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQkJCWNyZWF0ZUNvbnRhY3RSZXF1ZXN0KGNvbnRleHQpOwoJCQkJCQl9fSkKCQkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLAoJCQkJCQljb250ZXh0LnN1YmplY3QsIHsKCQkJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCQkJbWVzc2FnZXM6IHsKCQkJCQkJCQlyZXF1aXJlZDogdmFsaWRhdGlvbk1lc3NhZ2UKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJY29udGV4dC5zdWJqZWN0LmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKQoJCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsCgkJCQkJCWNvbnRleHQubmFtZSwgewoJCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCQltZXNzYWdlczogewoJCQkJCQkJCXJlcXVpcmVkOiB2YWxpZGF0aW9uTWVzc2FnZQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQljb250ZXh0Lm5hbWUuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpCgkJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywKCQkJCQkJY29udGV4dC5lbWFpbCwgewoJCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCQllbWFpbDogdHJ1ZSwKCQkJCQkJCW1lc3NhZ2VzOiB7CgkJCQkJCQkJcmVxdWlyZWQ6IHZhbGlkYXRpb25NZXNzYWdlLAoJCQkJCQkJCWVtYWlsOiB2YWxpZGF0aW9uTWVzc2FnZQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQljb250ZXh0LmVtYWlsLmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKQoJCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsCgkJCQkJCWNvbnRleHQuYm9keSwgewoJCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCQltZXNzYWdlczogewoJCQkJCQkJCXJlcXVpcmVkOiB2YWxpZGF0aW9uTWVzc2FnZQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQljb250ZXh0LmJvZHkuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpOwoJCQl9Cgl9OwoKCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuY29udGFjdEJsb2cgPSBhcGk7Cgp9KGpRdWVyeSkpOwo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:ReportAbuse_Name}" version="7.5.0.32466" description="${resource:ReportAbuse_Description}" instanceIdentifier="3f6151c2e4674f7bac9e21cabae80131" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="content-report-abuse">
		<contentScript>
#set($contentId = false)
#set($contentId = $core_v2_utility.ParseGuid($core_v2_page.GetQueryStringValue('AbuseContentId')))
#set($contentTypeId = false)
#set($contentTypeId = $core_v2_utility.ParseGuid($core_v2_page.GetQueryStringValue('AbuseContentTypeId')))
#set($flag = false)
#set($flag = $core_v2_utility.ParseBool($core_v2_page.GetQueryStringValue('AbuseFlag')))
#set($abuseReports = $core_v2_abuseReport.List("%{ReportingUserId = $core_v2_user.Accessing.Id, AbusiveContentId = $contentId}"))

#set ($successMessage = $core_v2_language.GetResource('Flag_Success'))
#set ($content = false)
#set ($content = $core_v2_content.Get($contentId, $contentTypeId))
#if ($content)
	#set ($author = false)
	#set ($author = $core_v2_user.Get("%{ Id = $content.CreatedByUserId }"))
	#if ($author)
		#set ($successMessage = $core_v2_language.FormatString($core_v2_language.GetResource('Flag_Success_Attributed'), $author.DisplayName))
	#end
#end

#if (!$core_v2_widget.IsInWidgetPreviewMode &amp;&amp; $contentId &amp;&amp; $contentTypeId &amp;&amp; $flag &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	#if (!$abuseReports || $abuseReports.TotalCount == 0)
		#registerEndOfPageHtml()
			&lt;script type="text/javascript"&gt;
				jQuery(function(j){
					if (confirm('$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Confirm_Message'))')) {
						j.telligent.evolution.post({
							url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('flag.vm'))',
							data: { contentId: '$contentId', contentTypeId: '$contentTypeId' },
							success: function (data) {
								if (data.success) {
									j.telligent.evolution.messaging.publish('ui.reportabuse', {
										contentId: '$contentId',
										contentTypeId: '$contentTypeId'
									});
									j.telligent.evolution.notifications.show('$core_v2_encoding.JavascriptEncode($successMessage)', { type:'success' });
								} else {
									j.telligent.evolution.notifications.show('$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Flag_Error'))', { type:'error' });
								}
							}
						})
					}
				});
			&lt;/script&gt;
		#end
	#elseif ($abuseReports &amp;&amp; $abuseReports.TotalCount == 1)
		#registerEndOfPageHtml()
			&lt;script type="text/javascript"&gt;
				jQuery(function(j){
					j.telligent.evolution.notifications.show('$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Flag_Already_Flagged'))', { type:'success' });
				});
			&lt;/script&gt;
		#end
	#else
		$core_v2_widget.Hide()
	#end
#else
	$core_v2_widget.Hide()
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:ReportAbuse_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:ReportAbuse_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="ReportAbuse_Name">Report Abuse</resource><resource name="ReportAbuse_Description">Allows content to be reported as abusive from a link in an email.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Flag_Already_Flagged">This content has already been flagged.  Thank you for your feedback.</resource><resource name="Flag_Success">This content has been flagged as spam/abuse.</resource><resource name="Flag_Success_Attributed">{0}'s post has been flagged. Thank you for your feedback.</resource><resource name="Flag_Error">There was an error flagging this content as abusive.</resource><resource name="Confirm_Message">Are you sure you want to flag this content as abusive?</resource></language></languageResources>
		<files>
			<file name="flag.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCg0KCSNzZXQoJGNvbnRlbnRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VHdWlkKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdjb250ZW50SWQnKSkpDQoJI3NldCgkY29udGVudFR5cGVJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VHdWlkKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdjb250ZW50VHlwZUlkJykpKQ0KDQoJI3NldCgkYWJ1c2VSZXBvcnQgPSBmYWxzZSkNCgkjc2V0KCRhYnVzZVJlcG9ydCA9ICRjb3JlX3YyX2FidXNlUmVwb3J0LkNyZWF0ZSgkY29udGVudElkLCAkY29udGVudFR5cGVJZCkpDQoJeyJzdWNjZXNzIjojaWYoJGFidXNlUmVwb3J0KSB0cnVlI2Vsc2UgZmFsc2UjZW5kfQ0KI2VuZA==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Messages_ConversationList_Name}" version="7.5.0.32466" description="${resource:Messages_ConversationList_Description}" instanceIdentifier="6f42539c0d36478bba8627b06f3e896f" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="conversation-list">
		<contentScript>

#set($accessingUser = $core_v2_user.Accessing)
#set($viewType = $core_v2_widget.GetStringValue('viewType', 'standard'))
#if(!$core_v2_user.IsRegistered($accessingUser.Id))
    $core_v2_widget.Hide()
#end

#if ($viewType =='standard')
    $!core_v2_page.RedirectToHashedQuery()
    $core_v2_widget.ExecuteFile('view-standard.vm')
#elseif ($viewType == 'simple')
    #set($showUnreadCount = $core_v2_widget.GetBoolValue('showUnreadCount', true))
    #set($showPager = $core_v2_widget.GetBoolValue('showPager', true))
    #set($pageSize = $core_v2_widget.GetIntValue('pageSize', 10))

    #set($pageIndex = $core_v2_ui.GetCurrentPageIndex())
    #set($conversations = $core_v2_conversation.List("%{PageIndex = '${pageIndex}', PageSize = '${pageSize}'}"))

    #if($showUnreadCount)
        #set($unreadConversations = $core_v2_conversation.List("%{PageIndex = '0', PageSize = '1', ReadStatus = 'Unread'}"))
        #if($unreadConversations &amp;&amp; $unreadConversations.TotalCount == 1)
            &lt;div class="message directions"&gt;
                $core_v2_language.FormatString($core_v2_language.GetResource("ViewConversations_UnreadMessage"), $unreadConversations.TotalCount.ToString())
            &lt;/div&gt;
        #elseif($unreadConversations &amp;&amp; $unreadConversations.TotalCount &gt; 1)
            &lt;div class="message directions"&gt;
                $core_v2_language.FormatString($core_v2_language.GetResource("ViewConversations_UnreadMessages"), $unreadConversations.TotalCount.ToString())
            &lt;/div&gt;
        #end
    #end

    $core_v2_ui.PagedContent("view-simple.vm")

    #if($conversations &amp;&amp; $conversations.TotalCount &gt; 0 &amp;&amp; $showPager)
        #if($viewType == "simple")
            $core_v2_ui.Pager($conversations.PageIndex, $conversations.PageSize, $conversations.TotalCount, "%{ PagedContentFile = 'view-simple-page.vm' }")
        #else
            $core_v2_ui.Pager($conversations.PageIndex, $conversations.PageSize, $conversations.TotalCount, "%{ PagedContentFile = 'view-standard-page.vm', Transition = 'none' }")
        #end
    #end
#end

#registerEndOfPageHtml('telligent.evolution.widgets.conversationList')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
    &lt;script type="text/javascript"&gt;
    //&lt;![CDATA[
    jQuery(function() {
        jQuery.telligent.evolution.widgets.conversationList.register({
            wrapperSelector : '#${core_v2_widget.WrapperElementId}',
            viewType: '$core_v2_encoding.JavascriptEncode($viewType)',
            deleteUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('delete-conversation.vm'))",
            deleteConversationText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ViewConversations_DeleteConversation_Confirmation'))",
            conversationsUrl: "$core_v2_encoding.JavascriptEncode($core_v2_urls.Conversations())",
            pagedMessage: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PagedContentPagedEvent)',
            conversationBrowser: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('conversationBrowser'))',
            conversationList: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('conversationList'))',
            conversationListUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('view-standard-conversations-page.vm'))",
            messageList: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('messageList'))',
            messageListUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('view-standard-messages-page.vm'))",
            addConversationModalUrl: "$core_v2_encoding.JavascriptEncode($core_v2_urls.AddConversation())",
            conversationNotificationTypeId: '$core_v2_conversationMessage.NotificationTypeId',
            messageReplyContent: function() { return $core_v2_editor.GetContentScript('Reply'); },
            messageReplyFocus: function() { $core_v2_editor.GetFocusScript('Reply'); },
            messageReplyClear: function() {
                // when updating the content script, requires a name of a global variable that contains the content
                window.messageReplyCleared = '';
                $core_v2_editor.GetUpdateContentScript('Reply','messageReplyCleared');
            }
        });
    });
    //]]&gt;
    &lt;/script&gt;
#end
        </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Messages_ConversationList_Name}'))
    </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Messages_ConversationList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
    &lt;property id="viewType" resourceName="CF_ConversationList_ViewType" dataType="string" defaultValue="standard" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls"&gt;
        &lt;propertyValue value="standard" resourceName="CF_ConversationList_ViewType_Standard" propertiesToShow="" propertiesToHide="showUnreadCount,pageSize,showPager" /&gt;
        &lt;propertyValue value="simple" resourceName="CF_ConversationList_ViewType_Simple" propertiesToShow="showUnreadCount,pageSize,showPager" propertiesToHide="" /&gt;
    &lt;/property&gt;
    &lt;property id="showUnreadCount" resourceName="CF_ConversationList_ShowUnreadCount" dataType="bool" defaultValue="true" /&gt;
    &lt;property id="pageSize" resourceName="CF_PageSize" dataType="int" defaultValue="10"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
    &lt;/property&gt;
    &lt;property id="showPager" resourceName="CF_ConversationList_ShowPager" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
      </configuration>
		<languageResources><language key="en-us"><resource name="Messages_ConversationList_Name">Conversation List</resource><resource name="Messages_ConversationList_Description">Displays list of conversations for the current user.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_ConversationList_ViewType">View type</resource><resource name="CF_ConversationList_ViewType_Standard">Standard</resource><resource name="CF_ConversationList_ViewType_Simple">Simple</resource><resource name="CF_ConversationList_ShowUnreadCount">Show number of unread messages</resource><resource name="CF_PageSize">Number of Items to Display</resource><resource name="CF_ConversationList_ShowPager">Show pager</resource><resource name="ViewConversations_UnreadMessage">You have 1 unread message.</resource><resource name="ViewConversations_UnreadMessages">You have {0} unread messages.</resource><resource name="ViewConversations_NoTopics">There are no messages to show.</resource><resource name="ViewConversations_DeleteConversation_Confirmation">Are you sure you want to delete this conversation?</resource><resource name="ViewConversations_DeleteConversation">Delete Conversation</resource><resource name="Between">Between</resource><resource name="ViewConversations_LastMessageBy">Last message by</resource><resource name="on">on</resource><resource name="ViewUserProfile_DeleteConversation">Delete</resource><resource name="Messages_ConversationList_Title_Conversations">Conversations</resource><resource name="ConversationList_FriendsPrivateMessage">Send a Private Message</resource><resource name="SelectConversation">Please select a conversation</resource><resource name="AddNew">New Message</resource><resource name="Reply">Reply</resource><resource name="ReplyPlaceholder">Write a reply...</resource><resource name="Inbox">Inbox</resource><resource name="ConversationStarted">Conversation started</resource></language></languageResources>
		<files>
			<file name="delete-conversation.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkjc2V0KCRjb252ZXJzYXRpb25JZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VHdWlkKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdjb252ZXJzYXRpb25JZCcpKSkNCgkjc2V0KCRyZXN1bHQgPSAkY29yZV92Ml9jb252ZXJzYXRpb24uRGVsZXRlKCRjb252ZXJzYXRpb25JZCkpDQoJI2lmKCRyZXN1bHQuRXJyb3JzLkNvdW50ID4gMCkNCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRyZXN1bHQuRXJyb3JzKQ0KCSNlbHNlDQoJCXsic3VjY2VzcyI6ICJ0cnVlIn0NCgkjZW5kDQojZW5k</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsNCg0KICAgICQudGVsbGlnZW50ID0gJC50ZWxsaWdlbnQgfHwge307DQogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uIHx8IHt9Ow0KICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgfHwge307DQoNCiAgICB2YXIgbWVzc2FnaW5nID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm1lc3NhZ2luZywNCiAgICAgICAgZXZlbnRzID0gew0KICAgICAgICAgICAgY29udmVyc2F0aW9uTGlzdFBhZ2VkOiAnd2lkZ2V0LmNvbnZlcnNhdGlvbmxpc3QuY29udmVyc2F0aW9ucy5wYWdlZCcsDQogICAgICAgICAgICBtZXNzYWdlTGlzdFBhZ2VkOiAnd2lkZ2V0LmNvbnZlcnNhdGlvbmxpc3QubWVzc2FnZXMucGFnZWQnLA0KICAgICAgICAgICAgY29udmVyc2F0aW9uRGVsZXRlZDogJ3dpZGdldC5jb252ZXJzYXRpb25saXN0Lm1lc3NhZ2VzLmRlbGV0ZWQnLA0KICAgICAgICAgICAgbWVzc2FnZUFkZGVkOiAnd2lkZ2V0LmNvbnZlcnNhdGlvbmxpc3QubWVzc2FnZXMuYWRkZWQnLA0KICAgICAgICAgICAgY29udmVyc2F0aW9uQWRkOiAnd2lkZ2V0LmNvbnZlcnNhdGlvbkxpc3QubWVzc2FnZXMuYWRkJywNCiAgICAgICAgICAgIGNvbnZlcnNhdGlvbkNvdW50Q2hhbmdlZDogJ3dpZGdldC5jb252ZXJzYXRpb25MaXN0LmNvbnZlcnNhdGlvbnMuY29udmVyc2F0aW9uQ291bnRDaGFuZ2VkJywNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvblJhaXNlZDogJ25vdGlmaWNhdGlvbi5yYWlzZWQnLA0KICAgICAgICAgICAgY2hhdFJlY2VpdmVkOiAnY2hhdC5tZXNzYWdlUmVjZWl2ZWQnLA0KICAgICAgICAgICAgbWVzc2FnZVJlYWQ6ICd1aS5tZXNzYWdlcmVhZCcNCiAgICAgICAgfTsNCg0KICAgIC8qDQogICAgICogQ29udmVyc2F0aW9uIE1vZGVsDQogICAgICogQ29uc3RydWN0b3I6DQogICAgICogTWV0aG9kczoNCiAgICAgKiAgIGxpc3QNCiAgICAgKiAgIGdldA0KICAgICAqICAgZGVsDQogICAgICogICBhZGQNCiAgICAgKi8NCiAgICB2YXIgQ29udmVyc2F0aW9uTW9kZWwgPSAoZnVuY3Rpb24oKXsNCiAgICAgICAgdmFyIGRlZmF1bHRzID0gew0KICAgICAgICAgICAgY29udmVyc2F0aW9uTGlzdFVybDogJycsDQogICAgICAgICAgICBtZXNzYWdlTGlzdFVybDogJycsDQogICAgICAgICAgICBkZWxldGVVcmw6ICcnDQogICAgICAgIH07DQogICAgICAgIHJldHVybiBmdW5jdGlvbihvcHRpb25zKSB7DQogICAgICAgICAgICB2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pOw0KDQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIGxpc3Q6IGZ1bmN0aW9uKHBhZ2VJbmRleCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNldHRpbmdzLmNvbnZlcnNhdGlvbkxpc3RVcmwsDQogICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXggfHwgMA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBnZXQ6IGZ1bmN0aW9uKGNvbnZlcnNhdGlvbklkLCBwYWdlSW5kZXgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBzZXR0aW5ncy5tZXNzYWdlTGlzdFVybCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogY29udmVyc2F0aW9uSWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZUluZGV4OiBwYWdlSW5kZXggfHwgMA0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBkZWw6IGZ1bmN0aW9uKGNvbnZlcnNhdGlvbklkKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHNldHRpbmdzLmRlbGV0ZVVybCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogY29udmVyc2F0aW9uSWQNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICByZXBseTogZnVuY3Rpb24oY29udmVyc2F0aW9uSWQsIGJvZHkpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL2NvbnZlcnNhdGlvbnMve0NvbnZlcnNhdGlvbklkfS9tZXNzYWdlcy5qc29uJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDb252ZXJzYXRpb25JZDogY29udmVyc2F0aW9uSWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgQm9keTogYm9keQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfTsNCiAgICAgICAgfTsNCiAgICB9KSgpOw0KDQogICAgLyoNCiAgICAgKiBDb252ZXJzYXRpb25MaXN0Vmlldw0KICAgICAqIENvbnN0cnVjdG9yOg0KICAgICAqICAgdmlldw0KICAgICAqIEV2ZW50cw0KICAgICAqICAgcGFnZWQgKHBhZ2VJbmRleCkNCiAgICAgKiAgIGNvbnZlcnNhdGlvbkNvdW50Q2hhbmdlZCAoY291bnQpDQogICAgICogTWV0aG9kcw0KICAgICAqICAgcmVuZGVyKHJlbmRlcmVkQ29udmVyc2F0aW9ucykNCiAgICAgKiAgIGFwcGVuZChyZW5kZXJlZENvbnZlcnNhdGlvbnMpDQogICAgICogICByZW1vdmVDb252ZXJzYXRpb24oY29udmVyc2F0aW9uSWQpDQogICAgICogICB2aWV3aW5nKGNvbnZlcnNhdGlvbklkKQ0KICAgICAqICAgc2NhbGUoKQ0KICAgICAqLw0KICAgIHZhciBDb252ZXJzYXRpb25MaXN0VmlldyA9IChmdW5jdGlvbigpew0KICAgICAgICB2YXIgZGVmYXVsdHMgPSB7DQogICAgICAgICAgICB2aWV3OiAnJw0KICAgICAgICB9Ow0KDQogICAgICAgIC8vIGRldGVybWluZSBpZiB0aGlzIGNvbnRlbnQgaXMgZW5vdWdoIHRvIGNhdXNlIHNjcm9sbGluZw0KICAgICAgICAvLyBpZiBub3QsIHRyeSBhc2tpbmcgZm9yIG1vcmUgcGFnZXMgdW50aWwgaXQgZG9lcyBvciBtYXggYXR0ZW1wdHMgcmVhY2hlZA0KICAgICAgICBmdW5jdGlvbiBwYWdlVW50aWxTY3JvbGxzKGNvbnRleHQpIHsNCiAgICAgICAgICAgIGlmKCFjb250ZXh0Lmhhc01vcmUpDQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgdmFyIGNvbnRlbnRIZWlnaHQgPSAwOw0KICAgICAgICAgICAgY29udGV4dC52aWV3LmZpbmQoJ2xpLmNvbnRlbnQtaXRlbS5jb252ZXJzYXRpb24nKS5lYWNoKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgY29udGVudEhlaWdodCArPSAkKHRoaXMpLmhlaWdodCgpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZihjb250ZW50SGVpZ2h0IDwgY29udGV4dC52aWV3LmhlaWdodCgpICYmIGNvbnRleHQucGFnZWRDb250ZW50QXR0ZW1wdHMgPCAxMCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQucGFnZWRDb250ZW50QXR0ZW1wdHMrKzsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCsrOw0KICAgICAgICAgICAgICAgIG1lc3NhZ2luZy5wdWJsaXNoKGV2ZW50cy5jb252ZXJzYXRpb25MaXN0UGFnZWQsIHsNCiAgICAgICAgICAgICAgICAgICAgcGFnZUluZGV4OiBjb250ZXh0LnBhZ2VJbmRleA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VkQ29udGVudEF0dGVtcHRzID0gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGhhbmRsZUV2ZW50cyhjb250ZXh0KSB7DQogICAgICAgICAgICAvLyBpbmZpbml0ZSBwYWdpbmcgd2hlbiBzY3JvbGxpbmcgZG93bg0KICAgICAgICAgICAgY29udGV4dC52aWV3Lm9uKCdzY3JvbGxlbmQnLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIGlmKCFjb250ZXh0Lmhhc01vcmUpDQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCsrOw0KICAgICAgICAgICAgICAgIG1lc3NhZ2luZy5wdWJsaXNoKGV2ZW50cy5jb252ZXJzYXRpb25MaXN0UGFnZWQsIHsNCiAgICAgICAgICAgICAgICAgICAgcGFnZUluZGV4OiBjb250ZXh0LnBhZ2VJbmRleA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGNvbnRleHQudmlldy5vbignY2xpY2snLCAnbGkuY29udmVyc2F0aW9uJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIC8vIHRyZWF0IGl0IGFzIGlmIGl0IHdhcyBsaWtlIGNsaWNraW5nIHRoZSB0aXRsZQ0KICAgICAgICAgICAgICAgIHZhciBjb252ZXJzYXRpb25VcmwgPSAkKHRoaXMpLmZpbmQoJy5wb3N0LW5hbWUgYScpLmF0dHIoJ2hyZWYnKS5yZXBsYWNlKC9cPy8sJyMnKTsNCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBjb252ZXJzYXRpb25Vcmwuc3Vic3RyKGNvbnZlcnNhdGlvblVybC5pbmRleE9mKCcjJykpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBjb250ZXh0LnZpZXcuY2xvc2VzdCgnLmNvbnZlcnNhdGlvbi1icm93c2VyLWNvbHVtbicpLmZpbmQoJy5uZXcnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgbWVzc2FnaW5nLnB1Ymxpc2goZXZlbnRzLmNvbnZlcnNhdGlvbkFkZCkNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgLy8gYmxvY2sgc2Nyb2xsaW5nIG9mIG91dGVyDQogICAgICAgICAgICBibG9ja1Njcm9sbGluZ1doaWxlT3Zlcihjb250ZXh0LnZpZXcpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlUmVzaXplKGNvbnRleHQpIHsNCiAgICAgICAgICAgIHZhciB2aWV3Q29udGFpbmVyID0gY29udGV4dC52aWV3LnBhcmVudCgpOw0KICAgICAgICAgICAgY29udGV4dC5uYW1lQ29udGFpbmVyID0gY29udGV4dC5uYW1lQ29udGFpbmVyIHx8ICQoJy5jb250ZW50LWxpc3QtbmFtZS5jb252ZXJzYXRpb25zJywgdmlld0NvbnRhaW5lcik7DQogICAgICAgICAgICBjb250ZXh0LnZpZXcuY3NzKHsgaGVpZ2h0OiAodmlld0NvbnRhaW5lci5oZWlnaHQoKSAtIGNvbnRleHQubmFtZUNvbnRhaW5lci5oZWlnaHQoKSkgfSk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykgew0KICAgICAgICAgICAgdmFyIGNvbnRleHQgPSAkLmV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pOw0KICAgICAgICAgICAgY29udGV4dC5wYWdlSW5kZXggPSAwOw0KICAgICAgICAgICAgY29udGV4dC52aWV3ID0gJChjb250ZXh0LnZpZXcpOw0KDQogICAgICAgICAgICAvLyBzZXQgdXAgZXZlbnQgaGFuZGxlcnMNCiAgICAgICAgICAgIGhhbmRsZUV2ZW50cyhjb250ZXh0KTsNCg0KICAgICAgICAgICAgZnVuY3Rpb24gcmFpc2VDb252ZXJzYXRpb25Db3VudENoYW5nZSgpIHsNCiAgICAgICAgICAgICAgICBtZXNzYWdpbmcucHVibGlzaChldmVudHMuY29udmVyc2F0aW9uQ291bnRDaGFuZ2VkLCB7IGNvdW50OiBjb250ZXh0LnZpZXcuZmluZCgnbGkuY29udGVudC1pdGVtLmNvbnZlcnNhdGlvbicpLmxlbmd0aCB9KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgICAgICAvLyByZXBsYWNlcyBhbGwgdGhlIGNvbnRlbnQgb2YgdGhlIHZpZXcNCiAgICAgICAgICAgICAgICAvLyBpZiBubyBjb250ZW50IHBhc3NlZCwgcmUtaW5pdGlhdGVzIHdpdGggdGhlIHZpZXcncyBjdXJyZW50IGNvbnRlbnRzDQoNCiAgICAgICAgICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHJlbmRlcmVkQ29udmVyc2F0aW9ucykgew0KICAgICAgICAgICAgICAgICAgICBoYW5kbGVSZXNpemUoY29udGV4dCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQucGFnZUluZGV4ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5oYXNNb3JlID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wYWdlZENvbnRlbnRBdHRlbXB0cyA9IDA7DQogICAgICAgICAgICAgICAgICAgIGlmKHJlbmRlcmVkQ29udmVyc2F0aW9ucykNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5odG1sKHJlbmRlcmVkQ29udmVyc2F0aW9ucyk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaGFzTW9yZSA9IGNvbnRleHQudmlldy5maW5kKCdsaS5jb250ZW50LWl0ZW0uY29udmVyc2F0aW9uOmxhc3QnKS5kYXRhKCdoYXNtb3JlJyk7DQogICAgICAgICAgICAgICAgICAgIHJhaXNlQ29udmVyc2F0aW9uQ291bnRDaGFuZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgcGFnZVVudGlsU2Nyb2xscyhjb250ZXh0KTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGFwcGVuZDogZnVuY3Rpb24ocmVuZGVyZWRDb252ZXJzYXRpb25zKSB7DQogICAgICAgICAgICAgICAgICAgICQocmVuZGVyZWRDb252ZXJzYXRpb25zKS5lYWNoKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IGFwcGVuZCBjb252ZXJzYXRpb25zIHRvIHRoZSBsaXN0IHdoaWNoIGFyZW4ndCBhbHJlYWR5IGluIHRoZSBsaXN0DQogICAgICAgICAgICAgICAgICAgICAgICBpZigkKHRoaXMuaWQpLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5hcHBlbmQodGhpcyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICByYWlzZUNvbnZlcnNhdGlvbkNvdW50Q2hhbmdlKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaGFzTW9yZSA9IGNvbnRleHQudmlldy5maW5kKCdsaS5jb250ZW50LWl0ZW0uY29udmVyc2F0aW9uOmxhc3QnKS5kYXRhKCdoYXNtb3JlJyk7DQogICAgICAgICAgICAgICAgICAgIHBhZ2VVbnRpbFNjcm9sbHMoY29udGV4dCk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICByZW1vdmVDb252ZXJzYXRpb246IGZ1bmN0aW9uKGNvbnZlcnNhdGlvbklkKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5maW5kKCdsaVtkYXRhLWNvbnZlcnNhdGlvbmlkPSInICsgY29udmVyc2F0aW9uSWQgKyAnIl0nKS5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgcmFpc2VDb252ZXJzYXRpb25Db3VudENoYW5nZSgpOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgdmlld2luZzogZnVuY3Rpb24oY29udmVyc2F0aW9uSWQpIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC52aWV3LmZpbmQoJ2xpLnNlbGVjdGVkJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJykNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC52aWV3LmZpbmQoJ2xpW2RhdGEtY29udmVyc2F0aW9uaWQ9IicgKyBjb252ZXJzYXRpb25JZCArICciXScpLmFkZENsYXNzKCdzZWxlY3RlZCcpDQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5maW5kKCdsaVtkYXRhLWNvbnZlcnNhdGlvbmlkPSInICsgY29udmVyc2F0aW9uSWQgKyAnIl0nKS5yZW1vdmVDbGFzcygndW5yZWFkJykNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHNjYWxlOiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgaGFuZGxlUmVzaXplKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgIH07DQogICAgfSkoKTsNCg0KICAgIC8qDQogICAgICogTWVzc2FnZUxpc3RWaWV3DQogICAgICogQ29uc3RydWN0b3I6DQogICAgICogICB2aWV3DQogICAgICogRXZlbnRzDQogICAgICogICBwYWdlZCAocGFnZUluZGV4KQ0KICAgICAqICAgZGVsZXRlZCAoY29udmVyc2F0aW9uSWQpDQogICAgICogICByZXBsaWVkIChjb252ZXJzYXRpb25JZCwgYm9keSkNCiAgICAgKiAgIGFkZGVkDQogICAgICogTWV0aG9kcw0KICAgICAqICAgcmVuZGVyKGNvbnZlcnNhdGlvbklkLCByZW5kZXJlZE1lc3NhZ2VzKQ0KICAgICAqICAgcHJlcGVuZChjb252ZXJzYXRpb25JZCwgcmVuZGVyZWRNZXNzYWdlcykNCiAgICAgKiAgIGFwcGVuZChjb252ZXJzYXRpb25JZCwgcmVuZGVyZWRNZXNzYWdlcykNCiAgICAgKiAgIGhpZGUoKQ0KICAgICAqICAgc2NhbGUoKQ0KICAgICAqICAgc2V0Q3VycmVudENvbnZlcnNhdGlvbkNvdW50KGNvdW50KQ0KICAgICAqLw0KICAgIHZhciBNZXNzYWdlTGlzdFZpZXcgPSAoZnVuY3Rpb24oKXsNCiAgICAgICAgdmFyIGRlZmF1bHRzID0gew0KICAgICAgICAgICAgdmlldzogew0KICAgICAgICAgICAgICAgIGxpc3Q6ICcnLA0KICAgICAgICAgICAgICAgIGRlbGV0ZUxpbms6ICcnLA0KICAgICAgICAgICAgICAgIHN1YmplY3Q6ICcnLA0KICAgICAgICAgICAgICAgIHJlcGx5TGluazogJycsDQogICAgICAgICAgICAgICAgcmVwbHlGb3JtOiAnJywNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjdXJyZW50Q29udmVyc2F0aW9uQ291bnQ6IDANCiAgICAgICAgfTsNCg0KICAgICAgICAvLyBkZXRlcm1pbmUgaWYgdGhpcyBjb250ZW50IGlzIGVub3VnaCB0byBjYXVzZSBzY3JvbGxpbmcNCiAgICAgICAgLy8gaWYgbm90LCB0cnkgYXNraW5nIGZvciBtb3JlIHBhZ2VzIHVudGlsIGl0IGRvZXMgb3IgbWF4IGF0dGVtcHRzIHJlYWNoZWQNCiAgICAgICAgZnVuY3Rpb24gcGFnZVVudGlsU2Nyb2xscyhjb250ZXh0KSB7DQogICAgICAgICAgICBpZighY29udGV4dC5oYXNNb3JlKQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIHZhciBjb250ZW50SGVpZ2h0ID0gMDsNCiAgICAgICAgICAgIGNvbnRleHQudmlldy5saXN0LmZpbmQoJ2xpLmNvbnZlcnNhdGlvbi1tZXNzYWdlJykuZWFjaChmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIGNvbnRlbnRIZWlnaHQgKz0gJCh0aGlzKS5oZWlnaHQoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgaWYoY29udGVudEhlaWdodCA8IGNvbnRleHQudmlldy5saXN0LmhlaWdodCgpICYmIGNvbnRleHQucGFnZWRDb250ZW50QXR0ZW1wdHMgPCAxMCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQucGFnZWRDb250ZW50QXR0ZW1wdHMrKzsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCsrOw0KICAgICAgICAgICAgICAgIG1lc3NhZ2luZy5wdWJsaXNoKGV2ZW50cy5tZXNzYWdlTGlzdFBhZ2VkLCB7DQogICAgICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogY29udGV4dC5wYWdlSW5kZXgsDQogICAgICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkOiBjb250ZXh0LmNvbnZlcnNhdGlvbklkLA0KICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb0JvdHRvbTogdHJ1ZQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VkQ29udGVudEF0dGVtcHRzID0gMDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGhhbmRsZUV2ZW50cyhjb250ZXh0KSB7DQogICAgICAgICAgICAvLyBibG9jayBzY3JvbGxpbmcgb2Ygb3V0ZXIgc2VjdGlvbnMNCiAgICAgICAgICAgIGJsb2NrU2Nyb2xsaW5nV2hpbGVPdmVyKGNvbnRleHQudmlldy5saXN0KTsNCg0KICAgICAgICAgICAgLy8gaW5maW5pdGUgcGFnaW5nIHdoZW4gc2Nyb2xsaW5nIHVwDQogICAgICAgICAgICBjb250ZXh0LnZpZXcubGlzdC5vbignc2Nyb2xsdG9wJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICBpZighY29udGV4dC5oYXNNb3JlKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgY29udGV4dC5wYWdlSW5kZXgrKzsNCiAgICAgICAgICAgICAgICBtZXNzYWdpbmcucHVibGlzaChldmVudHMubWVzc2FnZUxpc3RQYWdlZCwgew0KICAgICAgICAgICAgICAgICAgICBwYWdlSW5kZXg6IGNvbnRleHQucGFnZUluZGV4LA0KICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogY29udGV4dC5jb252ZXJzYXRpb25JZA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vIGNsaWNraW5nIGRlbGV0ZQ0KICAgICAgICAgICAgY29udGV4dC52aWV3LmRlbGV0ZUxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGlmKGNvbmZpcm0oY29udGV4dC5jb25maXJtRGVsZXRlKSkgew0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdpbmcucHVibGlzaChldmVudHMuY29udmVyc2F0aW9uRGVsZXRlZCwgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGNvbnRleHQuY29udmVyc2F0aW9uSWQNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyBjbGlja2luZyByZXBseSBsaW5rDQogICAgICAgICAgICBjb250ZXh0LnZpZXcucmVwbHlMaW5rLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGJvZHkNCiAgICAgICAgICAgICAgICB2YXIgYm9keSA9ICQudHJpbShjb250ZXh0Lm1lc3NhZ2VSZXBseUNvbnRlbnQoKSk7DQogICAgICAgICAgICAgICAgaWYoYm9keS5sZW5ndGggPT09IDApDQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICAvLyBhZGQgcmVwbHkNCiAgICAgICAgICAgICAgICBjb250ZXh0Lm1lc3NhZ2VSZXBseUNsZWFyKCk7DQogICAgICAgICAgICAgICAgbWVzc2FnaW5nLnB1Ymxpc2goZXZlbnRzLm1lc3NhZ2VBZGRlZCwgew0KICAgICAgICAgICAgICAgICAgICBjb252ZXJzYXRpb25JZDogY29udGV4dC5jb252ZXJzYXRpb25JZCwNCiAgICAgICAgICAgICAgICAgICAgYm9keTogYm9keQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gc2NhbGUoY29udGV4dCkgew0KICAgICAgICAgICAgdmFyIGhlYWRlckhlaWdodCA9IGNvbnRleHQudmlldy5oZWFkZXIuaGVpZ2h0KCksDQogICAgICAgICAgICAgICAgY29udGFpbmVySGVpZ2h0ID0gY29udGV4dC52aWV3LndyYXBwZXIuaGVpZ2h0KCk7DQoNCiAgICAgICAgICAgIGNvbnRleHQudmlldy5saXN0LmNzcyh7IGhlaWdodDogKGNvbnRhaW5lckhlaWdodCAtIGhlYWRlckhlaWdodCAtIChjb250ZXh0LnZpZXcubGlzdC5vdXRlckhlaWdodCgpIC0gY29udGV4dC52aWV3Lmxpc3QuaGVpZ2h0KCkpKSArICdweCcgfSkNCiAgICAgICAgfQ0KDQogICAgICAgIHJldHVybiBmdW5jdGlvbihvcHRpb25zKSB7DQogICAgICAgICAgICB2YXIgY29udGV4dCA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyB8fCB7fSksDQogICAgICAgICAgICAgICAgdmlld1dyYXBwZXIgPSAkKGNvbnRleHQudmlldyk7DQogICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IDA7DQoNCiAgICAgICAgICAgIC8vIGNhcHR1cmUgdmlldyBwaWVjZXMNCiAgICAgICAgICAgIGNvbnRleHQudmlldyA9IHsNCiAgICAgICAgICAgICAgICB3cmFwcGVyOiB2aWV3V3JhcHBlciwNCiAgICAgICAgICAgICAgICBsaXN0OiB2aWV3V3JhcHBlci5maW5kKCcuY29udGVudC1saXN0Lm1lc3NhZ2VzJyksDQogICAgICAgICAgICAgICAgZGVsZXRlTGluazogdmlld1dyYXBwZXIuZmluZCgnLmRlbGV0ZScpLA0KICAgICAgICAgICAgICAgIHJlcGx5TGluazogdmlld1dyYXBwZXIuZmluZCgnYS5hZGQtcmVwbHknKSwNCiAgICAgICAgICAgICAgICBzdWJqZWN0OiB2aWV3V3JhcHBlci5maW5kKCcuc3ViamVjdCcpLA0KICAgICAgICAgICAgICAgIHVuc2VsZWN0ZWRNZXNzYWdlOiB2aWV3V3JhcHBlci5maW5kKCcubm9kYXRhLnNlbGVjdCcpLA0KICAgICAgICAgICAgICAgIG5vTWVzc2FnZXM6IHZpZXdXcmFwcGVyLmZpbmQoJy5ub2RhdGEuZW1wdHknKSwNCiAgICAgICAgICAgICAgICBoZWFkZXI6IHZpZXdXcmFwcGVyLmZpbmQoJy5jb250ZW50LWxpc3QtaGVhZGVyLm1lc3NhZ2VzJyksDQogICAgICAgICAgICAgICAgcmVwbHlGb3JtOiB2aWV3V3JhcHBlci5maW5kKCcucmVwbHktZm9ybScpLA0KICAgICAgICAgICAgICAgIHJlcGx5Rm9ybUZpZWxkczogdmlld1dyYXBwZXIuZmluZCgnLmZpZWxkLWxpc3QucmVwbHknKQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBzZXQgdXAgZXZlbnQgaGFuZGxlcnMNCiAgICAgICAgICAgIGhhbmRsZUV2ZW50cyhjb250ZXh0KTsNCg0KICAgICAgICAgICAgLy8gc21hbGwgaGVscGVyIHRvIHNob3cgY29udmVyc2F0aW9uLXNwZWNpZmljIHVpIGVsZW1lbnRzIGZvciBtZXNzYWdlIGxpc3Qgdmlldw0KICAgICAgICAgICAgZnVuY3Rpb24gc2hvdygpIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXcudW5zZWxlY3RlZE1lc3NhZ2UuaGlkZSgpOw0KICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5ub01lc3NhZ2VzLmhpZGUoKTsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXcubGlzdC5zaG93KCk7DQogICAgICAgICAgICAgICAgY29udGV4dC52aWV3LmRlbGV0ZUxpbmsuc2hvdygpOw0KICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5zdWJqZWN0LnNob3coKTsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXcucmVwbHlGb3JtLnNob3coKTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgLy8gc21hbGwgaGVscGVyIHRvIGhpZGUgY29udmVyc2F0aW9uLXNwZWNpZmljIHVpIGVsZW1lbnRzIGluIG1lc3NhZ2UgbGlzdCB2aWV3DQogICAgICAgICAgICBmdW5jdGlvbiBoaWRlKCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5saXN0LmhpZGUoKTsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXcuZGVsZXRlTGluay5oaWRlKCk7DQogICAgICAgICAgICAgICAgY29udGV4dC52aWV3LnN1YmplY3QuaGlkZSgpOw0KICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5yZXBseUZvcm0uaGlkZSgpOw0KICAgICAgICAgICAgICAgIGlmKGNvbnRleHQuY3VycmVudENvbnZlcnNhdGlvbkNvdW50ID4gMCkgew0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXcudW5zZWxlY3RlZE1lc3NhZ2Uuc2hvdygpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5ub01lc3NhZ2VzLnNob3coKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgLy8gcmVwbGFjZXMgYWxsIHRoZSBjb250ZW50IG9mIHRoZSB2aWV3DQogICAgICAgICAgICAgICAgLy8gaWYgbm8gY29udGVudCBwYXNzZWQsIHJlLWluaXRpYXRlcyB3aXRoIHRoZSB2aWV3J3MgY3VycmVudCBjb250ZW50cw0KICAgICAgICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24oY29udmVyc2F0aW9uSWQsIHJlbmRlcmVkTWVzc2FnZXMpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gbWV0YQ0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbnZlcnNhdGlvbklkID0gY29udmVyc2F0aW9uSWQ7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQucGFnZUluZGV4ID0gMDsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5oYXNNb3JlID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wYWdlZENvbnRlbnRBdHRlbXB0cyA9IDA7DQogICAgICAgICAgICAgICAgICAgIC8vIGhpZGUgYW5kIHNob3cgcGFydHMgb2YgdGhlIHZpZXcNCiAgICAgICAgICAgICAgICAgICAgaWYoY29udmVyc2F0aW9uSWQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3coKTsNCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIC8vIHJlbmRlciBtZXNzYWdlcw0KICAgICAgICAgICAgICAgICAgICBpZihyZW5kZXJlZE1lc3NhZ2VzKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAvL2NvbnRleHQudmlldy5saXN0Lmh0bWwocmVuZGVyZWRNZXNzYWdlcyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXcubGlzdC5maW5kKCdsaS5jb252ZXJzYXRpb24tbWVzc2FnZSxsaS5kYXknKS5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5saXN0LnByZXBlbmQocmVuZGVyZWRNZXNzYWdlcyk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgdmFyIGZpcnN0TWVzc2FnZSA9IGNvbnRleHQudmlldy5saXN0LmZpbmQoJ2xpLmNvbnZlcnNhdGlvbi1tZXNzYWdlOmZpcnN0Jyk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaGFzTW9yZSA9IGZpcnN0TWVzc2FnZS5kYXRhKCdoYXNtb3JlJyk7DQoNCiAgICAgICAgICAgICAgICAgICAgcGFnZVVudGlsU2Nyb2xscyhjb250ZXh0KTsNCg0KICAgICAgICAgICAgICAgICAgICAvLyBzZXQgc3ViamVjdA0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXcuc3ViamVjdC5odG1sKGZpcnN0TWVzc2FnZS5kYXRhKCdzdWJqZWN0JykpOw0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnZpZXcuc3ViamVjdC5hdHRyKCd0aXRsZScsIGZpcnN0TWVzc2FnZS5kYXRhKCdmdWxsc3ViamVjdCcpKQ0KDQogICAgICAgICAgICAgICAgICAgIHNjYWxlKGNvbnRleHQpOw0KDQogICAgICAgICAgICAgICAgICAgIC8vIGtlZXAgc2Nyb2xsZWQgZG93biBvciByZXRhaW4gY3VycmVudCBzY3JvbGwgcG9zaXRpb24NCiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXdFbGVtZW50ID0gY29udGV4dC52aWV3Lmxpc3QuZ2V0KDApOw0KICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICB2aWV3RWxlbWVudC5zY3JvbGxUb3AgPSB2aWV3RWxlbWVudC5zY3JvbGxIZWlnaHQ7DQogICAgICAgICAgICAgICAgICAgIH0sIDUwKTsNCg0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1lc3NhZ2VSZXBseUNsZWFyKCk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBwcmVwZW5kOiBmdW5jdGlvbihjb252ZXJzYXRpb25JZCwgcmVuZGVyZWRNZXNzYWdlcywgc2Nyb2xsVG9Cb3R0b20pIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb252ZXJzYXRpb25JZCA9IGNvbnZlcnNhdGlvbklkOw0KICAgICAgICAgICAgICAgICAgICB2YXIgdmlld0VsZW1lbnQgPSBjb250ZXh0LnZpZXcubGlzdC5nZXQoMCksDQogICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXRIZWlnaHQgPSB2aWV3RWxlbWVudC5zY3JvbGxUb3A7DQogICAgICAgICAgICAgICAgICAgIHJlbmRlcmVkTWVzc2FnZXMgPSAkKHJlbmRlcmVkTWVzc2FnZXMpLnRvQXJyYXkoKS5yZXZlcnNlKCk7DQogICAgICAgICAgICAgICAgICAgICQocmVuZGVyZWRNZXNzYWdlcykuZWFjaChmdW5jdGlvbihpKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgYXBwZW5kIGNvbnZlcnNhdGlvbnMgdG8gdGhlIGxpc3Qgd2hpY2ggYXJlbid0IGFscmVhZHkgaW4gdGhlIGxpc3QNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuaWQsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNEYXkgPSAkKHRoaXMpLmlzKCcuZGF5Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihpc0RheSB8fCAoaWQgJiYgJCgnIycgKyBpZCkubGVuZ3RoID09PSAwKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5saXN0LnByZXBlbmQodGhpcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0SGVpZ2h0ICs9ICQodGhpcykub3V0ZXJIZWlnaHQodHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIHNjcm9sbGVkIGRvd24gb3IgcmV0YWluIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uDQogICAgICAgICAgICAgICAgICAgIHZpZXdFbGVtZW50LnNjcm9sbFRvcCA9IHNjcm9sbFRvQm90dG9tID8gdmlld0VsZW1lbnQuc2Nyb2xsSGVpZ2h0IDogb2Zmc2V0SGVpZ2h0Ow0KDQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaGFzTW9yZSA9IGNvbnRleHQudmlldy5saXN0LmZpbmQoJ2xpLmNvbnZlcnNhdGlvbi1tZXNzYWdlOmZpcnN0JykuZGF0YSgnaGFzbW9yZScpOw0KDQogICAgICAgICAgICAgICAgICAgIHBhZ2VVbnRpbFNjcm9sbHMoY29udGV4dCk7DQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBhcHBlbmQ6IGZ1bmN0aW9uKGNvbnZlcnNhdGlvbklkLCByZW5kZXJlZE1lc3NhZ2VzKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uSWQgPSBjb252ZXJzYXRpb25JZDsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHZpZXdFbGVtZW50ID0gY29udGV4dC52aWV3Lmxpc3QuZ2V0KDApOw0KICAgICAgICAgICAgICAgICAgICAkKHJlbmRlcmVkTWVzc2FnZXMpLmVhY2goZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc0RheSA9ICQodGhpcykuaXMoJy5kYXknKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9ubHkgYXBwZW5kIGNvbnZlcnNhdGlvbnMgdG8gdGhlIGxpc3Qgd2hpY2ggYXJlbid0IGFscmVhZHkgaW4gdGhlIGxpc3QNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFpc0RheSAmJiAkKCcjJyArIHRoaXMuaWQpLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudmlldy5saXN0LmZpbmQoJ2xpLnJlcGx5LWZvcm0nKS5iZWZvcmUodGhpcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8ga2VlcCBzY3JvbGxlZCBkb3duDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlld0VsZW1lbnQuc2Nyb2xsVG9wID0gdmlld0VsZW1lbnQuc2Nyb2xsSGVpZ2h0Ow0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGhpZGU6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBoaWRlKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uSWQgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb252ZXJzYXRpb25MaXN0ID0gbnVsbDsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tZXNzYWdlUmVwbHlDbGVhcigpOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgc2NhbGU6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBzY2FsZShjb250ZXh0KTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIHNldEN1cnJlbnRDb252ZXJzYXRpb25Db3VudDogZnVuY3Rpb24oY291bnQpIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50Q29udmVyc2F0aW9uQ291bnQgPSBjb3VudDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9Ow0KICAgICAgICB9Ow0KICAgIH0pKCk7DQoNCiAgICAvKg0KICAgICAqIENvbnZlcnNhdGlvbkNvbnRyb2xsZXINCiAgICAgKiBDb25zdHJ1Y3RvcjoNCiAgICAgKiAgIGNvbnRleHQNCiAgICAgKi8NCiAgICB2YXIgQ29udmVyc2F0aW9uQ29udHJvbGxlciA9IChmdW5jdGlvbigpew0KDQogICAgICAgIC8vIHJlZnJlaHNlcyB0aGUgZGF0YSBpbiBjb252ZXJzYXRpb24gYW5kIG1lc3NhZ2UgbGlzdHMNCiAgICAgICAgZnVuY3Rpb24gcmVmcmVzaChjb250ZXh0KSB7DQogICAgICAgICAgICBjb250ZXh0Lm1vZGVsLmxpc3QoKS5kb25lKGZ1bmN0aW9uKHJlbmRlcmVkQ29udmVyc2F0aW9ucyl7DQogICAgICAgICAgICAgICAgY29udGV4dC5jb252ZXJzYXRpb25MaXN0Vmlldy5yZW5kZXIocmVuZGVyZWRDb252ZXJzYXRpb25zKTsNCiAgICAgICAgICAgICAgICBpZihjb250ZXh0LmNvbnZlcnNhdGlvbklkKQ0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbnZlcnNhdGlvbkxpc3RWaWV3LnZpZXdpbmcoY29udGV4dC5jb252ZXJzYXRpb25JZCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmKGNvbnRleHQuY29udmVyc2F0aW9uSWQpIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vZGVsLmdldChjb250ZXh0LmNvbnZlcnNhdGlvbklkLCAwKS5kb25lKGZ1bmN0aW9uKHJlbmRlcmVkTWVzc2FnZXMpew0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1lc3NhZ2VMaXN0Vmlldy5hcHBlbmQoY29udGV4dC5jb252ZXJzYXRpb25JZCwgcmVuZGVyZWRNZXNzYWdlcyk7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2luZy5wdWJsaXNoKGV2ZW50cy5tZXNzYWdlUmVhZCwgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGNvbnRleHQuY29udmVyc2F0aW9uSWQNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBoYW5kbGVFdmVudHMoY29udGV4dCkgew0KICAgICAgICAgICAgdmFyIGxvYWRpbmdDb252ZXJzYXRpb25zID0gZmFsc2UsDQogICAgICAgICAgICAgICAgbG9hZGluZ01lc3NhZ2VzID0gZmFsc2U7DQoNCiAgICAgICAgICAgIC8vIGNvbnZlcnNhdGlvbiBsaXN0IHBhZ2luZw0KICAgICAgICAgICAgbWVzc2FnaW5nLnN1YnNjcmliZShldmVudHMuY29udmVyc2F0aW9uTGlzdFBhZ2VkLCBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgICAgICAgaWYobG9hZGluZ0NvbnZlcnNhdGlvbnMpDQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICBsb2FkaW5nQ29udmVyc2F0aW9ucyA9IHRydWU7DQoNCiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vZGVsLmxpc3QoZGF0YS5wYWdlSW5kZXgpLnRoZW4oZnVuY3Rpb24ocGFnZUNvbnRlbnQpew0KICAgICAgICAgICAgICAgICAgICBsb2FkaW5nQ29udmVyc2F0aW9ucyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvbnZlcnNhdGlvbkxpc3RWaWV3LmFwcGVuZChwYWdlQ29udGVudCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uTGlzdFZpZXcudmlld2luZyhjb250ZXh0LmNvbnZlcnNhdGlvbklkKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyBtZXNzYWdlIGxpc3QgcGFnaW5nDQogICAgICAgICAgICBtZXNzYWdpbmcuc3Vic2NyaWJlKGV2ZW50cy5tZXNzYWdlTGlzdFBhZ2VkLCBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgICAgICAgaWYobG9hZGluZ01lc3NhZ2VzKQ0KICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgbG9hZGluZ01lc3NhZ2VzID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vZGVsLmdldChkYXRhLmNvbnZlcnNhdGlvbklkLCBkYXRhLnBhZ2VJbmRleCkudGhlbihmdW5jdGlvbihwYWdlQ29udGVudCl7DQogICAgICAgICAgICAgICAgICAgIGxvYWRpbmdNZXNzYWdlcyA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1lc3NhZ2VMaXN0Vmlldy5wcmVwZW5kKGRhdGEuY29udmVyc2F0aW9uSWQsIHBhZ2VDb250ZW50LCBkYXRhLnNjcm9sbFRvQm90dG9tIHx8IGRhdGEucGFnZUluZGV4ID09PSAwKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyBjb252ZXJzYXRpb24gZGVsZXRpbmcNCiAgICAgICAgICAgIG1lc3NhZ2luZy5zdWJzY3JpYmUoZXZlbnRzLmNvbnZlcnNhdGlvbkRlbGV0ZWQsIGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0Lm1vZGVsLmRlbChkYXRhLmNvbnZlcnNhdGlvbklkKS50aGVuKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uSWQgPSBudWxsOw0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm1lc3NhZ2VMaXN0Vmlldy5oaWRlKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uTGlzdFZpZXcucmVtb3ZlQ29udmVyc2F0aW9uKGRhdGEuY29udmVyc2F0aW9uSWQpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vIHN0YXJ0aW5nIGEgbmV3IGNvbnZlcnNhdGlvbg0KICAgICAgICAgICAgbWVzc2FnaW5nLnN1YnNjcmliZShldmVudHMuY29udmVyc2F0aW9uQWRkLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICQuZ2xvd01vZGFsKGNvbnRleHQuYWRkQ29udmVyc2F0aW9uTW9kYWxVcmwsIHsNCiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDU1MCwNCiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAzNjANCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyByZXBseWluZyB0byBhIGNvbnZlcnNhdGlvbg0KICAgICAgICAgICAgbWVzc2FnaW5nLnN1YnNjcmliZShldmVudHMubWVzc2FnZUFkZGVkLCBmdW5jdGlvbihkYXRhKSB7DQogICAgICAgICAgICAgICAgY29udGV4dC5tb2RlbC5yZXBseShkYXRhLmNvbnZlcnNhdGlvbklkLCBkYXRhLmJvZHkpLnRoZW4oZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaChjb250ZXh0KTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyByZWNlaXZpbmcgYSBjb252ZXJzYXRpb24gbm90aWZpY2F0aW9uDQogICAgICAgICAgICBtZXNzYWdpbmcuc3Vic2NyaWJlKGV2ZW50cy5ub3RpZmljYXRpb25SYWlzZWQsIGZ1bmN0aW9uKGRhdGEpIHsNCiAgICAgICAgICAgICAgICBpZihkYXRhLnR5cGVJZCA9PT0gY29udGV4dC5jb252ZXJzYXRpb25Ob3RpZmljYXRpb25UeXBlSWQpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaChjb250ZXh0KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgbWVzc2FnaW5nLnN1YnNjcmliZShldmVudHMuY2hhdFJlY2VpdmVkLCBmdW5jdGlvbihkYXRhKXsNCiAgICAgICAgICAgICAgICByZWZyZXNoKGNvbnRleHQpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vIGxvYWRpbmcgb2YgY29udmVyc2F0aW9ucyB2aWEgaGFzaGNoYW5nZQ0KICAgICAgICAgICAgJCh3aW5kb3cpLmJpbmQoJ2hhc2hjaGFuZ2UnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBsb2FkQW55UmVxdWVzdGVkQ29udmVyc2F0aW9uKGNvbnRleHQpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vIGNvbnZlcnNhdGlvbiBjb3VudCBjaGFuZ2VkDQogICAgICAgICAgICBtZXNzYWdpbmcuc3Vic2NyaWJlKGV2ZW50cy5jb252ZXJzYXRpb25Db3VudENoYW5nZWQsIGZ1bmN0aW9uKGRhdGEpew0KICAgICAgICAgICAgICAgIGNvbnRleHQubWVzc2FnZUxpc3RWaWV3LnNldEN1cnJlbnRDb252ZXJzYXRpb25Db3VudChkYXRhLmNvdW50KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9Ow0KDQogICAgICAgIGZ1bmN0aW9uIGxvYWRBbnlSZXF1ZXN0ZWRDb252ZXJzYXRpb24oY29udGV4dCkgew0KICAgICAgICAgICAgdmFyIGhhc2hkYXRhID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5oYXNoRGF0YSgpOw0KICAgICAgICAgICAgaWYoaGFzaGRhdGEuQ29udmVyc2F0aW9uSUQpIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0LmNvbnZlcnNhdGlvbklkID0gaGFzaGRhdGEuQ29udmVyc2F0aW9uSUQ7DQogICAgICAgICAgICAgICAgY29udGV4dC5tb2RlbC5nZXQoaGFzaGRhdGEuQ29udmVyc2F0aW9uSUQsIDApLnRoZW4oZnVuY3Rpb24ocmVuZGVyZWRNZXNzYWdlcyl7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQubWVzc2FnZUxpc3RWaWV3LnJlbmRlcihoYXNoZGF0YS5Db252ZXJzYXRpb25JRCwgcmVuZGVyZWRNZXNzYWdlcyk7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2luZy5wdWJsaXNoKGV2ZW50cy5tZXNzYWdlUmVhZCwgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udmVyc2F0aW9uSWQ6IGhhc2hkYXRhLkNvbnZlcnNhdGlvbklEDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uTGlzdFZpZXcudmlld2luZyhoYXNoZGF0YS5Db252ZXJzYXRpb25JRCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykgew0KICAgICAgICAgICAgdmFyIGNvbnRleHQgPSBvcHRpb25zLmNvbnRleHQ7DQogICAgICAgICAgICAvLyBjb250ZXh0Lm1vZGVsDQogICAgICAgICAgICAvLyBjb250ZXh0LmNvbnZlcnNhdGlvbkxpc3RWaWV3DQogICAgICAgICAgICAvLyBjb250ZXh0Lm1lc3NhZ2VMaXN0Vmlldw0KDQogICAgICAgICAgICBoYW5kbGVFdmVudHMoY29udGV4dCk7DQoNCiAgICAgICAgICAgIHJldHVybiB7DQogICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uTGlzdFZpZXcucmVuZGVyKCk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQubWVzc2FnZUxpc3RWaWV3LnJlbmRlcigpOw0KICAgICAgICAgICAgICAgICAgICBsb2FkQW55UmVxdWVzdGVkQ29udmVyc2F0aW9uKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgIH07DQogICAgfSkoKTsNCg0KICAgIHZhciBkZWxldGVDb252ZXJzYXRpb24gPSBmdW5jdGlvbihjb250ZXh0LCBjb252ZXJzYXRpb25JZCkgew0KICAgICAgICAgICAgcmV0dXJuICQudGVsbGlnZW50LmV2b2x1dGlvbi5wdXQoew0KICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5kZWxldGVVcmwsDQogICAgICAgICAgICAgICAgZGF0YTogeyBDb252ZXJzYXRpb25JZDogY29udmVyc2F0aW9uSWQgfSwNCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBjb250ZXh0LmNvbnZlcnNhdGlvbnNVcmw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGluaXRTaW1wbGVWaWV3ID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgLy8gc3RhcnRpbmcgY29udmVyc2F0aW9ucw0KICAgICAgICAgICAgJChjb250ZXh0LndyYXBwZXJTZWxlY3RvciArICcgYS5zdGFydC1jb252ZXJzYXRpb24nKS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgdmFyIHVybCA9ICQodGhpcykuYXR0cignaHJlZicpOw0KICAgICAgICAgICAgICAgIFRlbGxpZ2VudF9Nb2RhbC5PcGVuKHVybCw1NTAsMzYwLG51bGwpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICB2YXIgaW5pdCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpDQogICAgICAgICAgICAgICAgICAgIC5maW5kKCcuaW50ZXJuYWwtbGluay5kZWxldGUtY29udmVyc2F0aW9uJykNCiAgICAgICAgICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoY29uZmlybShjb250ZXh0LmRlbGV0ZUNvbnZlcnNhdGlvblRleHQpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSAkKHRoaXMpLnBhcmVudHMoJy5jb250ZW50LWl0ZW0nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHAuYXR0cignZGF0YS1jb252ZXJzYXRpb24taWQnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlQ29udmVyc2F0aW9uKGNvbnRleHQsIGlkKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwID0gJCh0aGlzKS5wYXJlbnRzKCcudGFibGUtaXRlbScpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocC5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBwLmF0dHIoJ2RhdGEtY29udmVyc2F0aW9uLWlkJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGVDb252ZXJzYXRpb24oY29udGV4dCwgaWQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnN1YnNjcmliZShjb250ZXh0LnBhZ2VkTWVzc2FnZSwgaW5pdCk7DQogICAgICAgICAgICBpbml0KCk7DQogICAgICAgIH0sDQogICAgICAgIHJlc2l6ZUJyb3dzZXIgPSAoZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHZhciB0b01lYXN1cmUgPSBudWxsLA0KICAgICAgICAgICAgICAgIHBhZ2VGcmFnbWVudHMgPSBudWxsOw0KICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbnRleHQpIHsNCiAgICAgICAgICAgICAgICB2YXIgdG90YWwgPSAwOw0KICAgICAgICAgICAgICAgIHBhZ2VGcmFnbWVudHMgPSBwYWdlRnJhZ21lbnRzIHx8ICQoJy5jb250ZW50LWZyYWdtZW50LXBhZ2UnKTsNCiAgICAgICAgICAgICAgICB0b01lYXN1cmUgPSAkKHRvTWVhc3VyZSB8fCAkLm1hcChbJ2FkbWluLWJhci1oZWFkZXInLCdhZG1pbi1iYXInLCdhZG1pbi1iYXItZm9vdGVyJywnaGVhZGVyLWZyYWdtZW50cy1oZWFkZXInLCdoZWFkZXItZnJhZ21lbnRzJywnaGVhZGVyLWZyYWdtZW50cy1mb290ZXInXSwgZnVuY3Rpb24oc2VsKXsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQoJy4nICsgc2VsKTsNCiAgICAgICAgICAgICAgICB9KSkuZWFjaChmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSAkKHRoaXMpLm91dGVySGVpZ2h0KHRydWUpOw0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgdG90YWwgKz0gKHBhZ2VGcmFnbWVudHMub3V0ZXJIZWlnaHQodHJ1ZSkgLSBwYWdlRnJhZ21lbnRzLmlubmVySGVpZ2h0KCkpOw0KDQogICAgICAgICAgICAgICAgJChjb250ZXh0LmNvbnZlcnNhdGlvbkJyb3dzZXIpLmhlaWdodCgoJCh3aW5kb3cpLmlubmVySGVpZ2h0KCkgLSB0b3RhbCkgKiAuOTgpOw0KICAgICAgICAgICAgfTsNCiAgICAgICAgfSkoKSwNCiAgICAgICAgYmxvY2tTY3JvbGxpbmdXaGlsZU92ZXIgPSBmdW5jdGlvbihlbGVtZW50KSB7DQogICAgICAgICAgICB2YXIgZWwgPSAkKGVsZW1lbnQpLA0KICAgICAgICAgICAgICAgIHZlcnRpY2FsUGFkZGluZyA9IGVsLm91dGVySGVpZ2h0KCkgLSBlbC5oZWlnaHQoKTsNCg0KICAgICAgICAgICAgZWwub24oJ21vdXNlZW50ZXInLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIGVsLm9uKCdET01Nb3VzZVNjcm9sbCBtb3VzZXdoZWVsJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgICAgIHZhciBlID0gZSB8fCB3aW5kb3cuZXZlbnQsDQogICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEV2ZW50ID0gZS5vcmlnaW5hbEV2ZW50IHx8IGUsDQogICAgICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IDAsDQogICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3AgPSBlbC5nZXQoMCkuc2Nyb2xsVG9wLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0ID0gZWwuZ2V0KDApLnNjcm9sbEhlaWdodCwNCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGVsLmhlaWdodCgpOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEpDQogICAgICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IG9yaWdpbmFsRXZlbnQud2hlZWxEZWx0YS8xMjA7DQogICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbEV2ZW50LmRldGFpbCkNCiAgICAgICAgICAgICAgICAgICAgICAgIGRlbHRhID0gLW9yaWdpbmFsRXZlbnQuZGV0YWlsLzM7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYoKE1hdGguYWJzKHNjcm9sbFRvcCAtIChzY3JvbGxIZWlnaHQgLSBoZWlnaHQpKSA8PSB2ZXJ0aWNhbFBhZGRpbmcgJiYgZGVsdGEgPCAwKSB8fCAoc2Nyb2xsVG9wID09PSAwICYmIGRlbHRhID4gMCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGUucHJldmVudERlZmF1bHQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0pDQogICAgICAgICAgICAub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIGVsLm9mZignRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbCcpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIGluaXRTdGFuZGFyZFZpZXcgPSBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICAvLyBzZXQgdXAgc2NhbGVkIHNoZWxsDQogICAgICAgICAgICAkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgcmVzaXplQnJvd3Nlcihjb250ZXh0KTsNCiAgICAgICAgICAgICAgICBjb250ZXh0Lm1lc3NhZ2VMaXN0Vmlldy5zY2FsZSgpOw0KICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uTGlzdFZpZXcuc2NhbGUoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgcmVzaXplQnJvd3Nlcihjb250ZXh0KTsNCg0KICAgICAgICAgICAgLy8gc2V0IHVwIG1vZGVsDQogICAgICAgICAgICBjb250ZXh0Lm1vZGVsID0gQ29udmVyc2F0aW9uTW9kZWwoew0KICAgICAgICAgICAgICAgIGNvbnZlcnNhdGlvbkxpc3RVcmw6IGNvbnRleHQuY29udmVyc2F0aW9uTGlzdFVybCwNCiAgICAgICAgICAgICAgICBtZXNzYWdlTGlzdFVybDogY29udGV4dC5tZXNzYWdlTGlzdFVybCwNCiAgICAgICAgICAgICAgICBkZWxldGVVcmw6IGNvbnRleHQuZGVsZXRlVXJsDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgLy8gY29udHJvbGxlcg0KICAgICAgICAgICAgY29udGV4dC5jb250cm9sbGVyID0gQ29udmVyc2F0aW9uQ29udHJvbGxlcih7DQogICAgICAgICAgICAgICAgY29udGV4dDogY29udGV4dA0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIC8vIHZpZXdzDQogICAgICAgICAgICBjb250ZXh0LmNvbnZlcnNhdGlvbkxpc3RWaWV3ID0gQ29udmVyc2F0aW9uTGlzdFZpZXcoew0KICAgICAgICAgICAgICAgIHZpZXc6ICQoY29udGV4dC5jb252ZXJzYXRpb25MaXN0KQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb250ZXh0Lm1lc3NhZ2VMaXN0VmlldyA9IE1lc3NhZ2VMaXN0Vmlldyh7DQogICAgICAgICAgICAgICAgdmlldzogJChjb250ZXh0Lm1lc3NhZ2VMaXN0KSwNCiAgICAgICAgICAgICAgICBjb25maXJtRGVsZXRlOiBjb250ZXh0LmRlbGV0ZUNvbnZlcnNhdGlvblRleHQsDQogICAgICAgICAgICAgICAgbWVzc2FnZVJlcGx5Q29udGVudDogY29udGV4dC5tZXNzYWdlUmVwbHlDb250ZW50LA0KICAgICAgICAgICAgICAgIG1lc3NhZ2VSZXBseUNsZWFyOiBjb250ZXh0Lm1lc3NhZ2VSZXBseUNsZWFyLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2VSZXBseUZvY3VzOiBjb250ZXh0Lm1lc3NhZ2VSZXBseUZvY3VzDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgY29udGV4dC5jb250cm9sbGVyLmluaXQoKTsNCiAgICAgICAgfQ0KDQogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuY29udmVyc2F0aW9uTGlzdCA9IHsNCiAgICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCiAgICAgICAgICAgIGlmKGNvbnRleHQudmlld1R5cGUgPT09ICdzaW1wbGUnKSB7DQogICAgICAgICAgICAgICAgaW5pdFNpbXBsZVZpZXcoY29udGV4dCk7DQogICAgICAgICAgICB9IGVsc2UgaWYoY29udGV4dC52aWV3VHlwZSA9PSAnc3RhbmRhcmQnKSB7DQogICAgICAgICAgICAgICAgaW5pdFN0YW5kYXJkVmlldyhjb250ZXh0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH07DQp9KGpRdWVyeSkpOw0K</file>
			<file name="view-simple-page.vm">I3NldCgkYWNjZXNzaW5nVXNlciA9ICRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nKQojc2V0KCRzaG93VW5yZWFkQ291bnQgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93VW5yZWFkQ291bnQnLCB0cnVlKSkKI3NldCgkc2hvd1BhZ2VyID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd1BhZ2VyJywgdHJ1ZSkpCiNzZXQoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdwYWdlU2l6ZScsIDEwKSkKI3NldCgkdmlld1R5cGUgPSAkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoJ3ZpZXdUeXBlJywgJ3N0YW5kYXJkJykpCgojaWYoISRjb3JlX3YyX3VzZXIuSXNSZWdpc3RlcmVkKCRhY2Nlc3NpbmdVc2VyLklkKSkKCSRjb3JlX3YyX3dpZGdldC5IaWRlKCkKI2VuZAoKI3NldCgkcGFnZUluZGV4ID0gJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQojc2V0KCRjb252ZXJzYXRpb25zID0gJGNvcmVfdjJfY29udmVyc2F0aW9uLkxpc3QoIiV7UGFnZUluZGV4ID0gJyR7cGFnZUluZGV4fScsIFBhZ2VTaXplID0gJyR7cGFnZVNpemV9J30iKSkKCiNpZigkc2hvd1VucmVhZENvdW50KQoJI3NldCgkdW5yZWFkQ29udmVyc2F0aW9ucyA9ICRjb3JlX3YyX2NvbnZlcnNhdGlvbi5MaXN0KCIle1BhZ2VJbmRleCA9ICcwJywgUGFnZVNpemUgPSAnMScsIFJlYWRTdGF0dXMgPSAnVW5yZWFkJ30iKSkKCSNpZigkdW5yZWFkQ29udmVyc2F0aW9ucyAmJiAkdW5yZWFkQ29udmVyc2F0aW9ucy5Ub3RhbENvdW50ID09IDEpCgkJPGRpdiBjbGFzcz0ibWVzc2FnZSBkaXJlY3Rpb25zIj4KCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJWaWV3Q29udmVyc2F0aW9uc19VbnJlYWRNZXNzYWdlIiksICR1bnJlYWRDb252ZXJzYXRpb25zLlRvdGFsQ291bnQuVG9TdHJpbmcoKSkKCQk8L2Rpdj4KCSNlbHNlaWYoJHVucmVhZENvbnZlcnNhdGlvbnMgJiYgJHVucmVhZENvbnZlcnNhdGlvbnMuVG90YWxDb3VudCA+IDEpCgkJPGRpdiBjbGFzcz0ibWVzc2FnZSBkaXJlY3Rpb25zIj4KCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJWaWV3Q29udmVyc2F0aW9uc19VbnJlYWRNZXNzYWdlcyIpLCAkdW5yZWFkQ29udmVyc2F0aW9ucy5Ub3RhbENvdW50LlRvU3RyaW5nKCkpCgkJPC9kaXY+CgkjZW5kCiNlbmQKCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgndmlldy1zaW1wbGUudm0nKQ==</file>
			<file name="view-simple.vm">PGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoNCjx1bCBjbGFzcz0iY29udGVudC1saXN0IHNpbXBsZSI+DQojZm9yZWFjaCgkY29udmVyc2F0aW9uIGluICRjb252ZXJzYXRpb25zKQ0KCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIiBkYXRhLWNvbnZlcnNhdGlvbi1pZD0iJHtjb252ZXJzYXRpb24uSWR9Ij4NCgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPjwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0Ij4NCgkJCTxoNCBjbGFzcz0icG9zdC1uYW1lIj4NCgkJCQk8YSBocmVmPSckY29yZV92Ml91cmxzLkNvbnZlcnNhdGlvbigkY29udmVyc2F0aW9uLklkKScgY2xhc3M9J2ludGVybmFsLWxpbmsgdmlldy1wb3N0ICNpZigkY29udmVyc2F0aW9uLkhhc1JlYWQpIHJlYWQgI2Vsc2UgdW5yZWFkICNlbmQgJz4kY29udmVyc2F0aW9uLkZpcnN0TWVzc2FnZS5TdWJqZWN0PC9hPg0KCQkJPC9oND4NCgkJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4NCgkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4NCgkJCQkJI2lmICgkY29udmVyc2F0aW9uLkxhc3RNZXNzYWdlLkF1dGhvci5Qcm9maWxlVXJsKQ0KCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29udmVyc2F0aW9uLkxhc3RNZXNzYWdlLkF1dGhvci5Qcm9maWxlVXJsKSI+DQoJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkY29udmVyc2F0aW9uLkxhc3RNZXNzYWdlLkF1dGhvci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7Ym9yZGVyPScwJywgYWx0PSRjb252ZXJzYXRpb24uTGFzdE1lc3NhZ2UuQXV0aG9yLkRpc3BsYXlOYW1lfSIpDQoJCQkJCQk8L2E+DQoJCQkJCSNlbHNlDQoJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRjb252ZXJzYXRpb24uTGFzdE1lc3NhZ2UuQXV0aG9yLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JGNvbnZlcnNhdGlvbi5MYXN0TWVzc2FnZS5BdXRob3IuRGlzcGxheU5hbWV9IikNCgkJCQkJI2VuZA0KCQkJCTwvc3Bhbj4NCgkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4NCgkJCQkJI2lmICgkY29udmVyc2F0aW9uLkxhc3RNZXNzYWdlLkF1dGhvci5Qcm9maWxlVXJsKQ0KCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29udmVyc2F0aW9uLkxhc3RNZXNzYWdlLkF1dGhvci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPg0KCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29udmVyc2F0aW9uLkxhc3RNZXNzYWdlLkF1dGhvci5EaXNwbGF5TmFtZQ0KCQkJCQkJPC9hPg0KCQkJCQkjZWxzZQ0KCQkJCQkJPHNwYW4+PC9zcGFuPiRjb252ZXJzYXRpb24uTGFzdE1lc3NhZ2UuQXV0aG9yLkRpc3BsYXlOYW1lDQoJCQkJCSNlbmQNCgkJCQk8L3NwYW4+DQoJCQk8L2Rpdj4NCgkJCTxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+DQoJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPg0KCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+DQoJCQkJCQk8YSBocmVmPSdqYXZhc2NyaXB0OnZvaWQoMCk7JyBjbGFzcz0naW50ZXJuYWwtbGluayBkZWxldGUtY29udmVyc2F0aW9uJyB0aXRsZT0nJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlZpZXdDb252ZXJzYXRpb25zX0RlbGV0ZUNvbnZlcnNhdGlvbiIpJz48c3Bhbj48L3NwYW4+PC9hPg0KCQkJCQk8L2xpPg0KCQkJCTwvdWw+DQoJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+DQoJCQk8L2Rpdj4NCgkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+DQoJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZUFuZFRpbWUoJGNvbnZlcnNhdGlvbi5MYXN0TWVzc2FnZS5DcmVhdGVkRGF0ZSkNCgkJCTwvZGl2Pg0KCQk8L2Rpdj4NCgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIiPjwvZGl2Pg0KCTwvbGk+DQojZW5kDQo8L3VsPg0KPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+DQo=</file>
			<file name="view-standard-conversations-page.vm">I3NldCAoJHBhZ2VJbmRleCA9IDApCiNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgncGFnZUluZGV4JykpKQokY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ3ZpZXctc3RhbmRhcmQtY29udmVyc2F0aW9ucy52bScp</file>
			<file name="view-standard-conversations.vm">I3NldCAoJGRhdGVUaW1lRm9ybWF0ID0gInl5eXktTU0tZGRUSEg6bW06c3MiKQojc2V0ICgkcGFnZVNpemUgPSAxMCkKI3NldCAoJGNvbnZlcnNhdGlvbnMgPSAkY29yZV92Ml9jb252ZXJzYXRpb24uTGlzdCgiJXsgUGFnZUluZGV4ID0gJyR7cGFnZUluZGV4fScsIFBhZ2VTaXplID0gJyR7cGFnZVNpemV9J30iKSkKI3NldCAoJG1heFBhcnRpY2lwYW50QXZhdGFycyA9IDUpCiNzZXQgKCRhY2Nlc3NpbmdVc2VyID0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcpCgojc2V0ICgkaGFzTW9yZSA9IGZhbHNlKQojc2V0ICgkdG90YWxQYWdlZCA9ICgkY29udmVyc2F0aW9ucy5QYWdlSW5kZXggKyAxKSAqICRjb252ZXJzYXRpb25zLlBhZ2VTaXplKQojaWYgKCRjb252ZXJzYXRpb25zLlRvdGFsQ291bnQgPiAkdG90YWxQYWdlZCkKICAgICNzZXQgKCRoYXNNb3JlID0gdHJ1ZSkKI2VuZAoKI2ZvcmVhY2ggKCRjb252ZXJzYXRpb24gaW4gJGNvbnZlcnNhdGlvbnMpCiAgICAjc2V0ICgkbGFzdE1lc3NhZ2UgPSAkY29udmVyc2F0aW9uLkxhc3RNZXNzYWdlKQogICAgI3NldCAoJGlkID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCJjb252ZXJzYXRpb24tJHtjb252ZXJzYXRpb24uSWR9IikpCiAgICA8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSBjb252ZXJzYXRpb24gI2lmKCEkY29udmVyc2F0aW9uLkhhc1JlYWQpIHVucmVhZCAjZW5kIgogICAgICAgIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRpZCkiCiAgICAgICAgZGF0YS1jb252ZXJzYXRpb25pZD0iJCFjb252ZXJzYXRpb24uSWQiCiAgICAgICAgZGF0YS1sYXN0dXBkYXRlPSIkIWNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkbGFzdE1lc3NhZ2UuQ3JlYXRlZERhdGUsICRkYXRlVGltZUZvcm1hdCkiCiAgICAgICAgI2lmKCRoYXNNb3JlKSBkYXRhLWhhc21vcmU9InRydWUiICNlbmQ+CgogICAgICAgIDxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIj48L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0Ij4KCiAgICAgICAgICAgICMjIG5hbWUgYW5kIG1lc3NhZ2UgY291bnQKCiAgICAgICAgICAgICNzZXQgKCRleGNlcnB0ID0gZmFsc2UpCiAgICAgICAgICAgICNzZXQgKCRleGNlcnB0ID0gJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGNvbnZlcnNhdGlvbi5MYXN0TWVzc2FnZS5Cb2R5LCAzMCwgJy4uLicpKQogICAgICAgICAgICAjaWYgKCRleGNlcnB0Lmxlbmd0aCA9PSAwKQogICAgICAgICAgICAgICAgI3NldCAoJGV4Y2VycHQgPSAkY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkY29udmVyc2F0aW9uLkZpcnN0TWVzc2FnZS5TdWJqZWN0LCAzMCwgJy4uLicpKQogICAgICAgICAgICAjZW5kCgogICAgICAgICAgICA8aDQgY2xhc3M9InBvc3QtbmFtZSI+CiAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb252ZXJzYXRpb24uVXJsKSI+PHNwYW4+PC9zcGFuPiQhZXhjZXJwdDwvYT4KICAgICAgICAgICAgPC9oND4KCiAgICAgICAgICAgICMjIGRpc3BsYXkgYXZhdGFycyBvZiBmaXJzdCA1IHBhcnRpY2lwYW50cyBvdGhlciB0aGFuIHRoZSBhY2Nlc3NpbmcgdXNlcgoKICAgICAgICAgICAgI3NldCAoJHBhcnRpY2lwYW50cyA9IGZhbHNlKQogICAgICAgICAgICAjc2V0ICgkcGFydGljaXBhbnRzID0gJGNvbnZlcnNhdGlvbi5QYXJ0aWNpcGFudHMpCiAgICAgICAgICAgICNzZXQgKCRwYXJ0aWNpcGFudExlbmd0aFdpdGhvdXRBY2Nlc3NpbmcgPSAkcGFydGljaXBhbnRzLkxlbmd0aCAtIDEpCiAgICAgICAgICAgICNpZiAoJHBhcnRpY2lwYW50cykKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBhcnRpY2lwYW50cyI+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPgogICAgICAgICAgICAgICAgICAgICNzZXQgKCRwYXJ0aWNpcGFudEluZGV4ID0gMCkKICAgICAgICAgICAgICAgICAgICAjZm9yZWFjaCAoJHBhcnRpY2lwYW50IGluICRwYXJ0aWNpcGFudHMpCiAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJGFjY2Vzc2luZ1VzZXIuSWQgIT0gJHBhcnRpY2lwYW50LklkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI3NldCAoJHBhcnRpY2lwYW50SW5kZXggPSAkcGFydGljaXBhbnRJbmRleCArIDEpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRwYXJ0aWNpcGFudEluZGV4IDw9ICRtYXhQYXJ0aWNpcGFudEF2YXRhcnMpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRwYXJ0aWNpcGFudC5Qcm9maWxlVXJsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcGFydGljaXBhbnQuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4kY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRwYXJ0aWNpcGFudC5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7UmVzaXplTWV0aG9kPSdab29tQW5kQ3JvcCcsYm9yZGVyPScwJ30iKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHBhcnRpY2lwYW50LkF2YXRhclVybCwgMzIsIDMyLCAiJXtSZXNpemVNZXRob2Q9J1pvb21BbmRDcm9wJyxib3JkZXI9JzAnfSIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgIDwvdWw+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+CiAgICAgICAgICAgICAgICAgICAgICAgICMjIGlmIHRoZXJlIGFyZSBhbnkgbW9yZSBwYXJ0aWNpcGFudHMsIGlkZW50aWZ5IHRoZSByZW1haW5pbmcgY291bnQKCiAgICAgICAgICAgICAgICAgICAgICAgICNzZXQgKCRvdmVyZmxvd1BhcnRpY2lwYW50Q291bnQgPSAwKQogICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRwYXJ0aWNpcGFudExlbmd0aFdpdGhvdXRBY2Nlc3NpbmcgPiAkbWF4UGFydGljaXBhbnRBdmF0YXJzKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI3NldCAoJG92ZXJmbG93UGFydGljaXBhbnRDb3VudCA9ICRwYXJ0aWNpcGFudExlbmd0aFdpdGhvdXRBY2Nlc3NpbmcgLSAkbWF4UGFydGljaXBhbnRBdmF0YXJzKQogICAgICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJG92ZXJmbG93UGFydGljaXBhbnRDb3VudCA+IDApCiAgICAgICAgICAgICAgICAgICAgICAgICAgICArICRvdmVyZmxvd1BhcnRpY2lwYW50Q291bnQKICAgICAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICNlbmQKCiAgICAgICAgICAgICMjIGxhc3QgbWVzc2FnZSBkYXRlCgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWRhdGUiPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRjb252ZXJzYXRpb24uTGFzdE1lc3NhZ2UuQ3JlYXRlZERhdGUpPC9zcGFuPgogICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIiPjwvZGl2PgoKICAgIDwvbGk+CiNlbmQK</file>
			<file name="view-standard-messages-page.vm">I3NldCAoJHBhZ2VJbmRleCA9IDApCiNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgncGFnZUluZGV4JykpKQojc2V0ICgkY29udmVyc2F0aW9uSWQgPSBmYWxzZSkKI3NldCAoJGNvbnZlcnNhdGlvbklkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUd1aWQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdjb252ZXJzYXRpb25JZCcpKSkKJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCd2aWV3LXN0YW5kYXJkLW1lc3NhZ2VzLnZtJyk=</file>
			<file name="view-standard-messages.vm">I3NldCAoJGRhdGVUaW1lRm9ybWF0ID0gInl5eXktTU0tZGRUSEg6bW06c3MiKQojc2V0ICgkcGFnZVNpemUgPSAxMCkKJGNvcmVfdjJfY29udmVyc2F0aW9uLk1hcmtBc1JlYWQoJGNvbnZlcnNhdGlvbklkKQoKIyMgcGFnaW5nIG9mIGNvbnZlcnNhdGlvbiBtZXNzYWdlcyBpcyByZXZlcnNlZAojIyAocmVxdWVzdGluZyAwIHJldHVybnMgdGhlIGxhc3QgcG9zc2libGUgcGFnZSwgMSB0aGUgc2Vjb25kIHRvIGxhc3QgcG9zc2libGUgcGFnZSkKCiMjIGZpcnN0IGRldGVybWluZSB0aGUgaW5kZXggb2YgdGhlIGxhc3QgcGFnZSBvZiBtZXNzYWdlcwojc2V0ICgkdG90YWxDb3VudCA9IDApCiNzZXQgKCR0b3RhbENvdW50ID0gJGNvcmVfdjJfY29udmVyc2F0aW9uTWVzc2FnZS5MaXN0KCRjb252ZXJzYXRpb25JZCwgIiV7UGFnZUluZGV4ID0gMCwgUGFnZVNpemUgPSAxfSIpLlRvdGFsQ291bnQpCiNzZXQgKCRyZW1haW5kZXIgPSAkdG90YWxDb3VudCAlICRwYWdlU2l6ZSkKI2lmICgkcmVtYWluZGVyID4gMCkKICAgICNzZXQgKCRsYXN0UGFnZUluZGV4ID0gKCR0b3RhbENvdW50IC8gJHBhZ2VTaXplKSkKI2Vsc2UKICAgICNzZXQgKCRsYXN0UGFnZUluZGV4ID0gKCR0b3RhbENvdW50IC8gJHBhZ2VTaXplKSAtIDEpCiNlbmQKCiMjIHRoZW4gY3JlYXRlIGEgdXNhYmxlIHBhZ2VpbmRleCBiYXNlZCBvbiBkaXN0YW5jZSBmcm9tIHRoZSBsYXN0IHBhZ2UKI3NldCAoJHBhZ2VJbmRleCA9ICRsYXN0UGFnZUluZGV4IC0gJHBhZ2VJbmRleCkKI2lmICgkcGFnZUluZGV4IDwgMCkKICAgICNzZXQgKCRwYWdlSW5kZXggPSAwKQojZW5kCgojIyBnZXQgbWVzc2FnZXMKI3NldCAoJG1lc3NhZ2VzID0gJGNvcmVfdjJfY29udmVyc2F0aW9uTWVzc2FnZS5MaXN0KCRjb252ZXJzYXRpb25JZCwgIiV7IFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFBhZ2VTaXplID0gJHBhZ2VTaXplIH0iKSkKCiMjIHRoZXJlIGFyZSBtb3JlIHBhZ2VzIHlldCB0byBiZSBwYWdlZCBpZiB0aGUgYWN0dWFsIHBhZ2UgaW5kZXggd2FzIHN0aWxsID4gMAojc2V0ICgkaGFzTW9yZSA9IGZhbHNlKQojaWYgKCRwYWdlSW5kZXggPiAwKQogICAgI3NldCAoJGhhc01vcmUgPSB0cnVlKQojZW5kCiNzZXQgKCRoYXNNb3JlID0gJHBhZ2VJbmRleCA+IDApCgojc2V0ICgkbGFzdERhdGUgPSBmYWxzZSkKI3NldCAoJHN0YXJ0ZWRGbGFnID0gZmFsc2UpCiNpZiAoJHBhZ2VJbmRleCA+IDApCiAgICAjc2V0ICgkc3RhcnRlZEZsYWcgPSB0cnVlKQojZW5kCgojZm9yZWFjaCAoJG1lc3NhZ2UgaW4gJG1lc3NhZ2VzKQogICAgI3NldCAoJGZvcm1hdHRlZERhdGUgPSAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRtZXNzYWdlLkNyZWF0ZWREYXRlKSkKICAgICNpZiAoJGxhc3REYXRlICE9ICRmb3JtYXR0ZWREYXRlKQogICAgICAgICNzZXQgKCRsYXN0RGF0ZSA9ICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJG1lc3NhZ2UuQ3JlYXRlZERhdGUpKQogICAgICAgICNpZiAoISRzdGFydGVkRmxhZykKICAgICAgICAgICAgI3NldCAoJHN0YXJ0ZWRGbGFnID0gdHJ1ZSkKICAgICAgICAgICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gZGF5IHN0YXJ0Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29udmVyc2F0aW9uU3RhcnRlZCcpICRsYXN0RGF0ZTwvbGk+CiAgICAgICAgI2Vsc2UKICAgICAgICAgICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gZGF5Ij4kbGFzdERhdGU8L2xpPgogICAgICAgICNlbmQKICAgICNlbmQKCiAgICAjc2V0ICgkaWQgPSAkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoImNvbnZlcnNhdGlvbi0ke21lc3NhZ2UuQ29udmVyc2F0aW9uSWR9LW1lc3NhZ2UtJHttZXNzYWdlLklkfSIpKQogICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gY29udmVyc2F0aW9uLW1lc3NhZ2UiCiAgICAgICAgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGlkKSIKICAgICAgICBkYXRhLWNvbnZlcnNhdGlvbmlkPSIkIW1lc3NhZ2UuQ29udmVyc2F0aW9uSWQiCiAgICAgICAgZGF0YS1tZXNzYWdlaWQ9IiQhbWVzc2FnZS5JZCIKICAgICAgICBkYXRhLWNyZWF0ZWRkYXRlPSIkIWNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkbWVzc2FnZS5DcmVhdGVkRGF0ZSwgJGRhdGVUaW1lRm9ybWF0KSIKICAgICAgICBkYXRhLXN1YmplY3Q9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJG1lc3NhZ2UuU3ViamVjdCwgNTAsICIuLi4iKSkiCiAgICAgICAgZGF0YS1mdWxsc3ViamVjdD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVzc2FnZS5TdWJqZWN0KSIKICAgICAgICAjaWYoJGhhc01vcmUpIGRhdGEtaGFzbW9yZT0idHJ1ZSIgI2VuZD4KCiAgICAgICAgPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWhlYWRlciI+PC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZnVsbC1wb3N0Ij4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF2YXRhciI+CiAgICAgICAgICAgICAgICAgICAgI2lmICgkbWVzc2FnZS5BdXRob3IuUHJvZmlsZVVybCkKICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVzc2FnZS5BdXRob3IuUHJvZmlsZVVybCkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkbWVzc2FnZS5BdXRob3IuQXZhdGFyVXJsLCAzMiwgMzIsICIle2JvcmRlcj0nMCcsIGFsdD0kbWVzc2FnZS5BdXRob3IuRGlzcGxheU5hbWV9IikKICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJG1lc3NhZ2UuQXV0aG9yLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JG1lc3NhZ2UuQXV0aG9yLkRpc3BsYXlOYW1lfSIpCiAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CiAgICAgICAgICAgICAgICAgICAgI2lmICgkbWVzc2FnZS5BdXRob3IuUHJvZmlsZVVybCkKICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVzc2FnZS5BdXRob3IuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj4kbWVzc2FnZS5BdXRob3IuRGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj4kbWVzc2FnZS5BdXRob3IuRGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgoKICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1kYXRlIiB0aXRsZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlQW5kVGltZSgkbWVzc2FnZS5DcmVhdGVkRGF0ZSkpIj4KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ2YWx1ZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkbWVzc2FnZS5DcmVhdGVkRGF0ZSwgJ3QnKTwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWNvbnRlbnQgdXNlci1kZWZpbmVkLW1hcmt1cCI+JG1lc3NhZ2UuUmVuZGVyZWRCb2R5PC9kaXY+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciI+PC9kaXY+CiAgICA8L2xpPgojZW5kCg==</file>
			<file name="view-standard.vm">I3NldCAoJHBhZ2VJbmRleCA9IDApCgo8ZGl2IGNsYXNzPSJjb252ZXJzYXRpb24tYnJvd3NlciIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnY29udmVyc2F0aW9uQnJvd3NlcicpIj4KICAgIDxkaXYgY2xhc3M9ImNvbnZlcnNhdGlvbi1icm93c2VyLWNvbHVtbiBjb252ZXJzYXRpb25zIj4KICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIGNvbnZlcnNhdGlvbnMiPjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1uYW1lIGNvbnZlcnNhdGlvbnMiPgogICAgICAgICAgICAjc2V0ICgkdG90YWxDb252ZXJzYXRpb25zID0gJGNvcmVfdjJfY29udmVyc2F0aW9uLkxpc3QoIiV7IFBhZ2VJbmRleCA9ICcwJywgUGFnZVNpemUgPSAnMSd9IikuVG90YWxDb3VudCkKICAgICAgICAgICAgPGg0PiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdJbmJveCcpICgkIXRvdGFsQ29udmVyc2F0aW9ucyk8L2g0PgogICAgICAgICAgICA8YSBjbGFzcz0ibmV3IGludGVybmFsLWxpbmsgYnV0dG9uIiBocmVmPSIjIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0FkZE5ldycpPC9hPgogICAgICAgIDwvZGl2PgogICAgICAgIDx1bCBjbGFzcz0iY29udGVudC1saXN0IGNvbnZlcnNhdGlvbnMiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2NvbnZlcnNhdGlvbkxpc3QnKSI+CiAgICAgICAgICAgICRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgndmlldy1zdGFuZGFyZC1jb252ZXJzYXRpb25zLnZtJykKICAgICAgICA8L3VsPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIgY29udmVyc2F0aW9ucyI+PC9kaXY+CiAgICA8L2Rpdj4KICAgIDxkaXYgY2xhc3M9ImNvbnZlcnNhdGlvbi1icm93c2VyLWNvbHVtbiBtZXNzYWdlcyIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnbWVzc2FnZUxpc3QnKSI+CiAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciBtZXNzYWdlcyI+CiAgICAgICAgICAgIDxoNCBjbGFzcz0ic3ViamVjdCI+PC9oND4KICAgICAgICAgICAgPGg0IGNsYXNzPSJub2RhdGEgc2VsZWN0Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2VsZWN0Q29udmVyc2F0aW9uJyk8L2g0PgogICAgICAgICAgICA8aDQgY2xhc3M9Im5vZGF0YSBlbXB0eSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1ZpZXdDb252ZXJzYXRpb25zX05vVG9waWNzJyk8L2g0PgogICAgICAgICAgICA8YSBjbGFzcz0iZGVsZXRlIGludGVybmFsLWxpbmsgYnV0dG9uIiBocmVmPSIjIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1ZpZXdVc2VyUHJvZmlsZV9EZWxldGVDb252ZXJzYXRpb24nKTwvYT4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtbmFtZSBtZXNzYWdlcyI+PC9kaXY+CiAgICAgICAgPHVsIGNsYXNzPSJjb250ZW50LWxpc3QgbWVzc2FnZXMiPgogICAgICAgICAgICA8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSByZXBseS1mb3JtIj4KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtaGVhZGVyIHJlcGx5Ij48L2Rpdj4KICAgICAgICAgICAgICAgIDxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCByZXBseSI+CiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJmaWVsZC1saXN0IHJlcGx5Ij4KICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHJlcGx5IGJvZHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQgcmVwbHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNzZXQgKCRib2R5ID0gJycpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfZWRpdG9yLlJlbmRlcignUmVwbHknLCAiJXtXaWR0aD0nMTAwJScsIEhlaWdodD0nNTBweCcsIFZhbHVlPSRib2R5IH0iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gcmVwbHkgcG9zdC1zdWJtaXQiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQgcmVwbHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGFkZC1yZXBseSBidXR0b24gcmVwbHkiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1JlcGx5JykKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InByb2Nlc3NpbmciIHN0eWxlPSJ2aXNpYmlsaXR5OiBoaWRkZW47Ij48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+CiAgICAgICAgICAgICAgICAgICAgPC91bD4KICAgICAgICAgICAgICAgIDwvZmllbGRzZXQ+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWZvb3RlciI+PC9kaXY+CiAgICAgICAgICAgIDwvbGk+CiAgICAgICAgPC91bD4KICAgIDwvZGl2PgoKPC9kaXY+</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_CreateApiKey_Name}" version="7.5.0.32466" description="${resource:Core_CreateApiKey_Description}" instanceIdentifier="15ff2c5a7d264aff900f33c662de3736" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="create-api-key">
		<contentScript>
#set ($accessingUser = $core_v2_user.Accessing)
#if ($core_v2_User.IsRegistered($accessingUser.Id))
	$core_v2_widget.Hide()
#end

#set ($keyNameId = $core_v2_widget.UniqueId('keyName'))
#set ($submitId = $core_v2_widget.UniqueId('submit'))

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item"&gt;
			&lt;label for="$core_v2_encoding.HtmlAttributeEncode($keyNameId)" class="field-item-header"&gt;$core_v2_language.GetResource('Name')&lt;/label&gt;
			&lt;span class="field-item-input"&gt;
				&lt;input name="$core_v2_encoding.HtmlAttributeEncode($keyNameId)" id="$core_v2_encoding.HtmlAttributeEncode($keyNameId)" type="text" /&gt;
				&lt;input name="$core_v2_encoding.HtmlAttributeEncode($submitId)" id="$core_v2_encoding.HtmlAttributeEncode($submitId)" type="submit" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Generate'))" /&gt;
			&lt;/span&gt;
			&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.createApiKey')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function(j){
		jQuery.telligent.evolution.widgets.createApiKey.register({
			wrapper: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)",
			nameInput: "#$core_v2_encoding.JavascriptEncode($keyNameId)",
			submitInput: "#$core_v2_encoding.JavascriptEncode($submitId)",
			createUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('create.vm'))"
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_CreateApiKey_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_CreateApiKey_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_CreateApiKey_Name">Create API Key</resource><resource name="Core_CreateApiKey_Description">Allows you to create api keys.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Name">Name</resource><resource name="Generate">Generate</resource></language></languageResources>
		<files>
			<file name="create.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJG5hbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnTmFtZScpKQoJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpCgkjc2V0ICgkYXBpS2V5ID0gZmFsc2UpCgkjc2V0ICgkYXBpS2V5ID0gJGNvcmVfdjJfYXBpS2V5LkNyZWF0ZSgkbmFtZSwgIiV7IEVuYWJsZWQgPSAndHJ1ZScgfSIpKQoJI2lmICgkYXBpS2V5KQoJCSNpZiAoJGFwaUtleS5FcnJvcnMuQ291bnQgPT0gMCkKCQkJeyJrZXlDcmVhdGVkIjp0cnVlfQoJCSNlbHNlCgkJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkYXBpS2V5LkVycm9ycykKCQkjZW5kCgkjZWxzZQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcignVW5rbm93biBlcnJvcicpCgkjZW5kCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsNCgl2YXIgY3JlYXRlQXBpS2V5ID0gZnVuY3Rpb24oY29udGV4dCkgew0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQoJCQl1cmw6IGNvbnRleHQuY3JlYXRlVXJsLA0KCQkJZGF0YTogew0KCQkJCU5hbWU6ICQoY29udGV4dC5uYW1lSW5wdXQpLnZhbCgpDQoJCQl9LA0KCQkJc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQoJCQkJd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTsNCgkJCX0NCgkJfSk7CQkNCgl9Ow0KCXZhciBhcGkgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQljb250ZXh0LnN1Ym1pdElucHV0ID0gJChjb250ZXh0LnN1Ym1pdElucHV0KQ0KCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCgkJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsgfSwNCgkJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIHsNCgkJCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQkJCWNyZWF0ZUFwaUtleShjb250ZXh0KTsNCgkJCQkJCXJldHVybiBmYWxzZTsNCgkJCQkJfQ0KCQkJCX0pDQoJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywgJChjb250ZXh0Lm5hbWVJbnB1dCksIHsNCgkJCQkJcmVxdWlyZWQ6IHRydWUsDQoJCQkJCW1lc3NhZ2VzOiB7IHJlcXVpcmVkOiAnKicgfQ0KCQkJCX0sCSQoY29udGV4dC5uYW1lSW5wdXQpLmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKTsNCgkJfQ0KCX07DQoNCglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQ0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmNyZWF0ZUFwaUtleSA9IGFwaTsNCg0KfShqUXVlcnkpKTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Blogs_CreateBlog_Name}" version="7.5.0.32466" description="${resource:Blogs_CreateBlog_Description}" instanceIdentifier="e1f9626ef5474039b7088fdb1a3d15bb" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="create-blog">
		<contentScript>
## require non-anonymous user
#if (!$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	$core_v2_authentication.RedirectToLogin()
#end

## capture a group which is either current or root
#set ($group = $core_v2_group.Current)
#if (!$group)
	#set ($group = $core_v2_group.Root)
#end
#set ($defaultGroup = $core_v2_group.Default)

## require proper permissions
#set ($canCreateBlogInCurrentGroup = $core_v2_nodePermission.Get('groups',$group.Id,'Group_CreateBlog').IsAllowed)
#set ($canCreateBlogInDefaultGroup = $core_v2_nodePermission.Get('groups',$defaultGroup.Id,'Group_CreateBlog').IsAllowed)

#if (!$canCreateBlogInCurrentGroup &amp;&amp; (!$defaultGroup || !$canCreateBlogInDefaultGroup))
	$core_v2_widget.Hide()
#end

## for compatibility with pre-scripted widget
&lt;span&gt;&lt;/span&gt;

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;legend class="field-list-description"&gt;&lt;/legend&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item required blog-name"&gt;
			&lt;label for="$core_v2_widget.UniqueId('name')" class="field-item-header"&gt;$core_v2_language.GetResource('Weblog_Name')&lt;/label&gt;
			&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Weblog_Name_Desc')&lt;/span&gt;
			&lt;span class="field-item-input"&gt;&lt;input name="$core_v2_widget.UniqueId('name')" type="text" size="40" id="$core_v2_widget.UniqueId('name')" /&gt;&lt;/span&gt;
			&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;label class="field-item-header"&gt;$core_v2_language.GetResource('Weblog_Groups')&lt;/label&gt;
			&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Weblog_Groups_Desc')&lt;/span&gt;
			&lt;span class="field-item-input"&gt;&lt;input id="$core_v2_widget.UniqueId('group')" name="$core_v2_widget.UniqueId('group')" type="text" style="width:350px;" /&gt;&lt;/span&gt;
			&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;a id="$core_v2_widget.UniqueId('create')" class="internal-link create-blog disabled submit-button" href="#"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Create')&lt;/a&gt;
			&lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.createBlog')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function(j){
		j.telligent.evolution.widgets.createBlog.register({
			nameInput: "#$core_v2_widget.UniqueId('name')",
			groupInput: "#$core_v2_widget.UniqueId('group')",
			createLink: "#$core_v2_widget.UniqueId('create')",
			lookupGroupsUrl: "$core_v2_page.AbsoluteUrl('~/api.ashx/v2/groups.json')",
			createBlogUrl: "$core_v2_page.AbsoluteUrl('~/api.ashx/v2/blogs.json')",
			noGroupsMatchText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('GroupLookUp_NoMatches'))",
			groupRequiredMessage: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateBlog_NoGroupSelected'))",
			defaultGroupId: $group.Id,
			defaultGroupName: '$core_v2_encoding.JavascriptEncode($group.Name)'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end

	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Blogs_CreateBlog_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Blogs_CreateBlog_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Blogs_CreateBlog_Name">Blog - Create Blog</resource><resource name="Blogs_CreateBlog_Description">Displays a form used to create a new blog.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Weblog_Name">Blog Name</resource><resource name="Weblog_Name_Desc">Enter a name for the blog.</resource><resource name="Weblog_Groups">Blog Group</resource><resource name="Weblog_Groups_Desc">Select a group for this blog.</resource><resource name="Create">Create</resource><resource name="GroupLookUp_NoMatches">A matching group could not be found.</resource><resource name="CreateBlog_NoGroupSelected">You must select a group for this blog.</resource><resource name="CF_CreateBlog">Create Blog</resource></language></languageResources>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKCgl2YXIgc3Bpbm5lciA9ICc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48aW1nIHNyYz0iJyArICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICd1dGlsaXR5L3NwaW5uZXIuZ2lmIiAvPjwvZGl2PicsCgkJc2VhcmNoR3JvdXBzID0gZnVuY3Rpb24oY29udGV4dCwgdGV4dGJveCwgc2VhcmNoVGV4dCkgewoJCQlpZihzZWFyY2hUZXh0ICYmIHNlYXJjaFRleHQubGVuZ3RoID49IDIpIHsKCgkJCQl0ZXh0Ym94Lmdsb3dMb29rVXBUZXh0Qm94KCd1cGRhdGVTdWdnZXN0aW9ucycsIFsKCQkJCQl0ZXh0Ym94Lmdsb3dMb29rVXBUZXh0Qm94KCdjcmVhdGVMb29rVXAnLCAnJywgc3Bpbm5lciwgc3Bpbm5lciwgZmFsc2UpCgkJCQldKTsKCgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsKCQkJCQl1cmw6IGNvbnRleHQubG9va3VwR3JvdXBzVXJsLAoJCQkJCWRhdGE6IHsKCQkJCQkJR3JvdXBOYW1lRmlsdGVyOiBzZWFyY2hUZXh0LAoJCQkJCQlQZXJtaXNzaW9uOiAnR3JvdXBfQ3JlYXRlQmxvZycKCQkJCQl9LAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJCWlmIChyZXNwb25zZSAmJiByZXNwb25zZS5Hcm91cHMubGVuZ3RoID49IDEpIHsKCQkJCQkJCXRleHRib3guZ2xvd0xvb2tVcFRleHRCb3goJ3VwZGF0ZVN1Z2dlc3Rpb25zJywKCQkJCQkJCQkkLm1hcChyZXNwb25zZS5Hcm91cHMsIGZ1bmN0aW9uKGdyb3VwLCBpKSB7CgkJCQkJCQkJCXJldHVybiB0ZXh0Ym94Lmdsb3dMb29rVXBUZXh0Qm94KCdjcmVhdGVMb29rVXAnLCBncm91cC5JZCwgZ3JvdXAuTmFtZSwgZ3JvdXAuTmFtZSwgdHJ1ZSk7CgkJCQkJCQkJfSkpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJdGV4dGJveC5nbG93TG9va1VwVGV4dEJveCgndXBkYXRlU3VnZ2VzdGlvbnMnLCBbCgkJCQkJCQkJdGV4dGJveC5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywgJycsIGNvbnRleHQubm9Hcm91cHNNYXRjaFRleHQsIGNvbnRleHQubm9Hcm91cHNNYXRjaFRleHQsIGZhbHNlKQoJCQkJCQkJXSk7CgkJCQkJCX0KCQkJCQl9CgkJCQl9KTsKCQkJfQoJCX0sCgkJc2F2ZUJsb2cgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsKCQkJCXVybDogY29udGV4dC5jcmVhdGVCbG9nVXJsLAoJCQkJZGF0YTogewoJCQkJCU5hbWU6IGNvbnRleHQubmFtZUlucHV0LnZhbCgpLAoJCQkJCUdyb3VwSWQ6IHBhcnNlSW50KGNvbnRleHQuZ3JvdXBJbnB1dC52YWwoKSwgMTApCgkJCQl9LAoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQlpZihyZXNwb25zZS5FcnJvcnMgJiYgcmVzcG9uc2UuRXJyb3JzLmxlbmd0aCA+IDApIHsKCQkJCQkJYWxlcnQocmVzcG9uc2UuRXJyb3JzWzBdKTsKCQkJCQl9IGVsc2UgewoJCQkJCQl3aW5kb3cubG9jYXRpb24gPSByZXNwb25zZS5CbG9nLlVybDsKCQkJCQl9CgkJCQl9LAoJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsKCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2MsIHt0eXBlOidlcnJvcid9KTsKCQkJCQljb250ZXh0LmNyZWF0ZUxpbmsucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7CgkJCQl9CgkJCX0pOwoJCX07CgoJdmFyIGFwaSA9IHsKCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgewoJCQljb250ZXh0Lmdyb3VwSW5wdXQgPSAkKGNvbnRleHQuZ3JvdXBJbnB1dCkKCQkJCS5nbG93TG9va1VwVGV4dEJveCh7CgkJCQkJZGVsaW1pdGVyOiAnLCcsCgkJCQkJYWxsb3dEdXBsaWNhdGVzOiB0cnVlLAoJCQkJCW1heFZhbHVlczogMSwKCQkJCQlvbkdldExvb2tVcHM6IGZ1bmN0aW9uKHRiLCBzZWFyY2hUZXh0KSB7CgkJCQkJCXNlYXJjaEdyb3Vwcyhjb250ZXh0LCB0Yiwgc2VhcmNoVGV4dCk7CgkJCQkJfSwKCQkJCQllbXB0eUh0bWw6ICcnLAoJCQkJCXNlbGVjdGVkTG9va1Vwc0h0bWw6IFtdLAoJCQkJCWRlbGV0ZUltYWdlVXJsOiAnJ30pOwoKCQkJY29udGV4dC5uYW1lSW5wdXQgPSAkKGNvbnRleHQubmFtZUlucHV0KTsKCQkJY29udGV4dC5jcmVhdGVMaW5rID0gJChjb250ZXh0LmNyZWF0ZUxpbmspCgkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbih7CgkJCQkJdmFsaWRhdGVPbkxvYWQgOiBmYWxzZSwKCQkJCQlvblZhbGlkYXRlZDogZnVuY3Rpb24oaXNWYWxpZCwgYnV0dG9uQ2xpY2tlZCwgYykgewoJCQkJCQlpZiAoaXNWYWxpZCkgewoJCQkJCQkJY29udGV4dC5jcmVhdGVMaW5rLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJY29udGV4dC5jcmVhdGVMaW5rLmFkZENsYXNzKCdkaXNhYmxlZCcpOwoJCQkJCQl9CgkJCQkJfSwKCQkJCQlvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgewoJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCS8vIHNob3cgdGhlIHByb2Nlc3Npbmcgbm9kZQoJCQkJCQkkKCcucHJvY2Vzc2luZycsIGNvbnRleHQuY3JlYXRlTGluay5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsKCQkJCQkJLy8gc2V0IGZvcm0gZmllbGRzIHJlZ2FyZGluZyB0aGUgbG9naW4KCQkJCQkJY29udGV4dC5jcmVhdGVMaW5rLmFkZENsYXNzKCdkaXNhYmxlZCcpOwoJCQkJCQkvLyBzdWJtaXQgdGhlIGZvcm0KCQkJCQkJc2F2ZUJsb2coY29udGV4dCk7CgkJCQkJfX0pCgkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLAoJCQkJCWNvbnRleHQubmFtZUlucHV0LAoJCQkJCXsgcmVxdWlyZWQ6IHRydWUsIG1heGxlbmd0aDogMTI4IH0sCgkJCQkJY29udGV4dC5uYW1lSW5wdXQuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpCgkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLAoJCQkJCWNvbnRleHQuZ3JvdXBJbnB1dCwKCQkJCQl7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlczogeyByZXF1aXJlZDogY29udGV4dC5ncm91cFJlcXVpcmVkTWVzc2FnZSB9IH0sCgkJCQkJY29udGV4dC5ncm91cElucHV0LmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKTsKCgkJCWlmKGNvbnRleHQuZGVmYXVsdEdyb3VwTmFtZSAmJiBjb250ZXh0LmRlZmF1bHRHcm91cElkID4gMCkgewoJCQkJdmFyIGluaXRpYWxMb29rdXBWYWx1ZSA9IGNvbnRleHQuZ3JvdXBJbnB1dC5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywKCQkJCQljb250ZXh0LmRlZmF1bHRHcm91cElkLAoJCQkJCWNvbnRleHQuZGVmYXVsdEdyb3VwTmFtZSwKCQkJCQljb250ZXh0LmRlZmF1bHRHcm91cE5hbWUsCgkJCQkJdHJ1ZSk7CgkJCQljb250ZXh0Lmdyb3VwSW5wdXQuZ2xvd0xvb2tVcFRleHRCb3goJ2FkZCcsIGluaXRpYWxMb29rdXBWYWx1ZSk7CgkJCX0KCQl9Cgl9OwoKCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuY3JlYXRlQmxvZyA9IGFwaTsKCn0pKGpRdWVyeSk7Cg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_CreateEditPageComment_Name}" version="7.5.0.32466" description="${resource:Wikis_CreateEditPageComment_Description}" instanceIdentifier="1e1a3a5a189d4d2fafd313402bd9f74c" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="create-edit-page-comment">
		<contentScript>
#set($page = $core_v2_wikiPage.CurrentOrDefault)
#set($wiki = $core_v2_wiki.Current)
#if (!$core_v2_nodePermission.Get('wikis',$wiki.Id,'Wiki_CreateComment',"%{PostType='pages',PostId=$page.Id}").IsAllowed)
	$core_v2_widget.Hide()
#end

&lt;div id="$core_v2_widget.UniqueId('successmessage')" class="message success" style="display: none;"&gt;
	$core_v2_language.GetResource('CF_Comment_SuccessMessage')
	&lt;a href="javascript:void(0)" class="internal-link close-message" title="$core_v2_language.GetResource('Close')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Close')&lt;/a&gt;
&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('moderateMessage')" class="message warning" style="display: none;"&gt;
	$core_v2_language.GetResource('CF_Comment_ModeratedMessaage') &amp;nbsp;
	&lt;a href="#" class="internal-link close-message" title="$core_v2_language.GetResource('Close')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Close')&lt;/a&gt;
&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('errormessage')" class="message error" style="display: none;"&gt;&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('form')"&gt;
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;legend class="field-list-description"&gt;$core_v2_language.GetResource('Wikis_Page_PostAComment')&lt;/legend&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item post-body"&gt;
				&lt;span class="field-item-input"&gt;&lt;textarea id="$core_v2_widget.UniqueId('body')" rows="3" name="$core_v2_widget.UniqueId('body')"&gt;&lt;/textarea&gt;&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item submit-button"&gt;
				&lt;span class="field-item-input"&gt;
					&lt;a href="javascript:void(0)" class="internal-link add-reply submit-button disabled" id="$core_v2_widget.UniqueId('save')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_Wikis_CreateEditPageComment_PostComment')&lt;/a&gt;
					&lt;span class="processing" style="visibility:hidden;"&gt;&lt;/span&gt;
				&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.CreateEditPageComment')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.createEditPageComment.register({
			wrapperId: '$core_v2_widget.WrapperElementId',
			wikiId: $wiki.Id,
			pageId: $page.Id,
			publishErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wiki_CommentForm_PublishError'))',
			publishingText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wiki_CommentForm_Publishing'))',
			publishText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wiki_CommentForm_PostComment'))',
			bodyRequiredText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Weblog_CommentForm_EnterCommentWarning'))',
			save: jQuery('#$core_v2_widget.UniqueId('save')'),
			bodySelector: '#$core_v2_widget.UniqueId('body')',
			successMessage: jQuery('#$core_v2_widget.UniqueId('successmessage')'),
			moderateMessage: jQuery('#$core_v2_widget.UniqueId('moderateMessage')'),
			errorMessage: jQuery('#$core_v2_widget.UniqueId('errorMessage')')
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_CreateEditPageComment_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_CreateEditPageComment_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_CreateEditPageComment_Name">Wikis - Add Comment Form</resource><resource name="Wikis_CreateEditPageComment_Description">Displays form for adding comments to a wiki page.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_Comment_SuccessMessage">Your comment has been posted.</resource><resource name="Close">Close</resource><resource name="Wikis_Page_PostAComment">Leave a Comment</resource><resource name="CF_Wikis_CreateEditPageComment_PostComment">Post</resource><resource name="CF_Comment_ModeratedMessaage">Thank you, your comment requires moderation so it may take a while to appear.</resource><resource name="Wiki_CommentForm_PublishError">There was an error saving your comment.</resource><resource name="Wiki_CommentForm_Publishing">Publishing</resource><resource name="Wiki_CommentForm_PostComment">Post</resource><resource name="Weblog_CommentForm_EnterCommentWarning">Please enter a comment</resource></language></languageResources>
		<requiredContext>
			<context id="bcc95458510e481fba2789f3c8c16591" />
		</requiredContext>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQsIGdsb2JhbCkNCnsNCglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykNCgkgICAgICAgICQudGVsbGlnZW50ID0ge307DQoNCglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307DQoNCgl2YXIgX3NhdmUgPSBmdW5jdGlvbihjb250ZXh0KQ0KCXsNCgkJY29udGV4dC5zdWNjZXNzTWVzc2FnZS5oaWRlKCk7DQoJCWNvbnRleHQuZXJyb3JNZXNzYWdlLmhpZGUoKTsNCgkJY29udGV4dC5tb2RlcmF0ZU1lc3NhZ2UuaGlkZSgpOw0KCQl2YXIgdyA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQpOw0KDQoJCWNvbnRleHQuc2F2ZS5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQucHVibGlzaGluZ1RleHQpOw0KCQljb250ZXh0LnNhdmUuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQoNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvd2lraXMve1dpa2lJZH0vcGFnZXMve1BhZ2VJZH0vY29tbWVudHMuanNvbj9JbmNsdWRlRmllbGRzPUNvbW1lbnQuSWQsQ29tbWVudC5Jc0FwcHJvdmVkJywNCiAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICBCb2R5OiAkKGNvbnRleHQuYm9keVNlbGVjdG9yKS5ldm9sdXRpb25Db21wb3NlcigndmFsJyksDQogICAgICAgICAgICAgICAgV2lraUlkOiBjb250ZXh0Lndpa2lJZCwNCiAgICAgICAgICAgICAgICBQYWdlSWQ6IGNvbnRleHQucGFnZUlkIH0sDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCgkJCXsNCgkJCQkkKCcucHJvY2Vzc2luZycsIHcpLmNzcygndmlzaWJpbGl0eScsICdoaWRkZW4nKTsNCg0KCQkJCWlmKHJlc3BvbnNlLkNvbW1lbnQuSXNBcHByb3ZlZCkgew0KCQkJCQljb250ZXh0LnN1Y2Nlc3NNZXNzYWdlLnNsaWRlRG93bigpOw0KCQkJCQkkKGRvY3VtZW50KS50cmlnZ2VyKCd0ZWxsaWdlbnRfd2lraXNfY29tbWVudHBvc3RlZCcsICcnKTsNCgkJCQkJZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IGNvbnRleHQuc3VjY2Vzc01lc3NhZ2UuZmFkZU91dCgpLnNsaWRlVXAoKTsgfSwgOTk5OSk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJY29udGV4dC5tb2RlcmF0ZU1lc3NhZ2Uuc2xpZGVEb3duKCk7DQoJCQkJCWdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBjb250ZXh0Lm1vZGVyYXRlTWVzc2FnZS5mYWRlT3V0KCkuc2xpZGVVcCgpOyB9LCA5OTk5KTsNCgkJCQl9DQoNCgkJCQkkKGNvbnRleHQuYm9keVNlbGVjdG9yKS5ldm9sdXRpb25Db21wb3NlcigndmFsJywnJyk7DQoJCQkJJChjb250ZXh0LmJvZHlTZWxlY3RvcikuY2hhbmdlKCk7DQoJCQkJY29udGV4dC5zYXZlLmV2b2x1dGlvblZhbGlkYXRpb24oJ3Jlc2V0Jyk7DQoJCQkJY29udGV4dC5zYXZlLmh0bWwoJzxzcGFuPjwvc3Bhbj4nICsgY29udGV4dC5wdWJsaXNoVGV4dCkucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoNCgkJCQl3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsgY29udGV4dC5zdWNjZXNzTWVzc2FnZS5mYWRlT3V0KCkuc2xpZGVVcCgpOyB9LCA5OTk5KTsNCgkJCX0sDQoJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkNCgkJCXsNCgkJCQkkKCcucHJvY2Vzc2luZycsIHcpLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsNCgkJCQljb250ZXh0LnNhdmUuaHRtbCgnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LnB1Ymxpc2hUZXh0KS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQljb250ZXh0LmVycm9yTWVzc2FnZS5odG1sKGNvbnRleHQucHVibGlzaEVycm9yVGV4dCArICcgKCcgKyBkZXNjICsgJyknKS5zbGlkZURvd24oKTsNCgkJCX0NCgkJfSk7DQoJfTsNCg0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmNyZWF0ZUVkaXRQYWdlQ29tbWVudCA9DQoJew0KCSAgICByZWdpc3RlcjogZnVuY3Rpb24gKGNvbnRleHQpIA0KICAgICAgICB7DQoJCSAgICAkKCd0ZXh0YXJlYScpLmV2b2x1dGlvblJlc2l6ZSgpOw0KDQoJCQl2YXIgYm9keSA9ICQoY29udGV4dC5ib2R5U2VsZWN0b3IpOw0KCQkJYm9keS5vbmUoJ2ZvY3VzJywgZnVuY3Rpb24oKXsNCgkJCQlib2R5LmV2b2x1dGlvbkNvbXBvc2VyKHsNCgkJCQkJcGx1Z2luczogWydtZW50aW9ucycsJ2hhc2h0YWdzJ10NCgkJCQl9KTsNCgkJCX0pOw0KDQoJCQlpZiAoZG9jdW1lbnQuVVJMLmluZGV4T2YoJyNhZGRjb21tZW50JykgPj0gMCkNCgkJCQlib2R5LmZvY3VzKCk7DQoNCgkJCSQoJy5pbnRlcm5hbC1saW5rLmNsb3NlLW1lc3NhZ2UnLCAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKSkuY2xpY2soZnVuY3Rpb24oKQ0KCQkJew0KCQkJCSQodGhpcykuYmx1cigpOw0KCQkJCWNvbnRleHQuc3VjY2Vzc01lc3NhZ2UuZmFkZU91dCgpLnNsaWRlVXAoKTsNCgkJCX0pOw0KDQoJCQljb250ZXh0LnNhdmUuZXZvbHV0aW9uVmFsaWRhdGlvbigNCgkJCXsNCgkJCQlvblZhbGlkYXRlZDogZnVuY3Rpb24oaXNWYWxpZCwgYnV0dG9uQ2xpY2tlZCwgYykNCgkJCQl7DQoJCQkJCWlmIChpc1ZhbGlkKQ0KCQkJCQkJY29udGV4dC5zYXZlLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQllbHNlDQoJCQkJCQljb250ZXh0LnNhdmUuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJfSwNCgkJCQlvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkNCgkJCQl7DQoJCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQkJJCgnLnByb2Nlc3NpbmcnLCBjb250ZXh0LnNhdmUucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7DQoJCQkJCWNvbnRleHQuc2F2ZS5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJX3NhdmUoY29udGV4dCk7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJCWNvbnRleHQuc2F2ZS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsY29udGV4dC5ib2R5U2VsZWN0b3IsDQoJCQl7DQoJCQkJcmVxdWlyZWQ6IHRydWUsDQoJCQkJbWF4bGVuZ3RoOiAxMDAwMDAwLA0KCQkJCW1lc3NhZ2VzOg0KCQkJCXsNCgkJCQkJcmVxdWlyZWQ6IGNvbnRleHQuYm9keVJlcXVpcmVkVGV4dA0KCQkJCX0NCgkJCX0sICcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5wb3N0LWJvZHkgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsIG51bGwpOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSwgd2luZG93KTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_CreateEditPost_Name}" version="7.5.0.32466" description="${resource:Forums_CreateEditPost_Description}" instanceIdentifier="4a28ceff9af348d8956a4e59d92ffa32" theme="" isCacheable="false" varyCacheByUser="false" showHeaderByDefault="true" cssClass="create-edit-post">
		<contentScript>
#set($forum = false)
#set($forum = $core_v2_forum.Current)
#set($allowedThreadTypes = '')
#set($allowedTheadTypes = $core_v2_utility.Join(',', $forum.AllowedThreadTypes))

#set($threadOrReplyType = 'thread')
#set($threadOrReply = false)
#set($replyToThreadOrReply = false)
#set($contentTypeId = $core_v2_forumThread.ContentTypeId)
#if($core_v2_forumReply.Current)
    #set($threadOrReply = $core_v2_forumReply.Current)
    #set($threadOrReplyType = 'reply')
    #set($contentTypeId = $core_v2_forumReply.ContentTypeId)
    #if (!$core_v2_nodePermission.Get('forums',$forum.Id,'Forum_ModifyPost',"%{PostType='replies',PostId=$threadOrReply.Id}").IsAllowed)
        $core_v2_widget.Hide()
    #end
#elseif($core_v2_forumThread.Current)
    #set($threadOrReply = $core_v2_forumThread.Current)
    #set($threadOrReplyType = 'thread')
    #set($contentTypeId = $core_v2_forumThread.ContentTypeId)
    #if(!$core_v2_nodePermission.Get('forums',$forum.Id,'Forum_ModifyPost',"%{PostType='threads',PostId=$threadOrReply.Id}").IsAllowed)
        $core_v2_widget.Hide()
    #end
#elseif(!$core_v2_nodePermission.Get('forums',$forum.Id,'Forum_CreatePost').IsAllowed)
    $core_v2_widget.Hide()
#end
#if ($core_v2_forumReply.CurrentParent)
    #set($replyToThreadOrReply = $core_v2_forumReply.CurrentParent)
    #set($replyToType = 'reply')
    #set($threadOrReplyType = 'reply')
    #set($contentTypeId = $core_v2_forumReply.ContentTypeId)
    #if (!$core_v2_nodePermission.Get("forums", $forum.Id, "Forum_CreateReply", "%{PostId=$replyToThreadOrReply.Id, PostType='replies'}").IsAllowed)
        $core_v2_widget.Hide()
    #end
#elseif ($core_v2_forumThread.CurrentParent)
    #set($replyToThreadOrReply = $core_v2_forumThread.CurrentParent)
    #set($replyToType = 'thread')
    #set($threadOrReplyType = 'reply')
    #set($contentTypeId = $core_v2_forumReply.ContentTypeId)
    #if (!$core_v2_nodePermission.Get("forums", $forum.Id, "Forum_CreateReply", "%{PostId=$replyToThreadOrReply.Id, PostType='threads'}").IsAllowed)
        $core_v2_widget.Hide()
    #end
#elseif(!$core_v2_nodePermission.Get('forums',$forum.Id,'Forum_CreatePost').IsAllowed)
    $core_v2_widget.Hide()
#end

#set($uploadUrl = false)
#set($uploadUrl = $core_v2_forumUrls.UploadAttachment($forum.Id))

#set($tempData = false)
#if ($core_v2_page.GetQueryStringValue('tsid'))
    #set($tempDataString = false)
    #set($tempDataString = $core_v2_utility.GetTemporaryData($core_v2_page.GetQueryStringValue('tsid')))
    #if($tempDataString)
        #set($tempData = $core_v2_page.ParseQueryString($tempDataString))
    #end
#end

&lt;div class="message directions"&gt;
    #if ($replyToThreadOrReply)
        $core_v2_language.FormatString($core_v2_language.GetResource('CreateEditPost_Title_EditMessageDesc'), $replyToThreadOrReply.Subject)
    #elseif ($replyToThreadOrReply)
        $core_v2_language.GetResource('CreateEditPost_Inline1')
    #else
        $core_v2_language.GetResource('CreateEditPost_Title_PostNewMessageDesc')
    #end
&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('EditorTabs')"&gt;
    &lt;div id="$core_v2_widget.UniqueId('ComposePane')"&gt;
        &lt;div class="field-list-header"&gt;&lt;/div&gt;
        &lt;fieldset class="field-list"&gt;
            &lt;ul class="field-list"&gt;
                #if ($threadOrReplyType == 'thread' &amp;&amp; $core_v2_forumConfiguration.EnableThreadStatus &amp;&amp; $forum.AllowedThreadTypes.Count &gt; 1)
                    #set($threadType = $forum.DefaultThreadType)
                    #set($threadType = $threadOrReply.ThreadType)
                    &lt;li class="field-item post-type"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('TypeQuestionAndAnswer')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_PostType')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;&lt;input type="radio" name="$core_v2_widget.UniqueId('ThreadType')" id="$core_v2_widget.UniqueId('TypeQuestionAndAnswer')" value="QuestionAndAnswer"#if($threadType == 'QuestionAndAnswer') checked="checked"#end /&gt;&lt;label for="$core_v2_widget.UniqueId('TypeQuestionAndAnswer')"&gt;$core_v2_language.GetResource('CreateEditPost_Question')&lt;/label&gt;&lt;/span&gt;
                        &lt;span class="field-item-input"&gt;&lt;input type="radio" name="$core_v2_widget.UniqueId('ThreadType')" id="$core_v2_widget.UniqueId('TypeDiscussion')" value="Discussion"#if($threadType == 'Discussion') checked="checked"#end /&gt;&lt;label for="$core_v2_widget.UniqueId('TypeDiscussion')"&gt;$core_v2_language.GetResource('CreateEditPost_Discussion')&lt;/label&gt;&lt;/span&gt;
                    &lt;/li&gt;
                #end

                #if ($replyToThreadOrReply)
                    &lt;li class="field-item reply-post"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('QuoteButton')" class="field-item-header"&gt;
                            $core_v2_language.FormatString($core_v2_language.GetResource('CreateEditPost_ReplyFormat'), $replyToThreadOrReply.Author.DisplayName, $core_v2_language.FormatDateAndTime($replyToThreadOrReply.Date))
                        &lt;/label&gt;
                        &lt;span class="field-item-description user-defined-markup" id="$core_v2_widget.UniqueId('QuoteText')"&gt;$replyToThreadOrReply.Body('WebQuote')&lt;/span&gt;
                        &lt;span class="field-item-input"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('QuoteButton')"&gt;$core_v2_language.GetResource('Button_Quote')&lt;/a&gt;&lt;/span&gt;
                    &lt;/li&gt;
                #end

                #if ($threadOrReplyType == 'thread')
                    &lt;li class="field-item post-subject"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('PostSubject')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_Inline7')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;
                            &lt;textarea maxlength="256" rows="1" class="scaled" id="$core_v2_widget.UniqueId('PostSubject')"&gt;#if($threadOrReply)$!threadOrReply.Subject#elseif($tempData)$!tempData.Value('title')#end&lt;/textarea&gt;
                        &lt;/span&gt;
                       &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
                    &lt;/li&gt;
                #end

                &lt;li class="field-item post-body"&gt;
                    &lt;label for="$core_v2_widget.UniqueId('PostBody')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_Description')&lt;/label&gt;
                    &lt;span class="field-item-input"&gt;
                        #set($body = '')
                        #if($threadOrReply)
                            #set($body = $threadOrReply.Body('raw'))
                        #elseif($tempData)
                            #set($body = $tempData.Value('body'))
                        #end
                        $core_v2_editor.Render('PostBody', "%{Width='97%', Height='250px', Value=$body, ContentTypeId=$contentTypeId}")
                    &lt;/span&gt;
                    &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
                &lt;/li&gt;

                &lt;li class="field-item post-tags"&gt;
                    &lt;label for="$core_v2_widget.UniqueId('Tags')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_Tags')&lt;/label&gt;
                    &lt;span class="field-item-input"&gt;
                        &lt;input id="$core_v2_widget.UniqueId('TagBox')" type="text" value="$core_v2_utility.Join(', ', $threadOrReply.Tags)" size="70" /&gt;
                        &lt;button id="$core_v2_widget.UniqueId('SelectTags')"&gt;$core_v2_language.GetResource('TagEditor_SelectTags')&lt;/button&gt;
                    &lt;/span&gt;
                &lt;/li&gt;

                #if (!$threadOrReply &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
                    &lt;li class="field-item post-subscribe"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('SubscribeToThread')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_SubscribeToThread')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;
                            &lt;input type="checkbox" id="$core_v2_widget.UniqueId('SubscribeToThread')" checked="checked" /&gt;
                        &lt;/span&gt;
                  &lt;/li&gt;
                #end

                #if ($threadOrReply &amp;&amp; $core_v2_forumConfiguration.DisplayEditNotes)
                    &lt;li class="field-item edit-notes"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('EditNotesBody')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_EditNotes')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;&lt;textarea id="$core_v2_widget.UniqueId('EditNotesBody')" cols="90" rows="5"&gt;&lt;/textarea&gt;&lt;/span&gt;
                        &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
                    &lt;/li&gt;
                    &lt;li class="field-item"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('CurrentEditNotesBody')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_CurrentEditNotes')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;&lt;textarea readonly="readonly" id="$core_v2_widget.UniqueId('CurrentEditNotesBody')" cols="90" rows="5"&gt;$!threadOrReply.EditNotes&lt;/textarea&gt;&lt;/span&gt;
                    &lt;/li&gt;
                #end
            &lt;/ul&gt;
        &lt;/fieldset&gt;
        &lt;div class="field-list-footer"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="$core_v2_widget.UniqueId('OptionsPane')"&gt;
        &lt;div class="field-list-header"&gt;&lt;/div&gt;
        &lt;fieldset class="field-list"&gt;
            &lt;ul class="field-list"&gt;
                #if ($uploadUrl &amp;&amp; $core_v2_nodePermission.Get('forums',$forum.Id,'Forum_AttachFileLocal').IsAllowed || $core_v2_nodePermission.Get('forums',$forum.Id,'Forum_AttachFileRemote').IsAllowed)
                    &lt;li class="field-item post-attachment"&gt;
                        &lt;label class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_Attachment')&lt;/label&gt;
                        &lt;span class="field-item-input add-attachment"&gt;
                            &lt;span id="$core_v2_widget.UniqueId('FileName')"&gt;$!threadOrReply.File.FileName&lt;/span&gt;
                            &lt;a href="#" class="internal-link add-attachment" id="$core_v2_widget.UniqueId('AddUpdateAttachment')"&gt;#if ($threadOrReply &amp;&amp; $threadOrReply.File) $core_v2_language.GetResource('CreateEditPost_UpdateAttachment')#else $core_v2_language.GetResource('CreateEditPost_AddAttachment')#end&lt;/a&gt;
                        &lt;/span&gt;
                        &lt;span class="field-item-input remove-attachment"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('RemoveAttachment')"&gt;$core_v2_language.GetResource('CreateEditPost_RemoveAttachment')&lt;/a&gt;&lt;/span&gt;
                    &lt;/li&gt;
                #end

                #if($threadOrReplyType == 'thread' &amp;&amp; $core_v2_nodePermission.Get('Site_FeatureContent').IsAllowed)
                    &lt;li class="field-item post-feature"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('FeaturedPost')" class="field-item-header"&gt;$core_v2_language.GetResource('Post_MakeFeatured')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;&lt;input type="checkbox" id="$core_v2_widget.UniqueId('FeaturedPost')"#if($threadOrReply &amp;&amp; $threadOrReply.IsFeatured) checked="checked"#end /&gt;&lt;/span&gt;
                        &lt;span class="field-item-input featured-post-url" id="$core_v2_widget.UniqueId('FeaturedImage')"#if(!$threadOrReply || !$threadOrReply.IsFeatured) style="display:none;"#end&gt;
                            &lt;input type="text" id="$core_v2_widget.UniqueId('FeaturedImageUrl')" value="#if($threadOrReply)$!core_v2_encoding.HtmlAttributeEncode($core_v2_page.AbsoluteUrl($threadOrReply.FeaturedImage))#end" /&gt;
                        &lt;/span&gt;
                    &lt;/li&gt;
                #end

                #if ($threadOrReplyType == 'thread' &amp;&amp; $core_v2_nodePermission.Get('forums',$forum.Id,'Forum_Moderate').IsAllowed)
                    &lt;li class="field-item post-lock"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('IsLocked')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_IsLocked')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;&lt;input type="checkbox" id="$core_v2_widget.UniqueId('IsLocked')"#if($threadOrReply.IsLocked) checked="checked"#end #if(!$core_v2_nodePermission.Get('forums',$forum.Id,'Forum_PinPost').IsAllowed) readonly="readonly"#end /&gt;&lt;/span&gt;
                    &lt;/li&gt;
                #end

                #if ($replyToThreadOrReply)
                    #set($replyToThread = false)
                    #if($replyToType == 'reply')
                        #set($replyToThread = $core_v2_forumThread.Get($replyToThreadOrReply.ThreadId))
                    #else
                        #set($replyToThread = $replyToThreadOrReply)
                    #end
                    #if($replyToThread &amp;&amp; $replyToThread.ThreadType == 'QuestionAndAnswer')
                        &lt;li class="field-item post-answer-type"&gt;
                            &lt;label for="$core_v2_widget.UniqueId('IsSuggestedAnswer')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_MakeSuggestedAnswer')&lt;/label&gt;
                            &lt;span class="field-item-input"&gt;&lt;input type="checkbox" id="$core_v2_widget.UniqueId('IsSuggestedAnswer')" #if(($threadOrReply &amp;&amp; $threadOrReply.IsSuggestedAnswer) || ($tempData &amp;&amp; $tempData.Value('issuggestion') == 'True')) checked="checked"#end /&gt;&lt;/span&gt;
                        &lt;/li&gt;
                    #end
                #end

                #if ($threadOrReplyType == 'thread' &amp;&amp; $core_v2_nodePermission.Get('forums',$forum.Id,'Forum_PinPost').IsAllowed)
                    #set($daysFromToday = 0)
                    #set($daysFromToday = $threadOrReply.StickyDate.Date.Subtract($core_v2_utility.CurrentDate.Date).TotalDays)
                    #if(!$threadOrReply.IsSticky)
                        #set($daysFromToday = 0)
                    #end
                    &lt;li class="field-item post-stickiness"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('PinnedPost')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_Stickiness')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;&lt;select id="$core_v2_widget.UniqueId('PinnedPost')"&gt;
                            &lt;option value="0"#if($daysFromToday &lt;= 0) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_0')&lt;/option&gt;
                            &lt;option value="1"#if($daysFromToday &gt; 0 &amp;&amp; $daysFromToday &lt;= 2) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_1')&lt;/option&gt;
                            &lt;option value="3"#if($daysFromToday &gt; 2 &amp;&amp; $daysFromToday &lt;= 4) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_3')&lt;/option&gt;
                            &lt;option value="7"#if($daysFromToday &gt; 4 &amp;&amp; $daysFromToday &lt;= 8) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_7')&lt;/option&gt;
                            &lt;option value="14"#if($daysFromToday &gt; 8 &amp;&amp; $daysFromToday &lt;= 15) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_14')&lt;/option&gt;
                            &lt;option value="30"#if($daysFromToday &gt; 16 &amp;&amp; $daysFromToday &lt;= 31) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_30')&lt;/option&gt;
                            &lt;option value="90"#if($daysFromToday &gt; 31 &amp;&amp; $daysFromToday &lt;= 91) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_90')&lt;/option&gt;
                            &lt;option value="180"#if($daysFromToday &gt; 91 &amp;&amp; $daysFromToday &lt;= 180) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_180')&lt;/option&gt;
                            &lt;option value="360"#if($daysFromToday &gt; 181 &amp;&amp; $daysFromToday &lt;= 361) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_360')&lt;/option&gt;
                            #if ($core_v2_nodePermission.Get('forums',$forum.Id,'Forum_PinPostForever').IsAllowed)
                                &lt;option value="999"#if($daysFromToday &gt; 361) selected="selected"#end&gt;$core_v2_language.GetResource('CreateEditPost_Sticky_999')&lt;/option&gt;
                            #end
                        &lt;/select&gt;&lt;/span&gt;
                    &lt;/li&gt;
                #end
            &lt;/ul&gt;
        &lt;/fieldset&gt;
        &lt;div class="field-list-footer"&gt;&lt;/div&gt;
    &lt;/div&gt;
    #if ($threadOrReplyType == 'thread' &amp;&amp; $core_v2_nodePermission.Get('forums',$forum.Id,'Forum_CreatePoll').IsAllowed)
        &lt;div id="$core_v2_widget.UniqueId('PollPane')"&gt;
            &lt;div class="field-list-header"&gt;&lt;/div&gt;
            &lt;fieldset class="field-list"&gt;
                &lt;ul class="field-list"&gt;

                    &lt;li class="field-item post-include-poll"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('IncludePoll')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_IncludePoll')&lt;/label&gt;
                        &lt;span class="field-item-description"&gt;$core_v2_language.GetResource('CreateEditPost_IncludePoll_Details')&lt;/span&gt;
                        &lt;span class="field-item-input"&gt;&lt;input type="checkbox" id="$core_v2_widget.UniqueId('IncludePoll')"#if($threadOrReply &amp;&amp; $threadOrReply.HasPoll) checked="checked"#end /&gt;&lt;/span&gt;
                    &lt;/li&gt;

                    &lt;li class="field-item poll-title poll-toggled-option"#if (!$threadOrReply || !$threadOrReply.HasPoll) style="display:none;"#end&gt;
                        &lt;label for="$core_v2_widget.UniqueId('PollTitle')" class="field-item-header"&gt;$core_v2_language.GetResource('PollEditor_Title')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;&lt;input type="text" maxlength="256" id="$core_v2_widget.UniqueId('PollTitle')" style="width: 520px;"#if($threadOrReply) value="$!threadOrReply.PollTitle"#end /&gt;&lt;/span&gt;
                        &lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
                    &lt;/li&gt;

                    &lt;li class="field-item poll-toggled-option"#if (!$threadOrReply || !$threadOrReply.HasPoll) style="display:none;"#end&gt;
                        &lt;label for="$core_v2_widget.UniqueId('PollDescription')" class="field-item-header"&gt;$core_v2_language.GetResource('PollEditor_Description')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;
                            $core_v2_editor.Render('PollDescription', "%{Width='650px', Height='175px', Value=$!threadOrReply.PollDescription}")
                        &lt;/span&gt;
                    &lt;/li&gt;

                    &lt;li class="field-item poll-toggled-option"#if (!$threadOrReply || !$threadOrReply.HasPoll) style="display:none;"#end&gt;
                        &lt;label class="field-item-header"&gt;$core_v2_language.GetResource('PollEditor_Answers')&lt;/label&gt;
                        &lt;div id="$core_v2_widget.UniqueId('PollAnswers')"&gt;
                        #if($threadOrReply)
                            #foreach($pollItem in $core_v2_forumThread.ListPollItems($threadOrReply.Id))
                                &lt;span class="field-item-input" data-pollitemid="$core_v2_encoding.HtmlAttributeEncode($pollItem.AnswerId)"&gt;
                                    &lt;input type="text" size="70" value="$pollItem.Answer" /&gt;
                                    &lt;a href="#" class="move-up"&gt;&lt;span&gt;&lt;/span&gt;&amp;nbsp;&lt;/a&gt;
                                    &lt;a href="#" class="move-down"&gt;&lt;span&gt;&lt;/span&gt;&amp;nbsp;&lt;/a&gt;
                                    &lt;a href="#" class="delete-question"&gt;&lt;span&gt;&lt;/span&gt;&amp;nbsp;&lt;/a&gt;
                                &lt;/span&gt;
                            #nodata
                                $core_v2_language.GetResource('PollEditor_NoAnswers')
                            #end
                        #else
                            $core_v2_language.GetResource('PollEditor_NoAnswers')
                        #end
                        &lt;/div&gt;
                    &lt;/li&gt;

                    &lt;li class="field-item poll-toggled-option"#if (!$threadOrReply || !$threadOrReply.HasPoll) style="display:none;"#end&gt;
                        &lt;label class="field-item-header" for="$core_v2_widget.UniqueId('NewAnswer')"&gt;$core_v2_language.GetResource('PollEditor_AddAnswer')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;
                            &lt;input type="text" id="$core_v2_widget.UniqueId('NewAnswer')" size="70" /&gt;
                            &lt;button id="$core_v2_widget.UniqueId('AddButton')"&gt;$core_v2_language.GetResource('Add')&lt;/button&gt;
                        &lt;/span&gt;
                    &lt;/li&gt;

                    &lt;li class="field-item poll-toggled-option"#if (!$threadOrReply || !$threadOrReply.HasPoll) style="display:none;"#end&gt;
                        &lt;label class="field-item-header" for="$core_v2_widget.UniqueId('ExpireAfterDays')"&gt;$core_v2_language.GetResource('PollEditor_ExpiresAfterDays')&lt;/label&gt;
                        &lt;span class="field-item-description"&gt;$core_v2_language.GetResource('PollEditor_ExpiresAfter')&lt;/span&gt;
                        &lt;span class="field-item-input"&gt;&lt;input type="text" id="$core_v2_widget.UniqueId('ExpireAfterDays')" size="3"#if($threadOrReply &amp;&amp; $threadOrReply.PollExpirationDate) value="$threadOrReply.PollExpirationDate.Date.Subtract($core_v2_utility.CurrentDate.Date).TotalDays.ToString('#')"#end /&gt;&lt;/span&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/fieldset&gt;
            &lt;div class="field-list-footer"&gt;&lt;/div&gt;
        &lt;/div&gt;
    #end
    &lt;div id="$core_v2_widget.UniqueId('PreviewPane')"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list save-post-form"&gt;
    &lt;ul class="field-list"&gt;
        &lt;li class="field-item create-post"&gt;
            &lt;span class="field-item-input"&gt;
                &lt;a href="#" class="internal-link save-post disabled"&gt;
                    &lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CreateEditPost_PostButton')
                &lt;/a&gt;
                &lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
            &lt;/span&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.createEditPost')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
    #set($tags = '')
    #if($forum)
        #foreach($tag in $core_v2_forum.ListTags("%{ForumId=$forum.Id}"))
        #each
            #set($tags = "$tags'$core_v2_encoding.JavascriptEncode($core_v2_encoding.HtmlDecode($tag.Name))'")
        #between
            #set($tags = "$tags,")
        #end
    #end
    &lt;script type="text/javascript"&gt;
        jQuery(function(j){
            j.telligent.evolution.widgets.createEditPost.register({
                forumId: $forum.Id,
                replyId: #if($threadOrReply &amp;&amp; $threadOrReplyType == 'reply') $threadOrReply.Id#else -1#end,
                threadId: #if($threadOrReply &amp;&amp; $threadOrReplyType == 'thread') $threadOrReply.Id#else -1#end,
                replyToThreadId: #if($replyToThreadOrReply &amp;&amp; $replyToType == 'thread') $replyToThreadOrReply.Id#elseif($replyToThreadOrReply &amp;&amp; $replyToType == 'reply') $replyToThreadOrReply.ThreadId#elseif($threadOrReplyType == 'reply' &amp;&amp; $threadOrReply) $threadOrReply.ThreadId#else -1#end,
                replyToReplyId: #if($replyToThreadOrReply &amp;&amp; $replyToType == 'reply') $replyToThreadOrReply.Id#else -1#end,
                wrapperId: '$core_v2_widget.WrapperElementId',
                tabs: j('#$core_v2_widget.UniqueId('EditorTabs')'),
                composePaneId: '$core_v2_widget.UniqueId('ComposePane')',
                composePaneText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_Tab_Compose'))',
                optionsPaneId: '$core_v2_widget.UniqueId('OptionsPane')',
                optionsPaneText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_Tab_Options'))',
                pollPaneId: '$core_v2_widget.UniqueId('PollPane')',
                pollPaneText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_Tab_Poll'))',
                previewPaneId: '$core_v2_widget.UniqueId('PreviewPane')',
                previewPaneText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_Tab_Preview'))',
                threadTypeQA: j('#$core_v2_widget.UniqueId('TypeQuestionAndAnswer')'),
                threadTypeDiscussion: j('#$core_v2_widget.UniqueId('TypeDiscussion')'),
                quoteText: j('#$core_v2_widget.UniqueId('QuoteText')'),
                quoteButton: j('#$core_v2_widget.UniqueId('QuoteButton')'),
                replyToAuthor: #if($replyToThreadOrReply) '$core_v2_encoding.JavascriptEncode($replyToThreadOrReply.Author.DisplayName)' #else ''#end,
                quoteInvalidSelectionText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_InvalidQuoteSelection'))',
                subjectId: '$core_v2_widget.UniqueId('PostSubject')',
                subjectRequiredText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_MissingSubject'))',
                getBodyContent: function() { return $core_v2_editor.GetContentScript('PostBody') },
                saveBodyBookmark: function() { $core_v2_editor.GetBookmarkScript('PostBody') },
                insertBodyContent: function(html) { $core_v2_editor.GetInsertContentScript('PostBody', 'html') },
                attachBodyChangeScript: function(f) { $core_v2_editor.GetAttachOnChangeScript('PostBody', 'f'); },
                bodyRequiredText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_MissingBody'))',
                tags: [#if($tags)$tags#end],
                tagBox: j('#$core_v2_widget.UniqueId('TagBox')'),
                selectTags: j('#$core_v2_widget.UniqueId('SelectTags')'),
                subscribe: j('#$core_v2_widget.UniqueId('SubscribeToThread')'),
                editNotesId: '$core_v2_widget.UniqueId('EditNotesBody')',
                editNotesRequired: #if ($core_v2_forumConfiguration.RequireEditNotes) true#else false#end,
                editNotesRequiredText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_EditNotesRequired'))',
                uploadFileUrl:#if ($uploadUrl) '$core_v2_encoding.JavascriptEncode($uploadUrl)'#else null#end,
                attachmentFileName: j('#$core_v2_widget.UniqueId('FileName')'),
                attachmentAddText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_AddAttachment'))',
                attachmentUpdateText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_UpdateAttachment'))',
                attachmentUpdate: j('#$core_v2_widget.UniqueId('AddUpdateAttachment')'),
                attachmentRemove: j('#$core_v2_widget.UniqueId('RemoveAttachment')'),
                feature: j('#$core_v2_widget.UniqueId('FeaturedPost')'),
                featuredImage: j('#$core_v2_widget.UniqueId('FeaturedImage')'),
                featuredImageUrl: j('#$core_v2_widget.UniqueId('FeaturedImageUrl')'),
                featuredImagePreview: '#if($threadOrReplyType == 'thread' &amp;&amp; $threadOrReply)$!core_v2_encoding.JavascriptEncode($core_v2_ui.GetViewHtml($core_v2_page.AbsoluteUrl($threadOrReply.FeaturedImage)))#end',
                featureNoFileSelectedText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('FeaturedContent_NoFileSelected'))',
                featureSelectUploadText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('FeaturedContent_SelectUpload'))',
                featureRemoveText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Remove'))',
                lock: j('#$core_v2_widget.UniqueId('IsLocked')'),
                suggestAnswer: j('#$core_v2_widget.UniqueId('IsSuggestedAnswer')'),
                sticky: j('#$core_v2_widget.UniqueId('PinnedPost')'),
                includePoll: j('#$core_v2_widget.UniqueId('IncludePoll')'),
                pollTitle: j('#$core_v2_widget.UniqueId('PollTitle')'),
                getPollDescription: function() { return $core_v2_editor.GetContentScript('PollDescription') },
                pollAnswers: j('#$core_v2_widget.UniqueId('PollAnswers')'),
                pollNewAnswer: j('#$core_v2_widget.UniqueId('NewAnswer')'),
                pollAddAnswer: j('#$core_v2_widget.UniqueId('AddButton')'),
                pollExpireAfterDays: j('#$core_v2_widget.UniqueId('ExpireAfterDays')'),
                pollAnswerDeleteConfirmation: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('PollEditor_DeleteAnswerConfirmation'))',
                saveUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('save.vm'))',
                saveErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_SaveError'))',
                previewUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('preview.vm'))',
                previewErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_PreviewError'))',
                previewLoadingText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Loading'))'
            });
        });
    &lt;/script&gt;
#end
        </contentScript>
		<headerScript>
#set($forum = false)
#set($forum = $core_v2_forum.Current)
#if ($forum &amp;&amp; $core_v2_widget.GetBoolValue('showForumInHeader', false))
    &lt;a class="internal-link view-application forum" href="$core_v2_encoding.HtmlAttributeEncode($forum.Url)"&gt;$forum.Name&lt;/a&gt;
#else
    $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_CreateEditPost_Name}'))
#end
        </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_CreateEditPost_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
    &lt;property id="showForumInHeader" resourceName="CF_ShowForumInHeader" dataType="bool" defaultValue="false" /&gt;
&lt;/propertyGroup&gt;
        </configuration>
		<languageResources><language key="en-us"><resource name="Forums_CreateEditPost_Name">Forums - Create/Edit Post</resource><resource name="Forums_CreateEditPost_Description">Creates or edits a forum post.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_ShowForumInHeader">Display forum link in title</resource><resource name="CreateEditPost_Title_EditMessageDesc">The message you are editing: {0}</resource><resource name="CreateEditPost_Inline1">Write your reply below. Click the "Post" button to submit your message.</resource><resource name="CreateEditPost_Title_PostNewMessageDesc">Use the form below to write the message. Click the "Post" button to submit your message.</resource><resource name="CreateEditPost_PostType">My post is a:</resource><resource name="CreateEditPost_Question">Question</resource><resource name="CreateEditPost_Discussion">Discussion</resource><resource name="CreateEditPost_ReplyFormat">{0} wrote the following post at {1}:</resource><resource name="Button_Quote">Quote</resource><resource name="CreateEditPost_Inline7">Subject:</resource><resource name="CreateEditPost_Description">Description:</resource><resource name="CreateEditPost_Tags">Tags</resource><resource name="TagEditor_SelectTags">Select Tags...</resource><resource name="CreateEditPost_SubscribeToThread"> Email me replies to this post</resource><resource name="CreateEditPost_EditNotes">Edit Notes</resource><resource name="CreateEditPost_CurrentEditNotes">Current Edit Notes</resource><resource name="CreateEditPost_Attachment">File attachment</resource><resource name="CreateEditPost_UpdateAttachment">Update</resource><resource name="CreateEditPost_AddAttachment">(Click to Add)</resource><resource name="CreateEditPost_RemoveAttachment">Remove</resource><resource name="Post_MakeFeatured">Make post a featured item</resource><resource name="CreateEditPost_IsLocked"> Locked: Do not allow replies</resource><resource name="CreateEditPost_MakeSuggestedAnswer">Make post a suggested answer</resource><resource name="CreateEditPost_Stickiness">Stickiness:</resource><resource name="CreateEditPost_Sticky_0">Not sticky</resource><resource name="CreateEditPost_Sticky_1">1 Day</resource><resource name="CreateEditPost_Sticky_3">3 Days</resource><resource name="CreateEditPost_Sticky_7">1 Week</resource><resource name="CreateEditPost_Sticky_14">2 Weeks</resource><resource name="CreateEditPost_Sticky_30">1 Month</resource><resource name="CreateEditPost_Sticky_90">3 Months</resource><resource name="CreateEditPost_Sticky_180">6 Months</resource><resource name="CreateEditPost_Sticky_360">1 Year</resource><resource name="CreateEditPost_Sticky_999">Forever</resource><resource name="CreateEditPost_IncludePoll">Include a Poll in this Post</resource><resource name="CreateEditPost_IncludePoll_Details">When included, the poll's placement within the post can be controlled by placing a [Poll] tag within this post's message.</resource><resource name="PollEditor_Title">Question</resource><resource name="PollEditor_Description">Description (optional)</resource><resource name="PollEditor_Answers">Answers</resource><resource name="PollEditor_NoAnswers">No answers are defined for this poll</resource><resource name="PollEditor_AddAnswer">Add Answer</resource><resource name="Add">Add</resource><resource name="PollEditor_ExpiresAfterDays">days</resource><resource name="PollEditor_ExpiresAfter">Expires After (optional)</resource><resource name="CreateEditPost_PostButton"> Post </resource><resource name="CreateEditPost_Tab_Compose">Compose</resource><resource name="CreateEditPost_Tab_Options">Options</resource><resource name="CreateEditPost_Tab_Poll">Poll</resource><resource name="CreateEditPost_Tab_Preview">Preview</resource><resource name="CreateEditPost_InvalidQuoteSelection">When selecting text to quote, only text from the original post can be selected. Please correct or remove your text selection.</resource><resource name="CreateEditPost_MissingSubject">* Please enter a subject before posting.</resource><resource name="CreateEditPost_MissingBody">* Posts must have some content in the body and quote blocks must match.</resource><resource name="CreateEditPost_EditNotesRequired">Edit notes are required</resource><resource name="FeaturedContent_NoFileSelected">No File Selected</resource><resource name="FeaturedContent_SelectUpload">Select/Upload...</resource><resource name="Remove">Remove</resource><resource name="PollEditor_DeleteAnswerConfirmation">Are you sure you want to delete this answer?</resource><resource name="CreateEditPost_SaveError">An error occurred while attempting to save this post.</resource><resource name="CreateEditPost_PreviewError">An error occurred while attempting to preview this post.</resource><resource name="Loading">Loading</resource><resource name="Forums_CreateEditPost_Title_CreateEditPost">Create/Edit Post</resource></language></languageResources>
		<requiredContext>
			<context id="ad5b66803de14b2d9ee9cfe27ecea026" />
		</requiredContext>
		<files>
			<file name="preview.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRmb3J1bUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZm9ydW1JZCcpKSkNCgkjc2V0KCRmb3J1bSA9IGZhbHNlKQ0KCSNzZXQoJGZvcnVtID0gJGNvcmVfdjJfZm9ydW0uR2V0KCRmb3J1bUlkKSkNCgkjaWYoISRmb3J1bSkNCgkJJGNvcmVfdjJfcGFnZS5TZXRTdGF0dXNDb2RlKDUwMCkNCgkJJGNvcmVfdjJfd2lkZ2V0LkhpZGUoKQ0KCSNlbmQNCg0KCSNzZXQoJGJvZHkgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnQm9keScpKQ0KCSNzZXQoJG9wdGlvbnMgPSAiJXtCb2R5PSRib2R5fSIpDQoNCgkjc2V0KCRzdWJqZWN0ID0gZmFsc2UpDQoJI3NldCgkc3ViamVjdCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdTdWJqZWN0JykpDQoJI2lmKCRzdWJqZWN0KQ0KCQkkb3B0aW9ucy5BZGQoJ1N1YmplY3QnLCAkc3ViamVjdCkNCgkjZW5kDQoNCgkjc2V0KCRpc0Fub255bW91cyA9ICctMScpDQoJI3NldCgkaXNBbm9ueW1vdXMgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnSXNBbm9ueW1vdXMnKSkgIyMgMS8wLy0xDQoJI2lmICgkaXNBbm9ueW1vdXMgPT0gJzAnKQ0KCQkkb3B0aW9ucy5BZGQoJ0lzQW5vbnltb3VzdCcsJ0ZhbHNlJykNCgkjZWxzZWlmICgkaXNBbm9ueW1vdXNQb3N0ID09ICcxJykNCgkJJG9wdGlvbnMuQWRkKCdJc0Fub255bW91cycsJ1RydWUnKQ0KCSNlbmQNCg0KCSNzZXQoJHRocmVhZE9yUmVwbHkgPSBmYWxzZSkNCgkjc2V0KCRyZXBseUlkID0gZmFsc2UpDQoJI3NldCgkcmVwbHlJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1JlcGx5SWQnKSkpDQoJI3NldCgkdGhyZWFkSWQgPSBmYWxzZSkNCgkjc2V0KCR0aHJlYWRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1RocmVhZElkJykpKQ0KCSNzZXQoJHJlcGx5VG9UaHJlYWRJZCA9IGZhbHNlKQ0KCSNzZXQoJHJlcGx5VG9UaHJlYWRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1JlcGx5VG9UaHJlYWRJZCcpKSkNCgkjaWYgKCRyZXBseUlkICYmICRyZXBseUlkID4gMCkNCgkJI3NldCgkdGhyZWFkT3JSZXBseSA9ICRjb3JlX3YyX2ZvcnVtUmVwbHkuUHJldmlldygkcmVwbHlUb1RocmVhZElkLCAkb3B0aW9ucykpDQoJI2Vsc2VpZiAoJHRocmVhZElkICYmICR0aHJlYWRJZCA+IDApDQoJCSNzZXQoJHRocmVhZE9yUmVwbHkgPSAkY29yZV92Ml9mb3J1bVRocmVhZC5QcmV2aWV3KCRmb3J1bUlkLCAkb3B0aW9ucykpDQoJI2Vsc2VpZiAoJHJlcGx5VG9UaHJlYWRJZCAmJiAkcmVwbHlUb1RocmVhZElkID4gMCkNCgkJI3NldCgkdGhyZWFkT3JSZXBseSA9ICRjb3JlX3YyX2ZvcnVtUmVwbHkuUHJldmlldygkcmVwbHlUb1RocmVhZElkLCAkb3B0aW9ucykpDQoJI2Vsc2UNCgkJI3NldCgkdGhyZWFkT3JSZXBseSA9ICRjb3JlX3YyX2ZvcnVtVGhyZWFkLlByZXZpZXcoJGZvcnVtSWQsICRvcHRpb25zKSkNCgkjZW5kDQoNCgk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyIj48L2Rpdj4NCgk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QiPg0KCQk8ZGl2IGNsYXNzPSJwb3N0LWRhdGUiPg0KCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlQW5kVGltZSgkdGhyZWFkT3JSZXBseS5EYXRlKTwvc3Bhbj4NCgkJPC9kaXY+DQoNCgkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPg0KCQkJIyMgSWYgbm90IGFub255bW91cywgbGluayB0byB0aGUgdXNlcidzIHByb2ZpbGUNCgkJCSNpZigkY29yZV92Ml91c2VyLklzUmVnaXN0ZXJlZCgkdGhyZWFkT3JSZXBseS5BdXRob3IuSWQpKQ0KCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPg0KCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSIgaHJlZj0iIyIgb25jbGljaz0icmV0dXJuIGZhbHNlOyI+DQoJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCR0aHJlYWRPclJlcGx5LkF1dGhvci5BdmF0YXJVcmwsMjcsMjcsIiV7IHN0eWxlPSdib3JkZXItd2lkdGg6IDBweDsnLCBhbHQ9JHRocmVhZE9yUmVwbHkuQXV0aG9yLkRpc3BsYXlOYW1lfSIpDQoJCQkJCTwvYT4NCgkJCQk8L3NwYW4+DQoJCQkJI2lmICgkdGhyZWFkT3JSZXBseS5BdXRob3IuUHJvZmlsZVVybCkNCgkJCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+DQoJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdGhyZWFkT3JSZXBseS5BdXRob3IuUHJvZmlsZVVybCkiPiR0aHJlYWRPclJlcGx5LkF1dGhvci5EaXNwbGF5TmFtZTwvYT4NCgkJCQkJPC9zcGFuPg0KCQkJCSNlbHNlDQoJCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPg0KCQkJCQkJJHRocmVhZE9yUmVwbHkuQXV0aG9yLkRpc3BsYXlOYW1lDQoJCQkJCTwvc3Bhbj4NCgkJCQkjZW5kCQkJCQ0KCQkJI2Vsc2UNCgkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4NCgkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkdGhyZWFkT3JSZXBseS5BdXRob3IuQXZhdGFyVXJsLDI3LDI3LCIleyBzdHlsZT0nYm9yZGVyLXdpZHRoOiAwcHg7JywgYWx0PSR0aHJlYWRPclJlcGx5LkF1dGhvci5EaXNwbGF5TmFtZX0iKQ0KCQkJCTwvc3Bhbj4NCgkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4kdGhyZWFkT3JSZXBseS5BdXRob3IuRGlzcGxheU5hbWU8L3NwYW4+DQoJCQkjZW5kDQoJCTwvZGl2Pg0KDQoJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj4NCgkJCSQhdGhyZWFkT3JSZXBseS5Cb2R5KCkNCgkJCSNpZiAoJHRocmVhZE9yUmVwbHkuRWRpdE5vdGVzICYmICRjb3JlX3YyX2ZvcnVtQ29uZmlndXJhdGlvbi5EaXNwbGF5RWRpdE5vdGVzKQ0KCQkJCTxiciAvPjxiciAvPiQhdGhyZWFkT3JSZXBseS5FZGl0Tm90ZXMNCgkJCSNlbmQNCgkJPC9kaXY+DQoNCgkJI2lmKCR0aHJlYWRPclJlcGx5LkF1dGhvci5TaWduYXR1cmVGb3JtYXR0ZWQpDQoJCQk8c3BhbiBjbGFzcz0idXNlci1zaWduYXR1cmUgdXNlci1kZWZpbmVkLW1hcmt1cCI+JHRocmVhZE9yUmVwbHkuQXV0aG9yLlNpZ25hdHVyZUZvcm1hdHRlZDwvc3Bhbj4NCgkJI2VuZA0KCTwvZGl2Pg0KCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1mb290ZXIiPjwvZGl2Pg0KI2VuZA==</file>
			<file name="save.vm">JGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQoNCiNzZXQoJGZvcnVtSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdmb3J1bUlkJykpKQ0KI3NldCgkZm9ydW0gPSBmYWxzZSkNCiNzZXQoJGZvcnVtID0gJGNvcmVfdjJfZm9ydW0uR2V0KCRmb3J1bUlkKSkNCiNpZighJGZvcnVtKQ0KCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcignVGhlIHNwZWNpZmllZCBmb3J1bSBjb3VsZCBub3QgYmUgcmV0cmlldmVkJykNCiNlbmQNCg0KI3NldCgkYm9keSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdCb2R5JykpDQojc2V0KCRvcHRpb25zID0gIiV7Qm9keT0kYm9keX0iKQ0KDQojc2V0KCRpc1F1ZXN0aW9uID0gJy0xJykNCiNzZXQoJGlzUXVlc3Rpb24gPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnSXNRdWVzdGlvbicpKQ0KDQojaWYgKCRjb3JlX3YyX2ZvcnVtQ29uZmlndXJhdGlvbi5FbmFibGVUaHJlYWRTdGF0dXMgJiYgJGZvcnVtLkFsbG93ZWRUaHJlYWRUeXBlcy5Db3VudCA+IDEpDQoJI2lmICgkaXNRdWVzdGlvbiA9PSAnMScpDQoJCSRvcHRpb25zLkFkZCgnSXNRdWVzdGlvbicsICdUcnVlJykNCgkjZWxzZWlmICgkaXNRdWVzdGlvbiA9PSAnMCcpDQoJCSRvcHRpb25zLkFkZCgnSXNRdWVzdGlvbicsICdGYWxzZScpDQoJI2Vsc2UNCgkJI2lmICgkZm9ydW0uRGVmYXVsdFRocmVhZFR5cGUgPT0gJ1F1ZXN0aW9uQW5kQW5zd2VyJykNCgkJCSNzZXQoJGlzUXVlc3Rpb24gPSAnMScpDQoJCQkkb3B0aW9ucy5BZGQoJ0lzUXVlc3Rpb24nLCAnVHJ1ZScpDQoJCSNlbHNlDQoJCQkjc2V0KCRpc1F1ZXN0aW9uID0gJzAnKQ0KCQkJJG9wdGlvbnMuQWRkKCdJc1F1ZXN0aW9uJywgJ0ZhbHNlJykNCgkJI2VuZA0KCSNlbmQNCiNlbHNlaWYgKCRmb3J1bS5EZWZhdWx0VGhyZWFkVHlwZSA9PSAnUXVlc3Rpb25BbmRBbnN3ZXInKQ0KCSNzZXQoJGlzUXVlc3Rpb24gPSAnMScpDQoJJG9wdGlvbnMuQWRkKCdJc1F1ZXN0aW9uJywgJ1RydWUnKQ0KI2Vsc2UNCgkjc2V0KCRpc1F1ZXN0aW9uID0gJzAnKQ0KCSRvcHRpb25zLkFkZCgnSXNRdWVzdGlvbicsICdGYWxzZScpDQojZW5kDQoNCiNzZXQoJHN1YmplY3QgPSBmYWxzZSkNCiNzZXQoJHN1YmplY3QgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnU3ViamVjdCcpKQ0KI2lmKCRzdWJqZWN0KQ0KCSRvcHRpb25zLkFkZCgnU3ViamVjdCcsICRzdWJqZWN0KQ0KI2VuZA0KDQojc2V0KCRlZGl0Tm90ZXMgPSBmYWxzZSkNCiNzZXQoJGVkaXROb3RlcyA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdFZGl0Tm90ZXMnKSkNCiNpZigkZWRpdE5vdGVzKQ0KCSRvcHRpb25zLkFkZCgnRWRpdE5vdGVzJywgJGVkaXROb3RlcykNCiNlbmQNCg0KI3NldCgkdGFncyA9IGZhbHNlKQ0KI3NldCgkdGFncyA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdUYWdzJykpDQojaWYgKCR0YWdzKQ0KCSRvcHRpb25zLkFkZCgnVGFncycsICR0YWdzKQ0KI2VuZA0KDQojc2V0KCRzdWJzY3JpYmUgPSAnLTEnKQ0KI3NldCgkc3Vic2NyaWJlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1N1YnNjcmliZScpKSAjIyAxLzAvLTENCiNpZiAoJHN1YnNjcmliZSA9PSAnMCcpDQoJJG9wdGlvbnMuQWRkKCdTdWJzY3JpYmVUb1RocmVhZCcsICdGYWxzZScpDQojZWxzZWlmICgkc3Vic2NyaWJlID09ICcxJykNCgkkb3B0aW9ucy5BZGQoJ1N1YnNjcmliZVRvVGhyZWFkJywgJ1RydWUnKQ0KI2VuZA0KDQojc2V0KCRhdHRhY2htZW50Q2hhbmdlZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdBdHRhY2htZW50Q2hhbmdlZCcpKSAjIyAxLzANCiNzZXQoJHJlbW92ZUF0dGFjaG1lbnQgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnUmVtb3ZlQXR0YWNobWVudCcpKSAjIyAxLzANCiNzZXQoJGF0dGFjaG1lbnROYW1lID0gZmFsc2UpDQojc2V0KCRhdHRhY2htZW50TmFtZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdBdHRhY2htZW50TmFtZScpKSAjIyBzZXQgaWYgZmlsZSBpcyB1cGRhdGVkDQojc2V0KCRhdHRhY2htZW50VXJsID0gZmFsc2UpDQojc2V0KCRhdHRhY2htZW50VXJsID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0F0dGFjaG1lbnRVcmwnKSkgIyMgc2V0IGlmIGZpbGUgaXMgdXBkYXRlZCBhbmQgcmVtb3RlDQojc2V0KCRhdHRhY2htZW50SXNSZW1vdGUgPSBmYWxzZSkNCiNzZXQoJGF0dGFjaG1lbnRJc1JlbW90ZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdBdHRhY2htZW50SXNSZW1vdGUnKSkgIyMgc2V0IGlmIGZpbGUgaXMgdXBkYXRlZA0KI3NldCgkYXR0YWNobWVudENvbnRleHRJZCA9IGZhbHNlKQ0KI3NldCgkYXR0YWNobWVudENvbnRleHRJZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdBdHRhY2htZW50Q29udGV4dElkJykpICMjIHNldCBpZiBmaWxlIGlzIHVwZGF0ZWQgYW5kIG5vdCByZW1vdGUNCiNpZiAoJGF0dGFjaG1lbnRDaGFuZ2VkID09ICcxJykNCgkjc2V0KCRjb250ZW50VHlwZSA9IGZhbHNlKQ0KCSNpZiAoJGF0dGFjaG1lbnRJc1JlbW90ZSA9PSAnMScpDQoJCSNzZXQoJGNvbnRlbnRUeXBlID0gJGNvcmVfdjJfdWkuR2V0TWltZVR5cGUoJGF0dGFjaG1lbnRVcmwpKQ0KCQkkb3B0aW9ucy5BZGQoJ0ZpbGVVcmwnLCAkYXR0YWNobWVudFVybCkNCgkJJG9wdGlvbnMuQWRkKCdDb250ZW50VHlwZScsICRjb250ZW50VHlwZSkNCgkjZWxzZQ0KCQkjc2V0KCRmaWxlID0gZmFsc2UpDQoJCSNzZXQoJGZpbGUgPSAkY29yZV92Ml91cGxvYWRlZEZpbGUuR2V0KCRhdHRhY2htZW50Q29udGV4dElkLCAkYXR0YWNobWVudE5hbWUpKQ0KCQkjaWYgKCRmaWxlKQ0KCQkJI3NldCgkY29udGVudFR5cGUgPSAkY29yZV92Ml91aS5HZXRNaW1lVHlwZSgkYXR0YWNobWVudE5hbWUpKQ0KCQkJJG9wdGlvbnMuQWRkKCdGaWxlVXBsb2FkQ29udGV4dCcsJGF0dGFjaG1lbnRDb250ZXh0SWQpDQoJCQkkb3B0aW9ucy5BZGQoJ0ZpbGVOYW1lJywkZmlsZS5OYW1lKQ0KCQkJJG9wdGlvbnMuQWRkKCdDb250ZW50VHlwZScsICRjb250ZW50VHlwZSkNCgkJI2VuZA0KCSNlbmQNCiNlbHNlaWYgKCRyZW1vdmVBdHRhY2htZW50ID09ICcxJykNCgkkb3B0aW9ucy5BZGQoJ1JlbW92ZUF0dGFjaG1lbnQnLCB0cnVlKQ0KI2VuZA0KDQojc2V0KCRmZWF0dXJlZCA9ICctMScpDQojc2V0KCRmZWF0dXJlZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdGZWF0dXJlZCcpKSAjIyAxLzAvLTENCiNzZXQoJGZlYXR1cmVkSW1hZ2UgPSBmYWxzZSkNCiNzZXQoJGZlYXR1cmVkSW1hZ2UgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmVhdHVyZWRJbWFnZVVybCcpKSAjIyBzZXQgaWYgZmVhdHVyZWQgaXMgbm90IC0xIGFuZCBpbWFnZSBpcyBzZWxlY3RlZA0KI2lmICgkZmVhdHVyZWQgPT0gJzEnKQ0KCSRvcHRpb25zLkFkZCgnSXNGZWF0dXJlZCcsJ1RydWUnKQ0KCSNpZiAoJGZlYXR1cmVkSW1hZ2UpDQoJCSRvcHRpb25zLkFkZCgnRmVhdHVyZWRJbWFnZScsICRmZWF0dXJlZEltYWdlKQ0KCSNlbHNlDQoJCSRvcHRpb25zLkFkZCgnRmVhdHVyZWRJbWFnZScsICcnKQ0KCSNlbmQNCiNlbHNlaWYgKCRmZWF0dXJlZCA9PSAnMCcpDQoJJG9wdGlvbnMuQWRkKCdJc0ZlYXR1cmVkJywnRmFsc2UnKQ0KI2VuZA0KDQojc2V0KCRsb2NrZWQgPSAnLTEnKQ0KI3NldCgkbG9ja2VkID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0lzTG9ja2VkJykpICMjIDEvMC8tMQ0KI2lmICgkbG9ja2VkID09ICcwJykNCgkkb3B0aW9ucy5BZGQoJ0lzTG9ja2VkJywgJ0ZhbHNlJykNCiNlbHNlaWYgKCRsb2NrZWQgPT0gJzEnKQ0KCSRvcHRpb25zLkFkZCgnSXNMb2NrZWQnLCAnVHJ1ZScpDQojZW5kDQoNCiNzZXQoJGlzU3VnZ2VzdGVkQW5zd2VyID0gJy0xJykNCiNzZXQoJGlzU3VnZ2VzdGVkQW5zd2VyID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0lzU3VnZ2VzdGVkQW5zd2VyJykpICMjIDEvMC8tMQ0KI2lmICgkaXNTdWdnZXN0ZWRBbnN3ZXIgPT0gJzAnKQ0KCSRvcHRpb25zLkFkZCgnSXNTdWdnZXN0ZWRBbnN3ZXInLCdGYWxzZScpDQojZWxzZWlmICgkaXNTdWdnZXN0ZWRBbnN3ZXIgPT0gJzEnKQ0KCSRvcHRpb25zLkFkZCgnSXNTdWdnZXN0ZWRBbnN3ZXInLCdUcnVlJykNCiNlbmQNCg0KI3NldCgkaXNBbm9ueW1vdXMgPSAnLTEnKQ0KI3NldCgkaXNBbm9ueW1vdXMgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnSXNBbm9ueW1vdXMnKSkgIyMgMS8wLy0xDQojaWYgKCRpc0Fub255bW91cyA9PSAnMCcpDQoJJG9wdGlvbnMuQWRkKCdJc0Fub255bW91c3QnLCdGYWxzZScpDQojZWxzZWlmICgkaXNBbm9ueW1vdXNQb3N0ID09ICcxJykNCgkkb3B0aW9ucy5BZGQoJ0lzQW5vbnltb3VzJywnVHJ1ZScpDQojZW5kDQoNCiNzZXQoJGhhc1N0aWNreURhdGUgPSAnLTEnKQ0KI3NldCgkaGFzU3RpY2t5RGF0ZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdIYXNTdGlja3lEYXRlJykpICMjIDEvMC8tMQ0KI2lmICgkaGFzU3RpY2t5RGF0ZSA9PSAnMScpDQoJJG9wdGlvbnMuQWRkKCdTdGlja3lEYXRlJywgJGNvcmVfdjJfdXRpbGl0eS5QYXJzZURhdGUoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1N0aWNreURhdGUnKSkpDQoJJG9wdGlvbnMuQWRkKCdJc1N0aWNreScsICdUcnVlJykNCiNlbHNlaWYgKCRoYXNTdGlja3lEYXRlID09ICcwJykNCgkkb3B0aW9ucy5BZGQoJ1N0aWNreURhdGUnLCAkY29yZV92Ml91dGlsaXR5LkN1cnJlbnREYXRlKQ0KCSRvcHRpb25zLkFkZCgnSXNTdGlja3knLCAnRmFsc2UnKQ0KI2VuZA0KDQojc2V0KCRoYXNQb2xsID0gJy0xJykNCiNzZXQoJGhhc1BvbGwgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnSGFzUG9sbCcpKSAjIyAxLzAvLTENCiNpZiAoJGhhc1BvbGwgPT0gJzEnKQ0KCSRvcHRpb25zLkFkZCgnSGFzUG9sbCcsICdUcnVlJykNCg0KCSNzZXQoJHBvbGxUaXRsZSA9IGZhbHNlKQ0KCSNzZXQoJHBvbGxUaXRsZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdQb2xsVGl0bGUnKSkNCgkjaWYgKCRwb2xsVGl0bGUpDQoJCSRvcHRpb25zLkFkZCgnUG9sbFRpdGxlJywgJHBvbGxUaXRsZSkNCgkjZW5kDQoNCgkjc2V0KCRwb2xsRGVzY3JpcHRpb24gPSBmYWxzZSkNCgkjc2V0KCRwb2xsRGVzY3JpcHRpb24gPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnUG9sbERlc2NyaXB0aW9uJykpDQoJI2lmICgkcG9sbERlc2NyaXB0aW9uKQ0KCQkkb3B0aW9ucy5BZGQoJ1BvbGxEZXNjcmlwdGlvbicsICRwb2xsRGVzY3JpcHRpb24pDQoJI2VuZA0KDQoJI3NldCgkcG9sbEV4cGlyZURheXMgPSBmYWxzZSkNCgkjc2V0KCRwb2xsRXhwaXJlRGF5cyA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1BvbGxFeHBpcmVEYXlzJykpKQ0KCSNpZiAoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1BvbGxFeHBpcmVEYXlzJykgJiYgJHBvbGxFeHBpcmVEYXlzKQ0KCQkkb3B0aW9ucy5BZGQoJ1BvbGxFeHBpcmF0aW9uRGF0ZScsICRjb3JlX3YyX3V0aWxpdHkuQ3VycmVudERhdGUuQWRkRGF5cygkcG9sbEV4cGlyZURheXMpKQ0KCSNlbHNlDQoJCSRvcHRpb25zLkFkZCgnUG9sbEV4cGlyYXRpb25EYXRlJywgJGNvcmVfdjJfdXRpbGl0eS5QYXJzZURhdGUoJzAwMDEtMDEtMDEgMDA6MDA6MDAnKSkNCgkjZW5kDQojZWxzZWlmKCRoYXNQb2xsID09ICcwJykNCgkkb3B0aW9ucy5BZGQoJ0hhc1BvbGwnLCAnRmFsc2UnKQ0KI2VuZA0KDQojc2V0KCRyZXBseVRvUmVwbHlJZCA9IGZhbHNlKQ0KI3NldCgkcmVwbHlUb1JlcGx5SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdSZXBseVRvUmVwbHlJZCcpKSkNCiNpZiAoJHJlcGx5VG9SZXBseUlkICYmICRyZXBseVRvUmVwbHlJZCA+IDApDQoJJG9wdGlvbnMuQWRkKCdGb3J1bVJlcGx5SWQnLCAkcmVwbHlUb1JlcGx5SWQpDQojZW5kDQoNCiNzZXQoJHRocmVhZE9yUmVwbHkgPSBmYWxzZSkNCiNzZXQoJHJlcGx5SWQgPSBmYWxzZSkNCiNzZXQoJHJlcGx5SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdSZXBseUlkJykpKQ0KI3NldCgkdGhyZWFkSWQgPSBmYWxzZSkNCiNzZXQoJHRocmVhZElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnVGhyZWFkSWQnKSkpDQojc2V0KCRyZXBseVRvVGhyZWFkSWQgPSBmYWxzZSkNCiNzZXQoJHJlcGx5VG9UaHJlYWRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1JlcGx5VG9UaHJlYWRJZCcpKSkNCiNpZiAoJHJlcGx5SWQgJiYgJHJlcGx5SWQgPiAwKQ0KCSNzZXQoJHRocmVhZE9yUmVwbHkgPSAkY29yZV92Ml9mb3J1bVJlcGx5LlVwZGF0ZSgkcmVwbHlJZCwgJHJlcGx5VG9UaHJlYWRJZCwgJGZvcnVtSWQsICRvcHRpb25zKSkNCiNlbHNlaWYgKCR0aHJlYWRJZCAmJiAkdGhyZWFkSWQgPiAwKQ0KCSNzZXQoJHRocmVhZE9yUmVwbHkgPSAkY29yZV92Ml9mb3J1bVRocmVhZC5VcGRhdGUoJGZvcnVtSWQsICR0aHJlYWRJZCwgJG9wdGlvbnMpKQ0KI2Vsc2VpZiAoJHJlcGx5VG9UaHJlYWRJZCAmJiAkcmVwbHlUb1RocmVhZElkID4gMCkNCgkjc2V0KCR0aHJlYWRPclJlcGx5ID0gJGNvcmVfdjJfZm9ydW1SZXBseS5DcmVhdGUoJHJlcGx5VG9UaHJlYWRJZCwgJGJvZHksICRvcHRpb25zKSkNCiNlbHNlDQoJI3NldCgkdGhyZWFkT3JSZXBseSA9ICRjb3JlX3YyX2ZvcnVtVGhyZWFkLkNyZWF0ZSgkZm9ydW1JZCwgJHN1YmplY3QsICRib2R5LCAkb3B0aW9ucykpDQoJI3NldCgkdGhyZWFkSWQgPSAkdGhyZWFkT3JSZXBseS5JZCkNCiNlbmQNCg0KI2lmKCR0aHJlYWRPclJlcGx5LkVycm9ycy5Db3VudCA+IDApDQoJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCR0aHJlYWRPclJlcGx5LkVycm9ycykNCiNlbmQNCg0KI2lmICgkaGFzUG9sbCA9PSAnMScpDQoJI3NldCgkcG9sbEFuc3dlcnMgPSBmYWxzZSkNCgkjc2V0KCRwb2xsQW5zd2VycyA9ICRjb3JlX3YyX3BhZ2UuUGFyc2VRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnUG9sbEFuc3dlcnMnKSkpDQoJI2lmICgkcG9sbEFuc3dlcnMpDQoJCSNzZXQoJGV4aXN0aW5nSWRzID0gJGNvcmVfdjJfcGFnZS5NYWtlUXVlcnlTdHJpbmcoIiV7fSIpKQ0KCQkjZm9yZWFjaCgkaW5kZXggaW4gJHBvbGxBbnN3ZXJzLlZhbHVlcygnQW5zd2VySW5kZXgnKSkNCgkJCSNzZXQoJGtleSA9ICJBbnN3ZXIke2luZGV4fUlkIikNCgkJCSNzZXQoJGFuc3dlcklkID0gZmFsc2UpDQoJCQkjc2V0KCRhbnN3ZXJJZCA9ICRwb2xsQW5zd2Vycy5WYWx1ZSgka2V5KSkNCgkJCSNpZiAoJGFuc3dlcklkKQ0KCQkJCSRleGlzdGluZ0lkcy5BZGQoJGFuc3dlcklkLCAnMScpDQoJCQkjZW5kDQoJCSNlbmQNCgkJI2ZvcmVhY2goJHBvbGxJdGVtIGluICRjb3JlX3YyX2ZvcnVtVGhyZWFkLkxpc3RQb2xsSXRlbXMoJHRocmVhZElkKSkNCgkJCSNpZighJGV4aXN0aW5nSWRzLlZhbHVlKCRwb2xsSXRlbS5BbnN3ZXJJZCkpDQoJCQkJI3NldCgkcmVzcG9uc2UgPSAkY29yZV92Ml9mb3J1bVRocmVhZC5SZW1vdmVQb2xsSXRlbSgkdGhyZWFkSWQsICRwb2xsSXRlbS5BbnN3ZXJJZCkpDQoJCQkJI2lmICgkcmVzcG9uc2UuRXJyb3JzLkNvdW50ID4gMCkNCgkJCQkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRyZXNwb25zZS5FcnJvcnMpDQoJCQkJI2VuZA0KCQkJI2VuZA0KCQkjZW5kDQoJCSNmb3JlYWNoKCRpbmRleCBpbiAkcG9sbEFuc3dlcnMuVmFsdWVzKCdBbnN3ZXJJbmRleCcpKQ0KCQkJI3NldCgka2V5ID0gIkFuc3dlciR7aW5kZXh9SWQiKQ0KCQkJI3NldCgkYW5zd2VyS2V5ID0gIkFuc3dlciR7aW5kZXh9IikNCgkJCSNzZXQoJGFuc3dlcklkID0gZmFsc2UpDQoJCQkjc2V0KCRhbnN3ZXJJZCA9ICRwb2xsQW5zd2Vycy5WYWx1ZSgka2V5KSkNCgkJCSNpZiAoJGFuc3dlcklkKQ0KCQkJCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfZm9ydW1UaHJlYWQuVXBkYXRlUG9sbEl0ZW0oJHRocmVhZElkLCAkYW5zd2VySWQsICRwb2xsQW5zd2Vycy5WYWx1ZSgkYW5zd2VyS2V5KSwgJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkaW5kZXgpKSkNCgkJCSNlbHNlDQoJCQkJI3NldCgkcmVzcG9uc2UgPSAkY29yZV92Ml9mb3J1bVRocmVhZC5BZGRQb2xsSXRlbSgkdGhyZWFkSWQsICRwb2xsQW5zd2Vycy5WYWx1ZSgkYW5zd2VyS2V5KSwgJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkaW5kZXgpKSkNCgkJCSNlbmQNCgkJCSNpZiAoJHJlc3BvbnNlLkVycm9ycy5Db3VudCA+IDApDQoJCQkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRyZXNwb25zZS5FcnJvcnMpDQoJCQkjZW5kDQoJCSNlbmQNCgkjZW5kDQojZW5kDQoNCiNpZiAoISR0aHJlYWRPclJlcGx5LkFwcHJvdmVkKQ0KCXsicmVkaXJlY3RVcmwiOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2ZvcnVtVXJscy5QZW5kaW5nTW9kZXJhdGlvbigkZm9ydW1JZCkpIn0NCiNlbHNlCQkNCgl7InJlZGlyZWN0VXJsIjoiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkdGhyZWFkT3JSZXBseS5VcmwpIn0NCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KICAgIHZhciBfcHJldmlldyA9IGZ1bmN0aW9uKGNvbnRleHQpDQogICAgew0KICAgICAgICAkKCcjJyArIGNvbnRleHQucHJldmlld1BhbmVJZCkuaHRtbCgnPGRpdiBjbGFzcz0ibWVzc2FnZSBsb2FkaW5nIGxvYWRpbmdfX21lc3NhZ2UiPicgKyBjb250ZXh0LnByZXZpZXdMb2FkaW5nVGV4dCArICc8L2Rpdj4nKTsNCg0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgICAgICB1cmw6IGNvbnRleHQucHJldmlld1VybCwNCiAgICAgICAgICAgIGRhdGE6IF9wb3B1bGF0ZURhdGEoY29udGV4dCksDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQucHJldmlld1BhbmVJZCkuaGlkZSgpLmh0bWwocmVzcG9uc2UpLmZhZGVJbignZmFzdCcpOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQucHJldmlld0Vycm9yVGV4dCwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQoJyMnICsgY29udGV4dC5wcmV2aWV3UGFuZUlkKS5odG1sKCc8ZGl2IGNsYXNzPSJtZXNzYWdlIGVycm9yIGVycm9yX19tZXNzYWdlIj4nICsgZGVzYyArICc8L2Rpdj4nKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBfc2F2ZSA9IGZ1bmN0aW9uKGNvbnRleHQpDQogICAgew0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgICAgICB1cmw6IGNvbnRleHQuc2F2ZVVybCwNCiAgICAgICAgICAgIGRhdGE6IF9wb3B1bGF0ZURhdGEoY29udGV4dCksDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UucmVkaXJlY3RVcmwpIHsNCiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gcmVzcG9uc2UucmVkaXJlY3RVcmw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHJlc3BvbnNlLmVycm9ycykgew0KICAgICAgICAgICAgICAgICAgICBhbGVydChjb250ZXh0LnNhdmVFcnJvclRleHQgKyAnXG5cbicgKyByZXNwb25zZS5lcnJvcnNbMF0uZXJyb3IpOw0KDQogICAgICAgICAgICAgICAgICAgICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGEuc2F2ZS1wb3N0JykucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3Byb2Nlc3NpbmcnKTsNCiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zYXZlLXBvc3QnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5zYXZlRXJyb3JUZXh0LA0KICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTsNCiAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBhLnNhdmUtcG9zdCcpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQogICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zYXZlLXBvc3QnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBfcG9wdWxhdGVEYXRhID0gZnVuY3Rpb24oY29udGV4dCkNCiAgICB7DQogICAgICAgIHZhciBkYXRhID0gew0KICAgICAgICAgICAgQm9keTogY29udGV4dC5nZXRCb2R5Q29udGVudCgpLA0KICAgICAgICAgICAgRm9ydW1JZDogY29udGV4dC5mb3J1bUlkDQogICAgICAgIH07DQoNCiAgICAgICAgaWYgKGNvbnRleHQudGhyZWFkVHlwZVFBLmxlbmd0aCA+IDAgJiYgY29udGV4dC50aHJlYWRUeXBlUUEuaXMoJzpjaGVja2VkJykpDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuSXNRdWVzdGlvbiA9IDE7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoY29udGV4dC50aHJlYWRUeXBlRGlzY3Vzc2lvbi5sZW5ndGggPiAwICYmIGNvbnRleHQudGhyZWFkVHlwZURpc2N1c3Npb24uaXMoJzpjaGVja2VkJykpDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuSXNRdWVzdGlvbiA9IDA7DQogICAgICAgIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgICBkYXRhLklzUXVlc3Rpb24gPSAtMTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgkKCcjJyArIGNvbnRleHQuc3ViamVjdElkKS5sZW5ndGggPiAwKQ0KICAgICAgICB7DQogICAgICAgICAgICBkYXRhLlN1YmplY3QgPSAgJCgnIycgKyBjb250ZXh0LnN1YmplY3RJZCkuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKCQoJyMnICsgY29udGV4dC5lZGl0Tm90ZXNJZCkubGVuZ3RoID4gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgZGF0YS5FZGl0Tm90ZXMgPSAkKCcjJyArIGNvbnRleHQuZWRpdE5vdGVzSWQpLnZhbCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGNvbnRleHQudGFnQm94Lmxlbmd0aCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIHZhciBpblRhZ3MgPSBjb250ZXh0LnRhZ0JveC52YWwoKS5zcGxpdCgvWyw7XS9nKTsNCiAgICAgICAgICAgIHZhciB0YWdzID0gW107DQogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluVGFncy5sZW5ndGg7IGkrKykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgdGFnID0gJC50cmltKGluVGFnc1tpXSk7DQogICAgICAgICAgICAgICAgaWYgKHRhZykgew0KICAgICAgICAgICAgICAgICAgICB0YWdzW3RhZ3MubGVuZ3RoXSA9IHRhZzsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGRhdGEuVGFncyA9IHRhZ3Muam9pbignLCcpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGNvbnRleHQuc3Vic2NyaWJlLmxlbmd0aCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuU3Vic2NyaWJlID0gY29udGV4dC5zdWJzY3JpYmUuaXMoJzpjaGVja2VkJykgPyAxIDogMDsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuU3Vic2NyaWJlID0gLTE7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoY29udGV4dC5mZWF0dXJlLmxlbmd0aCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuRmVhdHVyZWQgPSBjb250ZXh0LmZlYXR1cmUuaXMoJzpjaGVja2VkJykgPyAxIDogMDsNCiAgICAgICAgICAgIGlmIChjb250ZXh0LmZlYXR1cmVkSW1hZ2VVcmwubGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBkYXRhLkZlYXR1cmVkSW1hZ2VVcmwgPSBjb250ZXh0LmZlYXR1cmVkSW1hZ2VVcmwudmFsKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWxzZQ0KICAgICAgICB7DQogICAgICAgICAgICBkYXRhLkZlYXR1cmVkID0gLTE7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoY29udGV4dC5maWxlKQ0KICAgICAgICB7DQogICAgICAgICAgICBkYXRhLkF0dGFjaG1lbnRDaGFuZ2VkID0gMTsNCiAgICAgICAgICAgIGlmIChjb250ZXh0LmZpbGUuaXNSZW1vdGUpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZGF0YS5BdHRhY2htZW50TmFtZSA9IGNvbnRleHQuZmlsZS5maWxlTmFtZTsNCiAgICAgICAgICAgICAgICBkYXRhLkF0dGFjaG1lbnRVcmwgPSBjb250ZXh0LmZpbGUudXJsOw0KICAgICAgICAgICAgICAgIGRhdGEuQXR0YWNobWVudElzUmVtb3RlID0gJzEnOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGRhdGEuQXR0YWNobWVudE5hbWUgPSBjb250ZXh0LmZpbGUuZmlsZU5hbWU7DQogICAgICAgICAgICAgICAgZGF0YS5BdHRhY2htZW50Q29udGV4dElkID0gY29udGV4dC5maWxlLmNvbnRleHRJZDsNCiAgICAgICAgICAgICAgICBkYXRhLkF0dGFjaG1lbnRJc1JlbW90ZSA9ICcwJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChjb250ZXh0LnJlbW92ZUF0dGFjaG1lbnQpDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuUmVtb3ZlQXR0YWNobWVudCA9IDE7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoY29udGV4dC5sb2NrLmxlbmd0aCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuSXNMb2NrZWQgPSBjb250ZXh0LmxvY2suaXMoJzpjaGVja2VkJykgPyAxIDogMDsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuSXNMb2NrZWQgPSAtMTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChjb250ZXh0LnN1Z2dlc3RBbnN3ZXIubGVuZ3RoID4gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgZGF0YS5Jc1N1Z2dlc3RlZEFuc3dlciA9IGNvbnRleHQuc3VnZ2VzdEFuc3dlci5pcygnOmNoZWNrZWQnKSA/IDEgOiAwOw0KICAgICAgICB9DQogICAgICAgIGVsc2UNCiAgICAgICAgew0KICAgICAgICAgICAgZGF0YS5Jc1N1Z2dlc3RlZEFuc3dlciA9IC0xOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGNvbnRleHQuc3RpY2t5Lmxlbmd0aCA+IDAgJiYgY29udGV4dC5zdGlja3kudmFsKCkgIT0gJzAnKQ0KICAgICAgICB7DQogICAgICAgICAgICBkYXRhLlN0aWNreURhdGUgPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZm9ybWF0RGF0ZShuZXcgRGF0ZSgobmV3IERhdGUoKSkuZ2V0VGltZSgpICsgKHBhcnNlSW50KGNvbnRleHQuc3RpY2t5LnZhbCgpLCAxMCkgKiAxMDAwICogNjAgKiA2MCAqIDI0KSkpOw0KICAgICAgICAgICAgZGF0YS5IYXNTdGlja3lEYXRlID0gMTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuSGFzU3RpY2t5RGF0ZSA9IDA7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoY29udGV4dC5yZXBseUlkID4gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgZGF0YS5SZXBseUlkID0gY29udGV4dC5yZXBseUlkOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGNvbnRleHQudGhyZWFkSWQgPiAwKQ0KICAgICAgICB7DQogICAgICAgICAgICBkYXRhLlRocmVhZElkID0gY29udGV4dC50aHJlYWRJZDsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmIChjb250ZXh0LnJlcGx5VG9UaHJlYWRJZCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuUmVwbHlUb1RocmVhZElkID0gY29udGV4dC5yZXBseVRvVGhyZWFkSWQ7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoY29udGV4dC5yZXBseVRvUmVwbHlJZCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuUmVwbHlUb1JlcGx5SWQgPSBjb250ZXh0LnJlcGx5VG9SZXBseUlkOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGNvbnRleHQuaW5jbHVkZVBvbGwubGVuZ3RoID4gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKGNvbnRleHQuaW5jbHVkZVBvbGwuaXMoJzpjaGVja2VkJykpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZGF0YS5IYXNQb2xsID0gMTsNCiAgICAgICAgICAgICAgICBkYXRhLlBvbGxUaXRsZSA9IGNvbnRleHQucG9sbFRpdGxlLnZhbCgpOw0KICAgICAgICAgICAgICAgIGRhdGEuUG9sbERlc2NyaXB0aW9uID0gY29udGV4dC5nZXRQb2xsRGVzY3JpcHRpb24oKTsNCg0KICAgICAgICAgICAgICAgIHZhciBleHBpcmVEYXlzID0gcGFyc2VJbnQoY29udGV4dC5wb2xsRXhwaXJlQWZ0ZXJEYXlzLnZhbCgpLCAxMCk7DQogICAgICAgICAgICAgICAgaWYgKCFpc05hTihleHBpcmVEYXlzKSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGRhdGEuUG9sbEV4cGlyZURheXMgPSBleHBpcmVEYXlzOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHZhciBhbnN3ZXJzID0gW107DQogICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gMDsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnBvbGxBbnN3ZXJzLmZpbmQoJy5maWVsZC1pdGVtLWlucHV0JykuZWFjaChmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YXIgYW5zd2VySWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtcG9sbGl0ZW1pZCcpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgYW5zd2VyVGV4dCA9ICQodGhpcykuZmluZCgnaW5wdXQnKS52YWwoKTsNCg0KICAgICAgICAgICAgICAgICAgICBhbnN3ZXJzW2Fuc3dlcnMubGVuZ3RoXSA9ICdBbnN3ZXJJbmRleD0nICsgaW5kZXg7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYgKGFuc3dlcklkICE9ICdORVcnKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBhbnN3ZXJzW2Fuc3dlcnMubGVuZ3RoXSA9ICdBbnN3ZXInICsgaW5kZXggKyAnSWQ9JyArIGVuY29kZVVSSUNvbXBvbmVudChhbnN3ZXJJZCk7DQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICBhbnN3ZXJzW2Fuc3dlcnMubGVuZ3RoXSA9ICdBbnN3ZXInICsgaW5kZXggKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoYW5zd2VyVGV4dCk7DQoNCiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKzsNCiAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgIGRhdGEuUG9sbEFuc3dlcnMgPSBhbnN3ZXJzLmpvaW4oJyYnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBkYXRhLkhhc1BvbGwgPSAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGVsc2UNCiAgICAgICAgew0KICAgICAgICAgICAgZGF0YS5IYXNQb2xsID0gLTE7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gZGF0YTsNCiAgICB9DQogICAgX2F0dGFjaEhhbmRsZXJzID0gZnVuY3Rpb24oY29udGV4dCkNCiAgICB7DQogICAgICAgIGNvbnRleHQuYXR0YWNobWVudFVwZGF0ZS5jbGljayhmdW5jdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgICQuZ2xvd01vZGFsKGNvbnRleHQudXBsb2FkRmlsZVVybCwgeyB3aWR0aDogNTAwLCBoZWlnaHQ6IDMwMCwgb25DbG9zZTogZnVuY3Rpb24oZmlsZSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGlmIChmaWxlKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmF0dGFjaG1lbnRGaWxlTmFtZS50ZXh0KGZpbGUuZmlsZU5hbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxlVXBsb2FkZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWxlID0gZmlsZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYXR0YWNobWVudFJlbW92ZS5zaG93KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmF0dGFjaG1lbnRVcGRhdGUudGV4dChjb250ZXh0LmF0dGFjaG1lbnRVcGRhdGVUZXh0KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0pOw0KDQogICAgICAgIGNvbnRleHQuYXR0YWNobWVudFJlbW92ZS5jbGljayhmdW5jdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgIGNvbnRleHQuZmlsZVVwbG9hZGVkID0gZmFsc2U7DQogICAgICAgICAgICBjb250ZXh0LmZpbGUgPSBudWxsOw0KICAgICAgICAgICAgY29udGV4dC5hdHRhY2htZW50RmlsZU5hbWUudGV4dCgnJyk7DQogICAgICAgICAgICBjb250ZXh0LmF0dGFjaG1lbnRSZW1vdmUuaGlkZSgpOw0KICAgICAgICAgICAgY29udGV4dC5hdHRhY2htZW50VXBkYXRlLnRleHQoY29udGV4dC5hdHRhY2htZW50QWRkVGV4dCk7DQogICAgICAgICAgICBjb250ZXh0LnJlbW92ZUF0dGFjaG1lbnQgPSB0cnVlOw0KDQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0pOw0KDQogICAgICAgIGlmICghY29udGV4dC5hdHRhY2htZW50RmlsZU5hbWUudGV4dCgpKQ0KICAgICAgICB7DQogICAgICAgICAgICBjb250ZXh0LmF0dGFjaG1lbnRSZW1vdmUuaGlkZSgpOw0KICAgICAgICB9DQoNCiAgICAgICAgY29udGV4dC5mZWF0dXJlZEltYWdlVXJsLmV2b2x1dGlvblVzZXJGaWxlVGV4dEJveCh7DQogICAgICAgICAgICByZW1vdmVUZXh0OiBjb250ZXh0LmZlYXR1cmVSZW1vdmVUZXh0LA0KICAgICAgICAgICAgc2VsZWN0VGV4dDogY29udGV4dC5mZWF0dXJlU2VsZWN0VXBsb2FkVGV4dCwNCiAgICAgICAgICAgIG5vRmlsZVRleHQ6IGNvbnRleHQuZmVhdHVyZU5vRmlsZVNlbGVjdGVkVGV4dCwNCiAgICAgICAgICAgIGluaXRpYWxQcmV2aWV3SHRtbDogY29udGV4dC5mZWF0dXJlZEltYWdlUHJldmlldw0KICAgICAgICB9KTsNCg0KICAgICAgICBjb250ZXh0LmZlYXR1cmUuY2xpY2soZnVuY3Rpb24oKSB7DQogICAgICAgICAgICBpZigkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKSB7DQogICAgICAgICAgICAgICAgY29udGV4dC5mZWF0dXJlZEltYWdlLnNob3coKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY29udGV4dC5mZWF0dXJlZEltYWdlLmhpZGUoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5hdmlnYXRpb25Db25maXJtYXRpb24uZW5hYmxlKCk7DQogICAgICAgIHZhciBzYXZlQnV0dG9uID0gJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zYXZlLXBvc3QnKTsNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5hdmlnYXRpb25Db25maXJtYXRpb24uZW5hYmxlKCk7DQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5uYXZpZ2F0aW9uQ29uZmlybWF0aW9uLnJlZ2lzdGVyKHNhdmVCdXR0b24pOw0KDQogICAgICAgIGlmIChjb250ZXh0LnF1b3RlQnV0dG9uLmxlbmd0aCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGNvbnRleHQucXVvdGVCdXR0b24uY2xpY2soZnVuY3Rpb24oKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGNvbnRleHQuc2F2ZUJvZHlCb29rbWFyaygpOw0KICAgICAgICAgICAgICAgIHZhciBjb250ZW50ID0gJC50ZWxsaWdlbnQuZ2xvdy51dGlsaXR5LmdldFNlbGVjdGVkSHRtbEluRWxlbWVudChjb250ZXh0LnF1b3RlVGV4dC5nZXQoMCksdHJ1ZSxmYWxzZSxjb250ZXh0LnF1b3RlSW52YWxpZFNlbGVjdGlvblRleHQpOw0KICAgICAgICAgICAgICAgIGlmIChjb250ZW50KQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnNlcnRCb2R5Q29udGVudCgnW3F1b3RlIHVzZXI9IicgKyBjb250ZXh0LnJlcGx5VG9BdXRob3IgKyAnIl0nICsgY29udGVudCArICdbL3F1b3RlXScpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYoY29udGV4dC5pbmNsdWRlUG9sbC5sZW5ndGggPiAwKQ0KICAgICAgICB7DQogICAgICAgICAgICBjb250ZXh0LmluY2x1ZGVQb2xsLmNsaWNrKGZ1bmN0aW9uKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZigkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgLnBvbGwtdG9nZ2xlZC1vcHRpb24nKS5zaG93KCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5wb2xsLXRvZ2dsZWQtb3B0aW9uJykuaGlkZSgpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBjb250ZXh0LnBvbGxOZXdBbnN3ZXIua2V5ZG93bihmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PSAxMykNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQucG9sbEFkZEFuc3dlci5jbGljaygpOw0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGNvbnRleHQucG9sbEFkZEFuc3dlci5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdmFyIGFuc3dlciA9ICQudHJpbShjb250ZXh0LnBvbGxOZXdBbnN3ZXIudmFsKCkpOw0KICAgICAgICAgICAgICAgIGlmIChhbnN3ZXIgIT0gJycpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YXIgbmV3QW5zd2VyID0gJCgnPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiIGRhdGEtcG9sbGl0ZW1pZD0iTkVXIj48aW5wdXQgdHlwZT0idGV4dCIgc2l6ZT0iNzAiIHZhbHVlPSIiIC8+PGEgaHJlZj0iIyIgY2xhc3M9Im1vdmUtdXAiPjxzcGFuPjwvc3Bhbj4mbmJzcDs8L2E+PGEgaHJlZj0iIyIgY2xhc3M9Im1vdmUtZG93biI+PHNwYW4+PC9zcGFuPiZuYnNwOzwvYT48YSBocmVmPSIjIiBjbGFzcz0iZGVsZXRlLXF1ZXN0aW9uIj48c3Bhbj48L3NwYW4+Jm5ic3A7PC9hPjwvc3Bhbj4nKTsNCg0KICAgICAgICAgICAgICAgICAgICBuZXdBbnN3ZXIuZmluZCgnaW5wdXQnKS52YWwoYW5zd2VyKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5wb2xsQW5zd2Vycy5oYXMoJy5maWVsZC1pdGVtLWlucHV0JykubGVuZ3RoID09IDApDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucG9sbEFuc3dlcnMuaHRtbChuZXdBbnN3ZXIpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wb2xsQW5zd2Vycy5maW5kKCcuZmllbGQtaXRlbS1pbnB1dDpsYXN0JykuYWZ0ZXIobmV3QW5zd2VyKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQucG9sbE5ld0Fuc3dlci52YWwoJycpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAkKCcubW92ZS11cCcsIGNvbnRleHQucG9sbEFuc3dlcnMpLmxpdmUoJ2NsaWNrJywgZnVuY3Rpb24oKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHZhciBpdGVtID0gJCh0aGlzKS5wYXJlbnQoKTsNCiAgICAgICAgICAgICAgICBpZiAoaXRlbS5wcmV2KCkubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGl0ZW0ucHJldigpLmJlZm9yZShpdGVtKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICQoJy5tb3ZlLWRvd24nLCBjb250ZXh0LnBvbGxBbnN3ZXJzKS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgaXRlbSA9ICQodGhpcykucGFyZW50KCk7DQogICAgICAgICAgICAgICAgaWYgKGl0ZW0ubmV4dCgpLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpdGVtLm5leHQoKS5hZnRlcihpdGVtKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICQoJy5kZWxldGUtcXVlc3Rpb24nLCBjb250ZXh0LnBvbGxBbnN3ZXJzKS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAod2luZG93LmNvbmZpcm0oY29udGV4dC5wb2xsQW5zd2VyRGVsZXRlQ29uZmlybWF0aW9uKSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gJCh0aGlzKS5wYXJlbnQoKTsNCiAgICAgICAgICAgICAgICAgICAgaXRlbS5zbGlkZVVwKCdmYXN0JywgZnVuY3Rpb24oKSB7IGl0ZW0uZGV0YWNoKCk7IH0pOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfSwNCiAgICBfYWRkVmFsaWRhdGlvbiA9IGZ1bmN0aW9uKGNvbnRleHQpDQogICAgew0KICAgICAgICB2YXIgc2F2ZUJ1dHRvbiA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGEuc2F2ZS1wb3N0Jyk7DQoNCiAgICAgICAgc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCiAgICAgICAgICAgIHZhbGlkYXRlT25Mb2FkOiBjb250ZXh0Lm1lZGlhSWQgPD0gMCA/IGZhbHNlIDogbnVsbCwNCiAgICAgICAgICAgIG9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7DQogICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgc2F2ZUJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzYXZlQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoYykNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmJlZFBhbmUgPSBjb250ZXh0LnRhYnMuZ2xvd1RhYmJlZFBhbmVzKCdnZXRCeUluZGV4JywgYy50YWIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhYmJlZFBhbmUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRhYnMuZ2xvd1RhYmJlZFBhbmVzKCdzZWxlY3RlZCcsIHRhYmJlZFBhbmUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIG9uU3VjY2Vzc2Z1bENsaWNrOiBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgaWYgKCFzYXZlQnV0dG9uLnBhcmVudCgpLmhhc0NsYXNzKCdwcm9jZXNzaW5nJykpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBzYXZlQnV0dG9uLnBhcmVudCgpLmFkZENsYXNzKCdwcm9jZXNzaW5nJyk7DQogICAgICAgICAgICAgICAgICAgIHNhdmVCdXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQogICAgICAgICAgICAgICAgICAgIF9zYXZlKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKCQoJyMnICsgY29udGV4dC5zdWJqZWN0SWQpLmxlbmd0aCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIHNhdmVCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLCAnIycgKyBjb250ZXh0LnN1YmplY3RJZCwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogeyByZXF1aXJlZDogY29udGV4dC5zdWJqZWN0UmVxdWlyZWRUZXh0IH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5wb3N0LXN1YmplY3QgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsDQogICAgICAgICAgICAgICAgeyB0YWI6IDAgfQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnRleHQuYXR0YWNoQm9keUNoYW5nZVNjcmlwdChzYXZlQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEN1c3RvbVZhbGlkYXRpb24nLCAnYm9keScsIGZ1bmN0aW9uKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGNvbnRleHQuZ2V0Qm9keUNvbnRlbnQoKTsNCiAgICAgICAgICAgICAgICB2YXIgYmVnaW5uaW5nTWF0Y2hlcyA9IGJvZHkubWF0Y2goL1xbcXVvdGUoKD86XHMqKXVzZXI9KD86XCJ8JnF1b3Q7fCYjMzQ7KS4qPyg/OlwifCZxdW90O3wmIzM0OykpP1xdL2cpOw0KICAgICAgICAgICAgICAgIHZhciBlbmRpbmdNYXRjaGVzID0gYm9keS5tYXRjaCgvXFtcL3F1b3RlKD86XHMqKVxdL2cpOw0KICAgICAgICAgICAgICAgIGlmICgoYmVnaW5uaW5nTWF0Y2hlcyA9PSBudWxsKSAhPSAoZW5kaW5nTWF0Y2hlcyA9PSBudWxsKSkNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KDQogICAgICAgICAgICAgICAgcmV0dXJuIGJvZHkubGVuZ3RoID4gMCAmJiAoKGJlZ2lubmluZ01hdGNoZXMgPT0gbnVsbCAmJiBlbmRpbmdNYXRjaGVzID09IG51bGwpIHx8IGJlZ2lubmluZ01hdGNoZXMubGVuZ3RoID09IGVuZGluZ01hdGNoZXMubGVuZ3RoKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb250ZXh0LmJvZHlSZXF1aXJlZFRleHQsICcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5wb3N0LWJvZHkgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsIHsgdGFiOiAwIH0NCiAgICAgICAgKSk7DQoNCiAgICAgICAgaWYgKGNvbnRleHQuZWRpdE5vdGVzUmVxdWlyZWQgJiYgJCgnIycgKyBjb250ZXh0LmVkaXROb3Rlc0lkKS5sZW5ndGggPiAwKQ0KICAgICAgICB7DQogICAgICAgICAgICBzYXZlQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywgJyMnICsgY29udGV4dC5lZGl0Tm90ZXNJZCwNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlczogeyByZXF1aXJlZDogY29udGV4dC5lZGl0Tm90ZXNSZXF1aXJlZFRleHQgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLmVkaXQtbm90ZXMgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsDQogICAgICAgICAgICAgICAgeyB0YWI6IDAgfQ0KICAgICAgICAgICAgKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmKGNvbnRleHQuaW5jbHVkZVBvbGwubGVuZ3RoID4gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgdmFyIGYgPSBzYXZlQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEN1c3RvbVZhbGlkYXRpb24nLCAncG9sbFF1ZXN0aW9uJywgZnVuY3Rpb24oKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICghY29udGV4dC5pbmNsdWRlUG9sbC5pcygnOmNoZWNrZWQnKSB8fCAkLnRyaW0oY29udGV4dC5wb2xsVGl0bGUudmFsKCkpICE9ICcnKTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICcqJywgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLnBvbGwtdGl0bGUgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsDQogICAgICAgICAgICAgICAgeyB0YWI6IDIgfQ0KICAgICAgICAgICAgKTsNCg0KICAgICAgICAgICAgY29udGV4dC5wb2xsVGl0bGUua2V5ZG93bihmdW5jdGlvbigpe2YoKTt9KS5jaGFuZ2UoZnVuY3Rpb24oKXtmKCk7fSk7DQogICAgICAgIH0NCiAgICB9Ow0KDQogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuY3JlYXRlRWRpdFBvc3QgPSB7DQogICAgICAgIHJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICB2YXIgdGFicyA9IFtdOw0KICAgICAgICAgICAgdGFic1t0YWJzLmxlbmd0aF0gPSBbY29udGV4dC5jb21wb3NlUGFuZUlkLCBjb250ZXh0LmNvbXBvc2VQYW5lVGV4dCwgbnVsbF07DQogICAgICAgICAgICB0YWJzW3RhYnMubGVuZ3RoXSA9IFtjb250ZXh0Lm9wdGlvbnNQYW5lSWQsIGNvbnRleHQub3B0aW9uc1BhbmVUZXh0LCBudWxsXTsNCiAgICAgICAgICAgIGlmICgkKCcjJyArIGNvbnRleHQucG9sbFBhbmVJZCkubGVuZ3RoID4gMCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB0YWJzW3RhYnMubGVuZ3RoXSA9IFtjb250ZXh0LnBvbGxQYW5lSWQsIGNvbnRleHQucG9sbFBhbmVUZXh0LCBudWxsXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHRhYnNbdGFicy5sZW5ndGhdID0gW2NvbnRleHQucHJldmlld1BhbmVJZCwgY29udGV4dC5wcmV2aWV3UGFuZVRleHQsIGZ1bmN0aW9uKCkgeyBfcHJldmlldyhjb250ZXh0KTsgfV07DQoNCiAgICAgICAgICAgIGNvbnRleHQudGFicy5nbG93VGFiYmVkUGFuZXMoew0KICAgICAgICAgICAgICAgIGNzc0NsYXNzOid0YWItcGFuZScsDQogICAgICAgICAgICAgICAgdGFiU2V0Q3NzQ2xhc3M6J3RhYi1zZXQgd2l0aC1wYW5lcycsDQogICAgICAgICAgICAgICAgdGFiQ3NzQ2xhc3NlczpbJ3RhYiddLA0KICAgICAgICAgICAgICAgIHRhYlNlbGVjdGVkQ3NzQ2xhc3NlczpbJ3RhYiBzZWxlY3RlZCddLA0KICAgICAgICAgICAgICAgIHRhYkhvdmVyQ3NzQ2xhc3NlczpbJ3RhYiBob3ZlciddLA0KICAgICAgICAgICAgICAgIGVuYWJsZVJlc2l6aW5nOmZhbHNlLA0KICAgICAgICAgICAgICAgIHRhYnM6IHRhYnMNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAkKCd0ZXh0YXJlYScpLmV2b2x1dGlvblJlc2l6ZSgpOw0KDQogICAgICAgICAgICAkKCcjJyArIGNvbnRleHQuc3ViamVjdElkKS5ldm9sdXRpb25Db21wb3Nlcih7DQogICAgICAgICAgICAgICAgcGx1Z2luczogWydoYXNodGFncyddDQogICAgICAgICAgICB9KS5ldm9sdXRpb25Db21wb3Nlcignb25rZXlkb3duJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGlmKGUud2hpY2ggPT09IDEzKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgY29udGV4dC50YWdCb3guZXZvbHV0aW9uVGFnVGV4dEJveCh7YWxsVGFnczpjb250ZXh0LnRhZ3N9KTsNCiAgICAgICAgICAgIGNvbnRleHQuc2VsZWN0VGFncy5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgY29udGV4dC50YWdCb3guZXZvbHV0aW9uVGFnVGV4dEJveCgnb3BlblRhZ1NlbGVjdG9yJyk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZiAoY29udGV4dC50YWdzLmxlbmd0aCA9PSAwKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGNvbnRleHQuc2VsZWN0VGFncy5oaWRlKCk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIF9hdHRhY2hIYW5kbGVycyhjb250ZXh0KTsNCiAgICAgICAgICAgIF9hZGRWYWxpZGF0aW9uKGNvbnRleHQpOw0KICAgICAgICB9DQogICAgfTsNCn0pKGpRdWVyeSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_CreateGroup_Name}" version="7.5.0.32466" description="${resource:Groups_CreateGroup_Description}" instanceIdentifier="5c32e4d6125245e5a086cc8c454b83e4" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="create-group">
		<contentScript>
## require non-anonymous user
#if (!$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	$core_v2_authentication.RedirectToLogin()
#end

## get current or root group
#set ($group = $core_v2_group.Current)
#if (!$group)
	#set ($group = $core_v2_group.Root)
#end
#set ($rootGroupId = false)
#set ($rootGroupId = $core_v2_group.Root.Id)

## require create group permissions
#if (!$core_v2_nodePermission.Get('groups', $group.Id, 'Group_CreateGroup').IsAllowed)
	$core_v2_widget.Hide()
#end

## check applications enabled
#set ($checkedBlogs = 'checked="checked"')
#set ($disabledBlogs = '')
#set ($checkedForums = 'checked="checked"')
#set ($disabledForums = '')
#set ($checkedGalleries = 'checked="checked"')
#set ($disabledGalleries = '')
#set ($checkedWikis = 'checked="checked"')
#set ($disabledWikis = '')
#if (!$core_v2_blogConfiguration.IsEnabled)
	#set ($checkedBlogs = '')
	#set ($disabledBlogs = 'disabled="disabled"')
#end
#if (!$core_v2_forumConfiguration.IsEnabled)
	#set ($checkedForums = '')
	#set ($disabledForums = 'disabled="disabled"')
#end
#if (!$core_v2_mediaConfiguration.IsEnabled)
	#set ($checkedGalleries = '')
	#set ($disabledGalleries = 'disabled="disabled"')
#end
#if (!$core_v2_wikiConfiguration.IsEnabled)
	#set ($checkedWikis = '')
	#set ($disabledWikis = 'disabled="disabled"')
#end

## require modification permissions to be able to edit a group's name
#set ($groupNameEditable = $core_v2_nodePermission.Get('groups', $groupId, 'Group_ModifyGroup').IsAllowed)

#set ($groupNameId = $core_v2_widget.UniqueId('groupName'))
#set ($groupDescriptionId = $core_v2_widget.UniqueId('groupDescription'))
#set ($groupTypeId = $core_v2_widget.UniqueId('groupType'))
#set ($groupTypeJoinlessId = $core_v2_widget.UniqueId('joinless'))
#set ($groupTypePublicOpenId = $core_v2_widget.UniqueId('publicOpen'))
#set ($groupTypePublicClosedId = $core_v2_widget.UniqueId('publicClosed'))
#set ($groupTypePrivateListedId = $core_v2_widget.UniqueId('privateListed'))
#set ($groupTypePrivateUnlistedId = $core_v2_widget.UniqueId('privateUnlisted'))
#set ($parentGroupId = $core_v2_widget.UniqueId('parentGroup'))
#set ($applicationSelectionId = $core_v2_widget.UniqueId('applicationSelection'))
#set ($createBlogId = $core_v2_widget.UniqueId('createBlog'))
#set ($createGalleryId = $core_v2_widget.UniqueId('createGallery'))
#set ($createWikiId = $core_v2_widget.UniqueId('createWiki'))
#set ($createForumId = $core_v2_widget.UniqueId('createForum'))
#set ($forumMailingId = $core_v2_widget.UniqueId('forumMailing'))
#set ($forumAddressId = $core_v2_widget.UniqueId('forumAddress'))
#set ($enableMessagesId = $core_v2_widget.UniqueId('enableMessages'))
#set ($createGroupId = $core_v2_widget.UniqueId('createGroup'))

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;legend class="field-list-description"&gt;$core_v2_language.GetResource('Hubs_GroupCreate')&lt;/legend&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item"&gt;
			&lt;span id="" style="color:Red;visibility:hidden;"&gt;
				&lt;span class="field-item-validation"&gt;*&lt;/span&gt;
			&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item required group-name"&gt;
			&lt;label for="$core_v2_encoding.HtmlAttributeEncode($groupNameId)" class="field-item-header"&gt;$core_v2_language.GetResource('Name')&lt;/label&gt;
			&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Hubs_Name_SubTitle')&lt;/span&gt;
			&lt;span class="field-item-input"&gt;
				&lt;input name="$core_v2_encoding.HtmlAttributeEncode($groupNameId)" type="text" maxlength="256" size="40" id="$core_v2_encoding.HtmlAttributeEncode($groupNameId)" /&gt;
			&lt;/span&gt;
			&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item group-description"&gt;
			&lt;label for="$core_v2_encoding.HtmlAttributeEncode($groupDescriptionId)" class="field-item-header"&gt;$core_v2_language.GetResource('Description')&lt;/label&gt;
			&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Hubs_Description_Desc')&lt;/span&gt;
			&lt;span class="field-item-input"&gt;
				&lt;input name="$core_v2_encoding.HtmlAttributeEncode($groupDescriptionId)" type="text" maxlength="256" size="60" id="$core_v2_encoding.HtmlAttributeEncode($groupDescriptionId)" /&gt;
			&lt;/span&gt;
			&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item group-type"&gt;
			&lt;label class="field-item-header"&gt;$core_v2_language.GetResource('Hubs_Type')&lt;/label&gt;
			&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Hubs_PublicPrivate')&lt;/span&gt;
			&lt;span class="field-item-input"&gt;
				&lt;table border="0"&gt;
					&lt;tbody&gt;
						&lt;tr&gt;
							&lt;td&gt;
								&lt;input id="$core_v2_encoding.HtmlAttributeEncode($groupTypeJoinlessId)" type="radio" name="$core_v2_encoding.HtmlAttributeEncode($groupTypeId)" value="Joinless" checked="checked" /&gt;
								&lt;label for="$core_v2_encoding.HtmlAttributeEncode($groupTypeJoinlessId)"&gt;$core_v2_language.GetResource('HubTypes_Joinless')&lt;/label&gt;
							&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;td&gt;
								&lt;input id="$core_v2_encoding.HtmlAttributeEncode($groupTypePublicOpenId)" type="radio" name="$core_v2_encoding.HtmlAttributeEncode($groupTypeId)" value="PublicOpen" /&gt;
								&lt;label for="$core_v2_encoding.HtmlAttributeEncode($groupTypePublicOpenId)"&gt;$core_v2_language.GetResource('HubTypes_Public_Open')&lt;/label&gt;
							&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;td&gt;
								&lt;input id="$core_v2_encoding.HtmlAttributeEncode($groupTypePublicClosedId)" type="radio" name="$core_v2_encoding.HtmlAttributeEncode($groupTypeId)" value="PublicClosed" /&gt;
								&lt;label for="$core_v2_encoding.HtmlAttributeEncode($groupTypePublicClosedId)"&gt;$core_v2_language.GetResource('HubTypes_Public_Closed')&lt;/label&gt;
							&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;td&gt;
								&lt;input id="$core_v2_encoding.HtmlAttributeEncode($groupTypePrivateListedId)" type="radio" name="$core_v2_encoding.HtmlAttributeEncode$($groupTypeId)" value="PrivateListed" /&gt;
								&lt;label for="$core_v2_encoding.HtmlAttributeEncode($groupTypePrivateListedId)"&gt;$core_v2_language.GetResource('HubTypes_PrivateListed')&lt;/label&gt;
							&lt;/td&gt;
						&lt;/tr&gt;
						&lt;tr&gt;
							&lt;td&gt;
								&lt;input id="$core_v2_encoding.HtmlAttributeEncode($groupTypePrivateUnlistedId)" type="radio" name="$core_v2_encoding.HtmlAttributeEncode($groupTypeId)" value="PrivateUnlisted" /&gt;
								&lt;label for="$core_v2_encoding.HtmlAttributeEncode($groupTypePrivateUnlistedId)"&gt;$core_v2_language.GetResource('HubTypes_PrivateNotListed')&lt;/label&gt;
							&lt;/td&gt;
						&lt;/tr&gt;
					&lt;/tbody&gt;
				&lt;/table&gt;
			&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item parent-group"&gt;
			&lt;label for="$core_v2_encoding.HtmlAttributeEncode($parentGroupId)" class="field-item-header"&gt;$core_v2_language.GetResource('Hubs_Group')&lt;/label&gt;
			&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Hubs_SelectCategory')&lt;/span&gt;
			&lt;span class="field-item-input"&gt;
				&lt;input	id="$core_v2_encoding.HtmlAttributeEncode($parentGroupId)"
						name="$core_v2_encoding.HtmlAttributeEncode($parentGroupId)"
						type="text" style="width:400px;" value="$group.Id" /&gt;
			&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item group-applications"&gt;
			&lt;label for="$core_v2_encoding.HtmlAttributeEncode($applicationSelectionId)" class="field-item-header"&gt;$core_v2_language.GetResource('Core_Groups_CreateGroup_Applications')&lt;/label&gt;
			&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('CreateGroup_Applications_Desc')&lt;/span&gt;
			&lt;span class="field-item-input"&gt;
				&lt;div class="field-list-header"&gt;&lt;/div&gt;
				&lt;fieldset class="field-list"&gt;
					&lt;legend class="field-list-description"&gt;&lt;/legend&gt;
					&lt;ul class="field-list"&gt;
						&lt;li class="field-item"&gt;
							&lt;label for="$core_v2_encoding.HtmlAttributeEncode($createBlogId)" class="field-item-header"&gt;$core_v2_language.GetResource('weblog')&lt;/label&gt;
							&lt;span class="field-item-input"&gt;
								&lt;input id="$core_v2_encoding.HtmlAttributeEncode($createBlogId)" type="checkbox" name="$core_v2_encoding.HtmlAttributeEncode($createBlogId)" $checkedBlogs $disabledBlogs /&gt;
							&lt;/span&gt;
						&lt;/li&gt;
						&lt;li class="field-item"&gt;
							&lt;label for="$core_v2_encoding.HtmlAttributeEncode($createGalleryId)" class="field-item-header"&gt;$core_v2_language.GetResource('mediagallery')&lt;/label&gt;
							&lt;span class="field-item-input"&gt;
								&lt;input id="$core_v2_encoding.HtmlAttributeEncode($createGalleryId)" type="checkbox" name="$core_v2_encoding.HtmlAttributeEncode($createGalleryId)" $checkedGalleries $disabledGalleries /&gt;
							&lt;/span&gt;
						&lt;/li&gt;
						&lt;li class="field-item"&gt;
							&lt;label for="$core_v2_encoding.HtmlAttributeEncode($createWikiId)" class="field-item-header"&gt;$core_v2_language.GetResource('Hubs_Wiki')&lt;/label&gt;
							&lt;span class="field-item-input"&gt;
								&lt;input id="$core_v2_encoding.HtmlAttributeEncode($createWikiId)" type="checkbox" name="$core_v2_encoding.HtmlAttributeEncode($createWikiId)" $checkedWikis $disabledWikis /&gt;
							&lt;/span&gt;
						&lt;/li&gt;
						&lt;li class="field-item"&gt;
							&lt;label for="$core_v2_encoding.HtmlAttributeEncode($createForumId)" class="field-item-header"&gt;$core_v2_language.GetResource('forum')&lt;/label&gt;
							&lt;span class="field-item-input"&gt;
								&lt;input id="$core_v2_encoding.HtmlAttributeEncode($createForumId)" type="checkbox" name="$core_v2_encoding.HtmlAttributeEncode($createForumId)" $checkedForums $disabledForums /&gt;
							&lt;/span&gt;
						&lt;/li&gt;
						#if ($core_v2_configuration.EnableMailGateway)
							&lt;li class="field-item mailing-list"&gt;
								&lt;label for="$core_v2_encoding.HtmlAttributeEncode($forumMailingId)" class="field-item-header"&gt;$core_v2_language.GetResource('Forum_MailingList_Checkbox')&lt;/label&gt;
								&lt;span class="field-item-input"&gt;
									&lt;input id="$core_v2_encoding.HtmlAttributeEncode($forumMailingId)" type="checkbox" name="$core_v2_encoding.HtmlAttributeEncode($forumMailingId)" checked="checked" /&gt;
								&lt;/span&gt;
							&lt;/li&gt;
							&lt;li class="field-item mail-list-address"&gt;
								&lt;label for="$core_v2_encoding.HtmlAttributeEncode($forumAddressId)" class="field-item-header"&gt;$core_v2_language.GetResource('Address_With_Colon')&lt;/label&gt;
								&lt;span class="field-item-input"&gt;
									&lt;input name="$core_v2_encoding.HtmlAttributeEncode($forumAddressId)" type="text" id="$core_v2_encoding.HtmlAttributeEncode($forumAddressId)" /&gt;@$core_v2_configuration.MailGatewayEmailDomain
								&lt;/span&gt;
								&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
							&lt;/li&gt;
						#end
					&lt;/ul&gt;
				&lt;/fieldset&gt;
				&lt;div class="field-list-footer"&gt;&lt;/div&gt;
			&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;label for="$core_v2_encoding.HtmlAttributeEncode($enableMessagesId)" class="field-item-header"&gt;$core_v2_language.GetResource('Groups_EnableMessages')&lt;/label&gt;
			&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Groups_EnableMessages_Desc')&lt;/span&gt;
			&lt;span class="field-item-input"&gt;
				&lt;input id="$core_v2_encoding.HtmlAttributeEncode($enableMessagesId)" type="checkbox" name="$core_v2_encoding.HtmlAttributeEncode($enableMessagesId)" /&gt;
			&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;span class="field-item-input"&gt;
				&lt;a id="$core_v2_encoding.HtmlAttributeEncode($createGroupId)" class="internal-link create-group submit-button" href="#"&gt;
					&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Create')
				&lt;/a&gt;
				&lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
			&lt;/span&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;


#registerEndOfPageHtml('telligent.evolution.widgets.createGroup')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function(){
		jQuery.telligent.evolution.widgets.createGroup.register({
			parentGroupInput: jQuery('#$core_v2_encoding.JavascriptEncode($parentGroupId)'),
			noGroupsMatchText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('GroupLookUp_NoMatches'))",
			defaultParentGroupId: $group.Id,
			defaultParentGroupName: '$core_v2_encoding.JavascriptEncode($group.Name)',
			rootGroupId: $rootGroupId,
			groupNameInput: jQuery('#$core_v2_encoding.JavascriptEncode($groupNameId)'),
			groupDescriptionInput: jQuery('#$core_v2_encoding.JavascriptEncode($groupDescriptionId)'),
			groupTypeName: "$core_v2_encoding.JavascriptEncode($groupTypeId)",
			applicationSelectionInput: jQuery('#$core_v2_encoding.JavascriptEncode($applicationSelectionId)'),
			createBlogInput: jQuery('#$core_v2_encoding.JavascriptEncode($createBlogId)'),
			createGalleryInput: jQuery('#$core_v2_encoding.JavascriptEncode($createGalleryId)'),
			createWikiInput: jQuery('#$core_v2_encoding.JavascriptEncode($createWikiId)'),
			createForumInput: jQuery('#$core_v2_encoding.JavascriptEncode($createForumId)'),
			forumMailingInput: jQuery('#$core_v2_encoding.JavascriptEncode($forumMailingId)'),
			forumAddressInput: jQuery('#$core_v2_encoding.JavascriptEncode($forumAddressId)'),
			enableMessagesInput: jQuery('#$core_v2_encoding.JavascriptEncode($enableMessagesId)'),
			enableEmailFieldItem: jQuery('#$core_v2_widget.WrapperElementId .field-item.mailing-list'),
			emailAddressFieldItem: jQuery('#$core_v2_widget.WrapperElementId .field-item.mail-list-address'),
			createGroupInput: jQuery('#$core_v2_encoding.JavascriptEncode($createGroupId)'),
			requiredNameValidationMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateGroup_GroupName_GroupNameRequired'))',
			uniqueNameValidationMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateGroup_GroupName_DuplicateGroupName'))',
			mailingListRequiredValidationMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateGroup_ForumMailingList_Required'))',
			singularNameWiki: '$core_v2_encoding.JavascriptEncode($core_v2_wikiConfiguration.ApplicationName)',
			singularNameGallery: '$core_v2_encoding.JavascriptEncode($core_v2_mediaConfiguration.ApplicationName)',
			singularNameBlog: '$core_v2_encoding.JavascriptEncode($core_v2_blogConfiguration.ApplicationName)',
			singularNameForum: '$core_v2_encoding.JavascriptEncode($core_v2_forumConfiguration.ApplicationName)',
			createBlogErrorMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateGroup_CreateBlog_ErrorMessage'))',
			createGalleryErrorMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateGroup_CreateGallery_ErrorMessage'))',
			createWikiErrorMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateGroup_CreateWiki_ErrorMessage'))',
			createForumErrorMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateGroup_CreateForum_ErrorMessage'))'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_CreateGroup_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_CreateGroup_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Groups_CreateGroup_Name">Group - Create</resource><resource name="Groups_CreateGroup_Description">Displays a form for creating a new group.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Hubs_GroupCreate">Create a Group</resource><resource name="Name">Name</resource><resource name="Hubs_Name_SubTitle">Enter a name for the Group. This will be used to format the URL to access your group.</resource><resource name="Description">Description</resource><resource name="Hubs_Description_Desc">Describe your group here. The description must be plain-text, html is not allowed. (256 character limit)</resource><resource name="Hubs_Type">Group Type</resource><resource name="Hubs_PublicPrivate">Should the new group be public or private?</resource><resource name="HubTypes_Joinless">Joinless&lt;div class="CommonFormFieldDescription"&gt;Membership will not be tracked and permission to the group will be managed using site-level roles.&lt;/div&gt;</resource><resource name="HubTypes_Public_Open">Public (Open Membership)&lt;div class="CommonFormFieldDescription"&gt;Everyone can read your group, it is listed publicly, and any registered user can join it without approval.&lt;/div&gt;</resource><resource name="HubTypes_Public_Closed">Public (Closed Membership)&lt;div class="CommonFormFieldDescription"&gt;Everyone can read your group, it is listed publicly, and users must be approved before becoming group members.&lt;/div&gt;</resource><resource name="HubTypes_PrivateListed">Private (Listed)&lt;div class="CommonFormFieldDescription"&gt;Only members can read your group, it is listed publicly (title and description), and users must be approved before becoming group members.&lt;/div&gt;</resource><resource name="HubTypes_PrivateNotListed">Private (Unlisted)&lt;div class="CommonFormFieldDescription"&gt;Only members can read your group, it is not listed publicly, and users must be approved before becoming group members.&lt;/div&gt;</resource><resource name="Hubs_Group">Parent Group</resource><resource name="Hubs_SelectCategory">The parent group identifies where this group will be categorized within the site. Begin typing to search for and select a parent group.</resource><resource name="Core_Groups_CreateGroup_Applications">Applications</resource><resource name="CreateGroup_Applications_Desc">Choose what default applications you would like to create in this group. Additional application instances can be created later if desired.</resource><resource name="weblog">Blog</resource><resource name="mediagallery">Media Gallery</resource><resource name="Hubs_Wiki">Wiki</resource><resource name="forum">Forum</resource><resource name="Forum_MailingList_Checkbox">Enable Forum Mailing List</resource><resource name="Address_With_Colon">Address:</resource><resource name="Groups_EnableMessages">Enable Messages</resource><resource name="Groups_EnableMessages_Desc">Allows a list of recent group activity and status messages to be displayed. Group members can create new status messages.</resource><resource name="Create">Create</resource><resource name="GroupLookUp_NoMatches">A matching group could not be found.</resource><resource name="CreateGroup_GroupName_GroupNameRequired">You must enter a group name.</resource><resource name="CreateGroup_GroupName_DuplicateGroupName">The group name already exists under the selected parent group.</resource><resource name="CreateGroup_ForumMailingList_Required">You must enter a mailing list address.</resource><resource name="CreateGroup_CreateBlog_ErrorMessage">An error prevented a blog from being created with this new group.</resource><resource name="CreateGroup_CreateGallery_ErrorMessage">An error prevented a media gallery from being created with this new group.</resource><resource name="CreateGroup_CreateWiki_ErrorMessage">An error prevented a wiki from being created with this new group.</resource><resource name="CreateGroup_CreateForum_ErrorMessage">An error prevented a forum from being created with this new group.</resource><resource name="Group_CreateGroup">Create Group</resource></language></languageResources>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQpewoJdmFyIHNwaW5uZXIgPSAnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+PGltZyBzcmM9IicgKyAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAndXRpbGl0eS9zcGlubmVyLmdpZiIgLz48L2Rpdj4nLAoJCXNlYXJjaEdyb3VwcyA9IGZ1bmN0aW9uKGNvbnRleHQsIHRleHRib3gsIHNlYXJjaFRleHQpIHsKCQkJaWYoc2VhcmNoVGV4dCAmJiBzZWFyY2hUZXh0Lmxlbmd0aCA+PSAyKSB7CgoJCQkJdGV4dGJveC5nbG93TG9va1VwVGV4dEJveCgndXBkYXRlU3VnZ2VzdGlvbnMnLCBbCgkJCQkJdGV4dGJveC5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywgJycsIHNwaW5uZXIsIHNwaW5uZXIsIGZhbHNlKQoJCQkJXSk7CgoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7CgkJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvZ3JvdXBzLmpzb24nLAoJCQkJCWRhdGE6IHsKCQkJCQkJR3JvdXBOYW1lRmlsdGVyOiBzZWFyY2hUZXh0LAoJCQkJCQlQZXJtaXNzaW9uOiAnR3JvdXBfQ3JlYXRlR3JvdXAnCgkJCQkJfSwKCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJCQlpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuR3JvdXBzLmxlbmd0aCA+PSAxKSB7CgkJCQkJCQl0ZXh0Ym94Lmdsb3dMb29rVXBUZXh0Qm94KCd1cGRhdGVTdWdnZXN0aW9ucycsCgkJCQkJCQkJJC5tYXAocmVzcG9uc2UuR3JvdXBzLCBmdW5jdGlvbihncm91cCwgaSkgewoJCQkJCQkJCQlyZXR1cm4gdGV4dGJveC5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywgZ3JvdXAuSWQsIGdyb3VwLk5hbWUsIGdyb3VwLk5hbWUsIHRydWUpOwoJCQkJCQkJCX0pKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCXRleHRib3guZ2xvd0xvb2tVcFRleHRCb3goJ3VwZGF0ZVN1Z2dlc3Rpb25zJywgWwoJCQkJCQkJCXRleHRib3guZ2xvd0xvb2tVcFRleHRCb3goJ2NyZWF0ZUxvb2tVcCcsICcnLCBjb250ZXh0Lm5vR3JvdXBzTWF0Y2hUZXh0LCBjb250ZXh0Lm5vR3JvdXBzTWF0Y2hUZXh0LCBmYWxzZSkKCQkJCQkJCV0pOwoJCQkJCQl9CgkJCQkJfQoJCQkJfSk7CgkJCX0KCQl9LAoJCWNyZWF0ZUFwcGxpY2F0aW9ucyA9IGZ1bmN0aW9uKGNvbnRleHQsIGdyb3VwKSB7CgkJCXZhciBjcmVhdGVNZXRob2RzID0gW10sCgkJCQlzdWNjZWVkZWRTdWJDcmVhdGVDb3VudCA9IDAsCgkJCQkvLyB0cmFja3MgdGhhdCBhbiBhc3luY2hyb25vdXMgc3ViLWFwcCBjcmVhdGlvbiBzdWNjZWVkZWQKCQkJCXJlZ2lzdGVyU3VjY2VzcyA9IGZ1bmN0aW9uKCkgewoJCQkJCXN1Y2NlZWRlZFN1YkNyZWF0ZUNvdW50Kys7CgkJCQkJLy8gaWYgYWxsIHJlZ2lzdGVyZWQgc3ViLWFwcHMgd2VyZSBjcmVhdGVkLCByZWRpcmVjdCB0byBuZXcgZ3JvdXAgdXJsCgkJCQkJaWYoc3VjY2VlZGVkU3ViQ3JlYXRlQ291bnQgPiBjcmVhdGVNZXRob2RzLmxlbmd0aCkgewoJCQkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9IGdyb3VwLlVybDsKCQkJCQl9CgkJCQl9LAoJCQkJaGFuZGxlUmVzcG9uc2UgPSBmdW5jdGlvbihyZXNwb25zZSwgZXJyb3JNZXNzYWdlKSB7CgkJCQkJaWYocmVzcG9uc2UuRXJyb3JzICYmIHJlc3BvbnNlLkVycm9ycy5sZW5ndGggPiAwKSB7CgkJCQkJCWFsZXJ0KGVycm9yTWVzc2FnZSk7CgkJCQkJfQoJCQkJCXJlZ2lzdGVyU3VjY2VzcygpOwoJCQkJfTsKCgkJCS8vIHJlZ2lzdGVyIGEgc2V0IG9mIGFzeW5jaHJvbm91cyBzdWItYXBwIGNyZWF0aW9uIG1ldGhvZHMKCQkJaWYoY29udGV4dC5jcmVhdGVCbG9nSW5wdXQuaXMoJzpjaGVja2VkJykpIHsKCQkJCWNyZWF0ZU1ldGhvZHMucHVzaChmdW5jdGlvbigpewoJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsKCQkJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvYmxvZ3MuanNvbicsCgkJCQkJCWRhdGE6IHsKCQkJCQkJCUdyb3VwSWQ6IGdyb3VwLklkLAoJCQkJCQkJTmFtZTogZ3JvdXAuTmFtZSArICcgLSAnICsgY29udGV4dC5zaW5ndWxhck5hbWVCbG9nCgkJCQkJCX0sCgkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJCQloYW5kbGVSZXNwb25zZShyZXNwb25zZSwgY29udGV4dC5jcmVhdGVCbG9nRXJyb3JNZXNzYWdlKTsKCQkJCQkJfSwKCQkJCQkJZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5jcmVhdGVCbG9nRXJyb3JNZXNzYWdlCgkJCQkJfSk7CgkJCQl9KTsKCQkJfQoJCQlpZihjb250ZXh0LmNyZWF0ZUdhbGxlcnlJbnB1dC5pcygnOmNoZWNrZWQnKSkgewoJCQkJY3JlYXRlTWV0aG9kcy5wdXNoKGZ1bmN0aW9uKCl7CgkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3QoewoJCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9nYWxsZXJpZXMuanNvbicsCgkJCQkJCWRhdGE6IHsKCQkJCQkJCUdyb3VwSWQ6IGdyb3VwLklkLAoJCQkJCQkJTmFtZTogZ3JvdXAuTmFtZSArICcgLSAnICsgY29udGV4dC5zaW5ndWxhck5hbWVHYWxsZXJ5CgkJCQkJCX0sCgkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJCQloYW5kbGVSZXNwb25zZShyZXNwb25zZSwgY29udGV4dC5jcmVhdGVHYWxsZXJ5RXJyb3JNZXNzYWdlKTsKCQkJCQkJfSwKCQkJCQkJZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5jcmVhdGVHYWxsZXJ5RXJyb3JNZXNzYWdlCgkJCQkJfSk7CgkJCQl9KTsKCQkJfQoJCQlpZihjb250ZXh0LmNyZWF0ZVdpa2lJbnB1dC5pcygnOmNoZWNrZWQnKSkgewoJCQkJY3JlYXRlTWV0aG9kcy5wdXNoKGZ1bmN0aW9uKCl7CgkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3QoewoJCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi93aWtpcy5qc29uJywKCQkJCQkJZGF0YTogewoJCQkJCQkJR3JvdXBJZDogZ3JvdXAuSWQsCgkJCQkJCQlOYW1lOiBncm91cC5OYW1lICsgJyAtICcgKyBjb250ZXh0LnNpbmd1bGFyTmFtZVdpa2kKCQkJCQkJfSwKCQkJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQkJCWhhbmRsZVJlc3BvbnNlKHJlc3BvbnNlLCBjb250ZXh0LmNyZWF0ZVdpa2lFcnJvck1lc3NhZ2UpOwoJCQkJCQl9LAoJCQkJCQlkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmNyZWF0ZVdpa2lFcnJvck1lc3NhZ2UKCQkJCQl9KTsKCQkJCX0pOwoJCQl9CgkJCWlmKGNvbnRleHQuY3JlYXRlRm9ydW1JbnB1dC5pcygnOmNoZWNrZWQnKSkgewoJCQkJY3JlYXRlTWV0aG9kcy5wdXNoKGZ1bmN0aW9uKCl7CgkJCQkJdmFyIGZvcnVtQ3JlYXRlRGF0YSA9IHsKCQkJCQkJR3JvdXBJZDogZ3JvdXAuSWQsCgkJCQkJCU5hbWU6IGdyb3VwLk5hbWUgKyAnIC0gJyArIGNvbnRleHQuc2luZ3VsYXJOYW1lRm9ydW0KCQkJCQl9OwoJCQkJCS8vIGlmIHRoZXJlIHdhcyBhIG1haWxpbmcgbGlzdCBhc3NvY2lhdGVkIHdpdGggdGhpcyBmb3J1bSBjcmVhdGUgcmVxdWVzdCwgY3JlYXRlIGl0IG5vdwoJCQkJCWlmKCQoY29udGV4dC5mb3J1bU1haWxpbmdJbnB1dCkuaXMoJzpjaGVja2VkJykpIHsKCQkJCQkJJC5leHRlbmQoZm9ydW1DcmVhdGVEYXRhLCB7CgkJCQkJCQlFbmFibGVNYWlsaW5nTGlzdDogdHJ1ZSwKCQkJCQkJCU1haWxpbmdMaXN0TmFtZTogZm9ydW1DcmVhdGVEYXRhLk5hbWUsCgkJCQkJCQlNYWlsaW5nTGlzdEFkZHJlc3M6ICQoY29udGV4dC5mb3J1bUFkZHJlc3NJbnB1dCkudmFsKCkKCQkJCQkJfSk7CgkJCQkJfQoJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsKCQkJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvZm9ydW1zLmpzb24nLAoJCQkJCQlkYXRhOiBmb3J1bUNyZWF0ZURhdGEsCgkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJCQloYW5kbGVSZXNwb25zZShyZXNwb25zZSwgY29udGV4dC5jcmVhdGVGb3J1bUVycm9yTWVzc2FnZSk7CgkJCQkJCX0sCgkJCQkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuY3JlYXRlRm9ydW1FcnJvck1lc3NhZ2UKCQkJCQl9KTsKCQkJCX0pOwoJCQl9CgkJCS8vIHJ1biBhbGwgcmVnaXN0ZXJlZCBjcmVhdGUgbWV0aG9kcywgaWYgYW55CgkJCSQuZWFjaChjcmVhdGVNZXRob2RzLCBmdW5jdGlvbihpLCBtZXRob2QpIHsgbWV0aG9kKCk7IH0pOwoJCQkvLyByZWdpc3RlciBhbiBpbml0aWFsIHN1Y2Nlc3MgY2FsbCwgd2hpY2ggd2lsbCBmYWlsIGlmIHRoZXJlIHdlcmUgcmVnaXN0ZXJlZCBzdWItYXBwcywgYW5kCgkJCS8vIHdpbGwgcHJvcGVybHkgcmVkaXJlY3QgdG8gZ3JvdXAgdXJsIGlmIHRoZXJlIHdlcmUgbm90LgoJCQlyZWdpc3RlclN1Y2Nlc3MoKTsKCQl9OwoJCWNyZWF0ZUdyb3VwID0gZnVuY3Rpb24oY29udGV4dCkgewoJCQl2YXIgY3JlYXRlRGF0YSA9IHsKCQkJCU5hbWU6IGNvbnRleHQuZ3JvdXBOYW1lSW5wdXQudmFsKCksCgkJCQlEZXNjcmlwdGlvbjogY29udGV4dC5ncm91cERlc2NyaXB0aW9uSW5wdXQudmFsKCksCgkJCQlFbmFibGVHcm91cE1lc3NhZ2VzOiBjb250ZXh0LmVuYWJsZU1lc3NhZ2VzSW5wdXQuaXMoJzpjaGVja2VkJyksCgkJCQlHcm91cFR5cGU6ICQoJ2lucHV0OnJhZGlvW25hbWU9Jytjb250ZXh0Lmdyb3VwVHlwZU5hbWUrJ106Y2hlY2tlZCcpLnZhbCgpLAoJCQkJQXV0b0NyZWF0ZUFwcGxpY2F0aW9uczogZmFsc2UgLy8gd2FudCB0byBzcGVjaWZ5IHdoaWNoIGFwcGxpY2F0aW9ucyB0byBjcmVhdGUKCQkJfTsKCQkJaWYoY29udGV4dC5wYXJlbnRHcm91cElucHV0LnZhbCgpICE9PSBudWxsICYmIGNvbnRleHQucGFyZW50R3JvdXBJbnB1dC52YWwoKS5sZW5ndGggPiAwKSB7CgkJCQljcmVhdGVEYXRhLlBhcmVudEdyb3VwSWQgPSBOdW1iZXIoY29udGV4dC5wYXJlbnRHcm91cElucHV0LnZhbCgpKTsKCQkJfQoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7CgkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ncm91cHMuanNvbicsCgkJCQlkYXRhOiBjcmVhdGVEYXRhLAoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQljcmVhdGVBcHBsaWNhdGlvbnMoY29udGV4dCwgcmVzcG9uc2UuR3JvdXApOwoJCQkJfQoJCQl9KTsKCQl9LAoJCXVwZGF0ZU1haWxpbmdMaXN0VmlzaWJsaXR5ID0gZnVuY3Rpb24oY29udGV4dCkgewoJCQlpZihjb250ZXh0LmNyZWF0ZUZvcnVtSW5wdXQuaXMoJzpjaGVja2VkJykpIHsKCQkJCWNvbnRleHQuZW5hYmxlRW1haWxGaWVsZEl0ZW0uc2hvdygpOwoJCQkJY29udGV4dC5lbWFpbEFkZHJlc3NGaWVsZEl0ZW0uc2hvdygpOwoJCQl9IGVsc2UgewoJCQkJY29udGV4dC5mb3J1bU1haWxpbmdJbnB1dC5yZW1vdmVBdHRyKCdjaGVja2VkJyk7CgkJCQljb250ZXh0LmVuYWJsZUVtYWlsRmllbGRJdGVtLmhpZGUoKTsKCQkJCWNvbnRleHQuZW1haWxBZGRyZXNzRmllbGRJdGVtLmhpZGUoKTsKCQkJfQoJCQlpZihjb250ZXh0LmZvcnVtTWFpbGluZ0lucHV0LmlzKCc6Y2hlY2tlZCcpKSB7CgkJCQljb250ZXh0LmVtYWlsQWRkcmVzc0ZpZWxkSXRlbS5zaG93KCk7CgkJCX0gZWxzZSB7CgkJCQljb250ZXh0LmVtYWlsQWRkcmVzc0ZpZWxkSXRlbS5oaWRlKCk7CgkJCX0KCQl9OwoJdmFyIGFwaSA9IHsKCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgewoJCQljb250ZXh0LnBhcmVudEdyb3VwSW5wdXQKCQkJCS5nbG93TG9va1VwVGV4dEJveCh7CgkJCQkJZGVsaW1pdGVyOiAnLCcsCgkJCQkJYWxsb3dEdXBsaWNhdGVzOiB0cnVlLAoJCQkJCW1heFZhbHVlczogMSwKCQkJCQlvbkdldExvb2tVcHM6IGZ1bmN0aW9uKHRiLCBzZWFyY2hUZXh0KSB7CgkJCQkJCXNlYXJjaEdyb3Vwcyhjb250ZXh0LCB0Yiwgc2VhcmNoVGV4dCk7CgkJCQkJfSwKCQkJCQllbXB0eUh0bWw6ICcnLAoJCQkJCXNlbGVjdGVkTG9va1Vwc0h0bWw6IFtdLAoJCQkJCWRlbGV0ZUltYWdlVXJsOiAnJ30pOwoKCQkJY29udGV4dC5jcmVhdGVHcm91cElucHV0CgkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbih7CgkJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsKCQkJCQkJaWYgKGlzVmFsaWQpIHsKCQkJCQkJCWNvbnRleHQuY3JlYXRlR3JvdXBJbnB1dC5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCWNvbnRleHQuY3JlYXRlR3JvdXBJbnB1dC5hZGRDbGFzcygnZGlzYWJsZWQnKTsKCQkJCQkJfQoJCQkJCX0sCgkJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQljb250ZXh0LmNyZWF0ZUdyb3VwSW5wdXQucGFyZW50KCkuYWRkQ2xhc3MoJ3Byb2Nlc3NpbmcnKTsKCQkJCQkJY29udGV4dC5jcmVhdGVHcm91cElucHV0LmFkZENsYXNzKCdkaXNhYmxlZCcpOwoJCQkJCQkvLyBzdWJtaXQgdGhlIGZvcm0KCQkJCQkJY3JlYXRlR3JvdXAoY29udGV4dCk7CgkJCQkJfX0pCgkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLAoJCQkJCWNvbnRleHQuZ3JvdXBOYW1lSW5wdXQsCgkJCQkJewoJCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQkJZ3JvdXBuYW1lZXhpc3RzOiB7CgkJCQkJCQlnZXRQYXJlbnRJZDogZnVuY3Rpb24oKXsKCQkJCQkJCQl2YXIgcGFyZW50R3JvdXBJbnB1dCA9IE51bWJlcihjb250ZXh0LnBhcmVudEdyb3VwSW5wdXQudmFsKCkpOwoJCQkJCQkJCWlmKCFwYXJlbnRHcm91cElucHV0KSB7CgkJCQkJCQkJCXBhcmVudEdyb3VwSW5wdXQgPSBjb250ZXh0LnJvb3RHcm91cElkOwoJCQkJCQkJCX0KCQkJCQkJCQlyZXR1cm4gcGFyZW50R3JvdXBJbnB1dDsKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJbWVzc2FnZXM6IHsKCQkJCQkJCXJlcXVpcmVkOiBjb250ZXh0LnJlcXVpcmVkTmFtZVZhbGlkYXRpb25NZXNzYWdlLAoJCQkJCQkJZ3JvdXBuYW1lZXhpc3RzOiBjb250ZXh0LnVuaXF1ZU5hbWVWYWxpZGF0aW9uTWVzc2FnZQoJCQkJCQl9CgkJCQkJfSwKCQkJCQljb250ZXh0Lmdyb3VwTmFtZUlucHV0LmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKTsKCgkJCWlmKGNvbnRleHQuZm9ydW1NYWlsaW5nSW5wdXQubGVuZ3RoID4gMCkgewoKCQkJCSQudmFsaWRhdG9yLmFkZE1ldGhvZCgiZm9ydW1tYWlsaW5nbGlzdCIsIGZ1bmN0aW9uKHZhbHVlLCBlbGVtZW50KSB7CgkJCQkJdmFyIGlzQ2hlY2tlZCA9IGNvbnRleHQuY3JlYXRlRm9ydW1JbnB1dC5pcygnOmNoZWNrZWQnKSAmJiBjb250ZXh0LmZvcnVtTWFpbGluZ0lucHV0LmlzKCc6Y2hlY2tlZCcpOwoJCQkJCWlmICghaXNDaGVja2VkKSB7CgkJCQkJCXJldHVybiB0cnVlOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXJldHVybiAkLnRyaW0oY29udGV4dC5mb3J1bUFkZHJlc3NJbnB1dC52YWwoKSkubGVuZ3RoID4gMDsKCQkJCQl9CgkJCQl9LCBjb250ZXh0Lm1haWxpbmdMaXN0UmVxdWlyZWRWYWxpZGF0aW9uTWVzc2FnZSk7CgoJCQkJY29udGV4dC5jcmVhdGVHcm91cElucHV0CgkJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywKCQkJCQkJY29udGV4dC5mb3J1bUFkZHJlc3NJbnB1dCwKCQkJCQkJewoJCQkJCQkJZm9ydW1tYWlsaW5nbGlzdDogdHJ1ZSwKCQkJCQkJCW1haWxpbmdsaXN0bmFtZWV4aXN0czogdHJ1ZQoJCQkJCQl9LAoJCQkJCQljb250ZXh0LmZvcnVtQWRkcmVzc0lucHV0LmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKTsKCgkJCQkkKGNvbnRleHQuY3JlYXRlRm9ydW1JbnB1dC5hZGQoY29udGV4dC5mb3J1bU1haWxpbmdJbnB1dCkpLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oKXsKCQkJCQkkKGNvbnRleHQuZm9ydW1BZGRyZXNzSW5wdXQpLnZhbGlkKCk7CgkJCQl9KTsKCQkJfQoKCQkJY29udGV4dC5wYXJlbnRHcm91cElucHV0LmJpbmQoJ2dsb3dMb29rVXBUZXh0Qm94Q2hhbmdlJywgZnVuY3Rpb24oKXsKCQkJCWNvbnRleHQuY3JlYXRlR3JvdXBJbnB1dAoJCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKCd2YWxpZGF0ZUZpZWxkJywgY29udGV4dC5ncm91cE5hbWVJbnB1dCk7CgkJCX0pOwoKCQkJY29udGV4dC5mb3J1bU1haWxpbmdJbnB1dC5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKCl7CgkJCQl1cGRhdGVNYWlsaW5nTGlzdFZpc2libGl0eShjb250ZXh0KTsKCQkJfSk7CgkJCS8vIHVuY2hlY2sgZm9ydW0gbWFpbGluZyBjaGVja2JveCBpZiBjcmVhdGUgZm9ydW0gY2hlY2tib3ggdW5jaGVja2VkCgkJCWNvbnRleHQuY3JlYXRlRm9ydW1JbnB1dC5iaW5kKCdjbGljaycsIGZ1bmN0aW9uKCl7CgkJCQl1cGRhdGVNYWlsaW5nTGlzdFZpc2libGl0eShjb250ZXh0KTsKCQkJfSk7CgkJCXVwZGF0ZU1haWxpbmdMaXN0VmlzaWJsaXR5KGNvbnRleHQpOwoKCQkJaWYoY29udGV4dC5kZWZhdWx0UGFyZW50R3JvdXBOYW1lICYmIGNvbnRleHQuZGVmYXVsdFBhcmVudEdyb3VwSWQgPiAwKSB7CgkJCQl2YXIgaW5pdGlhbExvb2t1cFZhbHVlID0gY29udGV4dC5wYXJlbnRHcm91cElucHV0Lmdsb3dMb29rVXBUZXh0Qm94KCdjcmVhdGVMb29rVXAnLAoJCQkJCWNvbnRleHQuZGVmYXVsdFBhcmVudEdyb3VwSWQsCgkJCQkJY29udGV4dC5kZWZhdWx0UGFyZW50R3JvdXBOYW1lLAoJCQkJCWNvbnRleHQuZGVmYXVsdFBhcmVudEdyb3VwTmFtZSwKCQkJCQl0cnVlKTsKCQkJCWNvbnRleHQucGFyZW50R3JvdXBJbnB1dC5nbG93TG9va1VwVGV4dEJveCgnYWRkJywgaW5pdGlhbExvb2t1cFZhbHVlKTsKCQkJfQoJCX0KCX07CgoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9OyB9CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5jcmVhdGVHcm91cCA9IGFwaTsKCn0oalF1ZXJ5KSk7Cg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_CustomTitle_Name}" version="7.5.0.32466" description="${resource:Core_CustomTitle_Description}" instanceIdentifier="1e91a5c5c2684e9e9ce6d91086c702dd" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="custom-title">
		<contentScript>
#set ($title = false)
#set ($title = $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('title', '${resource:Core_CustomTitle_Name}')))
#if ($title)
	$core_v2_page.SetTitle($title, true, true)
	&lt;h1 class="title"&gt;$title&lt;/h1&gt;
#else
	$core_v2_widget.Hide()
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('title', '${resource:Core_CustomTitle_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="title" resourceName="Core_CustomTitle_Title_Name" dataType="string" defaultValue="${resource:Core_CustomTitle_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_CustomTitle_Name">Custom Title</resource><resource name="Core_CustomTitle_Description">Define a custom page title.</resource><resource name="Options">Options</resource><resource name="Core_CustomTitle_Title_Name">Custom Title</resource></language></languageResources>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_DeletePost_Name}" version="7.5.0.32466" description="${resource:Forums_DeletePost_Description}" instanceIdentifier="138dbf2216aa4aeda1a11615126043ad" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="delete-post">
		<contentScript>

#set ($isThreadStarter = false)
#set ($currentReply = false)
#set ($currentThread = false)
#set ($currentReply = $core_v2_forumReply.Current)
#set ($currentItem = $currentReply)
#set ($currentThreadId = $currentReply.ThreadId)
#if (!$currentReply)
	#set ($isThreadStarter = true)
	#set ($currentThread = $core_v2_forumThread.Current)
	#set ($currentItem = $currentThread)
	#set ($currentThreadId = $currentThread.Id)
#end

#set ($signature = false)
#if ($core_v2_user.Current.SignatureFormatted &amp;&amp; $core_v2_user.Current.SignatureFormatted.Length &gt; 0)
	#set ($signature = $core_v2_user.Current.SignatureFormatted)
#end

&lt;div class="full-post-header"&gt;&lt;/div&gt;
&lt;div class="full-post"&gt;
	&lt;div class="post-date"&gt;
		&lt;span class="value"&gt;$core_v2_language.FormatDateAndTime($currentItem.Date)&lt;/span&gt;
	&lt;/div&gt;
	&lt;div class="post-author"&gt;
		&lt;span class="avatar"&gt;
			#if ($currentItem.Author.ProfileUrl)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($currentItem.Author.ProfileUrl)"&gt;
					$core_v2_ui.GetResizedImageHtml($currentItem.Author.AvatarUrl, 32, 32, "%{border='0px', alt=$currentItem.Author.DisplayName}")
				&lt;/a&gt;
			#else
				$core_v2_ui.GetResizedImageHtml($currentItem.Author.AvatarUrl, 32, 32, "%{border='0px', alt=$currentItem.Author.DisplayName}")
			#end
		&lt;/span&gt;
		&lt;span class="user-name"&gt;
			#if ($currentItem.Author.ProfileUrl)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($currentItem.Author.ProfileUrl)" class="internal-link view-user-profile"&gt;
					&lt;span&gt;&lt;/span&gt;$currentItem.Author.DisplayName
				&lt;/a&gt;
			#else
				&lt;span&gt;&lt;/span&gt;$currentItem.Author.DisplayName
			#end
		&lt;/span&gt;
	&lt;/div&gt;
	&lt;div class="post-content user-defined-markup"&gt;
		$currentItem.Body()
		#if ($core_v2_forumConfiguration.DisplayEditNotes)
			&lt;br /&gt;&lt;br /&gt;$currentItem.EditNotes
		#end
	&lt;/div&gt;
	#if ($signature)
		&lt;span class="user-signature user-defined-markup"&gt;$signature&lt;/span&gt;
	#end
&lt;/div&gt;
&lt;div class="full-post-footer"&gt;&lt;/div&gt;

#set ($deleteChildrenEnabled = false)
#set ($deleteChildrenChecked = false)
#if (!$isThreadStarter &amp;&amp; $currentItem.ReplyCount &gt; 0)
	&lt;div class="message warning"&gt;$core_v2_language.GetResource('DeletePost_OptionDeleteChildren')&lt;/div&gt;
	#set ($deleteChildrenEnabled = true)
#elseif ($isThreadStarter)
	&lt;div class="message warning"&gt;$core_v2_language.GetResource('DeletePost_ForceDeleteChildren')&lt;/div&gt;
	#set ($deleteChildrenChecked = true)
#elseif (!$isThreadStarter &amp;&amp; $currentItem.ReplyCount == 0)
	&lt;div class="message warning"&gt;$core_v2_language.GetResource('DeletePost_ForcePreserveChildren')&lt;/div&gt;
#end

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item"&gt;
			&lt;label for="$core_v2_widget.UniqueId('deleteChildren')" class="field-item-header"&gt;$core_v2_language.GetResource('DeletePost_DeleteChildren')&lt;/label&gt;
			&lt;span class="field-item-input"&gt;
				&lt;span #if(!$deleteChildrenEnabled) disabled="disabled" #end&gt;
					&lt;input id="$core_v2_widget.UniqueId('DeleteChildren')" type="checkbox" name="$core_v2_widget.UniqueId('DeleteChildren')" #if(!$deleteChildrenEnabled) disabled="disabled" #end	#if($deleteChildrenChecked) checked="checked" #end /&gt;
				&lt;/span&gt;
			&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;label for="$core_v2_widget.UniqueId('SendAuthorDeleteNotification')" class="field-item-header"&gt;$core_v2_language.GetResource('DeletePost_SendAuthorDeleteNotification')&lt;/label&gt;
			&lt;span class="field-item-input"&gt;
				&lt;input id="$core_v2_widget.UniqueId('SendAuthorDeleteNotification')" type="checkbox" name="$core_v2_widget.UniqueId('SendAuthorDeleteNotification')" /&gt;
			&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;label for="$core_v2_widget.UniqueId('ReasonTemplate')" class="field-item-header"&gt;$core_v2_language.GetResource('DeletePost_ReasonTemplate')&lt;/label&gt;
			#set($templates = $core_v2_moderationTemplates.List('PostDeleteReason'))
			#foreach($template in $templates)
			#beforeall
				&lt;select id="$core_v2_widget.UniqueId('ReasonTemplate')"&gt;
			#each
				&lt;option value="$template.Id"&gt;$template.Title&lt;/option&gt;
			#afterall
				&lt;/select&gt;
			#end
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;label for="$core_v2_widget.UniqueId('DeleteReason')" class="field-item-header"&gt;$core_v2_language.GetResource('DeletePost_Reason')&lt;/label&gt;
			&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('DeletePost_ReasonText')&lt;/span&gt;
			&lt;span class="field-item-validation"&gt;&lt;/span&gt;
			&lt;span class="field-item-input"&gt;
				&lt;textarea name="$core_v2_widget.UniqueId('DeleteReason')" rows="12" cols="100" id="$core_v2_widget.UniqueId('DeleteReason')"&gt;&lt;/textarea&gt;
			&lt;/span&gt;
			&amp;nbsp;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;span class="field-item-input"&gt;
				&lt;input type="submit" name="$core_v2_widget.UniqueId('DeletePost')" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('DeletePost_DeletePost'))" id="$core_v2_widget.UniqueId('DeletePost')" /&gt;
			&lt;/span&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.deletePost')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(function(j){
		j.telligent.evolution.widgets.deletePost.register({
			deleteReplyUrl: '$core_v2_page.AbsoluteUrl("~/api.ashx/v2/forums/{ForumId}/threads/{ThreadId}/replies/{ReplyId}.json")',
			deleteThreadUrl: '$core_v2_page.AbsoluteUrl("~/api.ashx/v2/forums/{ForumId}/threads/{ThreadId}.json")',
			forumUrl: '$core_v2_encoding.JavascriptEncode($core_v2_forumUrls.Forum($currentItem.ForumId))',
			threadUrl: '$core_v2_encoding.JavascriptEncode($core_v2_forumUrls.Thread($currentThreadId))',
			reasonTemplateUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('template.vm'))",
			reasonTemplate: "#$core_v2_widget.UniqueId('ReasonTemplate')",
			deleteButton: "#$core_v2_widget.UniqueId('DeletePost')",
			deleteChildrenInput: "#$core_v2_widget.UniqueId('DeleteChildren')",
			sendAuthorDeleteNotificationInput: "#$core_v2_widget.UniqueId('SendAuthorDeleteNotification')",
			deleteReasonInput: "#$core_v2_widget.UniqueId('DeleteReason')",
			deleteReasonValidationText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('DeletePost_ValidateReason'))",
			deleteConfirmText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('DeletePost_PopupConfirmation'))",
			deleteChildrenInput: "#$core_v2_widget.UniqueId('DeleteChildren')",
			wrapperId: '$core_v2_widget.WrapperElementId',
			forumId: $currentItem.ForumId,
			threadId: $currentThreadId,
			replyId: #if($isThreadStarter) $currentThread.ForumReplyId #else $currentReply.Id #end,
			replyIsThreadStarter: #if($isThreadStarter) true #else false #end
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end

	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_DeletePost_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_DeletePost_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Forums_DeletePost_Name">Forums - Delete Post</resource><resource name="Forums_DeletePost_Description">Deletes a forum post.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="DeletePost_OptionDeleteChildren">Since this post has replies, you have the option of either deleting or preserving all children posts. If you choose not to delete the children posts, they will be reassigned within this thread.</resource><resource name="DeletePost_ForceDeleteChildren">Since this post is the thread starter, you cannot choose to preserve children posts. If you choose to delete this post, all children posts will be deleted as well.</resource><resource name="DeletePost_ForcePreserveChildren">Since this post has no replies no children will be deleted.</resource><resource name="DeletePost_DeleteChildren">Delete Children: </resource><resource name="DeletePost_SendAuthorDeleteNotification">Send Author Delete Notification</resource><resource name="DeletePost_ReasonTemplate">Reason Template:</resource><resource name="DeletePost_Reason">Reason: </resource><resource name="DeletePost_ReasonText">Please provide a reason for why this post or thread is being deleted. This information, as well as who deleted the post, will be logged. Additionally, an email will be sent to the original post author with the reason (including who deleted the post).</resource><resource name="DeletePost_DeletePost">Delete Post</resource><resource name="DeletePost_ValidateReason">You must supply a reason why you are deleting this post.</resource><resource name="DeletePost_PopupConfirmation">Are you sure you want to delete this post?</resource></language></languageResources>
		<requiredContext>
			<context id="3e42a61fe20447f78ea9b0bb99a5c6a5" />
		</requiredContext>
		<files>
			<file name="template.vm">I3NldCAoJGlzVGhyZWFkU3RhcnRlciA9IGZhbHNlKQ0KI3NldCAoJGN1cnJlbnRSZXBseSA9IGZhbHNlKQ0KI3NldCAoJGN1cnJlbnRUaHJlYWQgPSBmYWxzZSkNCiNzZXQgKCRjdXJyZW50UmVwbHkgPSAkY29yZV92Ml9mb3J1bVJlcGx5LkN1cnJlbnQpDQojc2V0ICgkY3VycmVudEl0ZW0gPSAkY3VycmVudFJlcGx5KQ0KI2lmICghJGN1cnJlbnRSZXBseSkNCgkjc2V0ICgkaXNUaHJlYWRTdGFydGVyID0gdHJ1ZSkNCgkjc2V0ICgkY3VycmVudFRocmVhZCA9ICRjb3JlX3YyX2ZvcnVtVGhyZWFkLkN1cnJlbnQpDQoJI3NldCAoJGN1cnJlbnRJdGVtID0gJGN1cnJlbnRUaHJlYWQpDQojZW5kDQoNCiNzZXQoJGlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ1RlbXBsYXRlSUQnKSkpDQojc2V0KCR0ZW1wbGF0ZSA9ICRjb3JlX3YyX21vZGVyYXRpb25UZW1wbGF0ZXMuR2V0KCRpZCkuQm9keSkNCiNzZXQoJHRlbXBsYXRlID0gJHRlbXBsYXRlLlJlcGxhY2UoJ1tTaXRlTmFtZV0nLCAkY29yZV92Ml9jb25maWd1cmF0aW9uLlNpdGVOYW1lKSkNCiNzZXQoJHRlbXBsYXRlID0gJHRlbXBsYXRlLlJlcGxhY2UoJ1tQb3N0Qm9keV0nLCAkY29yZV92Ml9sYW5ndWFnZS5SZW1vdmVIdG1sKCRjdXJyZW50SXRlbS5Cb2R5KSkpDQojaWYgKCRpc1RocmVhZFN0YXJ0ZXIpDQoJI3NldCgkdXJsID0gJGNvcmVfdjJfZm9ydW1VcmxzLlRocmVhZCgkY3VycmVudFRocmVhZC5JZCkpDQojZWxzZQ0KCSNzZXQoJHVybCA9ICRjb3JlX3YyX2ZvcnVtVXJscy5Gb3J1bVJlcGx5KCRjdXJyZW50UmVwbHkuSWQpKQ0KI2VuZA0KI3NldCgkdGVtcGxhdGUgPSAkdGVtcGxhdGUuUmVwbGFjZSgnW1BhcmVudExpbmtdJywgJGNvcmVfdjJfdXJscy5GdWxsUGF0aCgkdXJsKSkpDQp7InRlbXBsYXRlIjogIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHRlbXBsYXRlKSJ9</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKCgl2YXIgZGVsZXRlUG9zdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQlpZihjb25maXJtKGNvbnRleHQuZGVsZXRlQ29uZmlybVRleHQpKSB7CgkJCXZhciB1cmwsIHN1Y2Nlc3NVcmwsIGRhdGEgPSB7CgkJCQlGb3J1bUlkOiBjb250ZXh0LmZvcnVtSWQsCgkJCQlUaHJlYWRJZDogY29udGV4dC50aHJlYWRJZCwKCQkJCURlbGV0ZUNoaWxkcmVuOiAkKGNvbnRleHQuZGVsZXRlQ2hpbGRyZW5JbnB1dCkuaXMoJzpjaGVja2VkJyksCgkJCQlTZW5kQXV0aG9yRGVsZXRlTm90aWZpY2F0aW9uOiAkKGNvbnRleHQuc2VuZEF1dGhvckRlbGV0ZU5vdGlmaWNhdGlvbklucHV0KS5pcygnOmNoZWNrZWQnKSwKCQkJCURlbGV0ZVJlYXNvbjogJChjb250ZXh0LmRlbGV0ZVJlYXNvbklucHV0KS52YWwoKQoJCQl9OwoJCQlpZihjb250ZXh0LnJlcGx5SXNUaHJlYWRTdGFydGVyKSB7CgkJCQl1cmwgPSBjb250ZXh0LmRlbGV0ZVRocmVhZFVybDsKCQkJCXN1Y2Nlc3NVcmwgPSBjb250ZXh0LmZvcnVtVXJsOwoJCQl9IGVsc2UgewoJCQkJdXJsID0gY29udGV4dC5kZWxldGVSZXBseVVybDsKCQkJCWRhdGEuUmVwbHlJZCA9IGNvbnRleHQucmVwbHlJZDsKCQkJCXN1Y2Nlc3NVcmwgPSBjb250ZXh0LnRocmVhZFVybDsKCQkJfQoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZGVsKHsKCQkJCXVybDogdXJsLAoJCQkJZGF0YTogZGF0YSwKCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJd2luZG93LmxvY2F0aW9uID0gc3VjY2Vzc1VybDsKCQkJCX0KCQkJfSk7CgkJfQoJfTsKCgl2YXIgYXBpID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7CgoJCQljb250ZXh0LmRlbGV0ZUJ1dHRvbiA9ICQoY29udGV4dC5kZWxldGVCdXR0b24pCgkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbih7CgkJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsgfSwKCQkJCQlvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgewoJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7CgkJCQkJCWRlbGV0ZVBvc3QoY29udGV4dCk7CgkJCQkJfQoJCQkJfSkKCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsJChjb250ZXh0LmRlbGV0ZVJlYXNvbklucHV0KSwgewoJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCW1lc3NhZ2VzOiB7IHJlcXVpcmVkOiBjb250ZXh0LmRlbGV0ZVJlYXNvblZhbGlkYXRpb25UZXh0IH0KCQkJCX0sICQoY29udGV4dC5kZWxldGVSZWFzb25JbnB1dCkuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpOwoJCQkkKGNvbnRleHQucmVhc29uVGVtcGxhdGUpLmNoYW5nZShmdW5jdGlvbigpIHsKCQkJCXZhciBkYXRhID0gewoJCQkJCVRlbXBsYXRlSUQ6ICQodGhpcykudmFsKCkKCQkJCX07CgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsKCQkJCQl1cmw6IGNvbnRleHQucmVhc29uVGVtcGxhdGVVcmwsCgkJCQkJZGF0YTogZGF0YSwKCQkJCQlkYXRhVHlwZTogJ2pzb24nLAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJCSQoY29udGV4dC5kZWxldGVSZWFzb25JbnB1dCkudmFsKHJlc3BvbnNlLnRlbXBsYXRlKTsKCQkJCQl9CgkJCQl9KTsKCQkJfSk7CgkJfQoJfTsKCgkvLyBleHBvc2UgYXBpIHB1YmxpY2x5CglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmRlbGV0ZVBvc3QgPSBhcGk7Cgp9KShqUXVlcnkpOwo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_DownloadMediaGalleryPost_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_DownloadMediaGalleryPost_Description}" instanceIdentifier="091cfb5f6c124a83829b5ee52d155d8c" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="download-media-gallery-post">
		<contentScript>

#set ($media = $core_v2_media.Current)
#if (!$media)
	$core_v2_widget.Hide()
#end
#set ($gallery = $core_v2_gallery.Get("%{ Id = $media.MediaGalleryId }"))
#if (!$gallery)
	$core_v2_widget.Hide()
#end

#set ($disclaimerEnabled = $core_v2_gallery.IsDisclaimerEnabled($gallery.Id))
#set ($isPost = $core_v2_page.IsPost)
#set ($isPreviewMode = $core_v2_widget.IsInWidgetPreviewMode)
#if ($core_v2_page.GetFormValue($core_v2_widget.UniqueId('accepted')) == $core_v2_language.GetResource('Accept'))
	#set ($accepted = true)
#else
	#set ($accepted = false)
#end

#if (!$isPreviewMode &amp;&amp; (($isPost &amp;&amp; $accepted) || (!$isPost &amp;&amp; !$disclaimerEnabled)))
	## Accepted the disclaimer or disclaimer not required
	## This checks security, logs download, and redirects browser
	$core_v2_media.Download($media.Id)
#else
	## Show the disclaimer
	&lt;div class="message disclaimer"&gt;
		$core_v2_language.GetResource('MediaGalleries_Disclaimer_Title')
	&lt;/div&gt;
	&lt;div class="disclaimer"&gt;
		$core_v2_language.GetResource('MediaGalleries_Disclaimer_Detail')
	&lt;/div&gt;

	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;
					&lt;input type="submit" name="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.UniqueId('accepted'))" value="$core_v2_language.GetResource('Accept')"&gt;
				&lt;/span&gt;
				&lt;span class="field-item-input"&gt;
					&lt;input type="submit" name="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.UniqueId('declined'))" value="$core_v2_language.GetResource('Decline')"&gt;
				&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;

	#registerEndOfPageHtml()
		&lt;script type="text/javascript"&gt;
		jQuery(document).ready(function(j){
			// redirect to the media item if 'decline' clicked
			j("input[name=$core_v2_widget.UniqueId('declined')]").click(function(){
				window.location.href = '$core_v2_encoding.JavascriptEncode($media.Url)';
				return false;
			});
		});
		&lt;/script&gt;
	#end
#end

		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_DownloadMediaGalleryPost_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_DownloadMediaGalleryPost_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_DownloadMediaGalleryPost_Name">Media Gallery - Download File</resource><resource name="MediaGalleries_DownloadMediaGalleryPost_Description">Form for downloading a file. Renders the download agreement.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Accept">I Accept</resource><resource name="MediaGalleries_Disclaimer_Title">
 The requested software has specific conditions of use. The following information applies to your use of the software made available to you through this web site.
	</resource><resource name="MediaGalleries_Disclaimer_Detail">
  &lt;p /&gt;
  &lt;div style="overflow: auto; width: 80%; height: 300px; border-style: solid; border-color: #cccccc; border-width: 1px; margin: 16px; margin-left: auto; margin-right: auto; padding: 8px;"&gt;
 Last Updated: November 17, 2004
  &lt;p /&gt;
 This license governs use of the accompanying software (“Software”), and your use of the Software constitutes acceptance of this license.
  &lt;p /&gt;
 Subject to the restrictions below, you may use the Software for any commercial or noncommercial purpose.
  &lt;p /&gt;
 In return, we require that you agree:
  &lt;ol&gt;
  &lt;li&gt;Not to remove any copyright or other notices from the Software.&lt;/li&gt;
  &lt;li&gt;That you are not allowed to combine or distribute the Software with other software that is licensed under terms that seek to require that the Software (or any intellectual property in it) be provided in source code form, licensed to others to allow the creation or distribution of derivative works, or distributed without charge.&lt;/li&gt;
  &lt;li&gt;You may not distribute the Software in source code form, and if you distribute the Software in object form you only do so under a license that complies with this license.&lt;/li&gt;
  &lt;li&gt;With the exception of (1) that you will
  &lt;ol type="a"&gt;
  &lt;li&gt;not use Telligent’s name, logo, or trademarks in association with any use of the Software unless otherwise permitted in writing;&lt;/li&gt;
  &lt;li&gt;display your own valid copyright notice which must be sufficient to protect Telligent’s copyright in the Software; and&lt;/li&gt;
  &lt;li&gt;indemnify, hold harmless, and defend Telligent from and against any claims or lawsuits, including attorneys’ fees, that arise or result from the use or distribution of your modifications to the Software and any additional software you distribute along with the Software.&lt;/li&gt;
  &lt;/ol&gt;
  &lt;/li&gt;
  &lt;li&gt;That the Software comes "as is", with no warranties. None whatsoever. This means no express, implied or statutory warranty, including without limitation, warranties of merchantability or fitness for a particular purpose or any warranty of title or non-infringement. Also, you must pass this disclaimer on whenever you distribute the Software or derivative works.&lt;/li&gt;
  &lt;li&gt;That neither Telligent nor its suppliers will be liable for any of those types of damages known as indirect, special, consequential, or incidental related to the Software or this license, to the maximum extent the law permits, no matter what legal theory it’s based on. Also, you must pass this limitation of liability on whenever you distribute the Software or derivative works.&lt;/li&gt;
  &lt;li&gt;That if you sue anyone over patents that you think may apply to the Software for a person's use of the Software, your license to the Software ends automatically.&lt;/li&gt;
  &lt;li&gt;That the patent rights, if any, granted in this license only apply to the Software, not to any derivative works you make.&lt;/li&gt;
  &lt;li&gt;That the Software is subject to U.S. export jurisdiction at the time it is licensed to you, and it may be subject to additional export or import laws in other places. You agree to comply with all such laws and regulations that may apply to the Software after delivery of the software to you.&lt;/li&gt;
  &lt;li&gt;That if you are an agency of the U.S. Government, (i) Software provided pursuant to a solicitation issued on or after December 1, 1995, is provided with the commercial license rights set forth in this license, and (ii) Software provided pursuant to a solicitation issued prior to December 1, 1995, is provided with “Restricted Rights” as set forth in FAR, 48 C.F.R. 52.227-14 (June 1987) or DFAR, 48 C.F.R. 252.227-7013 (Oct 1988), as applicable.&lt;/li&gt;
  &lt;li&gt;That your rights under this license end automatically if you breach it in any way.&lt;/li&gt;
  &lt;li&gt;That this license contains the only rights associated with the Software and Telligent reserves all rights not expressly granted to you in this license&lt;/li&gt;
  &lt;/ol&gt;
  &lt;/div&gt;
 </resource><resource name="Decline">I Decline</resource><resource name="MediaGalleries_DownloadMediaGalleryPost_Title_DownloadFile">Download File</resource></language></languageResources>
		<requiredContext>
			<context id="a91f97494d81449ca3c3ec8d6eebaf25" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_EditUser_Name}" version="7.5.0.32466" description="${resource:Core_EditUser_Description}" instanceIdentifier="6af2aef197d847dfaae4ccdd4ea1f1dc" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="edit-user">
		<contentScript>
#set($user = $core_v2_user.Accessing)

&lt;div id="$core_v2_widget.UniqueId('SaveSuccess')" class="message success" style="display:none;"&gt;$core_v2_language.GetResource('EditProfile_UpdateSuccess')&lt;/div&gt;

&lt;div id="$core_v2_widget.UniqueId('Tabs')"&gt;
    &lt;div id="$core_v2_widget.UniqueId('BasicOptionsPane')"&gt;
        $core_v2_widget.ExecuteFile('basicoptions.vm')
    &lt;/div&gt;
    &lt;div id="$core_v2_widget.UniqueId('AdvancedOptionsPane')"&gt;
        $core_v2_widget.ExecuteFile('advancedoptions.vm')
    &lt;/div&gt;
    &lt;div id="$core_v2_widget.UniqueId('SignInPane')"&gt;
        $core_v2_widget.ExecuteFile('signininformation.vm')
    &lt;/div&gt;
    &lt;div id="$core_v2_widget.UniqueId('EmailPane')"&gt;
        $core_v2_widget.ExecuteFile('emailoptions.vm')
    &lt;/div&gt;
    &lt;div id="$core_v2_widget.UniqueId('NotificationsPane')"&gt;
        $core_v2_widget.ExecuteFile('notificationoptions.vm')
    &lt;/div&gt;
&lt;/div&gt;

&lt;div class="setting-list-header"&gt;&lt;/div&gt;
    &lt;fieldset class="setting-list"&gt;
        &lt;ul class="setting-list"&gt;
            &lt;li class="setting-item setting-save"&gt;
                &lt;span class="setting-item-input"&gt;
                    &lt;a href="javascript:void(0)" onclick="jQuery.telligent.evolution.navigationConfirmation.ignoreClick();" class="internal-link update-account submit-button"&gt;
                        &lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Save')
                    &lt;/a&gt;
                    &lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
                &lt;/span&gt;
            &lt;/li&gt;
        &lt;/ul&gt;
    &lt;/fieldset&gt;
&lt;div class="setting-list-footer"&gt;&lt;/div&gt;

        #registerEndOfPageHtml('telligent.evolution.widgets.editUser')
            &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
        #end
        #registerEndOfPageHtml('telligent.evolution.widgets.editUser.emailDigest')
            &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("emaildigestui.js"))"&gt;&lt;/script&gt;
        #end
        #registerEndOfPageHtml()
            &lt;script type="text/javascript"&gt;
            //&lt;![CDATA[
            jQuery(document).ready(function()
            {
                jQuery.telligent.evolution.widgets.editUser.register({
                    userId: $user.Id,
                    wrapperId : '$core_v2_widget.WrapperElementId',
                    tabId : '$core_v2_widget.UniqueId('Tabs')',
                    basicTabId : '$core_v2_widget.UniqueId('BasicOptionsPane')',
                    basicTabText : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EditProfile_Tab_About'))',
                    advancedTabId : '$core_v2_widget.UniqueId('AdvancedOptionsPane')',
                    advancedTabText : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EditProfile_Tab_Options'))',
                    signinTabId : '$core_v2_widget.UniqueId('SignInPane')',
                    signinTabText : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EditLoginPreferences_Login'))',
                    emailTabId : '$core_v2_widget.UniqueId('EmailPane')',
                    emailTabText : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EditProfile_Tab_Email'))',
                    commonNameSelector : '#$core_v2_widget.UniqueId('CommonName')',
                    birthdayOptionSelector : '#$core_v2_widget.UniqueId('Birthday')',
                    birthdaySelector : '#$core_v2_widget.UniqueId('BirthdayDate')',
                    genderSelector : '#$core_v2_widget.UniqueId('Gender')',
                    languageSelector : '#$core_v2_widget.UniqueId('Language')',
                    publicEmailSelector : '#$core_v2_widget.UniqueId('PublicEmail')',
                    sharedFavoritesSelector : '#$core_v2_widget.UniqueId('ShareFavorites')',
                    rssFeedsSelector : '#$core_v2_widget.UniqueId('RssFeeds')',
                    rssFeedsValidationText : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EditProfile_RssFeeds_ValidationError'))',
                    #if ($core_v2_configuration.EnableSignatures)
                        getSignature: function() { return $core_v2_editor.GetContentScript('Signature'); },
                        attachSignatureChangeScript: function(f) { $core_v2_editor.GetAttachOnChangeScript('Signature', 'f'); },
                        signatureMaxLengthText: '$core_v2_language.FormatString($core_v2_language.GetResource('EditProfile_SigMaxLength'), $core_v2_language.FormatNumber($core_v2_configuration.SignatureMaxLength))',
                        signatureMaxLength: $core_v2_configuration.SignatureMaxLength,
                        signatureValidationSelector: '#$core_v2_widget.UniqueId('SignatureValidation')',
                    #end
                    allowSiteContactSelector : '#$core_v2_widget.UniqueId('AllowSiteToContact')',
                    allowSitePartnersContactSelector : '#$core_v2_widget.UniqueId('AllowSitePartnersToContact')',
                    privateEmailSelector : '#$core_v2_widget.UniqueId('PrivateEmail')',
                    receiveEmailsSelector : '#$core_v2_widget.UniqueId('ReceiveEmails')',
                    enableHtmlEmailSelector : '#$core_v2_widget.UniqueId('EnableHtmlEmail')',
                    enableEmailTrackingSelector : '#$core_v2_widget.UniqueId('EnableEmailTracking')',
                    enableConversationNotificationSelector : '#$core_v2_widget.UniqueId('EnableConversationNotifications')',
                    enableCommentNotificationSelector : '#$core_v2_widget.UniqueId('EnableCommentNotifications')',
                    conversationContactType : '#$core_v2_widget.UniqueId('ConversationContactType')',
                    editorListSelector : '#$core_v2_widget.UniqueId('EditorList')',
                    enableDisplayNamesSelector : '#$core_v2_widget.UniqueId('EnableDisplayNames')',
                    enableDisplayInMembersSelector : '#$core_v2_widget.UniqueId('EnableDisplayInMemberList')',
                    enableEmoticonsSelector : '#$core_v2_widget.UniqueId('EnableEmoticons')',
                    enableUserSignaturesSelector : '#$core_v2_widget.UniqueId('EnableUserSignatures')',
                    timezoneSelector : '#$core_v2_widget.UniqueId('Timezone')',
                    dateFormatSelector : '#$core_v2_widget.UniqueId('DateFormat')',
                    getDateFormatsUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('getdateformats.vm'))',
                    emailDigestTabsId: '$core_v2_widget.UniqueId('EmailDigestTabs')',
                    emailDigestGroupTabId: '$core_v2_widget.UniqueId('EmailDigestGroups')',
                    emailDigestGroupTabText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EditProfile_EmailDigestTabs_GroupText'))',
                    saveSucessSelector: '#$core_v2_widget.UniqueId('SaveSuccess')',
                    saveErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EditProfile_SaveError'))',
                    hasPassword: #if($user.HasPassword) true#else false#end,
                    resetPasswordSelector: '#$core_v2_widget.UniqueId('ResetPassword')',
                    resetPasswordUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('resetpassword.vm'))',
                    resetPasswordMessageSelector: '#$core_v2_widget.UniqueId('ResetPasswordMessage')',
                    resetPasswordError: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EditProfile_ResetPasswordError'))',
                    notificationTabId : '$core_v2_widget.UniqueId('NotificationPane')',
                    notificationTabText : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EditProfile_Tab_Notification'))'
                });
            });
            //]]&gt;
            &lt;/script&gt;
        #end
            </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_EditUser_Name}'))
        </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_EditUser_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
            </configuration>
		<languageResources><language key="en-us"><resource name="Core_EditUser_Name">Edit User</resource><resource name="Core_EditUser_Description">Displays the form for a user to edit their settings.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="EditProfile_UpdateSuccess">Your profile has been updated. It may take up to 10 minutes for changes to take effect.</resource><resource name="Save">Save</resource><resource name="EditProfile_Tab_About">Basic Options</resource><resource name="EditProfile_Tab_Options">Advanced Options</resource><resource name="EditLoginPreferences_Login">Sign-in Information</resource><resource name="EditProfile_Tab_Email">Email</resource><resource name="EditProfile_EmailDigestTabs_GroupText">My Groups</resource><resource name="EditProfile_SaveError">An error occurred while saving.  Please review your changes and try again.</resource><resource name="EditProfile_ResetPasswordError">An error occurred while resetting your password.  Please try again.</resource><resource name="Profile_EditApiKeys">My API Keys</resource><resource name="Core_EditUser_BasicInformation">Basic Information</resource><resource name="NotSet">Not Set</resource><resource name="EditProfile_RssFeeds">RSS Feed URLs (one per line)</resource><resource name="EditProfile_EmailDigestTabs_MyGroupsTitle">My Groups</resource><resource name="EditProfile_EmailDigestTabs_MyGroupsDescription">All of the groups for which I am a member.</resource><resource name="EditProfile_EmailDigestTabs_GroupHeader">My Group</resource><resource name="EditProfile_EmailDigestTabs_FrequencyHeader">Frequency</resource><resource name="EditProfile_EmailDigestTabs_NoData">No subscriptions</resource><resource name="EditProfile_EmailDigestTabs_OtherGroupsTitle">Other Group Subscriptions</resource><resource name="EditProfile_EmailDigestTabs_OtherGroupsDescription">Groups where I have subscribed to receive an email digest, but I am not a member.</resource><resource name="EditProfile_EmailDigestTabs_OtherGroupHeader">Group</resource><resource name="EmailDigest_Rollup_Daily">Subscribed to daily digest</resource><resource name="EmailDigest_Rollup_Weekly">Subscribed to weekly digest</resource><resource name="EmailDigest_Rollup_GroupUnsubscribed">Subscribe to group activities</resource><resource name="EmailDigest_SubscriptionSelectOptions_Unsubscribe">Do not send a digest</resource><resource name="EmailDigest_SubscriptionSelectOptions_Daily">Daily digest via email</resource><resource name="EmailDigest_SubscriptionSelectOptions_Weekly">Weekly digest via email</resource><resource name="EmailDigest_Message_Daily">You are now subscribed to the daily digest.</resource><resource name="EmailDigest_Message_Weekly">You are now subscribed to the weekly digest.</resource><resource name="EmailDigest_Message_UnsubscribedGroup">You are now unsubscribed from email digest for this group.</resource><resource name="EmailDigest_SubscriptionError">An error occurred while trying to subscribe to email digest, please try again later.</resource><resource name="EditLoginPreferences_Email">Email Configuration</resource><resource name="EditProfile_ContactPrivateEmail">Private email</resource><resource name="EditProfile_ContactPrivateEmailDesc">Your private email address is never publicly shared.</resource><resource name="EditProfile_OptionsReceiveEmails">Receive emails</resource><resource name="EditProfile_OptionsReceiveEmailsDesc">When disabled you will turn off all site emails (including notifications).</resource><resource name="EditProfile_OptionsHtmlEmail">Receive HTML emails</resource><resource name="EditProfile_OptionsHtmlEmailDesc">For email clients that support rich (HTML) email.</resource><resource name="EditLoginPreferences_Notifications">Email notifications preferences</resource><resource name="EditProfile_OptionsEmailTracking">Send email notifications</resource><resource name="EditProfile_OptionsEmailTrackingDesc">When disabled no email notifications are sent for content to which you are subscribed.</resource><resource name="Admin_SiteSettings_EnableCommentNotifications">Enable Status Message &amp; Comment Email Notifications</resource><resource name="Admin_SiteSettings_EnableCommentNotifications_Desc">Receive an email when someone comments on your status message or a status you also commented on.</resource><resource name="Admin_SiteSettings_EnableConversationNotifications">Enable Emails of Private Message Notifications</resource><resource name="Admin_SiteSettings_EnableConversationNotifications_Desc">When disabled, no private message (conversation) email notifications are sent.</resource><resource name="EditProfile_AllowSiteToContact">Allow this site to contact you</resource><resource name="EditProfile_AllowSiteToContact_Desc">Enable this site administrators to contact you via email.</resource><resource name="EditProfile_AllowSitePartnersToContact">Allow this site's partners to contact you</resource><resource name="EditProfile_AllowSitePartnersToContact_Desc">Enable partners of this site to contact you via email.</resource><resource name="EditProfile_ConversationsPreferences">Messages</resource><resource name="EditProfile_AllowConversationsFromDescription">Allow messages from</resource><resource name="EditProfile_AllowConversationsFromNone">No one</resource><resource name="EditProfile_AllowConversationsFromFriendsOnly">${friends_propercase} Only</resource><resource name="EditProfile_AllowConversationsFromAllUsers">Everyone</resource><resource name="EditProfile_EmailDigestHeading">Email Digests</resource><resource name="ForgottenPassword_PasswordLinkSentTitle">User Password Link Sent</resource><resource name="ForgottenPassword_PasswordLinkSentMessage">You have requested a link be sent to your email address (&lt;font color="red"&gt;&lt;b&gt;{0}&lt;/b&gt;&lt;/font&gt;) which will enable you to reset your password. The email will arrive shortly.</resource><resource name="EditLoginPreferences_SignInNameDesc">The sign-in name is used along with your password to access this site.</resource><resource name="EditProfile_PasswordChange">Change Password</resource><resource name="EditProfile_DefinePassword">Password</resource><resource name="EditProfile_DefinePassword_Description">To add a password to your account, click the reset password link.</resource><resource name="EditProfile_ResetPassword">Reset Password</resource><resource name="EditLoginPreferences_LastSignInDesc">Date that you last signed into this site</resource><resource name="Utility_DateFormatDropDownList_F1">ddd, MMM d yyyy</resource><resource name="Utility_DateFormatDropDownList_F1Text">Day, Month Days Year (Thu, Jun 1 2003)</resource><resource name="Utility_DateFormatDropDownList_F2">MMM d, yyyy</resource><resource name="Utility_DateFormatDropDownList_F2Text">Month Days, Year (Jun 1, 2003)</resource><resource name="Utility_DateFormatDropDownList_F3">d MMM yyyy</resource><resource name="Utility_DateFormatDropDownList_F3Text">Day Month Year (1 Jun 2003)</resource><resource name="Utility_DateFormatDropDownList_F4">M-d-yyyy</resource><resource name="Utility_DateFormatDropDownList_F4Text">Month-Day-Year (6-1-2003)</resource><resource name="Utility_DateFormatDropDownList_F5">d-M-yyyy</resource><resource name="Utility_DateFormatDropDownList_F5Text">Day-Month-Year (1-6-2003)</resource><resource name="Utility_DateFormatDropDownList_F6">yyyy-M-d</resource><resource name="Utility_DateFormatDropDownList_F6Text">Year-Month-Day (2003-6-1)</resource><resource name="Utility_DateFormatDropDownList_F7">M/d/yyyy</resource><resource name="Utility_DateFormatDropDownList_F7Text">Month/Day/Year (6/1/2003)</resource><resource name="Utility_DateFormatDropDownList_F8">d/M/yyyy</resource><resource name="Utility_DateFormatDropDownList_F8Text">Day/Month/Year (1/6/2003)</resource><resource name="Utility_DateFormatDropDownList_F9">yyyy/M/d</resource><resource name="Utility_DateFormatDropDownList_F9Text">Year/Month/Day (2003/6/1)</resource><resource name="Utility_DateFormatDropDownList_F10">dddd, MMMM d yyyy</resource><resource name="Utility_DateFormatDropDownList_F10Text">Day, Month Days Year (Thursday, June 1 2003)</resource><resource name="Utility_DateFormatDropDownList_F11">MMMM d, yyyy</resource><resource name="Utility_DateFormatDropDownList_F11Text">Month Days, Year (June 1, 2003)</resource><resource name="EditProfile_OptionsTitle">Site Options</resource><resource name="EditProfile_Editor">Content Editor</resource><resource name="EditProfile_DisplayName">Enable Display Name</resource><resource name="EditProfile_DisplayInMemberList">Display in members list</resource><resource name="Admin_SiteSettings_EnableEmoticons">Enable Emoticons</resource><resource name="EditProfile_EnableUserSignatures">Display user signatures</resource><resource name="EditProfile_AboutTimeZone">Time zone</resource><resource name="EditProfile_OptionsDateFormat">Date Format</resource><resource name="Profile_EditApiKeysDescription">Create and Edit Application Keys</resource><resource name="EditProfile_CommonName">Name</resource><resource name="EditProfile_Birthday">Birthday</resource><resource name="EditProfile_AboutGender">Gender</resource><resource name="Male">Male</resource><resource name="Female">Female</resource><resource name="EditProfile_OptionsLanguage">Language</resource><resource name="EditProfile_ContactPublicEmail">Public Email</resource><resource name="EditProfile_Favorites_Share">Share Bookmarks</resource><resource name="Yes">Yes</resource><resource name="No">No</resource><resource name="ViewUserProfile_Tab_RssFeeds">Shared Feeds</resource><resource name="EditProfile_AboutSignature">Signature</resource><resource name="EditLoginPreferences_OfflineBlogging">Offline Blogging</resource><resource name="EditLoginPreferences_SignInName">Sign-in name</resource><resource name="EditProfile_Password">Password</resource><resource name="EditLoginPreferences_PasswordDesc_SSO">Set a password that you will use to post from an offline blogging tool such as Microsoft Word or Windows Live Writer.</resource><resource name="EditLoginPreferences_PasswordDesc">Click the change password link to change your sign-in password</resource><resource name="EditLoginPreferences_LastSignIn">Last sign-in</resource><resource name="EditProfile_SigMaxLength">Maximum signature length is {0} characters.</resource><resource name="EditProfile_RssFeeds_ValidationError">One or more of your feeds appears to be invalid or in an incorrect format</resource><resource name="EditProfile_Tab_Notification">Notifications</resource><resource name="EditProfile_NotificationsTitle">Notifications</resource><resource name="EditProfile_NotificationsDescription">Control the types of notifications you receive</resource><resource name="Notifications_NotifyWhen">Notify me when someone:</resource><resource name="Notifications_NotifyBy">Notify me by:</resource><resource name="SelectAll">select all</resource><resource name="DeSelectAll">select none</resource></language></languageResources>
		<files>
			<file name="advancedoptions.vm">PGRpdiBjbGFzcz0ic2V0dGluZy1saXN0LWhlYWRlciI+PC9kaXY+DQo8ZmllbGRzZXQgY2xhc3M9InNldHRpbmctbGlzdCI+DQoJIDxsZWdlbmQgY2xhc3M9InNldHRpbmctbGlzdC1kZXNjcmlwdGlvbiI+JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9PcHRpb25zVGl0bGUiKX08L2xlZ2VuZD4NCgkgPHVsIGNsYXNzPSJzZXR0aW5nLWxpc3QiPg0KCQk8bGkgY2xhc3M9InNldHRpbmctaXRlbSBzZXR0aW5nLWVkaXRvciI+DQoJCQk8ZGl2IGNsYXNzPSJzZXR0aW5nLWl0ZW0tbGFiZWwiPg0KCQkJCTxsYWJlbCBjbGFzcz0ic2V0dGluZy1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VkaXRvckxpc3QnKSI+JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9FZGl0b3IiKX08L2xhYmVsPg0KCQkJPC9kaXY+DQoJCQk8c3BhbiBjbGFzcz0ic2V0dGluZy1pdGVtLWlucHV0Ij4NCgkJCQkjZm9yZWFjaCgkZWRpdG9yIGluICRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uRWRpdG9ycykNCgkJCQkjYmVmb3JlYWxsDQoJCQkJCTxzZWxlY3QgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRWRpdG9yTGlzdCcpIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VkaXRvckxpc3QnKSI+DQoJCQkJI2VhY2gNCgkJCQkJPG9wdGlvbiB2YWx1ZT0iJGVkaXRvci5WYWx1ZSIjaWYgKCRlZGl0b3IuVmFsdWUgPT0gJHVzZXIuRWRpdG9yVHlwZSkgc2VsZWN0ZWQ9InNlbGVjdGVkIiNlbmQ+JGVkaXRvci5OYW1lPC9vcHRpb24+DQoJCQkJI2FmdGVyYWxsDQoJCQkJCTwvc2VsZWN0Pg0KCQkJCSNlbmQNCgkJCTwvc3Bhbj4NCgkJPC9saT4NCgkJI2lmICgke2NvcmVfdjJfY29uZmlndXJhdGlvbi5FbmFibGVEaXNwbGF5TmFtZXN9KQ0KCQkJPGxpIGNsYXNzPSJzZXR0aW5nLWl0ZW0gc2V0dGluZy1lbmFibGUtZGlzcGxheS1uYW1lcyI+DQoJCQkJPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtLWxhYmVsIj48bGFiZWwgY2xhc3M9InNldHRpbmctaXRlbS1oZWFkZXIiIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdFbmFibGVEaXNwbGF5TmFtZXMnKSI+JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9EaXNwbGF5TmFtZSIpfTwvbGFiZWw+PC9kaXY+DQoJCQkJPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS1pbnB1dCI+PGlucHV0IHR5cGU9ImNoZWNrYm94IiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdFbmFibGVEaXNwbGF5TmFtZXMnKSIgI2lmICgke3VzZXIuRW5hYmxlRGlzcGxheU5hbWV9KSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+PC9zcGFuPg0KCQkJPC9saT4NCgkJI2VuZA0KCQk8bGkgY2xhc3M9InNldHRpbmctaXRlbSBzZXR0aW5nLWRpc3BsYXktaW4tbWVtYmVyLWxpc3QiPg0KCQkJPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtLWxhYmVsIj48bGFiZWwgY2xhc3M9InNldHRpbmctaXRlbS1oZWFkZXIiIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdFbmFibGVEaXNwbGF5SW5NZW1iZXJMaXN0JykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfRGlzcGxheUluTWVtYmVyTGlzdCIpfTwvbGFiZWw+PC9kaXY+DQoJCQk8c3BhbiBjbGFzcz0ic2V0dGluZy1pdGVtLWlucHV0Ij48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VuYWJsZURpc3BsYXlJbk1lbWJlckxpc3QnKSIgI2lmICgke3VzZXIuRW5hYmxlRGlzcGxheUluTWVtYmVyTGlzdH0pIGNoZWNrZWQ9ImNoZWNrZWQiICNlbmQgLz48L3NwYW4+DQoJCTwvbGk+DQoJCSNpZiAoJHtjb3JlX3YyX2NvbmZpZ3VyYXRpb24uRW5hYmxlRW1vdGljb25zfSkNCgkJPGxpIGNsYXNzPSJzZXR0aW5nLWl0ZW0gc2V0dGluZy1lbmFibGUtZW1vdGljb25zIj4NCgkJCTxkaXYgY2xhc3M9InNldHRpbmctaXRlbS1sYWJlbCI+PGxhYmVsIGNsYXNzPSJzZXR0aW5nLWl0ZW0taGVhZGVyIiBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRW5hYmxlRW1vdGljb25zJykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQWRtaW5fU2l0ZVNldHRpbmdzX0VuYWJsZUVtb3RpY29ucyIpfTwvbGFiZWw+PC9kaXY+DQoJCQk8c3BhbiBjbGFzcz0ic2V0dGluZy1pdGVtLWlucHV0Ij48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VuYWJsZUVtb3RpY29ucycpIiAjaWYgKCR7dXNlci5FbmFibGVFbW90aWNvbnN9KSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+PC9zcGFuPg0KCQk8L2xpPg0KCQkjZW5kDQoJCSNpZiAoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5FbmFibGVTaWduYXR1cmVzKQ0KCQkJPGxpIGNsYXNzPSJzZXR0aW5nLWl0ZW0gc2V0dGluZy1lbmFibGUtdXNlci1zaWduYXR1cmVzIj4NCgkJCQk8ZGl2IGNsYXNzPSJzZXR0aW5nLWl0ZW0tbGFiZWwiPjxsYWJlbCBjbGFzcz0ic2V0dGluZy1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VuYWJsZVVzZXJTaWduYXR1cmVzJykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfRW5hYmxlVXNlclNpZ25hdHVyZXMiKX08L2xhYmVsPjwvZGl2Pg0KCQkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLWl0ZW0taW5wdXQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRW5hYmxlVXNlclNpZ25hdHVyZXMnKSIgI2lmICgke3VzZXIuRW5hYmxlVXNlclNpZ25hdHVyZXN9KSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+PC9zcGFuPg0KCQkJPC9saT4NCgkJI2VuZA0KCQk8bGkgY2xhc3M9InNldHRpbmctaXRlbSBzZXR0aW5nLXRpbWUtem9uZSI+DQoJCQk8ZGl2IGNsYXNzPSJzZXR0aW5nLWl0ZW0tbGFiZWwiPjxsYWJlbCBjbGFzcz0ic2V0dGluZy1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1RpbWV6b25lJykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfQWJvdXRUaW1lWm9uZSIpfTwvbGFiZWw+PC9kaXY+DQoJCQk8c3BhbiBjbGFzcz0ic2V0dGluZy1pdGVtLWlucHV0Ij4NCgkJCQkjZm9yZWFjaCgkdGltZXpvbmUgaW4gJGNvcmVfdjJfY29uZmlndXJhdGlvbi5UaW1lWm9uZXMpDQoJCQkJI2JlZm9yZWFsbA0KCQkJCQk8c2VsZWN0IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1RpbWV6b25lJykiIG5hbWU9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnVGltZXpvbmUnKSI+DQoJCQkJI2VhY2gNCgkJCQkJPG9wdGlvbiB2YWx1ZT0iJHRpbWV6b25lLklkIiNpZiAoJHRpbWV6b25lLklkID09ICR1c2VyLlRpbWVab25lSWQpIHNlbGVjdGVkPSJzZWxlY3RlZCIjZW5kPiR0aW1lem9uZS5OYW1lPC9vcHRpb24+DQoJCQkJI2FmdGVyYWxsDQoJCQkJCTwvc2VsZWN0Pg0KCQkJCSNlbmQNCgkJCTwvc3Bhbj4NCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJzZXR0aW5nLWl0ZW0gc2V0dGluZy1kYXRlLWZvcm1hdCI+DQoJCQk8ZGl2IGNsYXNzPSJzZXR0aW5nLWl0ZW0tbGFiZWwiPjxsYWJlbCBjbGFzcz0ic2V0dGluZy1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0RhdGVGb3JtYXQnKSI+JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9PcHRpb25zRGF0ZUZvcm1hdCIpfTwvbGFiZWw+PC9kaXY+DQoJCQk8c3BhbiBjbGFzcz0ic2V0dGluZy1pdGVtLWlucHV0Ij4NCgkJCQkjZm9yZWFjaCgkZm9ybWF0IGluICRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uR2V0RGF0ZUZvcm1hdHMoJGxhbmd1YWdlKSkNCgkJCQkjYmVmb3JlYWxsDQoJCQkJCTxzZWxlY3QgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRGF0ZUZvcm1hdCcpIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0RhdGVGb3JtYXQnKSI+DQoJCQkJI2VhY2gNCgkJCQkJPG9wdGlvbiB2YWx1ZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZm9ybWF0LkZvcm1hdCkiI2lmICgkZm9ybWF0LkZvcm1hdCA9PSAkdXNlci5EYXRlRm9ybWF0KSBzZWxlY3RlZD0ic2VsZWN0ZWQiI2VuZD4kZm9ybWF0Lk5hbWU8L29wdGlvbj4NCgkJCQkjYWZ0ZXJhbGwNCgkJCQkJPC9zZWxlY3Q+DQoJCQkJI2VuZA0KCQkJPC9zcGFuPg0KCQk8L2xpPg0KCSA8L3VsPg0KPC9maWVsZHNldD4NCjxkaXYgY2xhc3M9InNldHRpbmctbGlzdC1mb290ZXIiPjwvZGl2Pg0KPGRpdiBjbGFzcz0ic2V0dGluZy1saXN0LWhlYWRlciI+PC9kaXY+DQo8ZmllbGRzZXQgY2xhc3M9InNldHRpbmctbGlzdCI+DQoJPGxlZ2VuZCBjbGFzcz0ic2V0dGluZy1saXN0LWRlc2NyaXB0aW9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiUHJvZmlsZV9FZGl0QXBpS2V5cyIpPC9sZWdlbmQ+DQoJPHVsIGNsYXNzPSJzZXR0aW5nLWxpc3QiPg0KCQk8bGkgY2xhc3M9InNldHRpbmctaXRlbSBzZXR0aW5nLWVkaXQtYXBpLWtleXMiPg0KCQkJPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS1pbnB1dCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml91cmxzLkFwaUtleXMoKSkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGVkaXQtYXBpLWtleXMiPjxzcGFuPjwvc3Bhbj4ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlByb2ZpbGVfRWRpdEFwaUtleXNEZXNjcmlwdGlvbiIpfTwvYT48L3NwYW4+DQoJCTwvbGk+DQoJPC91bD4NCjwvZmllbGRzZXQ+DQo8ZGl2IGNsYXNzPSJzZXR0aW5nLWxpc3QtZm9vdGVyIj48L2Rpdj4NCg==</file>
			<file name="basicoptions.vm">PGRpdiBjbGFzcz0ic2V0dGluZy1saXN0LWhlYWRlciI+PC9kaXY+DQo8ZmllbGRzZXQgY2xhc3M9InNldHRpbmctbGlzdCI+DQogICAgPGxlZ2VuZCBjbGFzcz0ic2V0dGluZy1saXN0LWRlc2NyaXB0aW9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ29yZV9FZGl0VXNlcl9CYXNpY0luZm9ybWF0aW9uIik8L2xlZ2VuZD4NCiAgICA8dWwgY2xhc3M9InNldHRpbmctbGlzdCI+DQogICAgCTxsaSBjbGFzcz0ic2V0dGluZy1pdGVtIHNldHRpbmctbmFtZSI+DQoJCSNpZiAoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5FbmFibGVEaXNwbGF5TmFtZXMpDQoJICAgIAkJPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtLWxhYmVsIj4NCgkgICAgCQkJPGxhYmVsIGNsYXNzPSJzZXR0aW5nLWl0ZW0taGVhZGVyIiBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQ29tbW9uTmFtZScpIj4ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0NvbW1vbk5hbWUiKX08L2xhYmVsPg0KCQkJCTwvZGl2Pg0KCQkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLWl0ZW0taW5wdXQiPjxpbnB1dCB0eXBlPSJ0ZXh0IiBzaXplPSIzMCIgbWF4bGVuZ3RoPSI1MCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQ29tbW9uTmFtZScpIiB2YWx1ZT0iJHt1c2VyLkRpc3BsYXlOYW1lfSIgLz48L3NwYW4+DQoJCQk8L2xpPg0KCQkjZW5kDQoJCTxsaSBjbGFzcz0ic2V0dGluZy1pdGVtIHNldHRpbmctYmlydGhkYXkiPg0KCQkJPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtLWxhYmVsIj4NCiAgICAJCQk8bGFiZWwgY2xhc3M9InNldHRpbmctaXRlbS1oZWFkZXIiIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdFbmFibGVCaXJ0aGRheScpIj4ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0JpcnRoZGF5Iil9PC9sYWJlbD4NCgkJCTwvZGl2Pg0KCQkJPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS1pbnB1dCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQmlydGhkYXknKSI+DQoJCQkJI2lmICgkdXNlci5CaXJ0aGRheSkNCgkJCQkJPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0JpcnRoZGF5JykiIHZhbHVlPSJOb3RTZXQiIC8+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIk5vdFNldCIpDQoJCQkJCTxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdCaXJ0aGRheScpIiB2YWx1ZT0iU2V0IiBjaGVja2VkPSJjaGVja2VkIiAvPg0KCQkJCQk8aW5wdXQgdHlwZT0idGV4dCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQmlydGhkYXlEYXRlJykiIHZhbHVlPSIkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCR1c2VyLkJpcnRoZGF5LCAneXl5eS1NTS1kZCcpIiBjbGFzcz0iZGF0ZXRpbWUtcGlja2VyIiAvPg0KCQkJCSNlbHNlDQoJCQkJCTxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdCaXJ0aGRheScpIiB2YWx1ZT0iTm90U2V0IiBjaGVja2VkPSJjaGVja2VkIiAvPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJOb3RTZXQiKQ0KCQkJCQk8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQmlydGhkYXknKSIgdmFsdWU9IlNldCIgLz4NCgkJCQkJPGlucHV0IHR5cGU9InRleHQiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0JpcnRoZGF5RGF0ZScpIiBkaXNhYmxlZD0iZGlzYWJsZWQiIGNsYXNzPSJkYXRldGltZS1waWNrZXIiIC8+DQoJCQkJI2VuZA0KCQkJPC9zcGFuPg0KCQk8L2xpPg0KCQkjaWYgKCRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uRW5hYmxlR2VuZGVyKQ0KCQkJPGxpIGNsYXNzPSJzZXR0aW5nLWl0ZW0gc2V0dGluZy1nZW5kZXIiPg0KCQkJCTxkaXYgY2xhc3M9InNldHRpbmctaXRlbS1sYWJlbCI+DQoJICAgIAkJCTxsYWJlbCBjbGFzcz0ic2V0dGluZy1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0dlbmRlcicpIj4ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0Fib3V0R2VuZGVyIil9PC9sYWJlbD4NCgkJCQk8L2Rpdj4NCgkJCQk8c3BhbiBjbGFzcz0ic2V0dGluZy1pdGVtLWlucHV0IiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdHZW5kZXInKSI+DQoJCQkJCTxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdHZW5kZXInKSIgI2lmICgkdXNlci5HZW5kZXIgPT0gIiIgfHwgJHVzZXIuR2VuZGVyID09ICJOb3RTZXQiKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIHZhbHVlPSJOb3RTZXQiIC8+DQoJCQkJCTxsYWJlbCBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnR2VuZGVyTm90U2V0JykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiTm90U2V0Iil9PC9sYWJlbD4NCgkJCQkJPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0dlbmRlcicpIiAjaWYgKCR1c2VyLkdlbmRlciA9PSAiTWFsZSIpIGNoZWNrZWQ9ImNoZWNrZWQiICNlbmQgdmFsdWU9Ik1hbGUiIC8+DQoJCQkJCTxsYWJlbCBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnR2VuZGVyTWFsZScpIj4ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIk1hbGUiKX08L2xhYmVsPg0KCQkJCQk8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnR2VuZGVyJykiICNpZiAoJHVzZXIuR2VuZGVyID09ICJGZW1hbGUiKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIHZhbHVlPSJGZW1hbGUiIC8+DQoJCQkJCTxsYWJlbCBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnR2VuZGVyRmVtYWxlJykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRmVtYWxlIil9PC9sYWJlbD4NCgkJCQk8L3NwYW4+DQoJCQk8L2xpPg0KCQkjZW5kDQoJCTxsaSBjbGFzcz0ic2V0dGluZy1pdGVtIHNldHRpbmctbGFuZ3VhZ2UiPg0KCQkJPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtLWxhYmVsIj4NCiAgICAJCQk8bGFiZWwgY2xhc3M9InNldHRpbmctaXRlbS1oZWFkZXIiIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdMYW5ndWFnZScpIj4ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX09wdGlvbnNMYW5ndWFnZSIpfTwvbGFiZWw+DQoJCQk8L2Rpdj4NCgkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLWl0ZW0taW5wdXQiPg0KCQkJCTxzZWxlY3QgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnTGFuZ3VhZ2UnKSI+DQoJCQkJCSNmb3JlYWNoICgkbGFuZ3VhZ2UgaW4gJGNvcmVfdjJfY29uZmlndXJhdGlvbi5MYW5ndWFnZXMpDQoJCQkJCSNlYWNoDQoJCQkJCQk8b3B0aW9uIHZhbHVlPSIkbGFuZ3VhZ2UuVmFsdWUiICNpZiAoJGxhbmd1YWdlLlZhbHVlID09ICR1c2VyLkxhbmd1YWdlKSBzZWxlY3RlZD0ic2VsZWN0ZWQiICNlbmQ+JGxhbmd1YWdlLk5hbWU8L29wdGlvbj4NCgkJCQkJI2VuZA0KCQkJCTwvc2VsZWN0Pg0KCQkJPC9zcGFuPg0KCQk8L2xpPg0KCQk8bGkgY2xhc3M9InNldHRpbmctaXRlbSBzZXR0aW5nLXB1YmxpYy1lbWFpbCI+DQoJCQk8ZGl2IGNsYXNzPSJzZXR0aW5nLWl0ZW0tbGFiZWwiPg0KICAgIAkJCTxsYWJlbCBjbGFzcz0ic2V0dGluZy1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1B1YmxpY0VtYWlsJykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfQ29udGFjdFB1YmxpY0VtYWlsIil9PC9sYWJlbD4NCgkJCTwvZGl2Pg0KCQkJPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS1pbnB1dCI+DQoJCQkJPGlucHV0IHR5cGU9InRleHQiIHNpemU9IjMwIiBtYXhsZW5ndGg9IjUwIiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdQdWJsaWNFbWFpbCcpIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1B1YmxpY0VtYWlsJykiIHZhbHVlPSIke3VzZXIuUHVibGljRW1haWx9IiAvPg0KCQkJPC9zcGFuPg0KCQkJPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4NCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJzZXR0aW5nLWl0ZW0gc2V0dGluZy1zaGFyZS1mYXZvcml0ZXMiPg0KCQkJPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtLWxhYmVsIj4NCiAgICAJCQk8bGFiZWwgY2xhc3M9InNldHRpbmctaXRlbS1oZWFkZXIiIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdTaGFyZUZhdm9yaXRlcycpIj4ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0Zhdm9yaXRlc19TaGFyZSIpfTwvbGFiZWw+DQoJCQk8L2Rpdj4NCgkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLWl0ZW0taW5wdXQiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1NoYXJlRmF2b3JpdGVzJykiPg0KCQkJCTxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdTaGFyZUZhdm9yaXRlcycpIiB2YWx1ZT0ib24iICNpZiAoJHVzZXIuRW5hYmxlRmF2b3JpdGVTaGFyaW5nKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJZZXMiKX0NCgkJCQk8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnU2hhcmVGYXZvcml0ZXMnKSIgdmFsdWU9Im9mZiIgI2lmICghJHVzZXIuRW5hYmxlRmF2b3JpdGVTaGFyaW5nKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJObyIpfQ0KCQkJPC9zcGFuPg0KCQk8L2xpPg0KCQk8bGkgY2xhc3M9InNldHRpbmctaXRlbSBzZXR0aW5nLXNoYXJlZC1mZWVkcyI+DQoJCQk8ZGl2IGNsYXNzPSJzZXR0aW5nLWl0ZW0tbGFiZWwiPg0KICAgIAkJCTxsYWJlbCBjbGFzcz0ic2V0dGluZy1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1Jzc0ZlZWRzJykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiVmlld1VzZXJQcm9maWxlX1RhYl9Sc3NGZWVkcyIpfTwvbGFiZWw+DQogICAgCQkJPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX1Jzc0ZlZWRzIik8L3NwYW4+DQogICAgCQk8L2Rpdj4NCgkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLWl0ZW0taW5wdXQiPg0KCQkJCTx0ZXh0YXJlYSBjb2xzPSIxMDAiIHJvd3M9IjUiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1Jzc0ZlZWRzJykiPiQhY29yZV92Ml91dGlsaXR5LkpvaW4oJGNvcmVfdjJfdXRpbGl0eS5OZXdMaW5lLCAkdXNlci5SU1NGZWVkcyk8L3RleHRhcmVhPg0KCQkJPC9zcGFuPg0KCQkJPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4NCgkJPC9saT4NCgkJI2lmICgkY29yZV92Ml9jb25maWd1cmF0aW9uLkVuYWJsZVNpZ25hdHVyZXMpDQoJCQk8bGkgY2xhc3M9InNldHRpbmctaXRlbSBzZXR0aW5nLXNpZ25hdHVyZSI+DQoJCQkJPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtLWxhYmVsIj4NCgkgICAgCQkJPGxhYmVsIGNsYXNzPSJzZXR0aW5nLWl0ZW0taGVhZGVyIiBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnU2lnbmF0dXJlJykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfQWJvdXRTaWduYXR1cmUiKX08L2xhYmVsPg0KCQkJCTwvZGl2Pg0KCQkJCTxzcGFuIGNsYXNzPSJzZXR0aW5nLWl0ZW0taW5wdXQiPiRjb3JlX3YyX2VkaXRvci5SZW5kZXIoJ1NpZ25hdHVyZScsIiV7V2lkdGg9JzEwMCUnLEhlaWdodD0nMjUwcHgnLFZhbHVlPSckIXVzZXIuU2lnbmF0dXJlJ30iKTwvc3Bhbj4NCgkJCQk8c3BhbiBjbGFzcz0ic2V0dGluZy1pdGVtLXZhbGlkYXRpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnU2lnbmF0dXJlVmFsaWRhdGlvbicpIj48L3NwYW4+DQoJCQk8L2xpPg0KCQkjZW5kDQoJPC91bD4NCjwvZmllbGRzZXQ+DQo8ZGl2IGNsYXNzPSJzZXR0aW5nLWxpc3QtZm9vdGVyIj48L2Rpdj4=</file>
			<file name="emaildigestgroups.vm">I3NldCgkZ3JvdXBzID0gJGNvcmVfdjJfZ3JvdXAuTGlzdCgiJXtVc2VySWQ9JGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQsUGFnZUluZGV4PTAsUGFnZVNpemU9MX0iKSkNCiNzZXQoJHN1YnNjcmlwdGlvbnMgPSAkY29yZV92Ml9lbWFpbERpZ2VzdC5MaXN0R3JvdXBTdWJzY3JpcHRpb25zV2l0aG91dE1lbWJlcnNoaXAoMCwgMSkpDQoNCjxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctZ3JvdXBzIj4NCgk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWdyb3Vwcy1oZWFkZXIiPg0KCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5ncy10YWJsZS10aXRsZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VkaXRQcm9maWxlX0VtYWlsRGlnZXN0VGFic19NeUdyb3Vwc1RpdGxlJyk8L2Rpdj4NCgkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZ3MtdGFibGUtZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9FbWFpbERpZ2VzdFRhYnNfTXlHcm91cHNEZXNjcmlwdGlvbicpPC9kaXY+DQoJPC9kaXY+DQoJI2lmKCRncm91cHMuVG90YWxDb3VudCA+IDApDQoJPGRpdiBzdHlsZT0iIj4NCgkJPHRhYmxlIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2VtYWlsRGlnZXN0R3JvdXBUYWJsZScpIiBjbGFzcz0iZW1haWwtc2V0dGluZy10YWJsZSI+DQoJCTx0aGVhZD4NCgkJPHRoIGNsYXNzPSJlbWFpbC1zZXR0aW5nLXRhYmxlLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VkaXRQcm9maWxlX0VtYWlsRGlnZXN0VGFic19Hcm91cEhlYWRlcicpPC90aD4NCgkJPHRoIGNsYXNzPSJlbWFpbC1zZXR0aW5nLXRhYmxlLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VkaXRQcm9maWxlX0VtYWlsRGlnZXN0VGFic19GcmVxdWVuY3lIZWFkZXInKTwvdGg+DQoJCTwvdGhlYWQ+DQoJCTx0Ym9keSBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdlbWFpbERpZ2VzdEdyb3VwVGFibGVCb2R5JykiPg0KCQk8L3Rib2R5Pg0KCQk8dGZvb3Q+DQoJCQk8dGggY29sc3Bhbj0iMiIgYWxpZ249ImNlbnRlciI+DQoJCQkJPGEgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnbW9yZUdyb3VwSWQnKSIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIj5Nb3JlPC9hPg0KCQkJPC90aD4NCgkJPC90Zm9vdD4NCgkJPC90YWJsZT4NCgk8L2Rpdj4NCgkJPGRpdiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdkaWdlc3RTZWxlY3RQb3B1cCcpIj4NCgkJPC9kaXY+DQoNCgkJI3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgpDQoJCQk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQoJCQkvLzwhW0NEQVRBWw0KCQkJalF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpDQoJCQl7DQoJCQkJalF1ZXJ5LnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5lZGl0VXNlci5lbWFpbERpZ2VzdC5yZWdpc3Rlcih7DQoJCQkJCXdyYXBwZXJJZCA6ICckY29yZV92Ml93aWRnZXQuV3JhcHBlckVsZW1lbnRJZCcsDQoJCQkJCXVzZXJJZDogJyRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nLklkJywNCgkJCQkJcGFnZVNpemU6IDEwLA0KCQkJCQl0YWJsZUlkOiAnJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdlbWFpbERpZ2VzdEdyb3VwVGFibGUnKScsDQoJCQkJCXRhYmxlQm9keUlkOiAnJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdlbWFpbERpZ2VzdEdyb3VwVGFibGVCb2R5JyknLA0KCQkJCQltb3JlVXJsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCdlbWFpbGRpZ2VzdGdyb3Vwc21vcmUudm0nKSknLA0KCQkJCQltb3JlSWQ6ICckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ21vcmVHcm91cElkJyknLA0KCQkJCQl0b3RhbENvdW50OiAkZ3JvdXBzLlRvdGFsQ291bnQNCgkJCQl9KTsNCgkJCX0pOw0KCQkJPC9zY3JpcHQ+DQoJCSNlbmQNCgkjZWxzZQ0KCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLW5vLXN1YnNjcmlwdGlvbnMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9FbWFpbERpZ2VzdFRhYnNfTm9EYXRhJyk8L2Rpdj4NCgkjZW5kDQo8L2Rpdj4NCjxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctZ3JvdXBzIj4NCgk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWdyb3Vwcy1oZWFkZXIiPg0KCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5ncy10YWJsZS10aXRsZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VkaXRQcm9maWxlX0VtYWlsRGlnZXN0VGFic19PdGhlckdyb3Vwc1RpdGxlJyk8L2Rpdj4NCgkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZ3MtdGFibGUtZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9FbWFpbERpZ2VzdFRhYnNfT3RoZXJHcm91cHNEZXNjcmlwdGlvbicpPC9kaXY+DQoJPC9kaXY+DQoJI2lmKCRzdWJzY3JpcHRpb25zLlRvdGFsQ291bnQgPiAwKQ0KCQk8dGFibGUgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnZW1haWxEaWdlc3RPdGhlckdyb3VwVGFibGUnKSIgY2xhc3M9ImVtYWlsLXNldHRpbmctdGFibGUiPg0KCQk8dGhlYWQ+DQoJCTx0aCBjbGFzcz0iZW1haWwtc2V0dGluZy10YWJsZS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9FbWFpbERpZ2VzdFRhYnNfT3RoZXJHcm91cEhlYWRlcicpPC90aD4NCgkJPHRoIGNsYXNzPSJlbWFpbC1zZXR0aW5nLXRhYmxlLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VkaXRQcm9maWxlX0VtYWlsRGlnZXN0VGFic19GcmVxdWVuY3lIZWFkZXInKTwvdGg+DQoJCTwvdGhlYWQ+DQoJCTx0Ym9keSBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdlbWFpbERpZ2VzdE90aGVyR3JvdXBUYWJsZUJvZHknKSI+DQoJCTwvdGJvZHk+DQoJCTx0Zm9vdD4NCgkJCTx0aCBjb2xzcGFuPSIyIiBhbGlnbj0iY2VudGVyIj4NCgkJCQk8YSBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdvdGhlck1vcmVHcm91cElkJykiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSI+TW9yZTwvYT4NCgkJCTwvdGg+DQoJCTwvdGZvb3Q+DQoJCTwvdGFibGU+DQoNCgkJPGRpdiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdkaWdlc3RTZWxlY3RQb3B1cCcpIj4NCgkJPC9kaXY+DQoNCgkJI3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgpDQoJCQk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+DQoJCQkvLzwhW0NEQVRBWw0KCQkJalF1ZXJ5KGRvY3VtZW50KS5yZWFkeShmdW5jdGlvbigpDQoJCQl7DQoJCQkJalF1ZXJ5LnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5lZGl0VXNlci5lbWFpbERpZ2VzdC5yZWdpc3Rlcih7DQoJCQkJCXdyYXBwZXJJZCA6ICckY29yZV92Ml93aWRnZXQuV3JhcHBlckVsZW1lbnRJZCcsDQoJCQkJCXVzZXJJZDogJyRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nLklkJywNCgkJCQkJcGFnZVNpemU6IDEwLA0KCQkJCQl0YWJsZUlkOiAnJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdlbWFpbERpZ2VzdE90aGVyR3JvdXBUYWJsZScpJywNCgkJCQkJdGFibGVCb2R5SWQ6ICckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2VtYWlsRGlnZXN0T3RoZXJHcm91cFRhYmxlQm9keScpJywNCgkJCQkJbW9yZVVybDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LkdldEV4ZWN1dGVkRmlsZVVybCgnZW1haWxkaWdlc3Rncm91cHNvdGhlcm1vcmUudm0nKSknLA0KCQkJCQltb3JlSWQ6ICckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ290aGVyTW9yZUdyb3VwSWQnKScsDQoJCQkJCXRvdGFsQ291bnQ6ICRzdWJzY3JpcHRpb25zLlRvdGFsQ291bnQNCgkJCQl9KTsNCgkJCX0pOw0KCQkJPC9zY3JpcHQ+DQoJCSNlbmQNCgkjZWxzZQ0KCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLW5vLXN1YnNjcmlwdGlvbnMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9FbWFpbERpZ2VzdFRhYnNfTm9EYXRhJyk8L2Rpdj4NCgkjZW5kDQo8L2Rpdj4NCjxkaXYgc3R5bGU9ImNsZWFyOiBib3RoIj48L2Rpdj4=</file>
			<file name="emaildigestgroupsmore.vm">I3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkNCiNzZXQgKCRwYWdlU2l6ZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VTaXplJykpKQ0KI3NldCAoJHVzZXJJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3VzZXJJZCcpKSkNCg0KI3NldCgkcm9sbHVwRGFpbHlNZXNzYWdlID0gJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X1JvbGx1cF9EYWlseScpKQ0KI2lmKCRyb2xsdXBEYWlseU1lc3NhZ2UuTGVuZ3RoID4gMjcpIA0KICAgICNzZXQoJHJvbGx1cERhaWx5TWVzc2FnZSA9ICIkcm9sbHVwRGFpbHlNZXNzYWdlLlN1YlN0cmluZygwLDI1KS4uLiIpDQojZW5kDQojc2V0KCRyb2xsdXBXZWVrbHlNZXNzYWdlID0gJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X1JvbGx1cF9XZWVrbHknKSkNCiNpZigkcm9sbHVwV2Vla2x5TWVzc2FnZS5MZW5ndGggPiAyNykgDQogICAgI3NldCgkcm9sbHVwV2Vla2x5TWVzc2FnZSA9ICIkcm9sbHVwV2Vla2x5TWVzc2FnZS5TdWJTdHJpbmcoMCwyNSkuLi4iKQ0KI2VuZA0KI3NldCgkcm9sbHVwVW5zdWJzY3JpYmVkID0gJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X1JvbGx1cF9Hcm91cFVuc3Vic2NyaWJlZCcpKQ0KI2lmKCRyb2xsdXBVbnN1YnNjcmliZWQuTGVuZ3RoID4gMjkpIA0KICAgICNzZXQoJHJvbGx1cFVuc3Vic2NyaWJlZCA9ICIkcm9sbHVwVW5zdWJzY3JpYmVkLlN1YlN0cmluZygwLDI3KS4uLiIpDQojZW5kDQoNCiNzZXQoJGdyb3VwcyA9ICRjb3JlX3YyX2dyb3VwLkxpc3QoIiV7VXNlcklkPSckdXNlcklkJyxQYWdlSW5kZXg9JHBhZ2VJbmRleCxQYWdlU2l6ZT0kcGFnZVNpemV9IikpDQojZm9yZWFjaCgkZ3JvdXAgaW4gJGdyb3VwcykNCjx0ciBjbGFzcz0iZW1haWwtc2V0dGluZy10YWJsZS1yb3ciPg0KPHRkPjxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctZ3JvdXAiPiRncm91cC5OYW1lPC9kaXY+PC90ZD4NCjx0ZD4NCgkjc2V0KCRzdWJzY3JpcHRpb24gPSBmYWxzZSkNCgkjc2V0KCRzdWJzY3JpcHRpb24gPSAkY29yZV92Ml9lbWFpbERpZ2VzdC5HZXRCeUdyb3VwKCRncm91cC5JZCkpDQoJPGRpdiBjbGFzcz0nZW1haWwtZGlnZXN0LXN1YnNjcmlwdGlvbic+DQoJCTxzcGFuIGlkPSckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2VtYWlsRGlnZXN0Um9sbHVwV3JhcHBlcicpXyRncm91cC5JZCcgY2xhc3M9J2VtYWlsLWRpZ2VzdC1yb2xsdXAnPg0KCQkJPHNwYW4gaWQ9JyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnZW1haWxEaWdlc3RSb2xsdXAnKV8kZ3JvdXAuSWQnPg0KCQkJI2lmKCRzdWJzY3JpcHRpb24gJiYgJHN1YnNjcmlwdGlvbi5GcmVxdWVuY3lJbkRheXMgPT0gMSkNCgkJCQkkcm9sbHVwRGFpbHlNZXNzYWdlDQoJCQkjZWxzZWlmKCRzdWJzY3JpcHRpb24gJiYgJHN1YnNjcmlwdGlvbi5GcmVxdWVuY3lJbkRheXMgPT0gNykNCgkJCQkkcm9sbHVwV2Vla2x5TWVzc2FnZQ0KCQkJI2Vsc2UNCgkJCQkkcm9sbHVwVW5zdWJzY3JpYmVkDQoJCQkjZW5kDQoJCQk8L3NwYW4+DQoJCQk8c3BhbiBjbGFzcz0nZHJvcC1kb3duLWFycm93Jz4mbmJzcDs8L3NwYW4+DQoJCTwvc3Bhbj4NCgk8L2Rpdj4NCjwvdGQ+DQo8L3RyPg0KCSNyZWdpc3RlckVuZE9mUGFnZUh0bWwoKQ0KCQk8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+DQoJCQlqUXVlcnkoZnVuY3Rpb24oKXsNCgkJCQlqUXVlcnkudGVsbGlnZW50LmV2b2x1dGlvbi5lbWFpbERpZ2VzdC5yZWdpc3Rlcih7DQoJCQkJCWNvbnRleHQ6ICdncm91cCcsDQoJCQkJCXN1YnNjcmlwdGlvbklkOiAnI2lmKCRzdWJzY3JpcHRpb24pJHN1YnNjcmlwdGlvbi5JZCNlbmQnLA0KCQkJCQlmcmVxdWVuY3k6ICNpZigkc3Vic2NyaXB0aW9uKSAkc3Vic2NyaXB0aW9uLkZyZXF1ZW5jeUluRGF5cyAjZWxzZSAwICNlbmQsDQoJCQkJCWNvbnRleHRJZDogJGdyb3VwLklkLA0KCQkJCQlyb2xsdXBUZXh0SWQ6ICckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2VtYWlsRGlnZXN0Um9sbHVwJylfJGdyb3VwLklkJywNCgkJCQkJc2VsZWN0UG9wdXBJZDogJyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnZGlnZXN0U2VsZWN0UG9wdXAnKScsDQoJCQkJCXNlbGVjdGFibGVUYWc6ICckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2VtYWlsLWRpZ2VzdC1zZWxlY3RhYmxlJylfJGdyb3VwLklkJywNCgkJCQkJcm9sbHVwV3JhcHBlcklkOiAnJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdlbWFpbERpZ2VzdFJvbGx1cFdyYXBwZXInKV8kZ3JvdXAuSWQnLA0KCQkJCQllbWFpbERpZ2VzdFVybDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LkdldEV4ZWN1dGVkRmlsZVVybCgnZW1haWxkaWdlc3R1cGRhdGUudm0nKSknLA0KCQkJCQlwb3B1cFVuc3Vic2NyaWJlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRW1haWxEaWdlc3RfU3Vic2NyaXB0aW9uU2VsZWN0T3B0aW9uc19VbnN1YnNjcmliZScpKScsDQoJCQkJCXBvcHVwRGFpbHk6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFbWFpbERpZ2VzdF9TdWJzY3JpcHRpb25TZWxlY3RPcHRpb25zX0RhaWx5JykpJywNCgkJCQkJcG9wdXBXZWVrbHk6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFbWFpbERpZ2VzdF9TdWJzY3JpcHRpb25TZWxlY3RPcHRpb25zX1dlZWtseScpKScsDQoJCQkJCXJvbGx1cFVuc3Vic2NyaWJlZDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHJvbGx1cFVuc3Vic2NyaWJlZCknLA0KCQkJCQlyb2xsdXBEYWlseTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHJvbGx1cERhaWx5TWVzc2FnZSknLA0KCQkJCQlyb2xsdXBXZWVrbHk6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRyb2xsdXBXZWVrbHlNZXNzYWdlKScsDQoJCQkJCWRhaWx5TWVzc2FnZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X01lc3NhZ2VfRGFpbHknKSknLA0KCQkJCQl3ZWVrbHlNZXNzYWdlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRW1haWxEaWdlc3RfTWVzc2FnZV9XZWVrbHknKSknLA0KCQkJCQl1bnN1YnNjcmliZUdyb3VwTWVzc2FnZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X01lc3NhZ2VfVW5zdWJzY3JpYmVkR3JvdXAnKSknLA0KCQkJCQllcnJvck1lc3NhZ2U6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFbWFpbERpZ2VzdF9TdWJzY3JpcHRpb25FcnJvcicpKScNCgkJCQl9KTsNCgkJCX0pOw0KCQk8L3NjcmlwdD4NCgkjZW5kDQojZW5kDQo=</file>
			<file name="emaildigestgroupsothermore.vm">I3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkNCiNzZXQgKCRwYWdlU2l6ZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VTaXplJykpKQ0KI3NldCAoJHVzZXJJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3VzZXJJZCcpKSkNCg0KI3NldCgkcm9sbHVwRGFpbHlNZXNzYWdlID0gJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X1JvbGx1cF9EYWlseScpKQ0KI2lmKCRyb2xsdXBEYWlseU1lc3NhZ2UuTGVuZ3RoID4gMjcpIA0KICAgICNzZXQoJHJvbGx1cERhaWx5TWVzc2FnZSA9ICIkcm9sbHVwRGFpbHlNZXNzYWdlLlN1YlN0cmluZygwLDI1KS4uLiIpDQojZW5kDQojc2V0KCRyb2xsdXBXZWVrbHlNZXNzYWdlID0gJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X1JvbGx1cF9XZWVrbHknKSkNCiNpZigkcm9sbHVwV2Vla2x5TWVzc2FnZS5MZW5ndGggPiAyNykgDQogICAgI3NldCgkcm9sbHVwV2Vla2x5TWVzc2FnZSA9ICIkcm9sbHVwV2Vla2x5TWVzc2FnZS5TdWJTdHJpbmcoMCwyNSkuLi4iKQ0KI2VuZA0KI3NldCgkcm9sbHVwVW5zdWJzY3JpYmVkID0gJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X1JvbGx1cF9Hcm91cFVuc3Vic2NyaWJlZCcpKQ0KI2lmKCRyb2xsdXBVbnN1YnNjcmliZWQuTGVuZ3RoID4gMjkpIA0KICAgICNzZXQoJHJvbGx1cFVuc3Vic2NyaWJlZCA9ICIkcm9sbHVwVW5zdWJzY3JpYmVkLlN1YlN0cmluZygwLDI3KS4uLiIpDQojZW5kDQoNCiNzZXQoJHN1YnNjcmlwdGlvbnMgPSAkY29yZV92Ml9lbWFpbERpZ2VzdC5MaXN0R3JvdXBTdWJzY3JpcHRpb25zV2l0aG91dE1lbWJlcnNoaXAoJHBhZ2VJbmRleCwgJHBhZ2VTaXplKSkNCiNmb3JlYWNoKCRzdWJzY3JpcHRpb24gaW4gJHN1YnNjcmlwdGlvbnMpDQojc2V0KCRncm91cCA9ICRjb3JlX3YyX2dyb3VwLkdldCgiJXtJZD0kc3Vic2NyaXB0aW9uLkNvbnRleHRJZH0iKSkNCgk8dHIgY2xhc3M9ImVtYWlsLXNldHRpbmctdGFibGUtcm93Ij4NCgk8dGQ+PGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1ncm91cCI+JGdyb3VwLk5hbWU8L2Rpdj48L3RkPg0KCTx0ZD4NCgkJPGRpdiBjbGFzcz0nZW1haWwtZGlnZXN0LXN1YnNjcmlwdGlvbic+DQoJCQk8c3BhbiBpZD0nJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdlbWFpbERpZ2VzdFJvbGx1cFdyYXBwZXInKV8kZ3JvdXAuSWQnIGNsYXNzPSdlbWFpbC1kaWdlc3Qtcm9sbHVwJz4NCgkJCQk8c3BhbiBpZD0nJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdlbWFpbERpZ2VzdFJvbGx1cCcpXyRncm91cC5JZCc+DQoJCQkJI2lmKCRzdWJzY3JpcHRpb24gJiYgJHN1YnNjcmlwdGlvbi5GcmVxdWVuY3lJbkRheXMgPT0gMSkNCgkJCQkJJHJvbGx1cERhaWx5TWVzc2FnZQ0KCQkJCSNlbHNlaWYoJHN1YnNjcmlwdGlvbiAmJiAkc3Vic2NyaXB0aW9uLkZyZXF1ZW5jeUluRGF5cyA9PSA3KQ0KCQkJCQkkcm9sbHVwV2Vla2x5TWVzc2FnZQ0KCQkJCSNlbHNlDQoJCQkJCSRyb2xsdXBVbnN1YnNjcmliZWQNCgkJCQkjZW5kDQoJCQkJPC9zcGFuPg0KCQkJCTxzcGFuIGNsYXNzPSdkcm9wLWRvd24tYXJyb3cnPiZuYnNwOzwvc3Bhbj4NCgkJCTwvc3Bhbj4NCgkJPC9kaXY+DQoJPC90ZD4NCgk8L3RyPg0KCSNyZWdpc3RlckVuZE9mUGFnZUh0bWwoKQ0KCQk8c2NyaXB0IHR5cGU9J3RleHQvamF2YXNjcmlwdCc+DQoJCQlqUXVlcnkoZnVuY3Rpb24oKXsNCgkJCQlqUXVlcnkudGVsbGlnZW50LmV2b2x1dGlvbi5lbWFpbERpZ2VzdC5yZWdpc3Rlcih7DQoJCQkJCWNvbnRleHQ6ICdncm91cCcsDQoJCQkJCXN1YnNjcmlwdGlvbklkOiAnJHN1YnNjcmlwdGlvbi5JZCcsDQoJCQkJCWZyZXF1ZW5jeTogJHN1YnNjcmlwdGlvbi5GcmVxdWVuY3lJbkRheXMsDQoJCQkJCWNvbnRleHRJZDogJGdyb3VwLklkLA0KCQkJCQlyb2xsdXBUZXh0SWQ6ICckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2VtYWlsRGlnZXN0Um9sbHVwJylfJGdyb3VwLklkJywNCgkJCQkJc2VsZWN0UG9wdXBJZDogJyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnZGlnZXN0U2VsZWN0UG9wdXAnKScsDQoJCQkJCXNlbGVjdGFibGVUYWc6ICckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2VtYWlsLWRpZ2VzdC1zZWxlY3RhYmxlJylfJGdyb3VwLklkJywNCgkJCQkJcm9sbHVwV3JhcHBlcklkOiAnJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdlbWFpbERpZ2VzdFJvbGx1cFdyYXBwZXInKV8kZ3JvdXAuSWQnLA0KCQkJCQllbWFpbERpZ2VzdFVybDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LkdldEV4ZWN1dGVkRmlsZVVybCgnZW1haWxkaWdlc3R1cGRhdGUudm0nKSknLA0KCQkJCQlwb3B1cFVuc3Vic2NyaWJlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRW1haWxEaWdlc3RfU3Vic2NyaXB0aW9uU2VsZWN0T3B0aW9uc19VbnN1YnNjcmliZScpKScsDQoJCQkJCXBvcHVwRGFpbHk6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFbWFpbERpZ2VzdF9TdWJzY3JpcHRpb25TZWxlY3RPcHRpb25zX0RhaWx5JykpJywNCgkJCQkJcG9wdXBXZWVrbHk6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFbWFpbERpZ2VzdF9TdWJzY3JpcHRpb25TZWxlY3RPcHRpb25zX1dlZWtseScpKScsDQoJCQkJCXJvbGx1cFVuc3Vic2NyaWJlZDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHJvbGx1cFVuc3Vic2NyaWJlZCknLA0KCQkJCQlyb2xsdXBEYWlseTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHJvbGx1cERhaWx5TWVzc2FnZSknLA0KCQkJCQlyb2xsdXBXZWVrbHk6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRyb2xsdXBXZWVrbHlNZXNzYWdlKScsDQoJCQkJCWRhaWx5TWVzc2FnZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X01lc3NhZ2VfRGFpbHknKSknLA0KCQkJCQl3ZWVrbHlNZXNzYWdlOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRW1haWxEaWdlc3RfTWVzc2FnZV9XZWVrbHknKSknLA0KCQkJCQl1bnN1YnNjcmliZUdyb3VwTWVzc2FnZTogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VtYWlsRGlnZXN0X01lc3NhZ2VfVW5zdWJzY3JpYmVkR3JvdXAnKSknLA0KCQkJCQllcnJvck1lc3NhZ2U6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFbWFpbERpZ2VzdF9TdWJzY3JpcHRpb25FcnJvcicpKScNCgkJCQl9KTsNCgkJCX0pOw0KCQk8L3NjcmlwdD4NCgkjZW5kDQojZW5k</file>
			<file name="emaildigestui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICAgICAkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5lZGl0VXNlciA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmVkaXRVc2VyID0ge307DQoJCQ0KCXZhciBfbW9yZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQl1cmw6IGNvbnRleHQubW9yZVVybCwNCgkJCWRhdGE6IHsNCgkJCQl3X3BhZ2VJbmRleDogY29udGV4dC5wYWdlSW5kZXgsDQoJCQkJd19wYWdlU2l6ZTogY29udGV4dC5wYWdlU2l6ZSwNCgkJCQl3X3VzZXJJZDogY29udGV4dC51c2VySWQNCgkJCX0sDQoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCgkJCXsNCgkJCQkkKCcjJyArIGNvbnRleHQudGFibGVCb2R5SWQpLmFwcGVuZChyZXNwb25zZSk7DQoJCQkJY29udGV4dC5ncm91cENvdW50QWRkZWQgKz0gY29udGV4dC5wYWdlU2l6ZTsNCgkJCQlpZihjb250ZXh0Lmdyb3VwQ291bnRBZGRlZCA+PSBjb250ZXh0LnRvdGFsQ291bnQpDQoJCQkJCSQoJyMnICsgY29udGV4dC5tb3JlSWQpLmhpZGUoKTsNCgkJCQljb250ZXh0LnBhZ2VJbmRleCsrOw0KCQkJfQ0KCQl9KTsNCgl9Ow0KCQ0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmVkaXRVc2VyLmVtYWlsRGlnZXN0ID0gew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KCQkJdmFyIHcgPSAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKTsNCgkJCWNvbnRleHQucGFnZUluZGV4ID0gMDsNCgkJCWNvbnRleHQuZ3JvdXBDb3VudEFkZGVkID0gMDsNCgkJCWNvbnRleHQuam9pbmxlc3NHcm91cENvdW50QWRkZWQgPSAwOw0KCQkJDQoJCQlfbW9yZShjb250ZXh0KTsNCgkJCSQoJyMnICsgY29udGV4dC5tb3JlSWQsIHcpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJCV9tb3JlKGNvbnRleHQpOw0KCQkJfSk7DQoJCX0NCgl9Ow0KfSkoalF1ZXJ5KTsNCg==</file>
			<file name="emaildigestupdate.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0ICgkc3Vic2NyaXB0aW9uSWQgPSAtMSkNCgkjc2V0ICgkc3Vic2NyaXB0aW9uSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzdWJzY3JpcHRpb25JZCcpKSkNCgkjc2V0ICgkZnJlcXVlbmN5ID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZnJlcXVlbmN5JykpKQ0KCSNzZXQgKCRjb250ZXh0ID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2NvbnRleHQnKSkNCgkjc2V0ICgkY29udGV4dElkID0gLTEpDQoJI3NldCAoJGNvbnRleHRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2NvbnRleHRJZCcpKSkNCg0KCXsNCgkjaWYoJGZyZXF1ZW5jeSA9PSAwICYmICRzdWJzY3JpcHRpb25JZCA+IDApDQoJCSNzZXQoJGRlbGV0ZUluZm8gPSAkY29yZV92Ml9lbWFpbERpZ2VzdC5EZWxldGUoJHN1YnNjcmlwdGlvbklkKSkNCgkJI3NldCgkd2FybmluZ3MgPSAkZGVsZXRlSW5mby5XYXJuaW5ncykNCgkJInN1Y2Nlc3MiIDogInRydWUiLA0KCQkiYWN0aW9uIiA6ICJkZWxldGUiDQoJI2Vsc2VpZigkZnJlcXVlbmN5ID4gMCAmJiAkc3Vic2NyaXB0aW9uSWQgPiAwKQ0KCQkjc2V0KCRzdWIgPSAkY29yZV92Ml9lbWFpbERpZ2VzdC5VcGRhdGUoJHN1YnNjcmlwdGlvbklkLCAkZnJlcXVlbmN5KSkNCgkJI3NldCgkd2FybmluZ3MgPSAkc3ViLldhcm5pbmdzKQ0KCQkic3VjY2VzcyIgOiAidHJ1ZSIsDQoJCSJhY3Rpb24iIDogInVwZGF0ZSINCgkjZWxzZWlmKCRmcmVxdWVuY3kgPiAwICYmICRzdWJzY3JpcHRpb25JZCA8PSAwKQ0KCQkjc2V0KCRzdWIgPSAkY29yZV92Ml9lbWFpbERpZ2VzdC5DcmVhdGUoJGNvbnRleHQsICRjb250ZXh0SWQsICRmcmVxdWVuY3kpKQ0KCQkjc2V0KCR3YXJuaW5ncyA9ICRzdWIuV2FybmluZ3MpDQoJCSJzdWNjZXNzIiA6ICJ0cnVlIiwNCgkJImFjdGlvbiIgOiAiY3JlYXRlIiwNCgkJInN1YnNjcmlwdGlvbklkIiA6ICIkc3ViLklkIg0KCSNlbHNlDQoJCSJzdWNjZXNzIiA6ICJ0cnVlIiwNCgkJImFjdGlvbiIgOiAibm9uZSINCgkjZW5kDQoJLCAid2FybmluZ3MiOlsNCgkJI2ZvcmVhY2ggKCR3YXJuaW5nIGluICR3YXJuaW5ncykNCgkJCSNlYWNoDQoJCQkJIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHdhcm5pbmcuTWVzc2FnZSkiDQoJCQkjYmV0d2Vlbg0KCQkJCSwNCgkJI2VuZA0KCV19DQojZW5kDQo=</file>
			<file name="emailoptions.vm">DQo8ZGl2IGNsYXNzPSJzZXR0aW5nLWxpc3QtaGVhZGVyIj48L2Rpdj4NCjxmaWVsZHNldCBjbGFzcz0ic2V0dGluZy1saXN0Ij4NCgk8ZGl2IGNsYXNzPSJlbWFpbC1ncm91cC1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0TG9naW5QcmVmZXJlbmNlc19FbWFpbCIpPC9kaXY+DQoNCgk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tZ3JvdXAiPg0KCQk8bGFiZWwgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1sYWJlbCIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1ByaXZhdGVFbWFpbCcpIj4NCgkJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9Db250YWN0UHJpdmF0ZUVtYWlsIik8L2Rpdj4NCgkJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0NvbnRhY3RQcml2YXRlRW1haWxEZXNjIik8L2Rpdj4NCgkJPC9sYWJlbD4NCgkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWlucHV0Ij48aW5wdXQgdHlwZT0idGV4dCIgc2l6ZT0iMzAiIG1heGxlbmd0aD0iNTAiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1ByaXZhdGVFbWFpbCcpIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1ByaXZhdGVFbWFpbCcpIiB2YWx1ZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXNlci5Qcml2YXRlRW1haWwpIiAvPjxzcGFuIGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tdmFsaWRhdGlvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L3NwYW4+PC9kaXY+DQoJPC9kaXY+DQoNCgkjaWYgKCRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uRW5hYmxlRW1haWwpDQoJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1ncm91cCI+DQoJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0gbGVmdCI+DQoJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWNoZWNrYm94aW5wdXQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnUmVjZWl2ZUVtYWlscycpIiAjaWYgKCR1c2VyLkVuYWJsZUVtYWlsKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+PC9kaXY+DQoJCQkJPGxhYmVsIGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tbGFiZWwiIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdSZWNlaXZlRW1haWxzJykiPg0KCQkJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfT3B0aW9uc1JlY2VpdmVFbWFpbHMiKTwvZGl2Pg0KCQkJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9PcHRpb25zUmVjZWl2ZUVtYWlsc0Rlc2MiKTwvZGl2Pg0KCQkJCTwvbGFiZWw+DQoJCQk8L2Rpdj4NCgkJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbSByaWdodCI+DQoJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWNoZWNrYm94aW5wdXQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRW5hYmxlSHRtbEVtYWlsJykiICNpZiAoJHVzZXIuRW5hYmxlSHRtbEVtYWlsKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+PC9kaXY+DQoJCQkJPGxhYmVsIGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tbGFiZWwiIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdFbmFibGVIdG1sRW1haWwnKSI+DQoJCQkJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9PcHRpb25zSHRtbEVtYWlsIik8L2Rpdj4NCgkJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfT3B0aW9uc0h0bWxFbWFpbERlc2MiKTwvZGl2Pg0KCQkJCTwvbGFiZWw+DQoJCQk8L2Rpdj4NCgkJCTxkaXYgc3R5bGU9ImNsZWFyOiBib3RoIj48L2Rpdj4NCgkJPC9kaXY+DQoNCgkJPGRpdiBjbGFzcz0iZW1haWwtZ3JvdXAtaGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdExvZ2luUHJlZmVyZW5jZXNfTm90aWZpY2F0aW9ucyIpPC9kaXY+DQoJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1ncm91cCI+DQoJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0gbGVmdCI+DQoJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWNoZWNrYm94aW5wdXQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRW5hYmxlRW1haWxUcmFja2luZycpIiAjaWYgKCR1c2VyLkVuYWJsZVRyYWNraW5nKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+PC9kaXY+DQoJCQkJPGxhYmVsIGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tbGFiZWwiIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdFbmFibGVFbWFpbFRyYWNraW5nJykiPg0KCQkJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfT3B0aW9uc0VtYWlsVHJhY2tpbmciKTwvZGl2Pg0KCQkJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9PcHRpb25zRW1haWxUcmFja2luZ0Rlc2MiKTwvZGl2Pg0KCQkJCTwvbGFiZWw+DQoJCQk8L2Rpdj4NCgkJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbSByaWdodCI+DQoJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWNoZWNrYm94aW5wdXQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRW5hYmxlQ29tbWVudE5vdGlmaWNhdGlvbnMnKSIgI2lmICgkdXNlci5FbmFibGVDb21tZW50Tm90aWZpY2F0aW9ucykgY2hlY2tlZD0iY2hlY2tlZCIgI2VuZCAvPjwvZGl2Pg0KCQkJCTxsYWJlbCBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWxhYmVsIiBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRW5hYmxlQ29tbWVudE5vdGlmaWNhdGlvbnMnKSI+DQoJCQkJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJBZG1pbl9TaXRlU2V0dGluZ3NfRW5hYmxlQ29tbWVudE5vdGlmaWNhdGlvbnMiKTwvZGl2Pg0KCQkJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJBZG1pbl9TaXRlU2V0dGluZ3NfRW5hYmxlQ29tbWVudE5vdGlmaWNhdGlvbnNfRGVzYyIpPC9kaXY+DQoJCQkJPC9sYWJlbD4NCgkJCTwvZGl2Pg0KCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtIGxlZnQiPg0KCQkJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1jaGVja2JveGlucHV0Ij48aW5wdXQgdHlwZT0iY2hlY2tib3giIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VuYWJsZUNvbnZlcnNhdGlvbk5vdGlmaWNhdGlvbnMnKSIgI2lmICgkdXNlci5FbmFibGVDb252ZXJzYXRpb25Ob3RpZmljYXRpb25zKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+PC9kaXY+DQoJCQkJPGxhYmVsIGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tbGFiZWwiIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdFbmFibGVDb252ZXJzYXRpb25Ob3RpZmljYXRpb25zJykiPg0KCQkJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQWRtaW5fU2l0ZVNldHRpbmdzX0VuYWJsZUNvbnZlcnNhdGlvbk5vdGlmaWNhdGlvbnMiKTwvZGl2Pg0KCQkJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJBZG1pbl9TaXRlU2V0dGluZ3NfRW5hYmxlQ29udmVyc2F0aW9uTm90aWZpY2F0aW9uc19EZXNjIik8L2Rpdj4NCgkJCQk8L2xhYmVsPg0KCQkJPC9kaXY+DQoJCQk8ZGl2IHN0eWxlPSJjbGVhcjogYm90aCI+PC9kaXY+DQoJCTwvZGl2Pg0KDQoJCSNpZiAoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5TaG93Q29udGFjdENoZWNrYm94ZXMpDQoJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tZ3JvdXAiPg0KCQkJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbSBsZWZ0Ij4NCgkJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWNoZWNrYm94aW5wdXQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQWxsb3dTaXRlVG9Db250YWN0JykiICNpZiAoJHVzZXIuQWxsb3dTaXRlVG9Db250YWN0KSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+PC9kaXY+DQoJCQkJCTxsYWJlbCBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWxhYmVsIiBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQWxsb3dTaXRlVG9Db250YWN0JykiPg0KCQkJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0FsbG93U2l0ZVRvQ29udGFjdCIpPC9kaXY+DQoJCQkJCQk8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9BbGxvd1NpdGVUb0NvbnRhY3RfRGVzYyIpPC9kaXY+DQoJCQkJCTwvbGFiZWw+DQoJCQkJPC9kaXY+DQoJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtIHJpZ2h0Ij4NCgkJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWNoZWNrYm94aW5wdXQiPjxpbnB1dCB0eXBlPSJjaGVja2JveCIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQWxsb3dTaXRlUGFydG5lcnNUb0NvbnRhY3QnKSIgI2lmICgkdXNlci5BbGxvd1NpdGVQYXJ0bmVyc1RvQ29udGFjdCkgY2hlY2tlZD0iY2hlY2tlZCIgI2VuZCAvPjwvZGl2Pg0KCQkJCQk8bGFiZWwgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1sYWJlbCIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0FsbG93U2l0ZVBhcnRuZXJzVG9Db250YWN0JykiPg0KCQkJCQkJPGRpdiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0FsbG93U2l0ZVBhcnRuZXJzVG9Db250YWN0Iik8L2Rpdj4NCgkJCQkJCTxkaXYgY2xhc3M9ImVtYWlsLXNldHRpbmctaXRlbS1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0FsbG93U2l0ZVBhcnRuZXJzVG9Db250YWN0X0Rlc2MiKTwvZGl2Pg0KCQkJCQk8L2xhYmVsPg0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgc3R5bGU9ImNsZWFyOiBib3RoIj48L2Rpdj4NCgkJCTwvZGl2Pg0KCQkjZW5kDQoJI2VuZA0KPC9maWVsZHNldD4NCjxkaXYgY2xhc3M9InNldHRpbmctbGlzdC1mb290ZXIiPjwvZGl2Pg0KDQojaWYgKCRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uRW5hYmxlQ29udmVyc2F0aW9ucykNCjxkaXYgY2xhc3M9ImVtYWlsLWdyb3VwLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0NvbnZlcnNhdGlvbnNQcmVmZXJlbmNlcyIpPC9kaXY+DQo8ZGl2IGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tZ3JvdXAiPg0KCTxzcGFuIGNsYXNzPSJlbWFpbC1zZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9BbGxvd0NvbnZlcnNhdGlvbnNGcm9tRGVzY3JpcHRpb24iKTwvc3Bhbj4NCgk8c3BhbiBjbGFzcz0iZW1haWwtc2V0dGluZy1pdGVtLWlucHV0IiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdDb252ZXJzYXRpb25Db250YWN0VHlwZScpIj4NCgkJPGlucHV0IHR5cGU9InJhZGlvIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0NvbnZlcnNhdGlvbkNvbnRhY3RUeXBlJykiIHZhbHVlPSJOb25lIiAjaWYgKCR1c2VyLkNvbnZlcnNhdGlvbkNvbnRhY3RUeXBlID09ICIiIHx8ICR1c2VyLkNvbnZlcnNhdGlvbkNvbnRhY3RUeXBlID09ICJOb25lIikgY2hlY2tlZD0iY2hlY2tlZCIgI2VuZCAvPg0KCQk8bGFiZWwgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1VzZXJDb250YWN0VHlwZU5vbmUnKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRQcm9maWxlX0FsbG93Q29udmVyc2F0aW9uc0Zyb21Ob25lIik8L2xhYmVsPg0KCQk8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQ29udmVyc2F0aW9uQ29udGFjdFR5cGUnKSIgdmFsdWU9IkZyaWVuZHNPbmx5IiAjaWYgKCR1c2VyLkNvbnZlcnNhdGlvbkNvbnRhY3RUeXBlID09ICJGcmllbmRzT25seSIpIGNoZWNrZWQ9ImNoZWNrZWQiICNlbmQgLz4NCgkJPGxhYmVsIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdVc2VyQ29udGFjdFR5cGVGcmllbmRzT25seScpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfQWxsb3dDb252ZXJzYXRpb25zRnJvbUZyaWVuZHNPbmx5Iik8L2xhYmVsPg0KCQk8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQ29udmVyc2F0aW9uQ29udGFjdFR5cGUnKSIgdmFsdWU9IkFsbFVzZXJzIiAjaWYgKCR1c2VyLkNvbnZlcnNhdGlvbkNvbnRhY3RUeXBlID09ICJBbGxVc2VycyIpIGNoZWNrZWQ9ImNoZWNrZWQiICNlbmQgLz4NCgkJPGxhYmVsIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdVc2VyQ29udGFjdFR5cGVBbGxVc2VycycpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfQWxsb3dDb252ZXJzYXRpb25zRnJvbUFsbFVzZXJzIik8L2xhYmVsPg0KCTwvc3Bhbj4NCjwvZGl2Pg0KI2VuZA0KDQojaWYoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5FbmFibGVFbWFpbERpZ2VzdCkNCgk8ZGl2IGNsYXNzPSJlbWFpbC1ncm91cC1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9FbWFpbERpZ2VzdEhlYWRpbmciKTwvZGl2Pg0KCTxkaXYgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRW1haWxEaWdlc3RUYWJzJykiPg0KCQk8ZGl2IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VtYWlsRGlnZXN0R3JvdXBzJykiPg0KCQkJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdlbWFpbGRpZ2VzdGdyb3Vwcy52bScpDQoJCTwvZGl2Pg0KCTwvZGl2Pg0KI2VuZA==</file>
			<file name="getdateformats.vm">I3NldCgkbGFuZ3VhZ2UgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfbGFuZ3VhZ2UnKSkNCiNmb3JlYWNoKCRmb3JtYXQgaW4gJGNvcmVfdjJfY29uZmlndXJhdGlvbi5HZXREYXRlRm9ybWF0cygkbGFuZ3VhZ2UpKQ0KCTxvcHRpb24gdmFsdWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZvcm1hdC5Gb3JtYXQpIiNpZiAoJGZvcm1hdC5Gb3JtYXQgPT0gJHVzZXIuRGF0ZUZvcm1hdCkgc2VsZWN0ZWQ9InNlbGVjdGVkIiNlbmQ+JGZvcm1hdC5OYW1lPC9vcHRpb24+DQojZW5kDQo=</file>
			<file name="notificationoptions.vm">I3NldCAoJG5vdGlmaWNhdGlvblR5cGVzID0gJGNvcmVfdjJfbm90aWZpY2F0aW9uVHlwZS5MaXN0KCkpCiNzZXQgKCRub3RpZmljYXRpb25EaXN0cmlidXRpb25UeXBlcyA9ICRjb3JlX3YyX25vdGlmaWNhdGlvbkRpc3RyaWJ1dGlvblR5cGUuTGlzdCgpKQojc2V0ICgkdXNlclByZWZlcmVuY2VzID0gJGNvcmVfdjJfbm90aWZpY2F0aW9uVXNlclByZWZlcmVuY2UuTGlzdCgpKQojc2V0ICgkZGlzdHJpYnV0aW9uVHlwZUNvdW50ID0gZmFsc2UpCiNzZXQgKCRkaXN0cmlidXRpb25UeXBlQ291bnQgPSAkbm90aWZpY2F0aW9uRGlzdHJpYnV0aW9uVHlwZXMuY291bnQpCiNzZXQgKCRkaXN0cmlidXRpb25Db2x1bW5zID0gJGRpc3RyaWJ1dGlvblR5cGVDb3VudCAqIDEpCiNzZXQgKCR0b3RhbENvbHVtbnMgPSAzICsgJGRpc3RyaWJ1dGlvbkNvbHVtbnMpCiNzZXQgKCRjYXRlZ29yeSA9ICIiKQoKPGRpdiBjbGFzcz0ic2V0dGluZy1saXN0LWhlYWRlciI+PC9kaXY+CjxmaWVsZHNldCBjbGFzcz0ic2V0dGluZy1saXN0Ij4KICAgIDxsZWdlbmQgY2xhc3M9InNldHRpbmctbGlzdC1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VkaXRQcm9maWxlX05vdGlmaWNhdGlvbnNUaXRsZScpPC9sZWdlbmQ+CiAgICA8bGFiZWwgY2xhc3M9Im5vdGlmaWNhdGlvbi1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0VkaXRQcm9maWxlX05vdGlmaWNhdGlvbnNEZXNjcmlwdGlvbicpPC9sYWJlbD4KCiAgICAjZm9yZWFjaCAoJG5vdGlmaWNhdGlvblR5cGUgaW4gJG5vdGlmaWNhdGlvblR5cGVzKQogICAgI2JlZm9yZWFsbAogICAgICAgIDx0YWJsZSBjbGFzcz0ibm90aWZpY2F0aW9uLXNldHRpbmctaXRlbS1ncm91cCI+CiAgICAjZWFjaAogICAgICAgICNzZXQgKCRub3RpZmljYXRpb25UeXBlRW5hYmxlZCA9IGZhbHNlKQogICAgICAgICNmb3JlYWNoKCRwcmVmZXJlbmNlIGluICR1c2VyUHJlZmVyZW5jZXMuUHJlZmVyZW5jZXMpCgkJI2lmICgkcHJlZmVyZW5jZS5Ob3RpZmljYXRpb25UeXBlSWQgPT0gJG5vdGlmaWNhdGlvblR5cGUuTm90aWZpY2F0aW9uVHlwZUlkICYmICEkcHJlZmVyZW5jZS5EaXN0cmlidXRpb25UeXBlKQoJCQkjc2V0KCRub3RpZmljYXRpb25UeXBlRW5hYmxlZCA9ICRwcmVmZXJlbmNlLklzRW5hYmxlZCkKCQkjZW5kCgkjZW5kCiAgICAgICAgI2lmICgkbm90aWZpY2F0aW9uVHlwZS5DYXRlZ29yeSAhPSAkY2F0ZWdvcnkpCiAgICAgICAgICAgICNzZXQgKCRjYXRlZ29yeSA9ICRub3RpZmljYXRpb25UeXBlLkNhdGVnb3J5KQogICAgICAgICAgICA8dHI+CiAgICAgICAgICAgICAgICA8dGggY29sc3Bhbj0iJHRvdGFsQ29sdW1ucyI+CiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJub3RpZmljYXRpb24tY2F0ZWdvcnktbGFiZWwiPiRub3RpZmljYXRpb25UeXBlLkNhdGVnb3J5PC9sYWJlbD4KICAgICAgICAgICAgICAgIDwvdGg+CiAgICAgICAgICAgIDwvdHI+CiAgICAgICAgICAgIDx0cj4KICAgICAgICAgICAgICAgIDx0aCBjb2xzcGFuPSIyIj4KICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9Im5vdGlmaWNhdGlvbi1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05vdGlmaWNhdGlvbnNfTm90aWZ5V2hlbicpPC9sYWJlbD4KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBjbGFzcz0ibXVsdGlTZWxlY3RvciBhbGwiIGRhdGEtY2F0ZWdvcnk9IiRjYXRlZ29yeSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlbGVjdEFsbCcpPC9hPgogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIGNsYXNzPSJtdWx0aVNlbGVjdG9yIG5vbmUiIGRhdGEtY2F0ZWdvcnk9IiRjYXRlZ29yeSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0RlU2VsZWN0QWxsJyk8L2E+CiAgICAgICAgICAgICAgICA8L3RoPgogICAgICAgICAgICAgICAgPHRoPgogICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0ibm90aWZpY2F0aW9uLWRlc2NyaXB0aW9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTm90aWZpY2F0aW9uc19Ob3RpZnlCeScpPC9sYWJlbD4KICAgICAgICAgICAgICAgIDwvdGg+CiAgICAgICAgICAgICAgICAjZm9yZWFjaCAoJGRpc3RyaWJ1dGlvblR5cGUgaW4gJG5vdGlmaWNhdGlvbkRpc3RyaWJ1dGlvblR5cGVzKQogICAgICAgICAgICAgICAgICAgIDx0aCAgY2xhc3M9Im5vdGlmaWNhdGlvbi1kaXN0cmlidXRpb24tdHlwZS1oZWFkZXIiPgogICAgICAgICAgICAgICAgICAgICAgICAjc2V0ICgkbXVsdGlTZWxlY3RvckNhdGVnb3J5ID0gIiR7Y2F0ZWdvcnl9LSR7ZGlzdHJpYnV0aW9uVHlwZS5EaXN0cmlidXRpb25UeXBlSWR9IikKICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJub3RpZmljYXRpb24tZGlzdHJpYnV0aW9uLXR5cGUiPiRkaXN0cmlidXRpb25UeXBlLk5hbWU8L2xhYmVsPgogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBjbGFzcz0ibXVsdGlTZWxlY3RvciBhbGwiIGRhdGEtY2F0ZWdvcnk9IiRtdWx0aVNlbGVjdG9yQ2F0ZWdvcnkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTZWxlY3RBbGwnKTwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9Im11bHRpU2VsZWN0b3Igbm9uZSIgZGF0YS1jYXRlZ29yeT0iJG11bHRpU2VsZWN0b3JDYXRlZ29yeSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0RlU2VsZWN0QWxsJyk8L2E+CiAgICAgICAgICAgICAgICAgICAgPC90aD4KICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgPC90cj4KICAgICAgICAjZW5kCiAgICAgICAgPHRyICNpZiAoISRub3RpZmljYXRpb25UeXBlRW5hYmxlZCkgY2xhc3M9ImRpc2FibGVkIiAjZW5kCiAgICAgICAgICAgIGNsYXNzPSJub3RpZmljYXRpb24tc2V0dGluZy1pdGVtIj4KICAgICAgICAgICAgI3NldCAoJG5vdGlmaWNhdGlvblR5cGVOYW1lID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCJub3RpZmljYXRpb25UeXBlOiR7bm90aWZpY2F0aW9uVHlwZS5Ob3RpZmljYXRpb25UeXBlSWR9IikpCiAgICAgICAgICAgIDx0ZCBjbGFzcz0ibm90aWZpY2F0aW9uLXNldHRpbmctaXRlbS1jaGVja2JveGlucHV0Ij4KICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIKICAgICAgICAgICAgICAgICAgICBjbGFzcz0ibm90aWZpY2F0aW9uVHlwZSBtdWx0aVNlbGVjdGFibGUiCiAgICAgICAgICAgICAgICAgICAgZGF0YS1jYXRlZ29yeT0iJGNhdGVnb3J5IgogICAgICAgICAgICAgICAgICAgIG5hbWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG5vdGlmaWNhdGlvblR5cGVOYW1lKSIKICAgICAgICAgICAgICAgICAgICBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbm90aWZpY2F0aW9uVHlwZU5hbWUpIgogICAgICAgICAgICAgICAgICAgIHZhbHVlPSIkbm90aWZpY2F0aW9uVHlwZS5Ob3RpZmljYXRpb25UeXBlSWQiCiAgICAgICAgICAgICAgICAgICAgI2lmICgkbm90aWZpY2F0aW9uVHlwZUVuYWJsZWQpIGRhdGEtZW5hYmxlZD0idHJ1ZSIgI2Vsc2UgZGF0YS1lbmFibGVkPSJmYWxzZSIgI2VuZAogICAgICAgICAgICAgICAgICAgIGRhdGEtbm90aWZpY2F0aW9udHlwZT0iJG5vdGlmaWNhdGlvblR5cGUuTm90aWZpY2F0aW9uVHlwZUlkIgogICAgICAgICAgICAgICAgICAgICNpZiAoJG5vdGlmaWNhdGlvblR5cGVFbmFibGVkKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+CiAgICAgICAgICAgIDwvdGQ+CiAgICAgICAgICAgIDx0ZCBjbGFzcz0ibm90aWZpY2F0aW9uLXNldHRpbmctaXRlbS1sYWJlbCI+CiAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRub3RpZmljYXRpb25UeXBlTmFtZSkiPiRub3RpZmljYXRpb25UeXBlLkRlc2NyaXB0aW9uPC9sYWJlbD4KICAgICAgICAgICAgPC90ZD4KICAgICAgICAgICAgPHRkPjwvdGQ+CiAgICAgICAgICAgICNmb3JlYWNoICgkZGlzdHJpYnV0aW9uVHlwZSBpbiAkbm90aWZpY2F0aW9uRGlzdHJpYnV0aW9uVHlwZXMpCiAgICAgICAgICAgICAgICAjc2V0ICgkZGlzdHJpYnV0aW9uVHlwZUVuYWJsZWQgPSBmYWxzZSkKICAgICAgICAgICAgICAgICNmb3JlYWNoKCRwcmVmZXJlbmNlIGluICR1c2VyUHJlZmVyZW5jZXMuUHJlZmVyZW5jZXMpCgkJCSNpZiAoJHByZWZlcmVuY2UuTm90aWZpY2F0aW9uVHlwZUlkID09ICRub3RpZmljYXRpb25UeXBlLk5vdGlmaWNhdGlvblR5cGVJZCAmJiAkcHJlZmVyZW5jZS5EaXN0cmlidXRpb25UeXBlSWQgPT0gJGRpc3RyaWJ1dGlvblR5cGUuRGlzdHJpYnV0aW9uVHlwZUlkKQoJCQkJI3NldCgkZGlzdHJpYnV0aW9uVHlwZUVuYWJsZWQgPSAkcHJlZmVyZW5jZS5Jc0VuYWJsZWQpCgkJCSNlbmQKCQkjZW5kCiAgICAgICAgICAgICAgICAjc2V0ICgkbXVsdGlTZWxlY3RvckNhdGVnb3J5ID0gIiR7Y2F0ZWdvcnl9LSR7ZGlzdHJpYnV0aW9uVHlwZS5EaXN0cmlidXRpb25UeXBlSWR9IikKICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0ibm90aWZpY2F0aW9uLXNldHRpbmctaXRlbS1jaGVja2JveGlucHV0Ij4KICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT0iY2hlY2tib3giCiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPSJkaXN0cmlidXRpb25UeXBlIG11bHRpU2VsZWN0YWJsZSIKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1jYXRlZ29yeT0iJG11bHRpU2VsZWN0b3JDYXRlZ29yeSIKICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9IiRkaXN0cmlidXRpb25UeXBlLkRpc3RyaWJ1dGlvblR5cGVJZCIKICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1ub3RpZmljYXRpb250eXBlPSIkbm90aWZpY2F0aW9uVHlwZS5Ob3RpZmljYXRpb25UeXBlSWQiCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZGlzdHJpYnV0aW9udHlwZT0iJGRpc3RyaWJ1dGlvblR5cGUuRGlzdHJpYnV0aW9uVHlwZUlkIgogICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRkaXN0cmlidXRpb25UeXBlRW5hYmxlZCkgZGF0YS1lbmFibGVkPSJ0cnVlIiAjZWxzZSBkYXRhLWVuYWJsZWQ9ImZhbHNlIiAjZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoISRub3RpZmljYXRpb25UeXBlRW5hYmxlZCkgZGlzYWJsZWQ9ImRpc2FibGVkIiAjZW5kCiAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJGRpc3RyaWJ1dGlvblR5cGVFbmFibGVkKSBjaGVja2VkPSJjaGVja2VkIiAjZW5kIC8+CiAgICAgICAgICAgICAgICA8L3RkPgogICAgICAgICAgICAjZW5kCiAgICAgICAgPC90cj4KICAgICNhZnRlcmFsbAogICAgICAgIDwvdGFibGU+CiAgICAjZW5kCgo8L2ZpZWxkc2V0Pgo8ZGl2IGNsYXNzPSJzZXR0aW5nLWxpc3QtZm9vdGVyIj48L2Rpdj4KCg==</file>
			<file name="resetpassword.vm">JGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQoNCiNzZXQoJHVzZXIgPSBmYWxzZSkNCiNzZXQoJHVzZXIgPSAkY29yZV92Ml91c2VyLkFjY2Vzc2luZykNCg0KI2lmKCR1c2VyKQ0KCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uU2VuZENoYW5nZVBhc3N3b3JkRW1haWwoJHVzZXIuSWQpKQ0KCSNpZiAoJHJlc3BvbnNlLkVycm9ycy5Db3VudCA9PSAwKQ0KCQl7Im1lc3NhZ2UiOiI8Yj4kY29yZV92Ml9lbmNvZGluZy5KYXZhU2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdGb3Jnb3R0ZW5QYXNzd29yZF9QYXNzd29yZExpbmtTZW50VGl0bGUnKSk8L2I+PGRpdj4kY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRm9yZ290dGVuUGFzc3dvcmRfUGFzc3dvcmRMaW5rU2VudE1lc3NhZ2UnKSwgJHVzZXIuUHJpdmF0ZUVtYWlsKSk8L2Rpdj4ifQ0KCSNlbHNlDQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkcmVzcG9uc2UuRXJyb3JzKQ0KCSNlbmQNCiNlbHNlDQoJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCdUaGUgcmVxdWVzdGVkIHVzZXIgY291bGQgbm90IGJlIHJldHJpZXZlZC4nKQ0KI2VuZA==</file>
			<file name="signininformation.vm">PGRpdiBjbGFzcz0ibWVzc2FnZSBzdWNjZXNzIiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdSZXNldFBhc3N3b3JkTWVzc2FnZScpIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvZGl2Pg0KDQo8ZGl2IGNsYXNzPSJzZXR0aW5nLWxpc3QtaGVhZGVyIj48L2Rpdj4NCjxmaWVsZHNldCBjbGFzcz0ic2V0dGluZy1saXN0Ij4NCiAgICA8bGVnZW5kIGNsYXNzPSJzZXR0aW5nLWxpc3QtZGVzY3JpcHRpb24iPg0KICAgICNpZiAoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5BdXRoZW50aWNhdGlvblR5cGUgPT0gIndpbmRvd3MiKQ0KICAgIAkke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRMb2dpblByZWZlcmVuY2VzX09mZmxpbmVCbG9nZ2luZyIpfQ0KICAgICNlbHNlDQogICAgCSR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdExvZ2luUHJlZmVyZW5jZXNfTG9naW4iKX0NCiAgICAjZW5kDQogICAgPC9sZWdlbmQ+DQogICAgPHVsIGNsYXNzPSJzZXR0aW5nLWxpc3QiPg0KICAgIAk8bGkgY2xhc3M9InNldHRpbmctaXRlbSBzZXR0aW5nLXNpZ24taW4tbmFtZSI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzZXR0aW5nLWl0ZW0tbGFiZWwiPg0KICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0ic2V0dGluZy1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1VzZXJOYW1lRGlzcGxheScpIj4ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRMb2dpblByZWZlcmVuY2VzX1NpZ25Jbk5hbWUiKX08L2xhYmVsPg0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0TG9naW5QcmVmZXJlbmNlc19TaWduSW5OYW1lRGVzYyIpPC9zcGFuPg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8c3BhbiBjbGFzcz0ic2V0dGluZy1pdGVtLWlucHV0Ij48ZGl2IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1VzZXJOYW1lRGlzcGxheScpIj4kdXNlci5Vc2VybmFtZTwvZGl2Pjwvc3Bhbj4NCiAgICAgICAgPC9saT4NCgkjaWYgKCR1c2VyLkhhc1Bhc3N3b3JkKQ0KCSAgICAgICAgPGxpIGNsYXNzPSJzZXR0aW5nLWl0ZW0gc2V0dGluZy1wYXNzd29yZCI+DQoJICAgICAgICAgICAgPGRpdiBjbGFzcz0ic2V0dGluZy1pdGVtLWxhYmVsIj4NCgkgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJzZXR0aW5nLWl0ZW0taGVhZGVyIiBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQ2hhbmdlUGFzc3dvcmRMaW5rJykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfUGFzc3dvcmQiKX08L2xhYmVsPg0KCSAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ic2V0dGluZy1pdGVtLWRlc2NyaXB0aW9uIj4NCgkgICAgICAgICAgICAgICAgICAgICNpZiAoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5BdXRoZW50aWNhdGlvblR5cGUgPT0gIndpbmRvd3MiKQ0KCSAgICAgICAgICAgICAgICAgICAgICAgICR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdExvZ2luUHJlZmVyZW5jZXNfUGFzc3dvcmREZXNjX1NTTyIpfQ0KCSAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCgkgICAgICAgICAgICAgICAgICAgICAgICAke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRMb2dpblByZWZlcmVuY2VzX1Bhc3N3b3JkRGVzYyIpfQ0KCSAgICAgICAgICAgICAgICAgICAgI2VuZA0KCSAgICAgICAgICAgICAgICA8L3NwYW4+DQoJICAgICAgICAgICAgPC9kaXY+DQoJICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS1pbnB1dCI+DQoJICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX3VybHMuQ2hhbmdlUGFzc3dvcmQoKSIgY2xhc3M9ImludGVybmFsLWxpbmsgZWRpdC1wYXNzd29yZCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9QYXNzd29yZENoYW5nZSIpPC9hPg0KCSAgICAgICAgICAgIDwvc3Bhbj4NCgkgICAgICAgIDwvbGk+DQoJI2Vsc2UNCgkgICAgICAgIDxsaSBjbGFzcz0ic2V0dGluZy1pdGVtIHNldHRpbmctcGFzc3dvcmQiPg0KCSAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaXRlbS1sYWJlbCI+DQoJICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz0ic2V0dGluZy1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0NoYW5nZVBhc3N3b3JkTGluaycpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfRGVmaW5lUGFzc3dvcmQiKTwvbGFiZWw+DQoJICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzZXR0aW5nLWl0ZW0tZGVzY3JpcHRpb24iPg0KCSAgICAgICAgICAgICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdFByb2ZpbGVfRGVmaW5lUGFzc3dvcmRfRGVzY3JpcHRpb24iKQ0KCSAgICAgICAgICAgICAgICA8L3NwYW4+DQoJICAgICAgICAgICAgPC9kaXY+DQoJICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS1pbnB1dCI+DQoJICAgICAgICAgICAgICAgIDxhIGhyZWY9IiMiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGVkaXQtcGFzc3dvcmQiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1Jlc2V0UGFzc3dvcmQnKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJFZGl0UHJvZmlsZV9SZXNldFBhc3N3b3JkIik8L2E+DQoJICAgICAgICAgICAgPC9zcGFuPg0KCSAgICAgICAgPC9saT4NCgkjZW5kDQogICAgICAgIDxsaSBjbGFzcz0ic2V0dGluZy1pdGVtIHNldHRpbmctbGFzdC1zaWduLWluIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNldHRpbmctaXRlbS1sYWJlbCI+DQogICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPSJzZXR0aW5nLWl0ZW0taGVhZGVyIiBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnTGFzdExvZ2luJykiPiR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRWRpdExvZ2luUHJlZmVyZW5jZXNfTGFzdFNpZ25JbiIpfTwvbGFiZWw+DQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNldHRpbmctaXRlbS1kZXNjcmlwdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkVkaXRMb2dpblByZWZlcmVuY2VzX0xhc3RTaWduSW5EZXNjIik8L3NwYW4+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzZXR0aW5nLWl0ZW0taW5wdXQiPjxkaXYgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnTGFzdExvZ2luJykiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJHVzZXIuTGFzdExvZ2luRGF0ZSk8L2Rpdj48L3NwYW4+DQogICAgICAgIDwvbGk+DQogICAgPC91bD4NCjwvZmllbGRzZXQ+DQo8ZGl2IGNsYXNzPSJzZXR0aW5nLWxpc3QtZm9vdGVyIj48L2Rpdj4NCg==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQsIGdsb2JhbCkNCnsNCiAgICBpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykNCiAgICAgICAgICAgICQudGVsbGlnZW50ID0ge307DQoNCiAgICBpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9Ow0KDQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307DQoNCiAgICB2YXIgX2F0dGFjaEhhbmRsZXJzID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAkKGNvbnRleHQubGFuZ3VhZ2VTZWxlY3RvcikuY2hhbmdlKGZ1bmN0aW9uKCkNCiAgICAgICAgew0KICAgICAgICAgICAgdmFyIHNlbGVjdGVkSW5kZXggPSAkKGNvbnRleHQuZGF0ZUZvcm1hdFNlbGVjdG9yKS5nZXQoMCkuc2VsZWN0ZWRJbmRleDsNCg0KICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQogICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LmdldERhdGVGb3JtYXRzVXJsLA0KICAgICAgICAgICAgICAgIGRhdGE6DQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB3X2xhbmd1YWdlOiAkKHRoaXMpLnZhbCgpDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICQoY29udGV4dC5kYXRlRm9ybWF0U2VsZWN0b3IpLmh0bWwocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgICAgICAkKGNvbnRleHQuZGF0ZUZvcm1hdFNlbGVjdG9yKS5nZXQoMCkuc2VsZWN0ZWRJbmRleCA9IHNlbGVjdGVkSW5kZXg7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KDQogICAgICAgICQoJzpyYWRpbycsICQoY29udGV4dC5iaXJ0aGRheU9wdGlvblNlbGVjdG9yKSkuY2xpY2soZnVuY3Rpb24oKQ0KICAgICAgICB7DQogICAgICAgICAgICAkKGNvbnRleHQuYmlydGhkYXlTZWxlY3RvcikuZ2xvd0RhdGVUaW1lU2VsZWN0b3IoJ2Rpc2FibGVkJywgJCgnOnJhZGlvOmNoZWNrZWQnLCAkKGNvbnRleHQuYmlydGhkYXlPcHRpb25TZWxlY3RvcikpLnZhbCgpICE9ICdTZXQnKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKCFjb250ZXh0Lmhhc1Bhc3N3b3JkKQ0KICAgICAgICB7DQogICAgICAgICAgICAkKGNvbnRleHQucmVzZXRQYXNzd29yZFNlbGVjdG9yKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQucmVzZXRQYXNzd29yZFVybCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogeyB9LA0KICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLA0KICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm1lc3NhZ2UpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChjb250ZXh0LnJlc2V0UGFzc3dvcmRNZXNzYWdlU2VsZWN0b3IpLmh0bWwocmVzcG9uc2UubWVzc2FnZSkuc2hvdygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LnJlc2V0UGFzc3dvcmRFcnJvcg0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICAkKCdpbnB1dC5ub3RpZmljYXRpb25UeXBlJykub24oJ2NoYW5nZScsIGZ1bmN0aW9uKCl7DQogICAgICAgICAgICB2YXIgcm93ID0gJCh0aGlzKS5jbG9zZXN0KCd0cicpOw0KICAgICAgICAgICAgaWYoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSkgew0KICAgICAgICAgICAgICAgIHJvdy5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCiAgICAgICAgICAgICAgICByb3cuZmluZCgnLmRpc3RyaWJ1dGlvblR5cGUnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICByb3cuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQogICAgICAgICAgICAgICAgcm93LmZpbmQoJy5kaXN0cmlidXRpb25UeXBlJykuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIF9hZGRWYWxpZGF0aW9uID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICB2YXIgdyA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQpOw0KICAgICAgICB2YXIgc2F2ZUJ1dHRvbiA9ICQoJ2Euc3VibWl0LWJ1dHRvbicsIHcpOw0KICAgICAgICB2YXIgdGFiYmVkUGFuZXMgPSAkKCcjJyArIGNvbnRleHQudGFiSWQpOw0KDQogICAgICAgIHNhdmVCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbih7DQogICAgICAgICAgICBvblZhbGlkYXRlZDogZnVuY3Rpb24oaXNWYWxpZCwgYnV0dG9uQ2xpY2tlZCwgYykgew0KICAgICAgICAgICAgICAgIGlmIChpc1ZhbGlkKQ0KICAgICAgICAgICAgICAgICAgICBzYXZlQnV0dG9uLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzYXZlQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChjKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGFiYmVkUGFuZSA9IHRhYmJlZFBhbmVzLmdsb3dUYWJiZWRQYW5lcygnZ2V0QnlJbmRleCcsIGMudGFiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YWJiZWRQYW5lKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhYmJlZFBhbmVzLmdsb3dUYWJiZWRQYW5lcygnc2VsZWN0ZWQnLCB0YWJiZWRQYW5lKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICQoJy5wcm9jZXNzaW5nJywgc2F2ZUJ1dHRvbi5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgInZpc2libGUiKTsNCiAgICAgICAgICAgICAgICBzYXZlQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgICAgIF9zYXZlKGNvbnRleHQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICBzYXZlQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywNCiAgICAgICAgICAgIGNvbnRleHQucHVibGljRW1haWxTZWxlY3RvciwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBlbWFpbDogdHJ1ZQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICQoY29udGV4dC5wdWJsaWNFbWFpbFNlbGVjdG9yKS5jbG9zZXN0KCcuc2V0dGluZy1pdGVtJykuZmluZCgnLnNldHRpbmctaXRlbS12YWxpZGF0aW9uJyksIHt0YWI6IDAgfSk7DQoNCiAgICAgICAgc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsDQogICAgICAgICAgICBjb250ZXh0LnByaXZhdGVFbWFpbFNlbGVjdG9yLA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgICAgIGVtYWlsOiB0cnVlDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgJChjb250ZXh0LnByaXZhdGVFbWFpbFNlbGVjdG9yKS5jbG9zZXN0KCcuZW1haWwtc2V0dGluZy1pdGVtLWdyb3VwJykuZmluZCgnLmVtYWlsLXNldHRpbmctaXRlbS12YWxpZGF0aW9uJyksIHt0YWI6IDMgfSk7DQoNCiAgICAgICAgc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRDdXN0b21WYWxpZGF0aW9uJywgY29udGV4dC5yc3NGZWVkc1NlbGVjdG9yLCBmdW5jdGlvbigpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdmFyIGFsbEZlZWRzID0gJChjb250ZXh0LnJzc0ZlZWRzU2VsZWN0b3IpLnZhbCgpOw0KICAgICAgICAgICAgICAgIGlmIChhbGxGZWVkcykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cCgiXihodHRwfGh0dHBzKVw6Ly8uKiIsICJpIik7DQogICAgICAgICAgICAgICAgICAgIGFsbEZlZWRzID0gYWxsRmVlZHMuc3BsaXQoIlxuIik7DQogICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsRmVlZHMubGVuZ3RoOyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcmVnZXhwLnRlc3QoJC50cmltKGFsbEZlZWRzW2ldKSkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbnRleHQucnNzRmVlZHNWYWxpZGF0aW9uVGV4dCwgJChjb250ZXh0LnJzc0ZlZWRzU2VsZWN0b3IpLmNsb3Nlc3QoJy5zZXR0aW5nLWl0ZW0nKS5maW5kKCcuc2V0dGluZy1pdGVtLXZhbGlkYXRpb24nKSwgeyB0YWI6IDAgfQ0KICAgICAgICApOw0KICAgICAgICAkKGNvbnRleHQucnNzRmVlZHNTZWxlY3RvcikuYmx1cihmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHNhdmVCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbigndmFsaWRhdGUnKTsNCiAgICAgICAgfSk7DQoNCiAgICAgICAgaWYgKGNvbnRleHQuc2lnbmF0dXJlTWF4TGVuZ3RoID4gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgY29udGV4dC5hdHRhY2hTaWduYXR1cmVDaGFuZ2VTY3JpcHQoc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRDdXN0b21WYWxpZGF0aW9uJywgJ3NpZ25hdHVyZScsIGZ1bmN0aW9uKCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmdldFNpZ25hdHVyZSgpLmxlbmd0aCA8IGNvbnRleHQuc2lnbmF0dXJlTWF4TGVuZ3RoOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgY29udGV4dC5zaWduYXR1cmVNYXhMZW5ndGhUZXh0LCAkKGNvbnRleHQuc2lnbmF0dXJlVmFsaWRhdGlvblNlbGVjdG9yKSwgeyB0YWI6IDAgfQ0KICAgICAgICAgICAgKSk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIF9zYXZlID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICBfc2F2ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzKGNvbnRleHQpLnRoZW4oZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIF9zYXZlVXNlcihjb250ZXh0KQ0KICAgICAgICAgICAgICAgIC5kb25lKGZ1bmN0aW9uKHJlc3BvbnNlKXsNCiAgICAgICAgICAgICAgICAgICAgJChjb250ZXh0LnNhdmVTdWNlc3NTZWxlY3Rvcikuc2hvdygpOw0KICAgICAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAucHJvY2Vzc2luZycpLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsNCiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zdWJtaXQtYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQogICAgICAgICAgICAgICAgICAgIGdsb2JhbC5zY3JvbGxUbygwLCAwKTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5mYWlsKGZ1bmN0aW9uKHhociwgZGVzYywgZXgpew0KICAgICAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2Mse3R5cGU6J2Vycm9yJ30pOw0KICAgICAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAucHJvY2Vzc2luZycpLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsNCiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zdWJtaXQtYnV0dG9uJykucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgX3NhdmVOb3RpZmljYXRpb25QcmVmZXJlbmNlID0gZnVuY3Rpb24ocHJlZmVyZW5jZSkgew0KICAgICAgICByZXR1cm4gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnB1dCh7DQogICAgICAgICAgICB1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ub3RpZmljYXRpb25wcmVmZXJlbmNlLmpzb24nLA0KICAgICAgICAgICAgZGF0YTogcHJlZmVyZW5jZSwNCiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBfY29sbGVjdE5vdGlmaWNhdGlvblByZWZlcmVuY2VzID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICB2YXIgd3JhcHBlciA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQpLA0KICAgICAgICAgICAgcHJlZmVyZW5jZXMgPSBbXTsNCiAgICAgICAgd3JhcHBlci5maW5kKCdpbnB1dC5ub3RpZmljYXRpb25UeXBlJykuZWFjaChmdW5jdGlvbigpew0KICAgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvblR5cGVDaGVja2JveCA9ICQodGhpcyksDQogICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uVHlwZUlkID0gbm90aWZpY2F0aW9uVHlwZUNoZWNrYm94LmRhdGEoJ25vdGlmaWNhdGlvbnR5cGUnKTsNCg0KICAgICAgICAgICAgaWYobm90aWZpY2F0aW9uVHlwZUNoZWNrYm94LmlzKCc6Y2hlY2tlZCcpKSB7DQogICAgICAgICAgICAgICAgLy8gbm90aWZpY2F0aW9uIHR5cGUgZW5hYmxlZA0KDQogICAgICAgICAgICAgICAgLy8gaWYgbm90IGEgY2hhbmdlIGZyb20gcHJldmlvdXMsIGRvbid0IHVwZGF0ZQ0KICAgICAgICAgICAgICAgIGlmKCFub3RpZmljYXRpb25UeXBlQ2hlY2tib3guZGF0YSgnZW5hYmxlZCcpKSB7DQogICAgICAgICAgICAgICAgICAgIHByZWZlcmVuY2VzLnB1c2goZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfc2F2ZU5vdGlmaWNhdGlvblByZWZlcmVuY2Uoew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvblR5cGVJZDogbm90aWZpY2F0aW9uVHlwZUlkLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIElzRW5hYmxlZDogdHJ1ZQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSBpZighbm90aWZpY2F0aW9uVHlwZUNoZWNrYm94LmlzKCc6Y2hlY2tlZCcpICYmIG5vdGlmaWNhdGlvblR5cGVDaGVja2JveC5kYXRhKCdlbmFibGVkJykpIHsNCiAgICAgICAgICAgICAgICAvLyBub3RpZmljYXRpb24gbm90IGVuYWJsZWQNCiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlcy5wdXNoKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBfc2F2ZU5vdGlmaWNhdGlvblByZWZlcmVuY2Uoew0KICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uVHlwZUlkOiBub3RpZmljYXRpb25UeXBlSWQsDQogICAgICAgICAgICAgICAgICAgICAgICBJc0VuYWJsZWQ6IGZhbHNlDQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAvLyBmaW5kIGRpc3RyaWJ1dGlvbiB0eXBlcyBmb3IgZW5hYmxlZCBub3RpZmljYXRpb24gdHlwZQ0KICAgICAgICAgICAgd3JhcHBlci5maW5kKCdpbnB1dC5kaXN0cmlidXRpb25UeXBlW2RhdGEtbm90aWZpY2F0aW9udHlwZT0iJyArIG5vdGlmaWNhdGlvblR5cGVJZCArICciXScpLmVhY2goZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICB2YXIgZGlzdHJpYnV0aW9uVHlwZUNoZWNrYm94ID0gJCh0aGlzKSwNCiAgICAgICAgICAgICAgICAgICAgZGlzdHJpYnV0aW9uVHlwZUlkID0gZGlzdHJpYnV0aW9uVHlwZUNoZWNrYm94LmRhdGEoJ2Rpc3RyaWJ1dGlvbnR5cGUnKSwNCiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZCA9IGRpc3RyaWJ1dGlvblR5cGVDaGVja2JveC5pcygnOmNoZWNrZWQnKTsNCg0KICAgICAgICAgICAgICAgIC8vIGlmIG5vdCBhIGNoYW5nZSBmcm9tIHByZXZpb3VzLCBkb24ndCB1cGRhdGUNCiAgICAgICAgICAgICAgICBpZihlbmFibGVkID09IGRpc3RyaWJ1dGlvblR5cGVDaGVja2JveC5kYXRhKCdlbmFibGVkJykpIHsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIC8vIGRpc3RyaWJ1dGlvbiB0eXBlIGVuYWJsZWQgb3IgZGlzYWJsZWQNCiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlcy5wdXNoKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBfc2F2ZU5vdGlmaWNhdGlvblByZWZlcmVuY2Uoew0KICAgICAgICAgICAgICAgICAgICAgICAgTm90aWZpY2F0aW9uVHlwZUlkOiBub3RpZmljYXRpb25UeXBlSWQsDQogICAgICAgICAgICAgICAgICAgICAgICBEaXN0cmlidXRpb25UeXBlSWQ6IGRpc3RyaWJ1dGlvblR5cGVJZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIElzRW5hYmxlZDogZW5hYmxlZA0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9KTsNCg0KICAgICAgICByZXR1cm4gcHJlZmVyZW5jZXM7DQogICAgfSwNCiAgICBfc2F2ZU5vdGlmaWNhdGlvblByZWZlcmVuY2VzID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICB2YXIgcHJlZmVyZW5jZVVwZGF0ZXMgPSAkLm1hcChfY29sbGVjdE5vdGlmaWNhdGlvblByZWZlcmVuY2VzKGNvbnRleHQpLCBmdW5jdGlvbihpbnN0cnVjdGlvbikgeyByZXR1cm4gaW5zdHJ1Y3Rpb24oKTsgfSk7DQogICAgICAgIC8vIHJldHVybiBhIHByb21pc2Ugd2hpY2ggY29tcGxldGVzIHdoZW4gYWxsIHByZWZlcmVuY2VzIGFyZSBkb25lDQogICAgICAgIHJldHVybiAkLndoZW4uYXBwbHkoJCwgcHJlZmVyZW5jZVVwZGF0ZXMpOw0KICAgIH0sDQogICAgX3NhdmVVc2VyID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAkKGNvbnRleHQuc2F2ZVN1Y2Vzc1NlbGVjdG9yKS5oaWRlKCk7DQoNCiAgICAgICAgdmFyIHJzc0ZlZWRzID0gW107DQogICAgICAgIHZhciBhbGxGZWVkcyA9ICQoY29udGV4dC5yc3NGZWVkc1NlbGVjdG9yKS52YWwoKTsNCiAgICAgICAgaWYgKGFsbEZlZWRzKQ0KICAgICAgICB7DQogICAgICAgICAgICBhbGxGZWVkcyA9IGFsbEZlZWRzLnNwbGl0KCdcbicpOw0KICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxGZWVkcy5sZW5ndGg7IGkrKykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgZmVlZFVybCA9ICQudHJpbShhbGxGZWVkc1tpXSk7DQogICAgICAgICAgICAgICAgaWYgKGZlZWRVcmwpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICByc3NGZWVkc1tyc3NGZWVkcy5sZW5ndGhdID0gZmVlZFVybDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICB2YXIgZGF0YSA9IHsNCiAgICAgICAgICAgIExhbmd1YWdlOiAkKGNvbnRleHQubGFuZ3VhZ2VTZWxlY3RvcikudmFsKCksDQogICAgICAgICAgICBQcml2YXRlRW1haWw6ICQoY29udGV4dC5wcml2YXRlRW1haWxTZWxlY3RvcikudmFsKCksDQogICAgICAgICAgICBQdWJsaWNFbWFpbDogJChjb250ZXh0LnB1YmxpY0VtYWlsU2VsZWN0b3IpLnZhbCgpLA0KICAgICAgICAgICAgRW5hYmxlRmF2b3JpdGVTaGFyaW5nOiAkKCdpbnB1dDpjaGVja2VkJywgJChjb250ZXh0LnNoYXJlZEZhdm9yaXRlc1NlbGVjdG9yKSkudmFsKCkgPT0gJ29uJywNCiAgICAgICAgICAgIFJzc0ZlZWRzOiByc3NGZWVkcy5qb2luKCcsJyksDQogICAgICAgICAgICBBbGxvd1NpdGVUb0NvbnRhY3Q6ICQoY29udGV4dC5hbGxvd1NpdGVDb250YWN0U2VsZWN0b3IpLmlzKCc6Y2hlY2tlZCcpLA0KICAgICAgICAgICAgQWxsb3dTaXRlUGFydG5lcnNUb0NvbnRhY3Q6ICQoY29udGV4dC5hbGxvd1NpdGVQYXJ0bmVyc0NvbnRhY3RTZWxlY3RvcikuaXMoJzpjaGVja2VkJyksDQogICAgICAgICAgICBFZGl0b3JUeXBlOiAkKGNvbnRleHQuZWRpdG9yTGlzdFNlbGVjdG9yKS52YWwoKSwNCiAgICAgICAgICAgIEVuYWJsZURpc3BsYXlOYW1lOiAkKGNvbnRleHQuZW5hYmxlRGlzcGxheU5hbWVzU2VsZWN0b3IpLmlzKCc6Y2hlY2tlZCcpLA0KICAgICAgICAgICAgRW5hYmxlRGlzcGxheUluTWVtYmVyTGlzdDogJChjb250ZXh0LmVuYWJsZURpc3BsYXlJbk1lbWJlcnNTZWxlY3RvcikuaXMoJzpjaGVja2VkJyksDQogICAgICAgICAgICBFbmFibGVFbW90aWNvbnM6ICQoY29udGV4dC5lbmFibGVFbW90aWNvbnNTZWxlY3RvcikuaXMoJzpjaGVja2VkJyksDQogICAgICAgICAgICBUaW1lWm9uZUlkOiAkKGNvbnRleHQudGltZXpvbmVTZWxlY3RvcikudmFsKCksDQogICAgICAgICAgICBEYXRlRm9ybWF0OiAkKGNvbnRleHQuZGF0ZUZvcm1hdFNlbGVjdG9yKS52YWwoKSwNCiAgICAgICAgICAgIFVzZXJJZCA6IGNvbnRleHQudXNlcklkDQogICAgICAgIH07DQoNCiAgICAgICAgaWYgKCQoY29udGV4dC5yZWNlaXZlRW1haWxzU2VsZWN0b3IpLmxlbmd0aCA+IDApDQogICAgICAgICAgICBkYXRhLlJlY2VpdmVFbWFpbHMgPSAkKGNvbnRleHQucmVjZWl2ZUVtYWlsc1NlbGVjdG9yKS5pcygnOmNoZWNrZWQnKTsNCiAgICAgICAgaWYgKCQoY29udGV4dC5lbmFibGVIdG1sRW1haWxTZWxlY3RvcikubGVuZ3RoID4gMCkNCiAgICAgICAgICAgIGRhdGEuRW5hYmxlSHRtbEVtYWlsID0gJChjb250ZXh0LmVuYWJsZUh0bWxFbWFpbFNlbGVjdG9yKS5pcygnOmNoZWNrZWQnKTsNCiAgICAgICAgaWYgKCQoY29udGV4dC5lbmFibGVFbWFpbFRyYWNraW5nU2VsZWN0b3IpLmxlbmd0aCA+IDApDQogICAgICAgICAgICBkYXRhLkVuYWJsZVRyYWNraW5nID0gJChjb250ZXh0LmVuYWJsZUVtYWlsVHJhY2tpbmdTZWxlY3RvcikuaXMoJzpjaGVja2VkJyk7DQogICAgICAgIGlmICgkKGNvbnRleHQuZW5hYmxlQ29tbWVudE5vdGlmaWNhdGlvblNlbGVjdG9yKS5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgZGF0YS5FbmFibGVDb21tZW50Tm90aWZpY2F0aW9ucyA9ICQoY29udGV4dC5lbmFibGVDb21tZW50Tm90aWZpY2F0aW9uU2VsZWN0b3IpLmlzKCc6Y2hlY2tlZCcpOw0KICAgICAgICBpZiAoJChjb250ZXh0LmVuYWJsZUNvbnZlcnNhdGlvbk5vdGlmaWNhdGlvblNlbGVjdG9yKS5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgZGF0YS5FbmFibGVDb252ZXJzYXRpb25Ob3RpZmljYXRpb25zID0gJChjb250ZXh0LmVuYWJsZUNvbnZlcnNhdGlvbk5vdGlmaWNhdGlvblNlbGVjdG9yKS5pcygnOmNoZWNrZWQnKTsNCg0KICAgICAgICBpZiAoJChjb250ZXh0LmNvbW1vbk5hbWVTZWxlY3RvcikubGVuZ3RoID4gMCkNCiAgICAgICAgew0KICAgICAgICAgICAgZGF0YS5EaXNwbGF5TmFtZSA9ICQoY29udGV4dC5jb21tb25OYW1lU2VsZWN0b3IpLnZhbCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGNvbnRleHQuZ2V0U2lnbmF0dXJlKQ0KICAgICAgICB7DQogICAgICAgICAgICBkYXRhLlNpZ25hdHVyZSA9IGNvbnRleHQuZ2V0U2lnbmF0dXJlKCk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJChjb250ZXh0LmVuYWJsZVVzZXJTaWduYXR1cmVzU2VsZWN0b3IpLmxlbmd0aCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuRW5hYmxlVXNlclNpZ25hdHVyZXMgPSAkKGNvbnRleHQuZW5hYmxlVXNlclNpZ25hdHVyZXNTZWxlY3RvcikuaXMoJzpjaGVja2VkJyk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJCgnOnJhZGlvOmNoZWNrZWQnLCAkKGNvbnRleHQuYmlydGhkYXlPcHRpb25TZWxlY3RvcikpLnZhbCgpID09ICdTZXQnKQ0KICAgICAgICB7DQogICAgICAgICAgICBkYXRhLkJpcnRoZGF5ID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmZvcm1hdERhdGUoJChjb250ZXh0LmJpcnRoZGF5U2VsZWN0b3IpLmdsb3dEYXRlVGltZVNlbGVjdG9yKCd2YWwnKSk7DQogICAgICAgICAgICBkYXRhLklzQmlydGhkYXlTZXQgPSB0cnVlOw0KICAgICAgICB9DQogICAgICAgIGVsc2UNCiAgICAgICAgew0KICAgICAgICAgICAgZGF0YS5Jc0JpcnRoZGF5U2V0ID0gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAoJChjb250ZXh0LmdlbmRlclNlbGVjdG9yKS5sZW5ndGggPiAwKQ0KICAgICAgICB7DQogICAgICAgICAgICBkYXRhLkdlbmRlciA9ICQoJ2lucHV0OmNoZWNrZWQnLCAkKGNvbnRleHQuZ2VuZGVyU2VsZWN0b3IpKS52YWwoKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGlmICgkKGNvbnRleHQuY29udmVyc2F0aW9uQ29udGFjdFR5cGUpLmxlbmd0aCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuQ29udmVyc2F0aW9uQ29udGFjdFR5cGUgPSAkKCdpbnB1dDpjaGVja2VkJywgJChjb250ZXh0LmNvbnZlcnNhdGlvbkNvbnRhY3RUeXBlKSkudmFsKCk7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnB1dCh7DQogICAgICAgICAgICB1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi91c2Vycy97VXNlcklkfS5qc29uP0luY2x1ZGVGaWVsZHM9VXNlci5JZCcsDQogICAgICAgICAgICBkYXRhOiBkYXRhLA0KICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywNCiAgICAgICAgICAgIGRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuc2F2ZUVycm9yVGV4dA0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIF9hdHRhY2hNdWx0aVNlbGVjdG9ycyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCiAgICAgICAgdmFyIHdyYXBwZXIgPSAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKTsNCiAgICAgICAgd3JhcHBlci5maW5kKCcubXVsdGlTZWxlY3RvcicpLmVhY2goZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHZhciBtdWx0aVNlbGVjdG9yID0gJCh0aGlzKSwNCiAgICAgICAgICAgICAgICBzZWxlY3RhYmxlcyA9IHdyYXBwZXIuZmluZCgnLm11bHRpU2VsZWN0YWJsZVtkYXRhLWNhdGVnb3J5PSInICsgbXVsdGlTZWxlY3Rvci5kYXRhKCdjYXRlZ29yeScpICsgJyJdJyksDQogICAgICAgICAgICAgICAgYWxsU2VsZWN0ZWQgPSBzZWxlY3RhYmxlcy5maWx0ZXIoJzpjaGVja2VkJykubGVuZ3RoID09PSBzZWxlY3RhYmxlcy5sZW5ndGg7DQogICAgICAgICAgICBpZihtdWx0aVNlbGVjdG9yLmhhc0NsYXNzKCdhbGwnKSkgew0KICAgICAgICAgICAgICAgIC8vIHNlbGVjdHMgYWxsDQogICAgICAgICAgICAgICAgdmFyIGFsdGVybmF0ZSA9IHdyYXBwZXIuZmluZCgnLm11bHRpU2VsZWN0b3Iubm9uZVtkYXRhLWNhdGVnb3J5PSInICsgbXVsdGlTZWxlY3Rvci5kYXRhKCdjYXRlZ29yeScpICsgJyJdJyk7DQogICAgICAgICAgICAgICAgbXVsdGlTZWxlY3Rvci5vbignY2xpY2snLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICBzZWxlY3RhYmxlcy5hdHRyKCdjaGVja2VkJywnY2hlY2tlZCcpLmNoYW5nZSgpOw0KICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGUuc2hvdygpOw0KICAgICAgICAgICAgICAgICAgICBtdWx0aVNlbGVjdG9yLmhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIGlmKCFhbGxTZWxlY3RlZCkgew0KICAgICAgICAgICAgICAgICAgICBtdWx0aVNlbGVjdG9yLnNob3coKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBhbHRlcm5hdGUuc2hvdygpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgLy8gc2VsZWN0cyBub25lDQogICAgICAgICAgICAgICAgdmFyIGFsdGVybmF0ZSA9IHdyYXBwZXIuZmluZCgnLm11bHRpU2VsZWN0b3IuYWxsW2RhdGEtY2F0ZWdvcnk9IicgKyBtdWx0aVNlbGVjdG9yLmRhdGEoJ2NhdGVnb3J5JykgKyAnIl0nKTsNCiAgICAgICAgICAgICAgICBtdWx0aVNlbGVjdG9yLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIHNlbGVjdGFibGVzLnJlbW92ZUF0dHIoJ2NoZWNrZWQnKS5jaGFuZ2UoKTsNCiAgICAgICAgICAgICAgICAgICAgYWx0ZXJuYXRlLnNob3coKTsNCiAgICAgICAgICAgICAgICAgICAgbXVsdGlTZWxlY3Rvci5oaWRlKCk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfTsNCg0KICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmVkaXRVc2VyID0gew0KICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgdmFyIHcgPSAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKQ0KDQogICAgICAgICAgICAkKCcjJyArIGNvbnRleHQudGFiSWQsIHcpLmdsb3dUYWJiZWRQYW5lcyh7DQogICAgICAgICAgICAgICAgY3NzQ2xhc3M6JycsDQogICAgICAgICAgICAgICAgdGFiU2V0Q3NzQ2xhc3M6J3RhYi1zZXQgd2l0aC1wYW5lcycsDQogICAgICAgICAgICAgICAgdGFiQ3NzQ2xhc3NlczpbJ3RhYiddLA0KICAgICAgICAgICAgICAgIHRhYlNlbGVjdGVkQ3NzQ2xhc3NlczpbJ3RhYiBzZWxlY3RlZCddLA0KICAgICAgICAgICAgICAgIHRhYkhvdmVyQ3NzQ2xhc3NlczpbJ3RhYiBob3ZlciddLA0KICAgICAgICAgICAgICAgIGVuYWJsZVJlc2l6aW5nOmZhbHNlLA0KICAgICAgICAgICAgICAgIHRhYnM6DQogICAgICAgICAgICAgICAgWw0KICAgICAgICAgICAgICAgICAgICBbY29udGV4dC5iYXNpY1RhYklkLCBjb250ZXh0LmJhc2ljVGFiVGV4dCwgbnVsbF0sDQogICAgICAgICAgICAgICAgICAgIFtjb250ZXh0LmFkdmFuY2VkVGFiSWQsIGNvbnRleHQuYWR2YW5jZWRUYWJUZXh0LCBudWxsXSwNCiAgICAgICAgICAgICAgICAgICAgW2NvbnRleHQuc2lnbmluVGFiSWQsIGNvbnRleHQuc2lnbmluVGFiVGV4dCwgbnVsbF0sDQogICAgICAgICAgICAgICAgICAgIFtjb250ZXh0LmVtYWlsVGFiSWQsIGNvbnRleHQuZW1haWxUYWJUZXh0LCBudWxsXSwNCiAgICAgICAgICAgICAgICAgICAgW2NvbnRleHQubm90aWZpY2F0aW9uVGFiSWQsIGNvbnRleHQubm90aWZpY2F0aW9uVGFiVGV4dCwgbnVsbF0NCiAgICAgICAgICAgICAgICBdDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgJChjb250ZXh0LmJpcnRoZGF5U2VsZWN0b3IpLmdsb3dEYXRlVGltZVNlbGVjdG9yKHsNCiAgICAgICAgICAgICAgICAnc2hvd1BvcHVwJzp0cnVlLA0KICAgICAgICAgICAgICAgICdhbGxvd0JsYW5rdmFsdWUnOmZhbHNlLA0KICAgICAgICAgICAgICAgICdwYXR0ZXJuJzogJzwxMDAwLTMwMDA+LTwwMS0xMj4tPDAxLTMxPicsDQogICAgICAgICAgICAgICAgJ3llYXJJbmRleCcgOiAwLA0KICAgICAgICAgICAgICAgICdtb250aEluZGV4JzogMSwNCiAgICAgICAgICAgICAgICAnZGF5SW5kZXgnOiAyDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LmVtYWlsRGlnZXN0VGFic0lkLCB3KS5nbG93VGFiYmVkUGFuZXMoew0KICAgICAgICAgICAgICAgIGNzc0NsYXNzOicnLA0KICAgICAgICAgICAgICAgIHRhYlNldENzc0NsYXNzOid0YWItc2V0IHdpdGgtcGFuZXMnLA0KICAgICAgICAgICAgICAgIHRhYkNzc0NsYXNzZXM6Wyd0YWInXSwNCiAgICAgICAgICAgICAgICB0YWJTZWxlY3RlZENzc0NsYXNzZXM6Wyd0YWIgc2VsZWN0ZWQnXSwNCiAgICAgICAgICAgICAgICB0YWJIb3ZlckNzc0NsYXNzZXM6Wyd0YWIgaG92ZXInXSwNCiAgICAgICAgICAgICAgICBlbmFibGVSZXNpemluZzpmYWxzZSwNCiAgICAgICAgICAgICAgICB0YWJzOg0KICAgICAgICAgICAgICAgIFsNCiAgICAgICAgICAgICAgICAgICAgW2NvbnRleHQuZW1haWxEaWdlc3RHcm91cFRhYklkLCBjb250ZXh0LmVtYWlsRGlnZXN0R3JvdXBUYWJUZXh0LCBudWxsXQ0KICAgICAgICAgICAgICAgIF0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBfYWRkVmFsaWRhdGlvbihjb250ZXh0KTsNCiAgICAgICAgICAgIF9hdHRhY2hIYW5kbGVycyhjb250ZXh0KTsNCiAgICAgICAgICAgIF9hdHRhY2hNdWx0aVNlbGVjdG9ycyhjb250ZXh0KTsNCiAgICAgICAgfQ0KICAgIH07DQp9KShqUXVlcnksIHdpbmRvdyk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_EmailInformation_Name}" version="7.5.0.32466" description="${resource:Forums_EmailInformation_Description}" instanceIdentifier="968fab2ab33e4d59b354027b71a55565" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="email-information">
		<contentScript>

## hide if current user is not registered
#if (!$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	$core_v2_widget.Hide()
#end
## hide if mail gateway is disabled
#if (!$core_v2_configuration.EnableMailGateway)
	$core_v2_widget.Hide()
#end
#set ($currentForum = $core_v2_forum.Current)
## hide if no forum
#if (!$currentForum)
	$core_v2_widget.Hide()
#end
## hide if there isn't an email address (and hence no enabled mailing list)
#if (!$currentForum.EmailAddress)
	$core_v2_widget.Hide()
#end
## hide if current user doesn't have posting permission
#if (!$core_v2_nodePermission.Get('forums',$currentForum.Id,'Forum_CreatePost').IsAllowed)
	$core_v2_widget.Hide()
#end

#set($showSubscriptionStatus = $core_v2_widget.GetBoolValue('showSubscriptionStatus', true))

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;legend class="field-list-description"&gt;$core_v2_language.GetResource('EmailInformation_FormTitle')&lt;/legend&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item email-address"&gt;
			&lt;label class="field-item-header"&gt;$core_v2_language.GetResource('EmailInformation_EmailAddress')&lt;/label&gt;
			&lt;span class="field-item-input"&gt;
				&lt;a class="internal-link send-email" href="mailto:$core_v2_encoding.HtmlAttributeEncode($currentForum.EmailAddress)"&gt;
					&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('EmailInformation_EmailForum')
				&lt;/a&gt;
			&lt;/span&gt;
		&lt;/li&gt;
		#if ($showSubscriptionStatus)
			&lt;li class="field-item subscription-status"&gt;
				&lt;label class="field-item-header"&gt;$core_v2_language.GetResource('EmailInformation_Subscribed')&lt;/label&gt;
				&lt;span class="field-item-input"&gt;
					&lt;a id="$core_v2_widget.UniqueId('forumSubscribe')" href="#"&gt;&lt;/a&gt;
					#registerEndOfPageHtml()
						&lt;script type="text/javascript"&gt;
						jQuery(function(j){
							j('#$core_v2_widget.UniqueId('forumSubscribe')').evolutionToggleLink({
								onHtml: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Yes'))",
								offHtml: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('No'))",
								processingHtml: "...",
								changeState: function(val) {
									j.telligent.evolution.post({
										url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
										data: {subscribe:val,forumId:$currentForum.Id},
										success: function(response) { j('#$core_v2_widget.UniqueId('forumSubscribe')').evolutionToggleLink('val', response.subscribe); },
										error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('forumSubscribe')').evolutionToggleLink('val', !val); }
									});
								},
								onCssClass: 'internal-link subscription-on',
								offCssClass: 'internal-link subscription-off',
								processingCssClass: 'internal-link processing',
								val: #if($core_v2_forum.IsSubscribed($currentForum.Id)) true#else false#end
							});
						});
						&lt;/script&gt;
					#end
				&lt;/span&gt;
			&lt;/li&gt;
		#end
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_EmailInformation_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_EmailInformation_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="showSubscriptionStatus" resourceName="CF_Forum_EmailSubscription_ShowSubscription" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Forums_EmailInformation_Name">Forum - Email Information</resource><resource name="Forums_EmailInformation_Description">Displays information for posting to the forum via email.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_Forum_EmailSubscription_ShowSubscription">Show subscription status</resource><resource name="EmailInformation_FormTitle">Email Information</resource><resource name="EmailInformation_EmailAddress">Email:</resource><resource name="EmailInformation_EmailForum">Email this forum</resource><resource name="EmailInformation_Subscribed">Subscribed: </resource><resource name="Yes">Yes</resource><resource name="No">No</resource><resource name="Forums_EmailInformation_Title_EmailInformation">Email Information</resource></language></languageResources>
		<requiredContext>
			<context id="ad5b66803de14b2d9ee9cfe27ecea026" />
		</requiredContext>
		<files>
			<file name="subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJHN1YnNjcmliZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzdWJzY3JpYmUnKSkpCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykKCSRjb3JlX3YyX2ZvcnVtLlNldFN1YnNjcmliZWQoJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZm9ydW1JZCcpKSwgJHN1YnNjcmliZSkKCXsic3Vic2NyaWJlIjojaWYoJHN1YnNjcmliZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZH0KI2VuZA==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_ErrorNotFound_Name}" version="7.5.0.32466" description="${resource:Core_ErrorNotFound_Description}" instanceIdentifier="6259543df09b4d8daeafa09e31380a64" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="error-not-found">
		<contentScript>
&lt;div class="page-header"&gt;&lt;/div&gt;
&lt;div class="page"&gt;
	&lt;div class="page-name"&gt;$core_v2_language.GetResource("Error_NotFound_Title")&lt;/div&gt;
	&lt;div class="page-description"&gt;$core_v2_language.GetResource("Error_NotFound_Description")&lt;/div&gt;
	&lt;div class="page-content"&gt;
		&lt;div class="field-list-header"&gt;&lt;/div&gt;
		&lt;fieldset class="field-list"&gt;
			&lt;ul class="field-list"&gt;
				&lt;li class="field-item search"&gt;
					&lt;span class="field-item-input"&gt;
						&lt;input type="text" size="45" maxlength="128" id="$core_v2_widget.UniqueId('searchInput')" value="$core_v2_language.GetResource("CF_Search_SearchSite")" /&gt;
					&lt;/span&gt;
					&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
				&lt;/li&gt;
				&lt;li class="field-item"&gt;
					&lt;span class="field-item-input"&gt;
						&lt;input type="button" id="$core_v2_widget.UniqueId('searchButton')" value="$core_v2_language.GetResource("Search")" /&gt;
					&lt;/span&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/fieldset&gt;
		&lt;div class="field-list-footer"&gt;&lt;/div&gt;

		#registerEndOfPageHtml('telligent.evolution.widgets.errorNotFound')
			&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
		#end
		#registerEndOfPageHtml()
			&lt;script type="text/javascript"&gt;
				jQuery(function(){
					jQuery.telligent.evolution.widgets.errorNotFound.register({
						wrapperId : '$core_v2_widget.WrapperElementId',
						searchButton : jQuery('#$core_v2_widget.UniqueId('searchButton')'),
						searchInput : jQuery('#$core_v2_widget.UniqueId('searchInput')'),
						searchInputText : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("CF_Search_SearchSite"))',
						searchInputRequiredText : '*',
						searchUrlTemplate : '$core_v2_urls.Search("%{ QueryString = 'q={SearchQuery}' }")'
					});
				});
			&lt;/script&gt;
		#end
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="page-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_ErrorNotFound_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_ErrorNotFound_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_ErrorNotFound_Name">Message - Not Found</resource><resource name="Core_ErrorNotFound_Description">Displays an error message that requested resource was not found, and provides a site search form.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Error_NotFound_Title">Page Not Found</resource><resource name="Error_NotFound_Description">Unfortunately, the page you've requested no longer exists. Please use the search form below to locate the information you're interested in.</resource><resource name="CF_Search_SearchSite">Search...</resource><resource name="Search">Search</resource></language></languageResources>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICAgICAkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJdmFyIHNlYXJjaENsaWNrID0gZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJd2luZG93LmxvY2F0aW9uID0gY29udGV4dC5zZWFyY2hVcmxUZW1wbGF0ZS5yZXBsYWNlKC9ce1NlYXJjaFF1ZXJ5XH0vZywgZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRleHQuc2VhcmNoSW5wdXQudmFsKCkpKTsNCgkJfTsNCg0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmVycm9yTm90Rm91bmQgPSANCgl7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSANCgkJew0KCQkJLy8gY29udGV4dCA9IHsgd3JhcHBlcklkLCBzZWFyY2hCdXR0b24sIHNlYXJjaElucHV0LCBzZWFyY2hJbnB1dFRleHQsIHNlYXJjaFVybFRlbXBsYXRlIH0NCgkJCWNvbnRleHQuc2VhcmNoQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oDQoJCQl7DQoJCQkJdmFsaWRhdGVPbkxvYWQ6IGZhbHNlLA0KCQkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSANCgkJCQl7IA0KCQkJCQlpZiAoaXNWYWxpZCkgDQoJCQkJCQljb250ZXh0LnNlYXJjaEJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsgDQoJCQkJCWVsc2UNCgkJCQkJCWNvbnRleHQuc2VhcmNoQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCX0sDQoJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIA0KCQkJCXsNCgkJCQkJY29udGV4dC5zZWFyY2hCdXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCXNlYXJjaENsaWNrKGNvbnRleHQpOw0KCQkJCX0NCgkJCX0pOw0KDQoJCQl2YXIgZiA9IGNvbnRleHQuc2VhcmNoQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEN1c3RvbVZhbGlkYXRpb24nLCAnc2VhcmNodGV4dCcsIGZ1bmN0aW9uKCkgDQoJCQl7DQoJCQkJcmV0dXJuIGNvbnRleHQuc2VhcmNoSW5wdXQudmFsKCkubGVuZ3RoID4gMCAmJiBjb250ZXh0LnNlYXJjaElucHV0LnZhbCgpICE9IGNvbnRleHQuc2VhcmNoSW5wdXRUZXh0OyANCgkJCX0sIGNvbnRleHQuc2VhcmNoSW5wdXRSZXF1aXJlZFRleHQsICcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5zZWFyY2ggLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsIG51bGwpOw0KCQkJDQoJCQljb250ZXh0LnNlYXJjaElucHV0LmtleXByZXNzKGZ1bmN0aW9uKGUpDQoJCQl7DQoJCQkJaWYgKChlLmtleUNvZGUgfHwgZS53aGljaCkgPT0gMTMpDQoJCQkJew0KCQkJCQlpZiAoY29udGV4dC5zZWFyY2hCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbigndmFsaWRhdGUnKSkNCgkJCQkJCXNlYXJjaENsaWNrKGNvbnRleHQpOw0KCQkJCQkNCgkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0NCgkJCX0pOw0KCQkJDQoJCQljb250ZXh0LnNlYXJjaElucHV0LmZvY3VzKGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlpZiAoY29udGV4dC5zZWFyY2hJbnB1dC52YWwoKSA9PSBjb250ZXh0LnNlYXJjaElucHV0VGV4dCkNCgkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC52YWwoJycpOw0KCQkJfSk7DQoJCQkNCgkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYmx1cihmdW5jdGlvbigpDQoJCQl7DQoJCQkJaWYgKGNvbnRleHQuc2VhcmNoSW5wdXQudmFsKCkubGVuZ3RoID09IDApDQoJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQudmFsKGNvbnRleHQuc2VhcmNoSW5wdXRUZXh0KTsNCgkJCX0pOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_FavoriteContentList_Name}" version="7.5.0.32466" description="${resource:Core_FavoriteContentList_Description}" instanceIdentifier="91326de3c3324680882c61a8a2d08d7f" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="favorable-content-list">
		<contentScript>
#set ($viewType = $core_v2_widget.GetStringValue('viewType', 'simple'))
#set ($queryType = $core_v2_widget.GetStringValue('queryType', 'context'))
#set ($pageIndex = $core_v2_ui.GetCurrentPageIndex())
#set ($pageSize = 10)
#set ($applicationType = $core_v2_page.GetQueryStringValue('ApplicationType'))

#set ($user = false)
#if ($queryType == 'accessing')
	#set ($user = $core_v2_user.Accessing)
#elseif($queryType == 'context')
	#set ($user = $core_v2_user.Current)
#end
#if (!$user)
	$core_v2_widget.Hide()
#end
## hide widget if the contextual user hasn't enabled favorite sharing
#if ($queryType == 'context' &amp;&amp; !$user.EnableFavoriteSharing &amp;&amp; $user.Id != $core_v2_user.Accessing.Id)
	$core_v2_widget.Hide()
#end

#set ($viewName = "${viewType}.vm")
$core_v2_ui.PagedContent($viewName)
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_FavoriteContentList_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_FavoriteContentList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="viewType" resourceName="CF_FavorableContent_ViewType" dataType="string" defaultValue="simple"&gt;
		&lt;propertyValue value="detail" resourceName="CF_FavorableContent_DetailView" /&gt;
		&lt;propertyValue value="simple" resourceName="CF_FavorableContent_SimpleView" /&gt;
	&lt;/property&gt;
	&lt;property id="queryType" resourceName="CF_FavorableContent_ShowFavoritesFor" dataType="string" defaultValue="context"&gt;
		&lt;propertyValue value="context" resourceName="CF_FavorableContent_ShowFavoritesFor_Contextual" /&gt;
		&lt;propertyValue value="accessing" resourceName="CF_FavorableContent_ShowFavoritesFor_Accessing" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Core_FavoriteContentList_Name">Bookmarks List</resource><resource name="Core_FavoriteContentList_Description">Displays list of bookmarked content for a user.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_FavorableContent_ViewType">View Type</resource><resource name="CF_FavorableContent_DetailView">Filtered/Paged List</resource><resource name="CF_FavorableContent_SimpleView">Not Filtered/Paged List</resource><resource name="CF_FavorableContent_ShowFavoritesFor">Show Bookmarks For</resource><resource name="CF_FavorableContent_ShowFavoritesFor_Contextual">Contextual User</resource><resource name="CF_FavorableContent_ShowFavoritesFor_Accessing">Accessing User</resource><resource name="Everything">Everything</resource><resource name="forums">Forums</resource><resource name="weblogs">Blogs</resource><resource name="wikis">Wikis</resource><resource name="files">Files</resource><resource name="hubs">Groups</resource><resource name="Weblog_Post">Blog Post</resource><resource name="Forums_Post">Forum Post</resource><resource name="File">File</resource><resource name="Wikis_Page">Wiki Page</resource><resource name="Application_Group">Group</resource><resource name="weblog">Blog</resource><resource name="Button_WebGallery">Gallery</resource><resource name="Favorites_RemoveToFavorites">Remove bookmark</resource><resource name="Favorites_AlreadyFavorite">In your bookmarks</resource><resource name="Profile_NoFavoritePosts">{0} has not yet any bookmarked posts.</resource><resource name="Core_FavorableContentList_Title_Favorites">Bookmarks</resource></language></languageResources>
		<files>
			<file name="detail.vm">I3NldCAoJGlzUGFnZUxldmVsVXNlckFjY2Vzc2luZ1VzZXIgPSBmYWxzZSkNCiNpZiAoJGNvcmVfdjJfdXNlci5DdXJyZW50LklkID09ICRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nLklkKQ0KCSNzZXQgKCRpc1BhZ2VMZXZlbFVzZXJBY2Nlc3NpbmdVc2VyID0gdHJ1ZSkNCiNlbmQNCg0KI3NldCAoJGFwcGxpY2F0aW9uVHlwZSA9ICcnKQ0KI3NldCAoJGFwcGxpY2F0aW9uVHlwZSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnQXBwbGljYXRpb25UeXBlJykpDQojc2V0ICgkY29udGVudFR5cGVzID0gJycpDQojaWYgKCRhcHBsaWNhdGlvblR5cGUgPT0gJ0ZvcnVtcycpDQoJI3NldCAoJGNvbnRlbnRUeXBlcyA9ICIkY29yZV92Ml9mb3J1bS5BcHBsaWNhdGlvblR5cGVJZCwkY29yZV92Ml9mb3J1bVRocmVhZC5Db250ZW50VHlwZUlkIikNCiNlbHNlaWYgKCRhcHBsaWNhdGlvblR5cGUgPT0gJ1dpa2lzJykNCgkjc2V0ICgkY29udGVudFR5cGVzID0gIiRjb3JlX3YyX3dpa2kuQXBwbGljYXRpb25UeXBlSWQsJGNvcmVfdjJfd2lraVBhZ2UuQ29udGVudFR5cGVJZCIpDQojZWxzZWlmICgkYXBwbGljYXRpb25UeXBlID09ICdXZWJsb2dzJykNCgkjc2V0ICgkY29udGVudFR5cGVzID0gIiRjb3JlX3YyX2Jsb2cuQXBwbGljYXRpb25UeXBlSWQsJGNvcmVfdjJfYmxvZ1Bvc3QuQ29udGVudFR5cGVJZCIpDQojZWxzZWlmICgkYXBwbGljYXRpb25UeXBlID09ICdNZWRpYScpDQoJI3NldCAoJGNvbnRlbnRUeXBlcyA9ICIkY29yZV92Ml9nYWxsZXJ5LkFwcGxpY2F0aW9uVHlwZUlkLCRjb3JlX3YyX21lZGlhLkNvbnRlbnRUeXBlSWQiKQ0KI2Vsc2VpZiAoJGFwcGxpY2F0aW9uVHlwZSA9PSAnQ29yZScpDQoJI3NldCAoJGNvbnRlbnRUeXBlcyA9ICIkY29yZV92Ml9ncm91cC5Db250YWluZXJUeXBlSWQiKQ0KI2VuZA0KDQojc2V0ICgkYm9va21hcmtzID0gJGNvcmVfdjJfYm9va21hcmsuTGlzdCgiJXsgVXNlcklkID0gJHVzZXIuSWQsIFBhZ2VTaXplID0gJHBhZ2VTaXplLCBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBDb250ZW50VHlwZUlkcyA9ICRjb250ZW50VHlwZXMgfSIpKQ0KDQo8ZGl2IGNsYXNzPSJmaWx0ZXIiPg0KCTxkaXYgY2xhc3M9InF1ZXJ5LWZpbHRlciI+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uICNpZigkYXBwbGljYXRpb25UeXBlID09ICcnKSBzZWxlY3RlZCAjZW5kIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJBcHBsaWNhdGlvblR5cGU9JiRjb3JlX3YyX3VpLlBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5PTEiKSkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFdmVyeXRoaW5nJyk8L2E+PC9zcGFuPg0KCQkjaWYgKCRjb3JlX3YyX2ZvcnVtQ29uZmlndXJhdGlvbi5Jc0VuYWJsZWQpDQoJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uICNpZigkYXBwbGljYXRpb25UeXBlID09ICdGb3J1bXMnKSBzZWxlY3RlZCAjZW5kIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJBcHBsaWNhdGlvblR5cGU9Rm9ydW1zJiRjb3JlX3YyX3VpLlBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5PTEiKSkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdmb3J1bXMnKTwvYT48L3NwYW4+DQoJCSNlbmQNCgkJI2lmICgkY29yZV92Ml9ibG9nQ29uZmlndXJhdGlvbi5Jc0VuYWJsZWQpDQoJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uICNpZigkYXBwbGljYXRpb25UeXBlID09ICdXZWJsb2dzJykgc2VsZWN0ZWQgI2VuZCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAiQXBwbGljYXRpb25UeXBlPVdlYmxvZ3MmJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSIpKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ3dlYmxvZ3MnKTwvYT48L3NwYW4+DQoJCSNlbmQNCgkJI2lmICgkY29yZV92Ml93aWtpQ29uZmlndXJhdGlvbi5Jc0VuYWJsZWQpDQoJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uICNpZigkYXBwbGljYXRpb25UeXBlID09ICdXaWtpcycpIHNlbGVjdGVkICNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIkFwcGxpY2F0aW9uVHlwZT1XaWtpcyYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xIikpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnd2lraXMnKTwvYT48L3NwYW4+DQoJCSNlbmQNCgkJI2lmICgkY29yZV92Ml9tZWRpYUNvbmZpZ3VyYXRpb24uSXNFbmFibGVkKQ0KCQk8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj58PC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiAjaWYoJGFwcGxpY2F0aW9uVHlwZSA9PSAnTWVkaWEnKSBzZWxlY3RlZCAjZW5kIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJBcHBsaWNhdGlvblR5cGU9TWVkaWEmJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSIpKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ2ZpbGVzJyk8L2E+PC9zcGFuPg0KCQkjZW5kDQoJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uICNpZigkYXBwbGljYXRpb25UeXBlID09ICdDb3JlJykgc2VsZWN0ZWQgI2VuZCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAiQXBwbGljYXRpb25UeXBlPUNvcmUmJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSIpKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ2h1YnMnKTwvYT48L3NwYW4+DQoJPC9kaXY+DQo8L2Rpdj4NCg0KI2ZvcmVhY2ggKCRib29rbWFyayBpbiAkYm9va21hcmtzKQ0KI2JlZm9yZWFsbA0KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCTx1bCBjbGFzcz0iY29udGVudC1saXN0Ij4NCiNlYWNoDQoJI3NldCAoJGlzUG9zdCA9IGZhbHNlKQ0KCSNzZXQgKCRib29rbWFya1R5cGUgPSAnJykNCg0KICAgICNzZXQgKCRjb250ZW50VHlwZSA9ICRjb3JlX3YyX2NvbnRlbnRUeXBlLkdldCgkYm9va21hcmsuQ29udGVudC5Db250ZW50VHlwZUlkKSkNCiAgICAjaWYgKCRjb250ZW50VHlwZSkNCiAgICAgICAgI3NldCgkYm9va21hcmtUeXBlID0gJGNvbnRlbnRUeXBlLk5hbWUpDQogICAgI2VuZA0KDQogICAgI3NldCAoJGFwcFR5cGUgPSBmYWxzZSkNCiAgICAjc2V0ICgkYXBwVHlwZSA9ICRjb3JlX3YyX2FwcGxpY2F0aW9uVHlwZS5HZXQoJGJvb2ttYXJrLkNvbnRlbnQuQ29udGVudFR5cGVJZCkpDQogICAgI2lmICgkYXBwVHlwZSAmJiAkYXBwVHlwZS5FcnJvcnMuQ291bnQgPiAwKQ0KICAgICAgICAjc2V0ICgkaXNQb3N0ID0gdHJ1ZSkNCiAgICAjZW5kDQoNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSNpZiAoJGlzUGFnZUxldmVsVXNlckFjY2Vzc2luZ1VzZXIpIHdpdGgtYnV0dG9uI2VuZCI+DQoJCSNpZiAoJGlzUG9zdCkNCgkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPg0KCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGJvb2ttYXJrLkNvbnRlbnQuVXJsKSI+DQoJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGJvb2ttYXJrLlVzZXIuQXZhdGFyVXJsLCAzMiwgMzIsICIle2JvcmRlcj0nMCcsIGFsdD0kYm9va21hcmsuVXNlci5EaXNwbGF5TmFtZX0iKQ0KCQkJCTwvYT4NCgkJCTwvc3Bhbj4NCgkJI2Vsc2UNCgkJCSNzZXQgKCRncm91cCA9IGZhbHNlKQ0KCQkJI3NldCAoJGdyb3VwID0gJGNvcmVfdjJfZ3JvdXAuR2V0KCRib29rbWFyay5Db250ZW50LkFwcGxpY2F0aW9uLkNvbnRhaW5lci5Db250YWluZXJJZCkpDQoJCQkjaWYgKCRncm91cCkNCgkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4NCgkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYm9va21hcmsuQ29udGVudC5VcmwpIj4NCgkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGdyb3VwLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JGdyb3VwLk5hbWV9IikNCgkJCQkJPC9hPg0KCQkJCTwvc3Bhbj4NCgkJCSNlbmQNCgkJI2VuZA0KCQk8ZGl2IGNsYXNzPSJmYXZvcml0ZS10eXBlIj4NCgkJCSNpZigkYm9va21hcmtUeXBlICYmICRib29rbWFya1R5cGUgIT0gJycpICRib29rbWFya1R5cGUgOiAjZW5kDQoJCTwvZGl2Pg0KCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXBvc3QiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGJvb2ttYXJrLkNvbnRlbnQuVXJsKSIgZGF0YS1jb250ZW50aWQ9IiRib29rbWFyay5Db250ZW50SWQiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkYm9va21hcmsuQ29udGVudC5IdG1sTmFtZSgiV2ViIiksIDM1LCAn4oCmJyk8L2E+DQoJCSNpZiAoJGlzUGFnZUxldmVsVXNlckFjY2Vzc2luZ1VzZXIpDQoJCQk8ZGl2IGNsYXNzPSJmYXZvcml0ZS1hY3Rpb25zIj4NCgkJCQk8YSBzdHlsZT0iZGlzcGxheTogaW5saW5lOyIgaHJlZj0iIyIgY2xhc3M9ImludGVybmFsLWxpbmsgZmF2b3JpdGUtb24iPg0KCQkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Zhdm9yaXRlc19SZW1vdmVUb0Zhdm9yaXRlcycpDQoJCQkJPC9hPg0KCQkJPC9kaXY+DQoJCSNlbmQNCgk8L2xpPg0KI2FmdGVyYWxsDQoJPC91bD4NCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4NCgkkY29yZV92Ml91aS5QYWdlcigkYm9va21hcmtzLlBhZ2VJbmRleCwgJGJvb2ttYXJrcy5QYWdlU2l6ZSwgJGJvb2ttYXJrcy5Ub3RhbENvdW50ICkNCiNub2RhdGENCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+DQoJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnUHJvZmlsZV9Ob0Zhdm9yaXRlUG9zdHMnKSwgJHVzZXIuRGlzcGxheU5hbWUpDQoJPC9kaXY+DQojZW5kDQoNCiNyZWdpc3RlckVuZE9mUGFnZUh0bWwoJ3RlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5mYXZvcmFibGVDb250ZW50TGlzdCcpDQoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiIHNyYz0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml93aWRnZXQuR2V0RmlsZVVybCgidWkuanMiKSkiPjwvc2NyaXB0Pg0KI2VuZA0KI3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgpDQoJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPg0KCQlqUXVlcnkoZnVuY3Rpb24oail7DQoJCQlqLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5mYXZvcmFibGVDb250ZW50TGlzdC5yZWdpc3Rlcih7DQoJCQkJd3JhcHBlcklkOiAnIyRjb3JlX3YyX3dpZGdldC5XcmFwcGVyRWxlbWVudElkJywNCgkJCQl1bmZhdm9yaXRlVXJsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCd1bmZhdm9yaXRlLnZtJykpJywNCgkJCQl1c2VySWQ6ICR1c2VyLklkDQoJCQl9KTsNCgkJfSk7DQoJPC9zY3JpcHQ+DQojZW5kDQo=</file>
			<file name="simple.vm">I3NldCAoJHF1ZXJ5VHlwZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgncXVlcnlUeXBlJywgJ2NvbnRleHQnKSkKI3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3VpLkdldEN1cnJlbnRQYWdlSW5kZXgoKSkKI3NldCAoJHBhZ2VTaXplID0gMTApCiNzZXQgKCR1c2VyID0gZmFsc2UpCiNpZiAoJHF1ZXJ5VHlwZSA9PSAnYWNjZXNzaW5nJykKCSNzZXQgKCR1c2VyID0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcpCiNlbHNlaWYoJHF1ZXJ5VHlwZSA9PSAnY29udGV4dCcpCgkjc2V0ICgkdXNlciA9ICRjb3JlX3YyX3VzZXIuQ3VycmVudCkKI2VuZAoKI3NldCAoJGJvb2ttYXJrcyA9ICRjb3JlX3YyX2Jvb2ttYXJrLkxpc3QoIiV7IFVzZXJJZCA9ICR1c2VyLklkLCBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSwgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCB9IikpCiNmb3JlYWNoICgkYm9va21hcmsgaW4gJGJvb2ttYXJrcykKI2JlZm9yZWFsbAoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCBzaW1wbGUiPgojZWFjaAoJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iPgoJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctcG9zdCIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYm9va21hcmsuQ29udGVudC5VcmwpIj48c3Bhbj48L3NwYW4+JGJvb2ttYXJrLkNvbnRlbnQuSHRtbE5hbWUoIldlYiIpPC9hPgoJPC9saT4KI2FmdGVyYWxsCgk8L3VsPgoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+CgkkY29yZV92Ml91aS5QYWdlcigkYm9va21hcmtzLlBhZ2VJbmRleCwgJGJvb2ttYXJrcy5QYWdlU2l6ZSwgJGJvb2ttYXJrcy5Ub3RhbENvdW50ICwgIiV7IFBhZ2VkQ29udGVudEZpbGUgPSAnc2ltcGxlLnZtJyB9IikKI25vZGF0YQoJPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPgoJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnUHJvZmlsZV9Ob0Zhdm9yaXRlUG9zdHMnKSwgJHVzZXIuRGlzcGxheU5hbWUpCgk8L2Rpdj4KI2VuZAo=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKCgl2YXIgdW5mYXZvcml0ZSA9IGZ1bmN0aW9uKGNvbnRleHQsIGNvbnRlbnRJZCwgZmF2b3JpdGVJdGVtKSB7CgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3QoewoJCQl1cmw6IGNvbnRleHQudW5mYXZvcml0ZVVybCwKCQkJZGF0YTogewoJCQkJY29udGVudElkOiBjb250ZW50SWQKCQkJfSwKCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCWZhdm9yaXRlSXRlbS5mYWRlT3V0KDIwMCwgZnVuY3Rpb24oKXsKCQkJCQlmYXZvcml0ZUl0ZW0ucmVtb3ZlKCk7CgkJCQl9KTsKCQkJfQoJCX0pOwoJfTsKCgl2YXIgYXBpID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7CgkJCSQoY29udGV4dC53cmFwcGVySWQgKyAnIGEuZmF2b3JpdGUtb24nKS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKGUsZGF0YSl7CgkJCQl2YXIgZmF2b3JpdGVJdGVtID0gJCh0aGlzKS5jbG9zZXN0KCdsaS5jb250ZW50LWl0ZW0nKTsKCQkJCXZhciBsaW5rID0gZmF2b3JpdGVJdGVtLmZpbmQoJ2Eudmlldy1wb3N0Jyk7CgkJCQl2YXIgY29udGVudElkID0gbGluay5hdHRyKCdkYXRhLWNvbnRlbnRpZCcpOwoJCQkJdW5mYXZvcml0ZShjb250ZXh0LCBjb250ZW50SWQsIGZhdm9yaXRlSXRlbSk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoJCX0KCX07CgoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9OyB9CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5mYXZvcmFibGVDb250ZW50TGlzdCA9IGFwaTsKCn0oalF1ZXJ5KSk7Cg==</file>
			<file name="unfavorite.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQoJCgkjc2V0ICgkY29udGVudElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUd1aWQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2NvbnRlbnRJZCcpKSkKCSNzZXQgKCRhZGRpdGlvbmFsSW5mbyA9ICRjb3JlX3YyX2Jvb2ttYXJrLkRlbGV0ZSgkY29udGVudElkKSkKCSNpZiAoJGFkZGl0aW9uYWxJbmZvLkVycm9ycy5Db3VudCA+IDApCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRhZGRpdGlvbmFsSW5mby5FcnJvcnMpCgkjZWxzZQoJCXsiZmF2b3JpdGUiOmZhbHNlfQoJI2VuZAojZW5k</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_FeaturedContentList_Name}" version="7.5.0.32466" description="${resource:Core_FeaturedContentList_Description}" instanceIdentifier="387656725d5b48bdae2c451035b95d4d" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="featured-content-list">
		<contentScript>
#set ($layout = $core_v2_widget.GetStringValue('postLayout', 'wide'))
#set ($largeExcerptSize = $core_v2_widget.GetIntValue('largeExcerptSize', 150))
#set ($smallExcerptSize = $core_v2_widget.GetIntValue('smallExcerptSize', 80))
#set ($group = $core_v2_group.Current)
#set ($features = $core_v2_feature.List("%{ GroupId = $group.Id, Count = 4 }"))
#set ($featureIndex = 0)
#set ($featureCount = $features.Count)

#foreach ($feature in $features)
#beforeall
	&lt;div class="content-list-header"&gt;&lt;/div&gt;
	&lt;ul class="content-list itemcount-${featureCount} layout-${layout}"&gt;
#each

	#if ($featureIndex == 1 &amp;&amp; $featureCount &gt; 1)
		&lt;/ul&gt;
		&lt;ul class="content-list evolution2-featured-content-list-${featureCount} fiji-featured-content-list-${featureCount} itemcount-${featureCount} layout-${layout}"&gt;
	#end

	#set ($itemClasses = "")
	#if ($featureIndex == 0)
		#set ($itemClasses = " first evolution2-first fiji-first")
	#elseif($featureIndex == $featureCount - 1)
		#set ($itemClasses = " last evolution2-last fiji-last")
	#end

	&lt;li class="content-item ${itemClasses}"&gt;
		&lt;div class="abbreviated-post-header"&gt;&lt;/div&gt;
		&lt;div class="abbreviated-post post-content user-defined-markup"&gt;
			&lt;h4 class="post-name"&gt;
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($feature.Url)" class="internal-link view-post"&gt;
					&lt;span&gt;&lt;/span&gt;$feature.Title
				&lt;/a&gt;
			&lt;/h4&gt;

			#if ($feature.Image &amp;&amp; $feature.Image.Length &gt; 0)
				&lt;div class="post-attachment-viewer"&gt;
					&lt;h4 class="post-name"&gt;
						&lt;a class="internal-link view-post" href="$core_v2_encoding.HtmlAttributeEncode($feature.Url)"&gt;
							$core_v2_ui.GetResizedImageHtml($feature.Image, 160, 160, "%{border='0'}")
						&lt;/a&gt;
					&lt;/h4&gt;
				&lt;/div&gt;
			#end

			&lt;div class="evolution2-post-author-date fiji-post-author-date"&gt;
				&lt;div class="post-date"&gt;
					&lt;span class="value"&gt;$!core_v2_language.FormatAgoDate($feature.Date)&lt;/span&gt;
				&lt;/div&gt;
				&lt;div class="post-author"&gt;
					&lt;span class="evolution2-post-author-by fiji-post-author-by"&gt;by&lt;/span&gt;
					&lt;span class="user-name"&gt;
						#if ($feature.User.ProfileUrl)
							&lt;a href="$core_v2_encoding.HtmlAttributeEncode($feature.User.ProfileUrl)" class="internal-link view-user-profile" core_userinfopopup="true"&gt;
								&lt;span&gt;&lt;/span&gt;$feature.User.DisplayName
							&lt;/a&gt;
						#else
							&lt;span&gt;&lt;/span&gt;$feature.User.DisplayName
						#end
					&lt;/span&gt;
				&lt;/div&gt;
			&lt;/div&gt;

			## Determine what excerpt to use dynamically based on which item this is, how many items there are, and the layout
			#if ($featureIndex == 0 &amp;&amp; $layout == 'wide' &amp;&amp; $featureCount == 4)
				#if ($feature.Image &amp;&amp; $feature.Image.Length &gt; 0)
					#set ($excerptSize = $largeExcerptSize * 2)
				#else
					#set ($excerptSize = $largeExcerptSize * 3)
				#end
			#elseif ($featureIndex == 0 &amp;&amp; $layout == 'medium' &amp;&amp; $featureCount == 4)
				#set ($excerptSize = $largeExcerptSize + $smallExcerptSize)
			#elseif ($featureIndex == 0 &amp;&amp; $layout != 'sidebar')
				#set ($excerptSize = $largeExcerptSize)
			#elseif ($featureIndex == 1 &amp;&amp; $featureCount == 2)
				#set ($excerptSize = $largeExcerptSize)
			#else
				#set ($excerptSize = $smallExcerptSize)
			#end

			$core_v2_language.Truncate($feature.Content, $excerptSize, '...')
		&lt;/div&gt;
		&lt;div class="abbreviated-post-footer"&gt;&lt;/div&gt;
	&lt;/li&gt;

	#set ($featureIndex = $featureIndex + 1)
#afterall
	&lt;/ul&gt;
	&lt;div class="content-list-footer"&gt;&lt;/div&gt;
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_FeaturedContentList_Name}'))
#set ($group = $core_v2_group.Current)
#set ($featuredContentRssUrl = false)
#set ($featuredContentRssUrl = $core_v2_groupUrls.FeaturedContentRss($group.Id))
#if ($featuredContentRssUrl)
	&lt;a href="$core_v2_encoding.HtmlAttributeEncode($featuredContentRssUrl)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$group.Name&lt;/a&gt;
#end
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_FeaturedContentList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="postLayout" resourceName="CF_Core_FeaturedContentList_Layout" dataType="string" defaultValue="wide"&gt;
		&lt;propertyValue value="sidebar" resourceName="CF_Core_FeaturedContentList_Layout_Sidebar"  /&gt;
		&lt;propertyValue value="medium" resourceName="CF_Core_FeaturedContentList_Layout_Medium"	/&gt;
		&lt;propertyValue value="wide" resourceName="CF_Core_FeaturedContentList_Layout_Wide"	/&gt;
	&lt;/property&gt;
	&lt;property id="largeExcerptSize" resourceName="CF_Core_FeaturedContentList_ExcerptSize_Large" dataType="int" defaultValue="350"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="10000" /&gt;
	&lt;/property&gt;
	&lt;property id="smallExcerptSize" resourceName="CF_Core_FeaturedContentList_ExcerptSize_Small" dataType="int" defaultValue="150"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="10000" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Core_FeaturedContentList_Name">Featured Content</resource><resource name="Core_FeaturedContentList_Description">Displays a list of featured content for the current group and child groups</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_Core_FeaturedContentList_Layout">Layout</resource><resource name="CF_Core_FeaturedContentList_Layout_Sidebar">Sidebar (1-column)</resource><resource name="CF_Core_FeaturedContentList_Layout_Medium">Medium (2-column, minimum space)</resource><resource name="CF_Core_FeaturedContentList_Layout_Wide">Wide (2-column)</resource><resource name="CF_Core_FeaturedContentList_ExcerptSize_Large">Large excerpt size</resource><resource name="CF_Core_FeaturedContentList_ExcerptSize_Small">Small excerpt size</resource><resource name="Core_FeaturedContentList_Title_Featured">Featured</resource></language></languageResources>
		<requiredContext>
			<context id="54d4201aced3447ca1e4498398289f44" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_ForgottenPassword_Name}" version="7.5.0.32466" description="${resource:Core_ForgottenPassword_Description}" instanceIdentifier="ba059a8304b64d49a85a21a0a4cd887a" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="forgotten-password">
		<contentScript>
&lt;div id="$core_v2_widget.UniqueId('Message')" style="display: none;"&gt;&lt;/div&gt;

&lt;div class="message directions"&gt;$core_v2_language.GetResource('ForgottenPassword_Instructions')&lt;/div&gt;
        
&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
    &lt;ul class="field-list"&gt;
        &lt;li class="field-item email-address"&gt;
            &lt;label class="field-item-header" for="$core_v2_widget.UniqueId('EmailAddress')"&gt;$core_v2_language.GetResource('ForgottenPassword_EmailAddress')&lt;/label&gt;
            &lt;span class="field-item-input"&gt;&lt;input type="text" id="$core_v2_widget.UniqueId('EmailAddress')" size="30" maxlength="128" /&gt;&lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item"&gt;
            &lt;span class="field-item-input"&gt;&lt;button id="$core_v2_widget.UniqueId('Recover')"&gt;$core_v2_language.GetResource('ForgottenPassword_SendButton')&lt;/button&gt;&lt;/span&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.forgottenPassword')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.forgottenPassword.register({
			wrapperId: '$core_v2_widget.WrapperElementId',
			message: jQuery('#$core_v2_widget.UniqueId('Message')'),
			emailAddressSelector: '#$core_v2_widget.UniqueId('EmailAddress')',
			recover: jQuery('#$core_v2_widget.UniqueId('Recover')'),
			recoverUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('recover.vm'))',
			errorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ForgottenPassword_Error'))'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_ForgottenPassword_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_ForgottenPassword_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_ForgottenPassword_Name">Forgot Password</resource><resource name="Core_ForgottenPassword_Description">Displays the forgot password form for a user.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="ForgottenPassword_Instructions">Please enter the email address you used when you created your account, and we will send you an email with further instructions.</resource><resource name="ForgottenPassword_EmailAddress">Email Address: </resource><resource name="ForgottenPassword_SendButton">Recover Password »</resource><resource name="ForgottenPassword_Error">An error occurred while attempting to recover your password.  Please try again.</resource><resource name="ForgottenPassword_PasswordResetTitle">User Password Reset</resource><resource name="ForgottenPassword_PasswordResetMessage">You have requested that a new password be generated and sent to your email address (&lt;font color="red"&gt;&lt;b&gt;{0}&lt;/b&gt;&lt;/font&gt;). Please allow up to 15 minutes for it to take effect.</resource><resource name="ForgottenPassword_PasswordLinkSentTitle">User Password Link Sent</resource><resource name="ForgottenPassword_PasswordLinkSentMessage">You have requested a link be sent to your email address (&lt;font color="red"&gt;&lt;b&gt;{0}&lt;/b&gt;&lt;/font&gt;) which will enable you to reset your password. The email will arrive shortly.</resource><resource name="ForgottenPassword_EmailNotFound">The email address entered is not present in our system. Please try another address or &lt;a href="{0}"&gt;join the site&lt;/a&gt;.</resource><resource name="ForgottenPassword_UserAccountLocked">Unable to reset your password because your account is locked.</resource></language></languageResources>
		<files>
			<file name="recover.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCg0KCSNzZXQoJGVtYWlsQWRkcmVzcyA9IGZhbHNlKQ0KCSNzZXQoJGVtYWlsQWRkcmVzcyA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdlbWFpbEFkZHJlc3MnKSkNCg0KCSNzZXQoJHVzZXIgPSBmYWxzZSkNCgkjc2V0KCR1c2VyID0gJGNvcmVfdjJfdXNlci5HZXQoIiV7RW1haWw9JGVtYWlsQWRkcmVzc30iKSkNCg0KCSNpZiAoJHVzZXIgJiYgJHVzZXIuRXJyb3JzLkNvdW50ID09IDApDQoJCSNpZiAoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5QYXNzd29yZFJlY292ZXJ5TWV0aG9kID09ICdSZXNldCcpDQoJCQkjc2V0ICgkcmVzcG9uc2UgPSAkY29yZV92Ml9hdXRoZW50aWNhdGlvbi5SZXNldFBhc3N3b3JkKCR1c2VyLklkKSkNCgkJCSNpZiAoJHJlc3BvbnNlLkVycm9ycy5Db3VudCA9PSAwKQ0KCQkJCXsic3VjY2VzcyI6InRydWUiLCJtZXNzYWdlIjoiPGI+JGNvcmVfdjJfZW5jb2RpbmcuSmF2YVNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRm9yZ290dGVuUGFzc3dvcmRfUGFzc3dvcmRSZXNldFRpdGxlJykpPC9iPjxkaXY+JGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0ZvcmdvdHRlblBhc3N3b3JkX1Bhc3N3b3JkUmVzZXRNZXNzYWdlJyksICRlbWFpbEFkZHJlc3MpKTwvZGl2PiJ9DQoJCQkjZWxzZQ0KCQkJCSNpZigkcmVzcG9uc2UuRXJyb3JzLmdldF9JdGVtKDApLlR5cGUgPT0gJ1VzZXJBY2NvdW50TG9ja2VkJykNCgkJCQkJeyJzdWNjZXNzIjoiZmFsc2UiLCJtZXNzYWdlIjoiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRm9yZ290dGVuUGFzc3dvcmRfVXNlckFjY291bnRMb2NrZWQnKSkifQ0KCQkJCSNlbHNlDQoJCQkJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkcmVzcG9uc2UuRXJyb3JzKQ0KCQkJCSNlbmQNCgkJCSNlbmQNCgkJI2Vsc2UNCgkJCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uU2VuZENoYW5nZVBhc3N3b3JkRW1haWwoJHVzZXIuSWQpKQ0KCQkJI2lmICgkcmVzcG9uc2UuRXJyb3JzLkNvdW50ID09IDApDQoJCQkJeyJzdWNjZXNzIjoidHJ1ZSIsIm1lc3NhZ2UiOiI8Yj4kY29yZV92Ml9lbmNvZGluZy5KYXZhU2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdGb3Jnb3R0ZW5QYXNzd29yZF9QYXNzd29yZExpbmtTZW50VGl0bGUnKSk8L2I+PGRpdj4kY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRm9yZ290dGVuUGFzc3dvcmRfUGFzc3dvcmRMaW5rU2VudE1lc3NhZ2UnKSwgJGVtYWlsQWRkcmVzcykpPC9kaXY+In0NCgkJCSNlbHNlDQoJCQkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRyZXNwb25zZS5FcnJvcnMpDQoJCQkjZW5kDQoJCSNlbmQNCgkjZWxzZQ0KCQl7InN1Y2Nlc3MiOiJmYWxzZSIsIm1lc3NhZ2UiOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRm9yZ290dGVuUGFzc3dvcmRfRW1haWxOb3RGb3VuZCcpLCAkY29yZV92Ml9lbmNvZGluZy5IdG1sRW5jb2RlKCRjb3JlX3YyX3VybHMuUmVnaXN0ZXIoJGNvcmVfdjJfdXJscy5Ib21lKCkpKSkpIn0NCgkjZW5kDQojZW5k</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQsIGdsb2JhbCkgew0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0NCglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307IH0JCQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmZvcmdvdHRlblBhc3N3b3JkID0gew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KDQoJCQljb250ZXh0LnJlY292ZXIuZXZvbHV0aW9uVmFsaWRhdGlvbih7DQoJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsNCgkJCQl9LA0KCQkJCW9uU3VjY2Vzc2Z1bENsaWNrOiBmdW5jdGlvbihlKSB7DQoJCQkJCWUucHJldmVudERlZmF1bHQoKTsNCgkJCQkJY29udGV4dC5yZWNvdmVyLmF0dHIoJ2Rpc2FibGVkJyx0cnVlKTsNCgkJCQkJY29udGV4dC5tZXNzYWdlLmhpZGUoKTsNCgkJCQkJDQoJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkJCQkJCXVybDogY29udGV4dC5yZWNvdmVyVXJsLA0KCQkJCQkJZGF0YTogeyBlbWFpbEFkZHJlc3M6ICQoY29udGV4dC5lbWFpbEFkZHJlc3NTZWxlY3RvcikudmFsKCkgfSwNCgkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCQkJew0KCQkJCQkJCWlmIChyZXNwb25zZS5tZXNzYWdlKQ0KCQkJCQkJCXsNCgkJCQkJCQkJaWYgKHJlc3BvbnNlLnN1Y2Nlc3MgPT09ICd0cnVlJykNCgkJCQkJCQkJew0KCQkJCQkJCQkJY29udGV4dC5tZXNzYWdlLmh0bWwocmVzcG9uc2UubWVzc2FnZSkuYXR0cignY2xhc3MnLCdtZXNzYWdlIHN1Y2Nlc3MnKS5zaG93KCk7DQoJCQkJCQkJCQkkKCcubWVzc2FnZS5kaXJlY3Rpb25zLCAuZmllbGQtbGlzdC1oZWFkZXIsIC5maWVsZC1saXN0LCAuZmllbGQtbGlzdC1mb290ZXInLCAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKSkuaGlkZSgpOw0KCQkJCQkJCQl9DQoJCQkJCQkJCWVsc2UNCgkJCQkJCQkJew0KCQkJCQkJCQkJY29udGV4dC5tZXNzYWdlLmh0bWwocmVzcG9uc2UubWVzc2FnZSkuYXR0cignY2xhc3MnLCdtZXNzYWdlIGVycm9yJykuc2hvdygpOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQkJCQkJCQkNCg0KCQkJCQkJCWNvbnRleHQucmVjb3Zlci5hdHRyKCdkaXNhYmxlZCcsZmFsc2UpOw0KCQkJCQkJfSwNCgkJCQkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuZXJyb3JUZXh0LA0KCQkJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQoJCQkJCQl7DQoJCQkJCQkJY29udGV4dC5tZXNzYWdlLmh0bWwoZGVzYykuYXR0cignY2xhc3MnLCdtZXNzYWdlIGVycm9yJykuc2hvdygpOw0KCQkJCQkJCWNvbnRleHQucmVjb3Zlci5hdHRyKCdkaXNhYmxlZCcsZmFsc2UpOw0KCQkJCQkJfQ0KCQkJCQl9KTsNCg0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfQ0KCQkJfSk7DQoNCgkJCWNvbnRleHQucmVjb3Zlci5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsIGNvbnRleHQuZW1haWxBZGRyZXNzU2VsZWN0b3IsIHsNCgkJCQkJcmVxdWlyZWQ6IHRydWUsDQoJCQkJCWVtYWlsOiB0cnVlLA0KCQkJCQltZXNzYWdlczogeyByZXF1aXJlZDogJyonLCBlbWFpbDogJyonIH0NCgkJCQl9LA0KCQkJCScjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5lbWFpbC1hZGRyZXNzIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLA0KCQkJCW51bGwNCgkJCSk7DQoNCgkJfQ0KCX07DQp9KGpRdWVyeSwgd2luZG93KSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_ForumBreadCrumbs_Name}" version="7.5.0.32466" description="${resource:Forums_ForumBreadCrumbs_Description}" instanceIdentifier="2df0efb43f384bf0895b0368f0e90dda" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="forum-bread-crumbs">
		<contentScript>
#set($page = $core_v2_forumUrls.Current)

&lt;div class="breadcrumb-list-header"&gt;&lt;/div&gt;
&lt;div class="breadcrumb-list"&gt;
	&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Home())" class="internal-link view-home"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Home")&lt;/a&gt;&lt;/span&gt;

	#foreach($group in $core_v2_group.CurrentGroupPath)
	#each
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($group.Url)" class="internal-link view-group"&gt;&lt;span&gt;&lt;/span&gt;$group.Name&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($core_v2_forum.Current)
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_forumUrls.Forum($core_v2_forum.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_forum.Current.Name&lt;/a&gt;&lt;/span&gt;
	#end

	#if (($page == "Thread" || $page == "ForumReply" || $page == "DeleteForumReply" || $page == "DeleteThread" || $page == "ReplyToForumReply" || $page == "ReplyToForumThread" || $page == "EditForumReply" || $page == "EditThread") &amp;&amp; $core_v2_forumThread.Current)
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_forumUrls.Thread($core_v2_forumThread.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_forumThread.Current.Subject&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "AddForumReply")
		#if ($core_v2_forumReply.CurrentParent)
			&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
			&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_forumUrls.ForumReply($core_v2_forumReply.CurrentParent.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_forumReply.CurrentParent.Subject&lt;/a&gt;&lt;/span&gt;
		#elseif ($core_v2_forumThread.CurrentParent)
			&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
			&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_forumUrls.Thread($core_v2_forumThread.CurrentParent.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_forumThread.CurrentParent.Subject&lt;/a&gt;&lt;/span&gt;
		#end
	#elseif ($page == "Tags")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_forumUrls.Tags($core_v2_forum.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("TagBreadCrumb_Root")&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_tags.Current &amp;&amp; $core_v2_tags.Current.Count &gt; 0)
			#set($index = 0)
			#foreach($tag in $core_v2_tags.Current)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_forumUrls.Tags($core_v2_forum.Current.Id, $core_v2_utility.Slice($core_v2_tags.Current, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$tag&lt;/a&gt;&lt;/span&gt;
			#end
		#end
	#end
&lt;/div&gt;
&lt;div class="breadcrumb-list-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_ForumBreadCrumbs_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_ForumBreadCrumbs_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Forums_ForumBreadCrumbs_Name">Forum - Breadcrumbs</resource><resource name="Forums_ForumBreadCrumbs_Description">Displays bread crumb links for group pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Home">Home</resource><resource name="BreadCrumb_Seperator"> &amp;raquo; </resource><resource name="TagBreadCrumb_Root">All Tags</resource></language></languageResources>
		<requiredContext>
			<context id="4112947a2c1a4ac3b10b20fc86f3d8b7" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_ForumLinks_Name}" version="7.5.0.32466" description="${resource:Forums_ForumLinks_Description}" instanceIdentifier="64648d80b1014325a41b8742d7957af3" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="forum-links">
		<contentScript>

#set($links = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('links','Link=forumCreate&amp;amp;Link=forumSettings&amp;amp;Link=forumModeration&amp;amp;Link=forumSubscriptions&amp;amp;Link=forumFavorites&amp;amp;Link=forumRss&amp;amp;Link=forumMarkAllRead')))
#set($hasLinks = false)
#set($currentGroup = $core_v2_group.Current)
#set($currentForum = $core_v2_forum.Current)
#set($currentForumThread = $core_v2_forumThread.Current)

&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#foreach($link in $links.Values('Link'))
		#set($url = false)
		#if($link == 'forumCreatePost')
			#if ($currentForum)
				#set($url = $core_v2_forumUrls.AddThread($currentForum.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link add-application forum"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_ForumLinks_CreatePost')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'forumSubscriptions')

			## Forum Subscribing
			#if ($currentForum &amp;&amp; (!$currentForumThread || !$currentForumThread.Subject) &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id) &amp;&amp; $core_v2_nodePermission.Get('forums',$currentForum.Id,'Forum_ReadForum').IsAllowed)
				&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('forumSubscribe')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					jQuery(function(j){
						j('#$core_v2_widget.UniqueId('forumSubscribe')').evolutionToggleLink({
							onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_ForumLinks_Unsubscribe'))',
							offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_ForumLinks_Subscribe'))',
							processingHtml: '&lt;span&gt;&lt;/span&gt;...',
							changeState: function(val) {
								j.telligent.evolution.post({
									url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
									data: {type:'forum',subscribe:val,forumId:$currentForum.Id},
									success: function(response) { j('#$core_v2_widget.UniqueId('forumSubscribe')').evolutionToggleLink('val', response.subscribe); if (response.warnings &amp;&amp; response.warnings.length &gt; 0) { jQuery.telligent.evolution.notifications.show(response.warnings[0], { type: 'warning' }); } },
									error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('forumSubscribe')').evolutionToggleLink('val', !val); }
								});
							},
							onCssClass: 'internal-link subscription-on',
							offCssClass: 'internal-link subscription-off',
							processingCssClass: 'internal-link processing',
							val: #if($core_v2_forum.IsSubscribed($currentForum.Id)) true#else false#end
						});
					});
					&lt;/script&gt;
				#end
				#set($hasLinks = true)
			#end

			## Thread Muting			
			#if ($currentForum &amp;&amp; $currentForumThread &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id) &amp;&amp; $core_v2_nodePermission.Get('forums',$currentForum.Id,'Forum_ReadForum').IsAllowed &amp;&amp; $core_v2_forum.SubscriptionType($currentForum.Id) == 'Post')
				&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('forumThreadMute')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					jQuery(function(j){
						j('#$core_v2_widget.UniqueId('forumThreadMute')').evolutionToggleLink({
							onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_ForumLinks_ThreadUnMute'))',
							offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_ForumLinks_ThreadMute'))',
							processingHtml: '&lt;span&gt;&lt;/span&gt;...',
							changeState: function(val) {
								j.telligent.evolution.post({
									url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('mute.vm'))',
									data: {type:'forumThread',mute:val,forumThreadId:$currentForumThread.Id},
									success: function(response) { j('#$core_v2_widget.UniqueId('forumThreadMute')').evolutionToggleLink('val', response.mute); },
									error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('forumThreadMute')').evolutionToggleLink('val', !val); }
								});
							},
							onCssClass: 'internal-link subscription-on',
							offCssClass: 'internal-link subscription-off',
							processingCssClass: 'internal-link processing',
							val: #if($core_v2_forumThread.IsMuted($currentForumThread.Id)) true#else false#end
						});
					});
					&lt;/script&gt;
				#end
				#set($hasLinks = true)
			## Forum Thread Subscribing			
			#elseif ($currentForumThread &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id) &amp;&amp; ($core_v2_forumThread.SubscriptionType($currentForumThread.Id) == 'Post' || $core_v2_forumThread.SubscriptionType($currentForumThread.Id) == 'None'))
				&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('forumThreadSubscribe')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					jQuery(function(j){
						j('#$core_v2_widget.UniqueId('forumThreadSubscribe')').evolutionToggleLink({
							onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_ForumLinks_ThreadUnsubscribe'))',
							offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_ForumLinks_ThreadSubscribe'))',
							processingHtml: '&lt;span&gt;&lt;/span&gt;...',
							changeState: function(val) {
								j.telligent.evolution.post({
									url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
									data: {type:'forumThread',subscribe:val,forumThreadId:$currentForumThread.Id},
									success: function(response) { j('#$core_v2_widget.UniqueId('forumThreadSubscribe')').evolutionToggleLink('val', response.subscribe); if (response.warnings &amp;&amp; response.warnings.length &gt; 0) { jQuery.telligent.evolution.notifications.show(response.warnings[0], { type: 'warning' }); } },
									error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('forumThreadSubscribe')').evolutionToggleLink('val', !val); }
								});
							},
							onCssClass: 'internal-link subscription-on',
							offCssClass: 'internal-link subscription-off',
							processingCssClass: 'internal-link processing',
							val: #if($core_v2_forumThread.IsSubscribed($currentForumThread.Id)) true#else false#end
						});
					});
					&lt;/script&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'forumRss')
			#if ($currentForum)
				#set($url = $core_v2_forumUrls.Rss($currentForum.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Forums_SubscribeRss')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'forumMarkAllRead')
			#if($currentForum &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
				&lt;li class="navigation-item"&gt;
					&lt;a href="#" id="$core_v2_widget.UniqueId('forumAllRead')" class="internal-link mark-all-read"&gt;
						&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('MarkAllRead_Threads_Link')
					&lt;/a&gt;
				&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					jQuery(function(j){
						j("#$core_v2_widget.UniqueId('forumAllRead')").click(function(e){
							j.telligent.evolution.post({
								url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('read.vm'))',
								data: { type:'forum', read:true, forumId:$currentForum.Id },
								success: function(response) { if(response.read) { window.location.reload(); } }
							});
							return false;
						});
					});
					&lt;/script&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'forumFavorites')
			#if ($currentForum &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_forum.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($currentForum.ContentId, $core_v2_forum.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($currentForum.ContentId, $core_v2_forum.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($currentForum.ContentId, $core_v2_forum.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'forumThreadFavorites')
			#if ($currentForumThread &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_forumThread.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($currentForumThread.ContentId, $core_v2_forumThread.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($currentForumThread.ContentId, $core_v2_forumThread.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($currentForumThread.ContentId, $core_v2_forumThread.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'forumThreadShare')
			#if ($currentForumThread)
				#set($url = $core_v2_forumUrls.ShareForumThread($currentForumThread.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="#" onclick="Telligent_Modal.Open('$core_v2_encoding.HtmlEncode($core_v2_encoding.JavaScriptEncode($url))',550,300,null); return false;" class="internal-link email-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_ForumLinks_ThreadShare')&lt;/a&gt;&lt;/li&gt;
				#else
					&lt;li class="navigation-item"&gt;&lt;a href="mailto:?subject=$currentForumThread.Subject&amp;body=$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AbsoluteUrl($currentForumThread.Url))" class="internal-link email-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_ForumLinks_ThreadShare')&lt;/a&gt;&lt;/li&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'forumCapture')
			#if ($currentForumThread)
				#set($url = $core_v2_forumUrls.CaptureForumThread($currentForumThread.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="#" onclick="Telligent_Modal.Open('$core_v2_encoding.HtmlEncode($core_v2_encoding.JavaScriptEncode($url))',550,300,null);" class="internal-link capture-post forum"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wiki_CopyToWiki')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'forumModeration')
			#if ($currentForum)
				#set($url = $core_v2_forumUrls.ModerateForum($currentForum.Id))
				#if($url)
					#if($currentForum.PostsToModerate == 1)
			&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-moderation-active"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.FormatString($core_v2_language.GetResource('CF_ForumsModeration_Singular'), $currentForum.PostsToModerate.ToString())&lt;/a&gt;&lt;/li&gt;
					  #set($hasLinks = true)
          #elseif($currentForum.PostsToModerate &gt; 1)
      &lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-moderation-active"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.FormatString($core_v2_language.GetResource('CF_ForumsModeration_Plural'), $currentForum.PostsToModerate.ToString())&lt;/a&gt;&lt;/li&gt;
					  #set($hasLinks = true)
          #end
				#end
			#end
		#elseif($link == 'forumSettings')
			#if ($currentForum)
				#set($url = $core_v2_forumUrls.EditForum($currentForum.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-control-panel"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_ForumAdministration')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'forumCreate')
			#if ($currentGroup)
				#set($url = $core_v2_forumUrls.AddForum($currentGroup.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link add-application forum"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_ForumCreate')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'forumManageSubscriptions')
			#if ($currentGroup)
				#set($url = $core_v2_forumUrls.Subscriptions($currentGroup.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-subscriptions"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Forums_ManageSubscriptions')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#end
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;

#if(!$hasLinks)
	$core_v2_widget.Hide()
#end

			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_ForumLinks_Title_Options}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_ForumLinks_Title_Options}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="links" resourceName="Forums_ForumLinks_Links" dataType="custom" defaultValue="Link=forumCreate&amp;amp;Link=forumSettings&amp;amp;Link=forumModeration&amp;amp;Link=forumSubscriptions&amp;amp;Link=forumFavorites&amp;amp;Link=forumRss&amp;amp;Link=forumMarkAllRead" controlType="Telligent.Evolution.Controls.SortableListControl, Telligent.Evolution.Controls" height="300" key="Link" &gt;
		&lt;propertyValue value="forumCreatePost" resourceName="CF_ForumLinks_CreatePost_Link" /&gt;
		&lt;propertyValue value="forumMarkAllRead" resourceName="MarkAllRead_Threads" /&gt;
		&lt;propertyValue value="forumSubscriptions" resourceName="CF_ForumLinks_Subscriptions" /&gt;
		&lt;propertyValue value="forumManageSubscriptions" resourceName="CF_ForumLinks_ManageSubscription" /&gt;
		&lt;propertyValue value="forumThreadFavorites" resourceName="CF_ForumLinks_ThreadFavorites" /&gt;
		&lt;propertyValue value="forumFavorites" resourceName="CF_ForumLinks_Favorites" /&gt;
		&lt;propertyValue value="forumModeration" resourceName="CF_ForumsModeration_Title" /&gt;
		&lt;propertyValue value="forumCreate" resourceName="CF_ForumCreate" /&gt;
		&lt;propertyValue value="forumSettings" resourceName="CF_ForumAdministration" /&gt;
		&lt;propertyValue value="forumRss" resourceName="Forums_SubscribeRss" /&gt;
		&lt;propertyValue value="forumCapture" resourceName="Forums_CaptureWiki" /&gt;
		&lt;propertyValue value="forumThreadShare" resourceName="CF_ForumLinks_ThreadShare_Link" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Forums_ForumLinks_Name">Forums - Links</resource><resource name="Forums_ForumLinks_Description">Displays a list of common forum links.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Forums_ForumLinks_Links">Select, rearrange, and enable the links to be displayed</resource><resource name="CF_ForumLinks_CreatePost_Link">Start a New Thread Link</resource><resource name="MarkAllRead_Threads">Mark all read</resource><resource name="CF_ForumLinks_Subscriptions">Notifications link</resource><resource name="CF_ForumLinks_ManageSubscription">Manage subscriptions</resource><resource name="CF_ForumLinks_ThreadFavorites">Bookmark Thread Link</resource><resource name="CF_ForumLinks_Favorites">Bookmark Forum Link</resource><resource name="CF_ForumsModeration_Title">Moderate forum</resource><resource name="CF_ForumCreate">Create new forum</resource><resource name="CF_ForumAdministration">Forum settings</resource><resource name="Forums_SubscribeRss">RSS</resource><resource name="Forums_CaptureWiki">Capture to wiki link</resource><resource name="CF_ForumLinks_ThreadShare_Link">Share This Link</resource><resource name="CF_ForumLinks_CreatePost">Start a new thread</resource><resource name="CF_ForumLinks_Unsubscribe">Forum notifications are on</resource><resource name="CF_ForumLinks_Subscribe">Forum notifications are off</resource><resource name="CF_ForumLinks_ThreadUnMute">Unmute thread</resource><resource name="CF_ForumLinks_ThreadMute">Mute thread</resource><resource name="CF_ForumLinks_ThreadUnsubscribe">Reply notifications are on</resource><resource name="CF_ForumLinks_ThreadSubscribe">Reply notifications are off</resource><resource name="MarkAllRead_Threads_Link">&lt;span&gt;&lt;/span&gt;Mark all read</resource><resource name="CF_ForumLinks_ThreadShare">Share this</resource><resource name="Wiki_CopyToWiki">Capture to wiki</resource><resource name="Forums_ManageSubscriptions">Manage subscriptions</resource><resource name="Forums_ForumLinks_Title_Admin">Admin</resource><resource name="Forums_ForumLinks_Title_Options">Options</resource><resource name="CF_ForumsModeration_Singular">{0} post to moderate</resource><resource name="CF_ForumsModeration_Plural">{0} posts to moderate</resource></language></languageResources>
		<requiredContext>
			<context id="4112947a2c1a4ac3b10b20fc86f3d8b7" />
		</requiredContext>
		<files>
			<file name="mute.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJHR5cGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgndHlwZScpKQoJI3NldCgkbXV0ZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdtdXRlJykpKQoJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpCgoJI2lmICgkdHlwZSA9PSAnZm9ydW1UaHJlYWQnKQoJCSQhY29yZV92Ml9mb3J1bVRocmVhZC5TZXRNdXRlZCgkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdmb3J1bVRocmVhZElkJykpLCAkbXV0ZSkKCQl7Im11dGUiOiNpZigkbXV0ZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZH0KCSNlbHNlCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCdVbnJlY29nbml6ZWQgbXV0ZSB0eXBlJykKCSNlbmQKI2VuZA==</file>
			<file name="read.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJHR5cGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgndHlwZScpKQoJI3NldCgkcmVhZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdyZWFkJykpKQoJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpCgoJI2lmICgkdHlwZSA9PSAnZm9ydW0nKQoJCSQhY29yZV92Ml9mb3J1bS5NYXJrQWxsUmVhZCgkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdmb3J1bUlkJykpLCAkcmVhZCkKCQl7InJlYWQiOiNpZigkcmVhZCkgdHJ1ZSNlbHNlIGZhbHNlI2VuZH0KCSNlbHNlCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCdVbnJlY29nbml6ZWQgcmVhZCB0eXBlJykKCSNlbmQKI2VuZA==</file>
			<file name="subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJHR5cGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgndHlwZScpKQoJI3NldCgkc3Vic2NyaWJlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUJvb2woJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3N1YnNjcmliZScpKSkKCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQoJI3NldCgkcmVzcG9uc2UgPSBmYWxzZSkKCgkjaWYgKCR0eXBlID09ICdmb3J1bScpCgkJI3NldCgkcmVzcG9uc2UgPSAkY29yZV92Ml9mb3J1bS5TZXRTdWJzY3JpYmVkKCRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ZvcnVtSWQnKSksICRzdWJzY3JpYmUpKQoJCXsic3Vic2NyaWJlIjojaWYoJHN1YnNjcmliZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZCwid2FybmluZ3MiOlsKCQkJI2ZvcmVhY2ggKCR3YXJuaW5nIGluICRyZXNwb25zZS5XYXJuaW5ncykKCQkJCSNlYWNoCgkJCQkJIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHdhcm5pbmcuTWVzc2FnZSkiCgkJCQkjYmV0d2VlbgoJCQkJCSwKCQkJI2VuZAoJCV19CgkjZWxzZWlmICgkdHlwZSA9PSAnZm9ydW1UaHJlYWQnKQoJCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfZm9ydW1UaHJlYWQuU2V0U3Vic2NyaWJlZCgkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdmb3J1bVRocmVhZElkJykpLCAkc3Vic2NyaWJlKSkKCQl7InN1YnNjcmliZSI6I2lmKCRzdWJzY3JpYmUpIHRydWUjZWxzZSBmYWxzZSNlbmQsIndhcm5pbmdzIjpbCgkJCSNmb3JlYWNoICgkd2FybmluZyBpbiAkcmVzcG9uc2UuV2FybmluZ3MpCgkJCQkjZWFjaAoJCQkJCSIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCR3YXJuaW5nLk1lc3NhZ2UpIgoJCQkJI2JldHdlZW4KCQkJCQksCgkJCSNlbmQKCQldfQoJI2Vsc2UKCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJ1VucmVjb2duaXplZCBzdWJzY3JpcHRpb24gdHlwZS4nKQoJI2VuZAojZW5k</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_ForumSubscriptions_Name}" version="7.5.0.32466" description="${resource:Forums_ForumSubscriptions_Description}" instanceIdentifier="fe457e4a827b4d218036d6a5e1f71dcf" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="forum-subscriptions">
		<contentScript>

#set ($group = $core_v2_group.Current)
#set ($includeChildGroups = $core_v2_widget.GetBoolValue('includeChildGroups', false))

#set ($sortBy = "Name")
#set ($sortOrder = "Ascending")
#set ($pageSize = 20)
#set ($pageIndex = $core_v2_ui.GetCurrentPageIndex())

#set ($forums = false)
#set ($forums = $core_v2_forum.List("%{ GroupId = $group.Id, IncludeSubGroups = $includeChildGroups, PageSize = $pageSize, PageIndex = $pageIndex, SortOrder = $sortOrder, SortBy = $sortBy }"))

#set ($enableMailGateway = $core_v2_configuration.EnableMailGateway)

&lt;div class="table-list-header"&gt;&lt;/div&gt;
&lt;table class="table-list"&gt;
	&lt;thead&gt;
		&lt;tr class="table-header"&gt;
			&lt;th class="table-header-column"&gt;$core_v2_language.GetResource('ForumSubscriptionView_List_Forum')&lt;/th&gt;
			&lt;th class="table-header-column"&gt;$core_v2_language.GetResource('ForumSubscriptionView_List_Group')&lt;/th&gt;
			#if ($enableMailGateway)
				&lt;th class="table-header-column"&gt;$core_v2_language.GetResource('ForumSubscriptionView_List_BidirectionalAddress')&lt;/th&gt;
			#end
			&lt;th class="table-header-column"&gt;$core_v2_language.GetResource('ForumSubscriptionView_List_Subscribe')&lt;/th&gt;
		&lt;/tr&gt;
	&lt;/thead&gt;
	&lt;tbody&gt;
		#foreach ($forum in $forums)
			#each
				&lt;tr class="table-item"&gt;
					&lt;td class="table-column"&gt;
						#set ($url = false)
						#set ($url = $core_v2_forumUrls.Forum($forum.Id))
						#if ($url)
							&lt;strong&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)"&gt;$forum.Name&lt;/a&gt;&lt;/strong&gt;
						#end
						#if ($forum.Description)
							&lt;div&gt;$forum.Description&lt;/div&gt;
						#end
					&lt;/td&gt;
					&lt;td class="table-column"&gt;
						#set ($url = false)
						#set ($url = $core_v2_groupUrls.Group($forum.Group.Id))
						#if ($url)
							&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)"&gt;$forum.Group.Name&lt;/a&gt;
						#end
					&lt;/td&gt;
					#if ($enableMailGateway)
						&lt;td class="table-column"&gt;
							#set ($address = false)
							#set ($address = $forum.EmailAddress)
							#if ($address)
								&lt;a href="mailto:$core_v2_encoding.JavascriptEncode($address)"&gt;$address&lt;/a&gt;
							#else
								$core_v2_language.GetResource('ForumSubscriptionView_NotificationsOnly')
							#end
						&lt;/td&gt;
					#end
					&lt;td class="table-column"&gt;
						#set ($toggleId = $core_v2_widget.UniqueId("forumSubscribe-${forum.Id}"))
						&lt;a id="$toggleId" href="#"&gt;&lt;/a&gt;
						#registerEndOfPageHtml()
							&lt;script type="text/javascript"&gt;
							jQuery(function(j){
								var toggleSelector = '#$toggleId';
								j(toggleSelector).evolutionToggleLink({
									onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Yes'))',
									offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('No'))',
									processingHtml: '&lt;span&gt;&lt;/span&gt;...',
									changeState: function(val) {
										j.telligent.evolution.post({
											url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
											data: {subscribe:val,forumId:$forum.Id},
											success: function(response) { j(toggleSelector).evolutionToggleLink('val', response.subscribe); },
											error: function(xhr, desc, ex) { j(toggleSelector).evolutionToggleLink('val', !val); }
										});
									},
									onCssClass: 'internal-link subscription-on',
									offCssClass: 'internal-link subscription-off',
									processingCssClass: 'internal-link processing',
									val: #if($core_v2_forum.IsSubscribed($forum.Id)) true#else false#end
								});
							});
							&lt;/script&gt;
						#end
					&lt;/td&gt;
				&lt;/tr&gt;
			#nodata
				&lt;tr class="table-item"&gt;
					#set ($colspan = 3)
					#if ($enableMailGateway)
						#set ($colspan = 4)
					#end
					&lt;td colspan="$colspan" class="table-column"&gt;
						$core_v2_language.GetResource('ForumSubscriptionView_NoEmailListsAvailable')
					&lt;/td&gt;
				&lt;/tr&gt;
		#end
	&lt;/tbody&gt;
&lt;/table&gt;

#if ($forums)
	$core_v2_ui.Pager($forums.PageIndex, $forums.PageSize, $forums.TotalCount)
#end

	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_ForumSubscriptions_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_ForumSubscriptions_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="includeChildGroups" resourceName="CF_ForumSubscriptions_IncludeChildren" dataType="bool" defaultValue="false" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Forums_ForumSubscriptions_Name">Forum - Email Subscriptions</resource><resource name="Forums_ForumSubscriptions_Description">Display a list of forums that can be subscribed to.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_ForumSubscriptions_IncludeChildren">Include child group forums</resource><resource name="ForumSubscriptionView_List_Forum">Forum</resource><resource name="ForumSubscriptionView_List_Group">Group</resource><resource name="ForumSubscriptionView_List_BidirectionalAddress">Reply/Post Enabled</resource><resource name="ForumSubscriptionView_List_Subscribe">Subscribe</resource><resource name="ForumSubscriptionView_NotificationsOnly">(Notifications Only)</resource><resource name="Yes">Yes</resource><resource name="No">No</resource><resource name="ForumSubscriptionView_NoEmailListsAvailable">No email lists are available within this forum group.</resource><resource name="Forums_ForumSubscriptions_Title_ForumSubscriptions">Forum Subscriptions</resource></language></languageResources>
		<files>
			<file name="subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJHN1YnNjcmliZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzdWJzY3JpYmUnKSkpCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykKCSRjb3JlX3YyX2ZvcnVtLlNldFN1YnNjcmliZWQoJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZm9ydW1JZCcpKSwgJHN1YnNjcmliZSkKCXsic3Vic2NyaWJlIjojaWYoJHN1YnNjcmliZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZH0KI2VuZA==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_ForumTitle_Name}" version="7.5.0.32466" description="${resource:Forums_ForumTitle_Description}" instanceIdentifier="735da753bdc14bd293168f140576c9cc" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="forum-title">
		<contentScript>
#set($page = $core_v2_forumUrls.Current)
#if ($page == 'Tags' || $page == 'GroupTags')
	#set($title = $core_v2_language.GetResource('TagBrowser_Title'))
#elseif ($page == 'Subscriptions')
	#set($title = $core_v2_language.GetResource('Utility_ForumAnchorType_ForumSubscriptions'))
#elseif ($page == 'Thread' || $page == 'ForumReply')
	#set($title = $core_v2_forumThread.Current.Subject)
#elseif ($page == 'Forum')
	#set($title = $core_v2_forum.Current.Name)
#elseif ($page == 'AddForumReply' &amp;&amp; $core_v2_forumReply.CurrentParent)
	#set($title = "$core_v2_forumReply.CurrentParent.Subject $core_v2_language.GetResource('Reply')")
#elseif ($page == 'AddThread')
	#set($title = $core_v2_language.GetResource('NewPost'))
#elseif($page == 'EditForumReply' || $page == 'EditThread')
	#set($title = "$core_v2_language.GetResource('Edit') $core_v2_forumThread.Current.Subject")
#elseif($page == 'DeleteForumReply' || $page == 'DeleteThread')
	#set($title = "$core_v2_language.GetResource('Delete') $core_v2_forumThread.Current.Subject")
#elseif($page == 'MuteThread')
	#set($title = $core_v2_language.GetResource('Mute'))
#end
#if ($page == 'Forum')
	$core_v2_page.SetTitle('', true, true)
	&lt;h1 class="title"&gt;$core_v2_forum.Current.Name&lt;/h1&gt;
#elseif ($title)
	$core_v2_page.SetTitle($title, true, true)
	&lt;h1 class="title"&gt;$title&lt;/h1&gt;
#else
	$core_v2_page.SetTitle($core_v2_language.GetResource('forums'), true, true)
	&lt;h1 class="title"&gt;$core_v2_language.GetResource('forums')&lt;/h1&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_ForumTitle_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_ForumTitle_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Forums_ForumTitle_Name">Forum - Title</resource><resource name="Forums_ForumTitle_Description">Displays the title of the current forum page.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="TagBrowser_Title">Browse by Tags</resource><resource name="Utility_ForumAnchorType_ForumSubscriptions">Forum Subscriptions</resource><resource name="Reply">Reply</resource><resource name="NewPost">New Post</resource><resource name="Edit">Edit</resource><resource name="Delete">Delete</resource><resource name="Report">Report Abuse</resource><resource name="Mute">Mute</resource><resource name="forums">Forums</resource></language></languageResources>
		<requiredContext>
			<context id="4112947a2c1a4ac3b10b20fc86f3d8b7" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_FriendshipList_Name}" version="7.5.0.32466" description="${resource:Core_FriendshipList_Description}" instanceIdentifier="133a73e034ea4500939f774b78d3d683" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="friendship-list">
		<contentScript>
#set ($viewType = $core_v2_widget.GetStringValue('viewType', 'standard'))
#set ($queryType = $core_v2_widget.GetStringValue('queryType', 'currentUser'))
#set ($pageSize = 20)
#set ($pageIndex = $core_v2_ui.GetCurrentPageIndex())

#set ($user = false)
#if ($queryType == "accessingUser")
	#set ($user = $core_v2_user.Accessing)
#elseif ($queryType == "currentUser")
	#set ($user = $core_v2_user.Current)
#end

## if there is no accessing or current user, hide widget
#if (!$user)
	$core_v2_widget.Hide();
#end

#set ($isUserAccessing = false)
#if ($user.Id == $core_v2_user.Accessing.Id)
	#set ($isUserAccessing = true)
#end

$core_v2_widget.ExecuteFile("${viewType}.vm")

#registerEndOfPageHtml('telligent.evolution.widgets.friendshipList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.friendshipList.register({
			wrapperId: '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
			userId: $user.Id,
			friendshipDeleteConfirmation: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ViewUserProfile_FriendDeleteConfirm'))',
			friendshipRequestCancelConfirmation: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Core_FriendshipList_ConfirmCancelFriendship'))',
			followOnTitle: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('StopFollowingUser'))',
			followOffTitle: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('FollowUser'))'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_FriendshipList_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_FriendshipList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="viewType" resourceName="CF_ViewType" dataType="string" defaultValue="standard"&gt;
		&lt;propertyValue value="standard" resourceName="CF_ViewType_Standard" /&gt;
		&lt;propertyValue value="simple" resourceName="CF_ViewType_Simple" /&gt;
	&lt;/property&gt;
	&lt;property id="queryType" resourceName="Core_FriendshipList_QueryType" dataType="string" defaultValue="currentUser"&gt;
		&lt;propertyValue value="currentUser" resourceName="Core_FriendshipList_QueryType_CurrentUser" /&gt;
		&lt;propertyValue value="accessingUser" resourceName="Core_FriendshipList_QueryType_AccessingUser" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Core_FriendshipList_Name">${friendship_propercase} List</resource><resource name="Core_FriendshipList_Description">Displays a list of pending and approved ${friendships_lowercase}.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_ViewType">View Type</resource><resource name="CF_ViewType_Standard">Filtered/Paged List</resource><resource name="CF_ViewType_Simple">Not Filtered/Not Paged List</resource><resource name="Core_FriendshipList_QueryType">Show ${friends_propercase} For:</resource><resource name="Core_FriendshipList_QueryType_CurrentUser">Current Contextual User</resource><resource name="Core_FriendshipList_QueryType_AccessingUser">Accessing User</resource><resource name="ViewUserProfile_FriendDeleteConfirm">Are you sure you want to delete this ${friendship_lowercase}?</resource><resource name="Core_FriendshipList_ConfirmCancelFriendship">Are you sure you want to cancel this ${friendship_lowercase} request?</resource><resource name="StopFollowingUser">Stop Following</resource><resource name="FollowUser">Follow</resource><resource name="Friends_None">No users have been added to your ${friends_lowercase} list.</resource><resource name="ActivityMessage_MessageDate">on {0}</resource><resource name="EditProfile_FriendsPrivateMessage">Send a Private Message</resource><resource name="Friend_Remove">Remove as ${friend_propercase}</resource><resource name="Friend_Add">Add as ${friend_propercase}</resource><resource name="EditProfile_Friends_None">No users have been added to {0}'s ${friends_lowercase} list.</resource><resource name="FriendRequest_Cancel">Cancel request</resource><resource name="FriendRequest_NoneToReview">You do not have any ${friendship_lowercase} requests to review.</resource><resource name="FriendRequest_Accepted_Confirmation">You are now ${friends_lowercase} with {0}.</resource><resource name="FriendRequest_Accept">Accept</resource><resource name="FriendRequest_Reject">Reject</resource><resource name="Friends">${friends_propercase}</resource><resource name="Friends_RequestsReview">Requests to Review</resource><resource name="Friends_YourRequests">Your Requests</resource><resource name="Friends_ApprovedFriends">My ${friends_propercase}</resource><resource name="Core_FriendshipList_Filter_Everyone">Everyone</resource><resource name="Core_FriendshipList_Filter_Following">Following</resource><resource name="Followers">Followers</resource><resource name="Core_FriendshipList_Title_Friends">${friends_propercase}</resource><resource name="FriendRequest_Accepted_Notification">You have accepted a ${friendship_lowercase} request from {0}.</resource><resource name="FriendRequest_Rejected_Notification">You have denied a ${friendship_lowercase} request from {0}.</resource></language></languageResources>
		<files>
			<file name="simple-page.vm">I3NldCAoJHZpZXdUeXBlID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCd2aWV3VHlwZScsICdzdGFuZGFyZCcpKQojc2V0ICgkcXVlcnlUeXBlID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdxdWVyeVR5cGUnLCAnY3VycmVudFVzZXInKSkKI3NldCAoJHBhZ2VTaXplID0gOSkKI3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3VpLkdldEN1cnJlbnRQYWdlSW5kZXgoKSkKCiNzZXQgKCR1c2VyID0gZmFsc2UpCiNpZiAoJHF1ZXJ5VHlwZSA9PSAiYWNjZXNzaW5nVXNlciIpCgkjc2V0ICgkdXNlciA9ICRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nKQojZWxzZWlmICgkcXVlcnlUeXBlID09ICJjdXJyZW50VXNlciIpCgkjc2V0ICgkdXNlciA9ICRjb3JlX3YyX3VzZXIuQ3VycmVudCkKI2VuZAoKIyMgaWYgdGhlcmUgaXMgbm8gYWNjZXNzaW5nIG9yIGN1cnJlbnQgdXNlciwgaGlkZSB3aWRnZXQKI2lmICghJHVzZXIpCgkkY29yZV92Ml93aWRnZXQuSGlkZSgpOwojZW5kCgojc2V0ICgkaXNVc2VyQWNjZXNzaW5nID0gZmFsc2UpCiNpZiAoJHVzZXIuSWQgPT0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpCgkjc2V0ICgkaXNVc2VyQWNjZXNzaW5nID0gdHJ1ZSkKI2VuZAoKI3NldCAoJGZyaWVuZHNoaXBzID0gJGNvcmVfdjJfZnJpZW5kc2hpcC5MaXN0KCIleyBGcmllbmRzaGlwU3RhdGUgPSAnQXBwcm92ZWQnLCBSZXF1ZXN0b3JJZCA9ICR1c2VyLklkLCBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSwgU29ydEJ5ID0gJ0xhc3RNb2RpZmllZERhdGUnLCBTb3J0T3JkZXIgPSAnRGVzY2VuZGluZycgfSIpKQoKI2ZvcmVhY2ggKCRmcmllbmRzaGlwIGluICRmcmllbmRzaGlwcykKI2JlZm9yZWFsbAoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+CiNlYWNoCgkjc2V0ICgkZnJpZW5kID0gZmFsc2UpCgkjaWYgKCRmcmllbmRzaGlwLlJlY2lwaWVudCAmJiAkZnJpZW5kc2hpcC5SZWNpcGllbnQuSWQgPT0gJHVzZXIuSWQpCgkJI3NldCAoJGZyaWVuZCA9ICRmcmllbmRzaGlwLlJlcXVlc3RvcikKCSNlbHNlCgkJI3NldCAoJGZyaWVuZCA9ICRmcmllbmRzaGlwLlJlY2lwaWVudCkKCSNlbmQKCSNpZiAoJGZyaWVuZCkKCQk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSI+CgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1oZWFkZXIiPjwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QiPgoJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+CgkJCQkJI2lmICgkZnJpZW5kLlByb2ZpbGVVcmwpCgkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZyaWVuZC5Qcm9maWxlVXJsKSI+CgkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRmcmllbmQuQXZhdGFyVXJsLCA2MCwgNjAsICIle2JvcmRlcj0nMCcsIGFsdD0kZnJpZW5kLkRpc3BsYXlOYW1lfSIpCgkJCQkJCTwvYT4KCQkJCQkjZWxzZQoJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRmcmllbmQuQXZhdGFyVXJsLCA2MCwgNjAsICIle2JvcmRlcj0nMCcsIGFsdD0kZnJpZW5kLkRpc3BsYXlOYW1lfSIpCgkJCQkJI2VuZAoJCQkJPC9zcGFuPgoJCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CgkJCQkJI2lmICgkZnJpZW5kLlByb2ZpbGVVcmwpCgkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZyaWVuZC5Qcm9maWxlVXJsKSI+JGZyaWVuZC5EaXNwbGF5TmFtZTwvYT4KCQkJCQkjZWxzZQoJCQkJCQkkZnJpZW5kLkRpc3BsYXlOYW1lCgkJCQkJI2VuZAoJCQkJPC9zcGFuPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciI+PC9kaXY+CgkJPC9saT4KCSNlbmQKI2FmdGVyYWxsCgk8L3VsPgoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+CiNub2RhdGEKCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kc19Ob25lJyk8L2Rpdj4KI2VuZAo=</file>
			<file name="simple.vm">I2lmICgkY29yZV92Ml91c2VyLklzUmVnaXN0ZXJlZCgkdXNlci5pZCkpCgkkY29yZV92Ml91aS5QYWdlZENvbnRlbnQoJ3NpbXBsZS1wYWdlLnZtJykKCSRjb3JlX3YyX3VpLlBhZ2VyKCRmcmllbmRzaGlwcy5QYWdlSW5kZXgsICRmcmllbmRzaGlwcy5QYWdlU2l6ZSwgJGZyaWVuZHNoaXBzLlRvdGFsQ291bnQsICIle1Nob3dJbmRpdmlkdWFsUGFnZXMgPSAnZmFsc2UnLCBTaG93UHJldmlvdXMgPSAndHJ1ZScsIFNob3dOZXh0ID0gJ3RydWUnLCBQYWdlZENvbnRlbnRGaWxlID0gJ3NpbXBsZS1wYWdlLnZtJyB9IikKI2Vsc2UKCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kc19Ob25lJyk8L2Rpdj4KI2VuZAo=</file>
			<file name="standard-everyone.vm">I3NldCAoJHVzZXJzID0gJGNvcmVfdjJfdXNlci5MaXN0KCIleyBQYWdlU2l6ZSA9IDIxLCBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBTb3J0QnkgPSAnTGFzdEFjdGl2ZURhdGUnLCBTb3J0T3JkZXIgPSAnRGVzY2VuZGluZycgfSIpKQoKJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzdGFuZGFyZC10YWJzLnZtJykKCiNmb3JlYWNoICgkZnJpZW5kIGluICR1c2VycykKI2JlZm9yZWFsbAoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+CiNlYWNoCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1mcmllbmRpZD0iJGZyaWVuZC5JZCI+CgkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+CgkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0Ij4KCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+CgkJCQkjaWYgKCRmcmllbmQuUHJvZmlsZVVybCkKCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRmcmllbmQuUHJvZmlsZVVybCkiPgoJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRmcmllbmQuQXZhdGFyVXJsLCA2MCwgNjAsICIle2JvcmRlcj0nMCcsIGFsdD0kZnJpZW5kLkRpc3BsYXlOYW1lfSIpCgkJCQkJPC9hPgoJCQkJI2Vsc2UKCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRmcmllbmQuQXZhdGFyVXJsLCA2MCwgNjAsICIle2JvcmRlcj0nMCcsIGFsdD0kZnJpZW5kLkRpc3BsYXlOYW1lfSIpCgkJCQkjZW5kCgkJCTwvc3Bhbj4KCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CgkJCQkjaWYgKCRmcmllbmQuUHJvZmlsZVVybCkKCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZnJpZW5kLlByb2ZpbGVVcmwpIj4KCQkJCQkJPHNwYW4+PC9zcGFuPiRmcmllbmQuRGlzcGxheU5hbWUKCQkJCQk8L2E+CgkJCQkjZWxzZQoJCQkJCTxzcGFuPjwvc3Bhbj4kZnJpZW5kLkRpc3BsYXlOYW1lCgkJCQkjZW5kCgkJCTwvc3Bhbj4KCgkJCSNzZXQgKCRzdGF0dXNNZXNzYWdlcyA9ICRjb3JlX3YyX3N0YXR1c01lc3NhZ2UuTGlzdCgiJXsgVXNlcklkID0gJGZyaWVuZC5JZCwgUGFnZVNpemUgPSAxIH0iKSkKCQkJI2ZvcmVhY2ggKCRzdGF0dXMgaW4gJHN0YXR1c01lc3NhZ2VzKQoJCQkJPHNwYW4gY2xhc3M9InN0YXR1cy1tZXNzYWdlIj4kc3RhdHVzLlJlbmRlcmVkQm9keTwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJzdGF0dXMtZGF0ZSI+CgkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdBY3Rpdml0eU1lc3NhZ2VfTWVzc2FnZURhdGUnKSwgJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZUFuZFRpbWUoJHN0YXR1cy5DcmVhdGVkRGF0ZSkpCgkJCQk8L3NwYW4+CgkJCSNlbmQKCgkJCTxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+CgkJCQkjaWYgKCRpc1VzZXJBY2Nlc3NpbmcgJiYgJGFjY2Vzc2luZ1VzZXIuSWQgIT0gJGZyaWVuZC5JZCkKCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJCQk8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+CgkJCQkJCSNzZXQoJHVybCA9IGZhbHNlKQoJCQkJCQkjc2V0KCR1cmwgPSAkY29yZV92Ml91cmxzLkFkZENvbnZlcnNhdGlvbigkZnJpZW5kLklkKSkKCQkJCQkJI2lmKCR1cmwpCgkJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+CgkJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgc3RhcnQtY29udmVyc2F0aW9uIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1cmwpIj4KCQkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9GcmllbmRzUHJpdmF0ZU1lc3NhZ2UnKQoJCQkJCQkJCTwvYT4KCQkJCQkJCTwvbGk+CgkJCQkJCSNlbmQKCgkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCSNzZXQgKCRmcmllbmRzaGlwID0gZmFsc2UpCgkJCQkJCQkjc2V0ICgkZnJpZW5kc2hpcCA9ICRjb3JlX3YyX2ZyaWVuZHNoaXAuR2V0KCIleyBVc2VySWQgPSAkdXNlci5JZCwgRnJpZW5kSWQgPSAkZnJpZW5kLklkIH0iKSkKCQkJCQkJCSNpZiAoJGZyaWVuZHNoaXApCgkJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgZGVsZXRlLWZyaWVuZCIgaHJlZj0iIyI+CgkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kX1JlbW92ZScpCgkJCQkJCQkJPC9hPgoJCQkJCQkJI2Vsc2UKCQkJCQkJCQkjc2V0ICgkdXJsID0gZmFsc2UpCgkJCQkJCQkJI3NldCAoJHVybCA9ICRjb3JlX3YyX3VybHMuUmVxdWVzdEZyaWVuZHNoaXAoJGZyaWVuZC5JZCkpCgkJCQkJCQkJI2lmICgkdXJsKQoJCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayByZXF1ZXN0LWZyaWVuZHNoaXAiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVybCkiPgoJCQkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdGcmllbmRfQWRkJykKCQkJCQkJCQkJPC9hPgoJCQkJCQkJCSNlbmQKCQkJCQkJCSNlbmQKCQkJCQkJPC9saT4KCgkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCSNzZXQgKCRmb2xsb3dzID0gJ2ZhbHNlJykKCQkJCQkJCSNpZiAoJGNvcmVfdjJfZm9sbG93aW5nLkdldCgkdXNlci5JZCwgIiV7IEZvbGxvd2luZ0lkID0gJGZyaWVuZC5JZCB9IikpCgkJCQkJCQkJI3NldCAoJGZvbGxvd3MgPSAndHJ1ZScpCgkJCQkJCQkjZW5kCgkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBmb2xsb3ctdXNlciIgZGF0YS1mb2xsb3dzPSIkZm9sbG93cyIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyI+PHNwYW4+PC9zcGFuPjwvYT4KCQkJCQkJPC9saT4KCQkJCQk8L3VsPgoJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2PgoJCQkJI2VuZAoJCQk8L2Rpdj4KCQk8L2Rpdj4KCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtZm9vdGVyIj48L2Rpdj4KCTwvbGk+CiNhZnRlcmFsbAoJPC91bD4KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2PgojZW5kCiRjb3JlX3YyX3VpLlBhZ2VyKCR1c2Vycy5QYWdlSW5kZXgsICR1c2Vycy5QYWdlU2l6ZSwgJHVzZXJzLlRvdGFsQ291bnQpCgo=</file>
			<file name="standard-followers.vm">I3NldCAoJGZvbGxvd2VycyA9ICRjb3JlX3YyX2ZvbGxvd2VyLkxpc3QoIiV7IFVzZXJJZCA9ICR1c2VyLklkLCBQYWdlU2l6ZSA9IDIxLCBQYWdlSW5kZXggPSAkcGFnZUluZGV4IH0iKSkKCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc3RhbmRhcmQtdGFicy52bScpCgojZm9yZWFjaCAoJGZvbGxvd2VyIGluICRmb2xsb3dlcnMpCiNiZWZvcmVhbGwKCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIiPjwvZGl2PgoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPgojZWFjaAoKCQk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1mcmllbmRpZD0iJGZvbGxvd2VyLklkIj4KCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+CgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdCI+CgkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4KCQkJCQkjaWYgKCRmb2xsb3dlci5Qcm9maWxlVXJsKQoJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRmb2xsb3dlci5Qcm9maWxlVXJsKSI+CgkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRmb2xsb3dlci5BdmF0YXJVcmwsIDYwLCA2MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRmb2xsb3dlci5EaXNwbGF5TmFtZX0iKQoJCQkJCQk8L2E+CgkJCQkJI2Vsc2UKCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkZm9sbG93ZXIuQXZhdGFyVXJsLCA2MCwgNjAsICIle2JvcmRlcj0nMCcsIGFsdD0kZm9sbG93ZXIuRGlzcGxheU5hbWV9IikKCQkJCQkjZW5kCgkJCQk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KCQkJCQkjaWYgKCRmb2xsb3dlci5Qcm9maWxlVXJsKQoJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZm9sbG93ZXIuUHJvZmlsZVVybCkiPgoJCQkJCQkJPHNwYW4+PC9zcGFuPiRmb2xsb3dlci5EaXNwbGF5TmFtZQoJCQkJCQk8L2E+CgkJCQkJI2Vsc2UKCQkJCQkJPHNwYW4+PC9zcGFuPiRmb2xsb3dlci5EaXNwbGF5TmFtZQoJCQkJCSNlbmQKCQkJCTwvc3Bhbj4KCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LWFjdGlvbnMiPgoJCQkJCSNpZiAoJGlzVXNlckFjY2Vzc2luZykKCQkJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+CgkJCQkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4KCQkJCQkJCSNzZXQoJHVybCA9IGZhbHNlKQoJCQkJCQkJI3NldCgkdXJsID0gJGNvcmVfdjJfdXJscy5BZGRDb252ZXJzYXRpb24oJGZvbGxvd2VyLklkKSkKCQkJCQkJCSNpZigkdXJsKQoJCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgc3RhcnQtY29udmVyc2F0aW9uIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1cmwpIj4KCQkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRWRpdFByb2ZpbGVfRnJpZW5kc1ByaXZhdGVNZXNzYWdlJykKCQkJCQkJCQkJPC9hPgoJCQkJCQkJCTwvbGk+CgkJCQkJCQkjZW5kCgoJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCSNzZXQgKCRmcmllbmRzaGlwID0gZmFsc2UpCgkJCQkJCQkJI3NldCAoJGZyaWVuZHNoaXAgPSAkY29yZV92Ml9mcmllbmRzaGlwLkdldCgiJXsgVXNlcklkID0gJHVzZXIuSWQsIEZyaWVuZElkID0gJGZvbGxvd2VyLklkIH0iKSkKCQkJCQkJCQkjaWYgKCRmcmllbmRzaGlwKQoJCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBkZWxldGUtZnJpZW5kIiBocmVmPSIjIj4KCQkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kX1JlbW92ZScpCgkJCQkJCQkJCTwvYT4KCQkJCQkJCQkjZWxzZQoJCQkJCQkJCQkjc2V0ICgkdXJsID0gZmFsc2UpCgkJCQkJCQkJCSNzZXQgKCR1cmwgPSAkY29yZV92Ml91cmxzLlJlcXVlc3RGcmllbmRzaGlwKCRmb2xsb3dlci5JZCkpCgkJCQkJCQkJCSNpZiAoJHVybCkKCQkJCQkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHJlcXVlc3QtZnJpZW5kc2hpcCIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXJsKSI+CgkJCQkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdGcmllbmRfQWRkJykKCQkJCQkJCQkJCTwvYT4KCQkJCQkJCQkJI2VuZAoJCQkJCQkJCSNlbmQKCQkJCQkJCTwvbGk+CgoJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCSNzZXQgKCRmb2xsb3dzID0gJ2ZhbHNlJykKCQkJCQkJCQkjaWYgKCRjb3JlX3YyX2ZvbGxvd2luZy5HZXQoJHVzZXIuSWQsICIleyBGb2xsb3dpbmdJZCA9ICRmb2xsb3dlci5JZCB9IikpCgkJCQkJCQkJCSNzZXQgKCRmb2xsb3dzID0gJ3RydWUnKQoJCQkJCQkJCSNlbmQKCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBmb2xsb3ctdXNlciIgZGF0YS1mb2xsb3dzPSIkZm9sbG93cyIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBzdHlsZT0iZGlzcGxheTogaW5saW5lLWJsb2NrOyI+PHNwYW4+PC9zcGFuPjwvYT4KCQkJCQkJCTwvbGk+CgkJCQkJCTwvdWw+CgkJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2PgoJCQkJCSNlbmQKCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciI+PC9kaXY+CgkJPC9saT4KCiNhZnRlcmFsbAoJPC91bD4KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2PgojZW5kCiRjb3JlX3YyX3VpLlBhZ2VyKCRmb2xsb3dlcnMuUGFnZUluZGV4LCAkZm9sbG93ZXJzLlBhZ2VTaXplLCAkZm9sbG93ZXJzLlRvdGFsQ291bnQpCg==</file>
			<file name="standard-following.vm">I3NldCAoJGZvbGxvd2VkVXNlcnMgPSAkY29yZV92Ml9mb2xsb3dpbmcuTGlzdCgiJXsgRm9sbG93ZXJJZCA9ICR1c2VyLklkLCBQYWdlU2l6ZSA9IDIxLCBQYWdlSW5kZXggPSAkcGFnZUluZGV4IH0iKSkKCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc3RhbmRhcmQtdGFicy52bScpCgojZm9yZWFjaCAoJGZvbGxvd2VkVXNlciBpbiAkZm9sbG93ZWRVc2VycykKI2JlZm9yZWFsbAoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+CiNlYWNoCgoJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIiBkYXRhLWZyaWVuZGlkPSIkZm9sbG93ZWRVc2VyLklkIj4KCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+CgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdCI+CgkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4KCQkJCQkjaWYgKCRmb2xsb3dlZFVzZXIuUHJvZmlsZVVybCkKCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZm9sbG93ZWRVc2VyLlByb2ZpbGVVcmwpIj4KCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGZvbGxvd2VkVXNlci5BdmF0YXJVcmwsIDYwLCA2MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRmb2xsb3dlZFVzZXIuRGlzcGxheU5hbWV9IikKCQkJCQkJPC9hPgoJCQkJCSNlbHNlCgkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGZvbGxvd2VkVXNlci5BdmF0YXJVcmwsIDYwLCA2MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRmb2xsb3dlZFVzZXIuRGlzcGxheU5hbWV9IikKCQkJCQkjZW5kCgkJCQk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KCQkJCQkjaWYgKCRmb2xsb3dlZFVzZXIuUHJvZmlsZVVybCkKCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZvbGxvd2VkVXNlci5Qcm9maWxlVXJsKSI+CgkJCQkJCQk8c3Bhbj48L3NwYW4+JGZvbGxvd2VkVXNlci5EaXNwbGF5TmFtZQoJCQkJCQk8L2E+CgkJCQkJI2Vsc2UKCQkJCQkJPHNwYW4+PC9zcGFuPiRmb2xsb3dlZFVzZXIuRGlzcGxheU5hbWUKCQkJCQkjZW5kCgkJCQk8L3NwYW4+CgoJCQkJI3NldCAoJHN0YXR1c01lc3NhZ2VzID0gJGNvcmVfdjJfc3RhdHVzTWVzc2FnZS5MaXN0KCIleyBVc2VySWQgPSAkZm9sbG93ZWRVc2VyLklkLCBQYWdlU2l6ZSA9IDEgfSIpKQoJCQkJI2ZvcmVhY2ggKCRzdGF0dXMgaW4gJHN0YXR1c01lc3NhZ2VzKQoJCQkJCTxzcGFuIGNsYXNzPSJzdGF0dXMtbWVzc2FnZSI+JHN0YXR1cy5SZW5kZXJlZEJvZHk8L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9InN0YXR1cy1kYXRlIj4KCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdBY3Rpdml0eU1lc3NhZ2VfTWVzc2FnZURhdGUnKSwgJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZUFuZFRpbWUoJHN0YXR1cy5DcmVhdGVkRGF0ZSkpCgkJCQkJPC9zcGFuPgoJCQkJI2VuZAoKCQkJCTxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+CgkJCQkJI2lmICgkaXNVc2VyQWNjZXNzaW5nKQoJCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPgoJCQkJCQkJI3NldCgkdXJsID0gZmFsc2UpCgkJCQkJCQkjc2V0KCR1cmwgPSAkY29yZV92Ml91cmxzLkFkZENvbnZlcnNhdGlvbigkZm9sbG93ZWRVc2VyLklkKSkKCQkJCQkJCSNpZigkdXJsKQoJCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgc3RhcnQtY29udmVyc2F0aW9uIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1cmwpIj4KCQkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRWRpdFByb2ZpbGVfRnJpZW5kc1ByaXZhdGVNZXNzYWdlJykKCQkJCQkJCQkJPC9hPgoJCQkJCQkJCTwvbGk+CgkJCQkJCQkjZW5kCgkJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+CgkJCQkJCQkJI3NldCAoJGZyaWVuZHNoaXAgPSBmYWxzZSkKCQkJCQkJCQkjc2V0ICgkZnJpZW5kc2hpcCA9ICRjb3JlX3YyX2ZyaWVuZHNoaXAuR2V0KCIleyBVc2VySWQgPSAkdXNlci5JZCwgRnJpZW5kSWQgPSAkZm9sbG93ZWRVc2VyLklkIH0iKSkKCQkJCQkJCQkjaWYgKCRmcmllbmRzaGlwKQoJCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBkZWxldGUtZnJpZW5kIiBocmVmPSIjIj4KCQkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kX1JlbW92ZScpCgkJCQkJCQkJCTwvYT4KCQkJCQkJCQkjZWxzZQoJCQkJCQkJCQkjc2V0ICgkdXJsID0gZmFsc2UpCgkJCQkJCQkJCSNzZXQgKCR1cmwgPSAkY29yZV92Ml91cmxzLlJlcXVlc3RGcmllbmRzaGlwKCRmb2xsb3dlZFVzZXIuSWQpKQoJCQkJCQkJCQkjaWYgKCR1cmwpCgkJCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayByZXF1ZXN0LWZyaWVuZHNoaXAiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVybCkiPgoJCQkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kX0FkZCcpCgkJCQkJCQkJCQk8L2E+CgkJCQkJCQkJCSNlbmQKCQkJCQkJCQkjZW5kCgkJCQkJCQk8L2xpPgoKCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBmb2xsb3ctdXNlciIgZGF0YS1mb2xsb3dzPSJ0cnVlIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij48c3Bhbj48L3NwYW4+PC9hPgoJCQkJCQkJPC9saT4KCQkJCQkJPC91bD4KCQkJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+CgkJCQkJI2VuZAoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtZm9vdGVyIj48L2Rpdj4KCQk8L2xpPgoKI2FmdGVyYWxsCgk8L3VsPgoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+CiNlbmQKJGNvcmVfdjJfdWkuUGFnZXIoJGZvbGxvd2VkVXNlcnMuUGFnZUluZGV4LCAkZm9sbG93ZWRVc2Vycy5QYWdlU2l6ZSwgJGZvbGxvd2VkVXNlcnMuVG90YWxDb3VudCkK</file>
			<file name="standard-friends.vm">I3NldCAoJGZyaWVuZHNoaXBzID0gJGNvcmVfdjJfZnJpZW5kc2hpcC5MaXN0KCIleyBGcmllbmRzaGlwU3RhdGUgPSAnQXBwcm92ZWQnLCBSZXF1ZXN0b3JJZCA9ICR1c2VyLklkLCBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBQYWdlU2l6ZSA9IDIxLCBTb3J0QnkgPSAnTGFzdE1vZGlmaWVkRGF0ZScsIFNvcnRPcmRlciA9ICdEZXNjZW5kaW5nJyB9IikpCgojIyBoYXZlIGEgZnJpZW5kc2hpcCBjb3VudHMgcmVhZHkgZm9yIHRoZSBjb250ZXh0dWFsIHRhYnMgdG8gc2hvdwojc2V0ICgkcmV2aWV3RnJpZW5kc2hpcENvdW50ID0gJGNvcmVfdjJfZnJpZW5kc2hpcC5MaXN0KCIleyBGcmllbmRzaGlwU3RhdGUgPSAnUGVuZGluZycsIFJlY2lwaWVudElkID0gJHVzZXIuSWQsIFBhZ2VJbmRleCA9IDAsIFBhZ2VTaXplID0gMSB9IikuVG90YWxDb3VudCkKI3NldCAoJHBlbmRpbmdGcmllbmRzaGlwQ291bnQgPSAkY29yZV92Ml9mcmllbmRzaGlwLkxpc3QoIiV7IEZyaWVuZHNoaXBTdGF0ZSA9ICdQZW5kaW5nJywgUmVxdWVzdG9ySWQgPSAkdXNlci5JZCwgUGFnZUluZGV4ID0gMCwgUGFnZVNpemUgPSAxIH0iKS5Ub3RhbENvdW50KQokY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ3N0YW5kYXJkLXRhYnMudm0nKQoKI2ZvcmVhY2ggKCRmcmllbmRzaGlwIGluICRmcmllbmRzaGlwcykKI2JlZm9yZWFsbAoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+CiNlYWNoCgkjc2V0ICgkZnJpZW5kID0gZmFsc2UpCgkjaWYgKCRmcmllbmRzaGlwLlJlY2lwaWVudCAmJiAkZnJpZW5kc2hpcC5SZWNpcGllbnQuSWQgPT0gJHVzZXIuSWQpCgkJI3NldCAoJGZyaWVuZCA9ICRmcmllbmRzaGlwLlJlcXVlc3RvcikKCSNlbHNlCgkJI3NldCAoJGZyaWVuZCA9ICRmcmllbmRzaGlwLlJlY2lwaWVudCkKCSNlbmQKCSNpZiAoJGZyaWVuZCkKCQk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1mcmllbmRpZD0iJGZyaWVuZC5JZCI+CgkJCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIiPjwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QiPgoJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+CgkJCQkJI2lmICgkZnJpZW5kLlByb2ZpbGVVcmwpCgkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZyaWVuZC5Qcm9maWxlVXJsKSI+CgkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRmcmllbmQuQXZhdGFyVXJsLCA2MCwgNjAsICIle2JvcmRlcj0nMCcsIGFsdD0kZnJpZW5kLkRpc3BsYXlOYW1lfSIpCgkJCQkJCTwvYT4KCQkJCQkjZWxzZQoJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRmcmllbmQuQXZhdGFyVXJsLCA2MCwgNjAsICIle2JvcmRlcj0nMCcsIGFsdD0kZnJpZW5kLkRpc3BsYXlOYW1lfSIpCgkJCQkJI2VuZAkJCQkJCgkJCQk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KCQkJCQkjaWYgKCRmcmllbmQuUHJvZmlsZVVybCkKCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZyaWVuZC5Qcm9maWxlVXJsKSI+CgkJCQkJCQk8c3Bhbj48L3NwYW4+JGZyaWVuZC5EaXNwbGF5TmFtZQoJCQkJCQk8L2E+CgkJCQkJI2Vsc2UKCQkJCQkJPHNwYW4+PC9zcGFuPiRmcmllbmQuRGlzcGxheU5hbWUKCQkJCQkjZW5kCQkJCQkKCQkJCTwvc3Bhbj4KCgkJCQkjc2V0ICgkc3RhdHVzTWVzc2FnZXMgPSAkY29yZV92Ml9zdGF0dXNNZXNzYWdlLkxpc3QoIiV7IFVzZXJJZCA9ICRmcmllbmQuSWQsIFBhZ2VTaXplID0gMSB9IikpCgkJCQkjZm9yZWFjaCAoJHN0YXR1cyBpbiAkc3RhdHVzTWVzc2FnZXMpCgkJCQkJPHNwYW4gY2xhc3M9InN0YXR1cy1tZXNzYWdlIj4kc3RhdHVzLlJlbmRlcmVkQm9keTwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0ic3RhdHVzLWRhdGUiPgoJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0FjdGl2aXR5TWVzc2FnZV9NZXNzYWdlRGF0ZScpLCAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlQW5kVGltZSgkc3RhdHVzLkNyZWF0ZWREYXRlKSkKCQkJCQk8L3NwYW4+CgkJCQkjZW5kCgoJCQkJPGRpdiBjbGFzcz0icG9zdC1hY3Rpb25zIj4KCQkJCQkjaWYgKCRpc1VzZXJBY2Nlc3NpbmcpCgkJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1oZWFkZXIiPjwvZGl2PgoJCQkJCQk8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+CgkJCQkJCQkjc2V0KCR1cmwgPSBmYWxzZSkKCQkJCQkJCSNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuQWRkQ29udmVyc2F0aW9uKCRmcmllbmQuSWQpKQoJCQkJCQkJI2lmKCR1cmwpCgkJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBzdGFydC1jb252ZXJzYXRpb24iIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVybCkiPgoJCQkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9GcmllbmRzUHJpdmF0ZU1lc3NhZ2UnKQoJCQkJCQkJCQk8L2E+CgkJCQkJCQkJPC9saT4KCQkJCQkJCSNlbmQKCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBkZWxldGUtZnJpZW5kIiBocmVmPSIjIj4KCQkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdGcmllbmRfUmVtb3ZlJykKCQkJCQkJCQk8L2E+CgkJCQkJCQk8L2xpPgoJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCSNzZXQgKCRmb2xsb3dzID0gJ2ZhbHNlJykKCQkJCQkJCQkjaWYgKCRjb3JlX3YyX2ZvbGxvd2luZy5HZXQoJHVzZXIuSWQsICIleyBGb2xsb3dpbmdJZCA9ICRmcmllbmQuSWQgfSIpKQoJCQkJCQkJCQkjc2V0ICgkZm9sbG93cyA9ICd0cnVlJykKCQkJCQkJCQkjZW5kCgkJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgZm9sbG93LXVzZXIiIGRhdGEtZm9sbG93cz0iJGZvbGxvd3MiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgc3R5bGU9ImRpc3BsYXk6IGlubGluZS1ibG9jazsiPjxzcGFuPjwvc3Bhbj48L2E+CgkJCQkJCQk8L2xpPgoJCQkJCQk8L3VsPgoJCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtZm9vdGVyIj48L2Rpdj4KCQkJCQkjZW5kCgkJCQk8L2Rpdj4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1mb290ZXIiPjwvZGl2PgoJCTwvbGk+CgkjZW5kCiNhZnRlcmFsbAoJPC91bD4KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2Pgojbm9kYXRhCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+CgkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9GcmllbmRzX05vbmUnKSwgJHVzZXIuRGlzcGxheU5hbWUpCgk8L2Rpdj4KI2VuZAokY29yZV92Ml91aS5QYWdlcigkZnJpZW5kc2hpcHMuUGFnZUluZGV4LCAkZnJpZW5kc2hpcHMuUGFnZVNpemUsICRmcmllbmRzaGlwcy5Ub3RhbENvdW50KQoK</file>
			<file name="standard-pending.vm">IyMgbG9hZCBmcmllbmRzaHBzIHRvIHJldmlldwojc2V0ICgkZnJpZW5kc2hpcHMgPSAkY29yZV92Ml9mcmllbmRzaGlwLkxpc3QoIiV7IEZyaWVuZHNoaXBTdGF0ZSA9ICdQZW5kaW5nJywgUmVxdWVzdG9ySWQgPSAkdXNlci5JZCwgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgUGFnZVNpemUgPSAyMSwgU29ydEJ5ID0gJ0xhc3RNb2RpZmllZERhdGUnLCBTb3J0T3JkZXIgPSAnRGVzY2VuZGluZycgfSIpKQoKIyMgaGF2ZSBhIGZyaWVuZHNoaXAgY291bnRzIHJlYWR5IGZvciB0aGUgY29udGV4dHVhbCB0YWJzIHRvIHNob3cKI3NldCAoJHJldmlld0ZyaWVuZHNoaXBDb3VudCA9ICRjb3JlX3YyX2ZyaWVuZHNoaXAuTGlzdCgiJXsgRnJpZW5kc2hpcFN0YXRlID0gJ1BlbmRpbmcnLCBSZWNpcGllbnRJZCA9ICR1c2VyLklkLCBQYWdlSW5kZXggPSAwLCBQYWdlU2l6ZSA9IDEgfSIpLlRvdGFsQ291bnQpCiNzZXQgKCRwZW5kaW5nRnJpZW5kc2hpcENvdW50ID0gJGZyaWVuZHNoaXBzLlRvdGFsQ291bnQpCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc3RhbmRhcmQtdGFicy52bScpCgojZm9yZWFjaCAoJGZyaWVuZHNoaXAgaW4gJGZyaWVuZHNoaXBzKQojYmVmb3JlYWxsCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIj48L2Rpdj4KCTx1bCBjbGFzcz0iY29udGVudC1saXN0Ij4KI2VhY2gKCSNzZXQgKCRmcmllbmQgPSBmYWxzZSkKCSNpZiAoJGZyaWVuZHNoaXAuUmVjaXBpZW50ICYmICRmcmllbmRzaGlwLlJlY2lwaWVudC5JZCA9PSAkdXNlci5JZCkKCQkjc2V0ICgkZnJpZW5kID0gJGZyaWVuZHNoaXAuUmVxdWVzdG9yKQoJI2Vsc2UKCQkjc2V0ICgkZnJpZW5kID0gJGZyaWVuZHNoaXAuUmVjaXBpZW50KQoJI2VuZAoJI2lmICgkZnJpZW5kKQoJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIiBkYXRhLWZyaWVuZGlkPSIkZnJpZW5kLklkIj4KCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+CgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdCI+CgkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4KCQkJCQkjaWYgKCRmcmllbmQuUHJvZmlsZVVybCkKCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZnJpZW5kLlByb2ZpbGVVcmwpIj4KCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGZyaWVuZC5BdmF0YXJVcmwsIDYwLCA2MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRmcmllbmQuRGlzcGxheU5hbWV9IikKCQkJCQkJPC9hPgoJCQkJCSNlbHNlCgkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGZyaWVuZC5BdmF0YXJVcmwsIDYwLCA2MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRmcmllbmQuRGlzcGxheU5hbWV9IikKCQkJCQkjZW5kCgkJCQk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KCQkJCQkjaWYgKCRmcmllbmQuUHJvZmlsZVVybCkKCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZyaWVuZC5Qcm9maWxlVXJsKSI+CgkJCQkJCQk8c3Bhbj48L3NwYW4+JGZyaWVuZC5EaXNwbGF5TmFtZQoJCQkJCQk8L2E+CgkJCQkJI2Vsc2UKCQkJCQkJPHNwYW4+PC9zcGFuPiRmcmllbmQuRGlzcGxheU5hbWUKCQkJCQkjZW5kCgkJCQk8L3NwYW4+CgoJCQkJPGRpdiBjbGFzcz0icG9zdC1hY3Rpb25zIj4KCQkJCQkjaWYgKCRpc1VzZXJBY2Nlc3NpbmcpCgkJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1oZWFkZXIiPjwvZGl2PgoJCQkJCQk8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+CgkJCQkJCQkjc2V0KCR1cmwgPSBmYWxzZSkKCQkJCQkJCSNzZXQoJHVybCA9ICRjb3JlX3YyX3VybHMuQWRkQ29udmVyc2F0aW9uKCRmcmllbmQuSWQpKQoJCQkJCQkJI2lmKCR1cmwpCgkJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBzdGFydC1jb252ZXJzYXRpb24iIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVybCkiPgoJCQkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdFZGl0UHJvZmlsZV9GcmllbmRzUHJpdmF0ZU1lc3NhZ2UnKQoJCQkJCQkJCQk8L2E+CgkJCQkJCQkJPC9saT4KCQkJCQkJCSNlbmQKCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBjYW5jZWwtZnJpZW5kIiBocmVmPSIjIj4KCQkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdGcmllbmRSZXF1ZXN0X0NhbmNlbCcpCgkJCQkJCQkJPC9hPgoJCQkJCQkJPC9saT4KCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQkjc2V0ICgkZm9sbG93cyA9ICdmYWxzZScpCgkJCQkJCQkJI2lmICgkY29yZV92Ml9mb2xsb3dpbmcuR2V0KCR1c2VyLklkLCAiJXsgRm9sbG93aW5nSWQgPSAkZnJpZW5kLklkIH0iKSkKCQkJCQkJCQkJI3NldCAoJGZvbGxvd3MgPSAndHJ1ZScpCgkJCQkJCQkJI2VuZAoJCQkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIGZvbGxvdy11c2VyIiBkYXRhLWZvbGxvd3M9IiRmb2xsb3dzIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIHN0eWxlPSJkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Ij48c3Bhbj48L3NwYW4+PC9hPgoJCQkJCQkJPC9saT4KCQkJCQkJPC91bD4KCQkJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+CgkJCQkJI2VuZAoJCQkJPC9kaXY+CgkJCTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtZm9vdGVyIj48L2Rpdj4KCQk8L2xpPgoJI2VuZAojYWZ0ZXJhbGwKCTwvdWw+Cgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4KI25vZGF0YQoJPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPgoJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdGcmllbmRSZXF1ZXN0X05vbmVUb1JldmlldycpCgk8L2Rpdj4KI2VuZAokY29yZV92Ml91aS5QYWdlcigkZnJpZW5kc2hpcHMuUGFnZUluZGV4LCAkZnJpZW5kc2hpcHMuUGFnZVNpemUsICRmcmllbmRzaGlwcy5Ub3RhbENvdW50KQoK</file>
			<file name="standard-review.vm">IyMgbG9hZCBwZW5kaW5nIGZyaWVuZHNoaXBzCiNzZXQgKCRmcmllbmRzaGlwc1RvUmV2aWV3ID0gJGNvcmVfdjJfZnJpZW5kc2hpcC5MaXN0KCIleyBGcmllbmRzaGlwU3RhdGUgPSAnUGVuZGluZycsIFJlY2lwaWVudElkID0gJHVzZXIuSWQsIFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFBhZ2VTaXplID0gMjEsIFNvcnRCeSA9ICdMYXN0TW9kaWZpZWREYXRlJywgU29ydE9yZGVyID0gJ0Rlc2NlbmRpbmcnIH0iKSkKCiMjIGhhdmUgYSBmcmllbmRzaGlwIGNvdW50cyByZWFkeSBmb3IgdGhlIGNvbnRleHR1YWwgdGFicyB0byBzaG93CiNzZXQgKCRyZXZpZXdGcmllbmRzaGlwQ291bnQgPSAkZnJpZW5kc2hpcHNUb1Jldmlldy5Ub3RhbENvdW50KQojc2V0ICgkcGVuZGluZ0ZyaWVuZHNoaXBDb3VudCA9ICRjb3JlX3YyX2ZyaWVuZHNoaXAuTGlzdCgiJXsgRnJpZW5kc2hpcFN0YXRlID0gJ1BlbmRpbmcnLCBSZXF1ZXN0b3JJZCA9ICR1c2VyLklkLCBQYWdlSW5kZXggPSAwLCBQYWdlU2l6ZSA9IDEgfSIpLlRvdGFsQ291bnQpCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc3RhbmRhcmQtdGFicy52bScpCgoKI3NldCgkYWNjZXB0VXNlcklkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ0FjY2VwdCcpKSkKI2lmICgkYWNjZXB0VXNlcklkID4gMCkKCSNzZXQoJGFjY2VwdFVzZXIgPSAkY29yZV92Ml91c2VyLkdldCgiJXsgSWQgPSAkYWNjZXB0VXNlcklkIH0iKSkKCSNpZiAoJGFjY2VwdFVzZXIpCgkJPHNjcmlwdCB0eXBlPSJ0ZXh0L2phdmFzY3JpcHQiPgoJCWpRdWVyeS50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdygnJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJGcmllbmRSZXF1ZXN0X0FjY2VwdGVkX05vdGlmaWNhdGlvbiIpLCAkYWNjZXB0VXNlci5EaXNwbGF5TmFtZSknLCB7dHlwZTogJ3N1Y2Nlc3MnLCBkdXJhdGlvbjogMTAwMDB9KTsKCQk8L3NjcmlwdD4KCSNlbmQKI2VuZAojc2V0KCRyZWplY3RVc2VySWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnUmVqZWN0JykpKQojaWYgKCRyZWplY3RVc2VySWQgPiAwKQoJI3NldCgkcmVqZWN0VXNlciA9ICRjb3JlX3YyX3VzZXIuR2V0KCIleyBJZCA9ICRyZWplY3RVc2VySWQgfSIpKQoJI2lmICgkcmVqZWN0VXNlcikKCQk8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CgkJalF1ZXJ5LnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KCckY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkZyaWVuZFJlcXVlc3RfUmVqZWN0ZWRfTm90aWZpY2F0aW9uIiksICRyZWplY3RVc2VyLkRpc3BsYXlOYW1lKScsIHt0eXBlOiAnc3VjY2VzcycsIGR1cmF0aW9uOiAxMDAwMH0pOwoJCTwvc2NyaXB0PgoJI2VuZAojZW5kCgojIyBmaW5kIHJlY2VudGx5LWFkZGVkIGZyaWVuZHMsIGFuZCBkaXNwbGF5IG1lc3NhZ2VzIGZvciBlYWNoLgoKI3NldCAoJGZyaWVuZHNoaXBzID0gJGNvcmVfdjJfZnJpZW5kc2hpcC5MaXN0KCIleyBGcmllbmRzaGlwU3RhdGUgPSAnQXBwcm92ZWQnLCBSZXF1ZXN0b3JJZCA9ICR1c2VyLklkLCBQYWdlU2l6ZSA9IDEwLCBTb3J0QnkgPSAnTGFzdE1vZGlmaWVkRGF0ZScsIFNvcnRPcmRlciA9ICdEZXNjZW5kaW5nJyB9IikpCiNzZXQgKCRyZWNlbnRGcmllbmRzaGlwcyA9IFtdKQojc2V0ICgkZHEgPSAnIicpCiNpZiAoJGZyaWVuZHNoaXBzICYmICRmcmllbmRzaGlwcy5Db3VudCA+IDApCgkjc2V0ICgkY3V0b2ZmRGF0ZSA9ICRjb3JlX3YyX3V0aWxpdHkuQ3VycmVudERhdGUuQWRkTWludXRlcygtMSkpCgkjZm9yZWFjaCAoJGZyaWVuZCBpbiAkZnJpZW5kc2hpcHMpCgkJI2lmICgkZnJpZW5kLkxhc3RNb2RpZmllZERhdGUgPj0gJGN1dG9mZkRhdGUpCgkJCSNzZXQgKCRhZGRJbmRleCA9ICRyZWNlbnRGcmllbmRzaGlwcy5BZGQoJGZyaWVuZCkpCgkJI2VuZAoJI2VuZAojZW5kCgojZm9yZWFjaCAoJGZyaWVuZHNoaXAgaW4gJHJlY2VudEZyaWVuZHNoaXBzKQojYmVmb3JlYWxsCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIHdhcm5pbmciPgoJCTx1bCBjbGFzcz0iY29udGVudC1saXN0Ij4KI2VhY2gKCSNzZXQgKCRmcmllbmQgPSBmYWxzZSkKCSNpZiAoJGZyaWVuZHNoaXAuUmVjaXBpZW50ICYmICRmcmllbmRzaGlwLlJlY2lwaWVudC5JZCA9PSAkdXNlci5JZCkKCQkjc2V0ICgkZnJpZW5kID0gJGZyaWVuZHNoaXAuUmVxdWVzdG9yKQoJI2Vsc2UKCQkjc2V0ICgkZnJpZW5kID0gJGZyaWVuZHNoaXAuUmVjaXBpZW50KQoJI2VuZAoJI2lmICgkZnJpZW5kKQoJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4KCQkJI3NldCAoJGZyaWVuZExpbmsgPSAiPGEgY2xhc3M9JHtkcX1pbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlJHtkcX0gaHJlZj0ke2RxfSRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHtmcmllbmQuUHJvZmlsZVVybH0pJHtkcX0+PHNwYW4+JHtmcmllbmQuRGlzcGxheU5hbWV9PC9zcGFuPjwvYT4iKQoJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0ZyaWVuZFJlcXVlc3RfQWNjZXB0ZWRfQ29uZmlybWF0aW9uJyksICRmcmllbmRMaW5rKQoJCTwvbGk+CgkjZW5kCiNhZnRlcmFsbAoJCTwvdWw+Cgk8L2Rpdj4KI2VuZAoKIyMgc2hvdyBhbGwgcGVuZGluZyByZXZpZXcKCiNmb3JlYWNoICgkZnJpZW5kc2hpcCBpbiAkZnJpZW5kc2hpcHNUb1JldmlldykKI2JlZm9yZWFsbAoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+CiNlYWNoCgkjc2V0ICgkZnJpZW5kID0gZmFsc2UpCgkjaWYgKCRmcmllbmRzaGlwLlJlY2lwaWVudCAmJiAkZnJpZW5kc2hpcC5SZWNpcGllbnQuSWQgPT0gJHVzZXIuSWQpCgkJI3NldCAoJGZyaWVuZCA9ICRmcmllbmRzaGlwLlJlcXVlc3RvcikKCSNlbHNlCgkJI3NldCAoJGZyaWVuZCA9ICRmcmllbmRzaGlwLlJlY2lwaWVudCkKCSNlbmQKCSNpZiAoJGZyaWVuZCkKCQk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1mcmllbmRpZD0iJGZyaWVuZC5JZCI+CgkJCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIiPjwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QiPgoJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+CgkJCQkJI2lmICgkZnJpZW5kLlByb2ZpbGVVcmwpCgkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZyaWVuZC5Qcm9maWxlVXJsKSI+CgkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRmcmllbmQuQXZhdGFyVXJsLCA2MCwgNjAsICIle2JvcmRlcj0nMCcsIGFsdD0kZnJpZW5kLkRpc3BsYXlOYW1lfSIpCgkJCQkJCTwvYT4KCQkJCQkjZWxzZQoJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRmcmllbmQuQXZhdGFyVXJsLCA2MCwgNjAsICIle2JvcmRlcj0nMCcsIGFsdD0kZnJpZW5kLkRpc3BsYXlOYW1lfSIpCgkJCQkJI2VuZAoJCQkJPC9zcGFuPgoJCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CgkJCQkJI2lmICgkZnJpZW5kLlByb2ZpbGVVcmwpCgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRmcmllbmQuUHJvZmlsZVVybCkiPgoJCQkJCQkJPHNwYW4+PC9zcGFuPiRmcmllbmQuRGlzcGxheU5hbWUKCQkJCQkJPC9hPgoJCQkJCSNlbHNlCgkJCQkJCTxzcGFuPjwvc3Bhbj4kZnJpZW5kLkRpc3BsYXlOYW1lCgkJCQkJI2VuZAoJCQkJPC9zcGFuPgoKCQkJCTxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+CgkJCQkJI2lmICgkaXNVc2VyQWNjZXNzaW5nKQoJCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPgoJCQkJCQkJI3NldCgkdXJsID0gZmFsc2UpCgkJCQkJCQkjc2V0KCR1cmwgPSAkY29yZV92Ml91cmxzLkFkZENvbnZlcnNhdGlvbigkZnJpZW5kLklkKSkKCQkJCQkJCSNpZigkdXJsKQoJCQkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgc3RhcnQtY29udmVyc2F0aW9uIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1cmwpIj4KCQkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRWRpdFByb2ZpbGVfRnJpZW5kc1ByaXZhdGVNZXNzYWdlJykKCQkJCQkJCQkJPC9hPgoJCQkJCQkJCTwvbGk+CgkJCQkJCQkjZW5kCgkJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+CgkJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgYXBwcm92ZS1mcmllbmQtcmVxdWVzdCIgaHJlZj0iIyI+CgkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kUmVxdWVzdF9BY2NlcHQnKQoJCQkJCQkJCTwvYT4KCQkJCQkJCTwvbGk+CgkJCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+CgkJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgZGVueS1mcmllbmQtcmVxdWVzdCIgaHJlZj0iIyI+CgkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kUmVxdWVzdF9SZWplY3QnKQoJCQkJCQkJCTwvYT4KCQkJCQkJCTwvbGk+CgkJCQkJCTwvdWw+CgkJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2PgoJCQkJCSNlbmQKCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciI+PC9kaXY+CgkJPC9saT4KCSNlbmQKI2FmdGVyYWxsCgk8L3VsPgoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+CiNub2RhdGEKCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4KCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kUmVxdWVzdF9Ob25lVG9SZXZpZXcnKQoJPC9kaXY+CiNlbmQKJGNvcmVfdjJfdWkuUGFnZXIoJGZyaWVuZHNoaXBzVG9SZXZpZXcuUGFnZUluZGV4LCAkZnJpZW5kc2hpcHNUb1Jldmlldy5QYWdlU2l6ZSwgJGZyaWVuZHNoaXBzVG9SZXZpZXcuVG90YWxDb3VudCkKCg==</file>
			<file name="standard-tabs.vm">IyMKIyMgUmVuZGVycyB0YWJzIGZvciBzdGFuZGFyZCBjb250ZXh0dWFsIGFuZCBhY2Nlc3NpbmcgdmlldyB0eXBlcwojIyBFeGVjdXRlZCBhZnRlciBleGVjdXRpb24gb2YgaW5kaXZpZHVhbCB2aWV3IHR5cGVzIHRvIGF2b2lkIGRvdWJsZS1yZXF1ZXN0aW5nIG9mIHRhYi1kaXNwbGF5ZWQgY291bnRzCiMjCgojaWYgKCRxdWVyeVR5cGUgIT0gImFjY2Vzc2luZ1VzZXIiICYmICgkY3VycmVudFVzZXIgJiYgJGN1cnJlbnRVc2VyLklkID09ICRhY2Nlc3NpbmdVc2VyLklkKSkKCTxkaXYgY2xhc3M9ImZpbHRlciI+CgkJPGRpdiBjbGFzcz0icXVlcnktZmlsdGVyIj4KCQkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24gI2lmKCR2aWV3VHlwZSA9PSAnRnJpZW5kcycpc2VsZWN0ZWQgI2VuZCI+CgkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJTaG93PUZyaWVuZHMmJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSIpKSI+CgkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0ZyaWVuZHMnKQoJCQkJPC9hPgoJCQk8L3NwYW4+CgkJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+CgkJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uICNpZigkdmlld1R5cGUgPT0gJ1Jldmlldycpc2VsZWN0ZWQgI2VuZCI+CgkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJTaG93PVJldmlldyYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xIikpIj4KCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kc19SZXF1ZXN0c1JldmlldycpCgkJCQkJI2lmICgkcmV2aWV3RnJpZW5kc2hpcENvdW50ID4gMCkKCQkJCQkJPHN0cm9uZz4oJHtyZXZpZXdGcmllbmRzaGlwQ291bnR9KTwvc3Ryb25nPgoJCQkJCSNlbmQKCQkJCTwvYT4KCQkJPC9zcGFuPgoJCQk8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj58PC9zcGFuPgoJCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiAjaWYoJHZpZXdUeXBlID09ICdQZW5kaW5nJylzZWxlY3RlZCAjZW5kIj4KCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNob3c9UGVuZGluZyYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xIikpIj4KCQkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0ZyaWVuZHNfWW91clJlcXVlc3RzJykKCQkJCQkjaWYgKCRwZW5kaW5nRnJpZW5kc2hpcENvdW50ID4gMCkKCQkJCQkJPHN0cm9uZz4oJHtwZW5kaW5nRnJpZW5kc2hpcENvdW50fSk8L3N0cm9uZz4KCQkJCQkjZW5kCgkJCQk8L2E+CgkJCTwvc3Bhbj4KCQk8L2Rpdj4KCTwvZGl2PgojZWxzZWlmKCRxdWVyeVR5cGUgPT0gImFjY2Vzc2luZ1VzZXIiKQoJPGRpdiBjbGFzcz0iZmlsdGVyIj4KCQk8ZGl2IGNsYXNzPSJxdWVyeS1maWx0ZXIiPgoJCQkjaWYgKCR2aWV3VHlwZSA9PSAiRnJpZW5kcyIpCgkJCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiBzZWxlY3RlZCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0ZyaWVuZHNfQXBwcm92ZWRGcmllbmRzJyk8L3NwYW4+CgkJCSNlbHNlCgkJCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiI+CgkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAiU2hvdz1GcmllbmRzJiRjb3JlX3YyX3VpLlBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5PTEiKSkiPgoJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kc19BcHByb3ZlZEZyaWVuZHMnKQoJCQkJCTwvYT4KCQkJCTwvc3Bhbj4KCQkJI2VuZAoJCQk8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj58PC9zcGFuPgoJCQkjaWYgKCR2aWV3VHlwZSA9PSAiRXZlcnlvbmUiKQoJCQkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24gc2VsZWN0ZWQiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX0ZyaWVuZHNoaXBMaXN0X0ZpbHRlcl9FdmVyeW9uZScpPC9zcGFuPgoJCQkjZWxzZQoJCQkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24iPgoJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNob3c9RXZlcnlvbmUmJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSIpKSI+CgkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX0ZyaWVuZHNoaXBMaXN0X0ZpbHRlcl9FdmVyeW9uZScpCgkJCQkJPC9hPgoJCQkJPC9zcGFuPgoJCQkjZW5kCgkJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+CgkJCSNpZiAoJHZpZXdUeXBlID09ICJGb2xsb3dpbmciKQoJCQkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24gc2VsZWN0ZWQiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX0ZyaWVuZHNoaXBMaXN0X0ZpbHRlcl9Gb2xsb3dpbmcnKTwvc3Bhbj4KCQkJI2Vsc2UKCQkJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uIj4KCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJTaG93PUZvbGxvd2luZyYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xIikpIj4KCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfRnJpZW5kc2hpcExpc3RfRmlsdGVyX0ZvbGxvd2luZycpCgkJCQkJPC9hPgoJCQkJPC9zcGFuPgoJCQkjZW5kCgkJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+CgkJCSNpZiAoJHZpZXdUeXBlID09ICJGb2xsb3dlcnMiKQoJCQkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24gc2VsZWN0ZWQiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdGb2xsb3dlcnMnKTwvc3Bhbj4KCQkJI2Vsc2UKCQkJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uIj4KCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJTaG93PUZvbGxvd2VycyYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xIikpIj4KCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0ZvbGxvd2VycycpCgkJCQkJPC9hPgoJCQkJPC9zcGFuPgoJCQkjZW5kCgkJPC9kaXY+Cgk8L2Rpdj4KI2VuZA==</file>
			<file name="standard.vm">I3NldCAoJHZpZXdUeXBlID0gIkZyaWVuZHMiKQojc2V0ICgkdmlld1R5cGUgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ1Nob3cnKSkKCiNzZXQgKCRjdXJyZW50VXNlciA9ICRjb3JlX3YyX3VzZXIuQ3VycmVudCkKI3NldCAoJGFjY2Vzc2luZ1VzZXIgPSAkY29yZV92Ml91c2VyLkFjY2Vzc2luZykKCiNpZiAoJHF1ZXJ5VHlwZSA9PSAiYWNjZXNzaW5nVXNlciIgfHwgKCRjdXJyZW50VXNlciAmJiAkY3VycmVudFVzZXIuSWQgPT0gJGFjY2Vzc2luZ1VzZXIuSWQpKQoJI2lmICgkdmlld1R5cGUgPT0gIkV2ZXJ5b25lIikKCQkkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ3N0YW5kYXJkLWV2ZXJ5b25lLnZtJykKCSNlbHNlaWYgKCR2aWV3VHlwZSA9PSAiRm9sbG93aW5nIikKCQkkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ3N0YW5kYXJkLWZvbGxvd2luZy52bScpCgkjZWxzZWlmICgkdmlld1R5cGUgPT0gIkZvbGxvd2VycyIpCgkJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzdGFuZGFyZC1mb2xsb3dlcnMudm0nKQoJI2Vsc2VpZiAoJHZpZXdUeXBlID09ICJQZW5kaW5nIikKCQkkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ3N0YW5kYXJkLXBlbmRpbmcudm0nKQoJI2Vsc2VpZiAoJHZpZXdUeXBlID09ICJSZXZpZXciKQoJCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc3RhbmRhcmQtcmV2aWV3LnZtJykKCSNlbHNlCgkJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzdGFuZGFyZC1mcmllbmRzLnZtJykKCSNlbmQKI2Vsc2UKCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc3RhbmRhcmQtZnJpZW5kcy52bScpCiNlbmQK</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKCgkvLyByZXR1cm5zIHRoZSBmcmllbmQgaWQgcmVsYXRlZCB0byBhIGdpdmVuIGNoaWxkIGVsZW1lbnQgb2YgdGhhdCBmcmllbmQgaWQncyByb3cgaXRlbQoJdmFyIGdldEZyaWVuZElkID0gZnVuY3Rpb24oZWxlbWVudCkgewoJCXJldHVybiBOdW1iZXIoJChlbGVtZW50KS5jbG9zZXN0KCdsaS5jb250ZW50LWl0ZW0nKS5hdHRyKCdkYXRhLWZyaWVuZGlkJykpOwoJfTsKCgl2YXIgYXBpID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7CgkJCS8vIHN0YXJ0aW5nIGNvbnZlcnNhdGlvbnMKCQkJJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zdGFydC1jb252ZXJzYXRpb24nKS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKCl7CgkJCQl2YXIgdXJsID0gJCh0aGlzKS5hdHRyKCdocmVmJyk7CgkJCQlUZWxsaWdlbnRfTW9kYWwuT3Blbih1cmwsNTUwLDM2MCxudWxsKTsKCQkJCXJldHVybiBmYWxzZTsKCQkJfSk7CgoJCQkvLyBjYW5jZWxsaW5nCgkJCSQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGEuY2FuY2VsLWZyaWVuZCcpLmxpdmUoJ2NsaWNrJywgZnVuY3Rpb24oKXsKCQkJCWlmKGNvbmZpcm0oY29udGV4dC5mcmllbmRzaGlwUmVxdWVzdENhbmNlbENvbmZpcm1hdGlvbikpIHsKCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZGVsKHsKCQkJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvdXNlcnMve1JlcXVlc3RvcklkfS9mcmllbmRzL3tSZXF1ZXN0ZWVJZH0uanNvbicsCgkJCQkJCWRhdGE6IHsKCQkJCQkJCVJlcXVlc3RvcklkOiBjb250ZXh0LnVzZXJJZCwKCQkJCQkJCVJlcXVlc3RlZUlkOiBnZXRGcmllbmRJZCgkKHRoaXMpKQoJCQkJCQl9LAoJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbigpeyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpOyB9CgkJCQkJfSk7CgkJCQl9CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoKCQkJLy8gdW5mcmllbmRpbmcKCQkJJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5kZWxldGUtZnJpZW5kJykubGl2ZSgnY2xpY2snLCBmdW5jdGlvbigpewoJCQkJaWYoY29uZmlybShjb250ZXh0LmZyaWVuZHNoaXBEZWxldGVDb25maXJtYXRpb24pKSB7CgkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7CgkJCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3VzZXJzL3tSZXF1ZXN0b3JJZH0vZnJpZW5kcy97UmVxdWVzdGVlSWR9Lmpzb24nLAoJCQkJCQlkYXRhOiB7CgkJCQkJCQlSZXF1ZXN0b3JJZDogY29udGV4dC51c2VySWQsCgkJCQkJCQlSZXF1ZXN0ZWVJZDogZ2V0RnJpZW5kSWQoJCh0aGlzKSkKCQkJCQkJfSwKCQkJCQkJc3VjY2VzczogZnVuY3Rpb24oKXsgd2luZG93LmxvY2F0aW9uLnJlbG9hZCh0cnVlKTsgfQoJCQkJCX0pOwoJCQkJfQoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCgkJCS8vIGZyaWVuZGluZwoJCQkkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBhLnJlcXVlc3QtZnJpZW5kc2hpcCcpLmxpdmUoJ2NsaWNrJywgZnVuY3Rpb24oKXsKCQkJCXZhciB1cmwgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTsKCQkJCVRlbGxpZ2VudF9Nb2RhbC5PcGVuKHVybCw1NTAsMzYwLG51bGwpOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCgkJCS8vIGFwcHJvdmluZyBmcmllbmQgcmVxdWVzdAoJCQkkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBhLmFwcHJvdmUtZnJpZW5kLXJlcXVlc3QnKS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKCl7CgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucHV0KHsKCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi91c2Vycy97UmVxdWVzdG9ySWR9L2ZyaWVuZHMve1JlcXVlc3RlZUlkfS5qc29uJywKCQkJCQlkYXRhOiB7CgkJCQkJCVJlcXVlc3RvcklkOiBnZXRGcmllbmRJZCgkKHRoaXMpKSwKCQkJCQkJUmVxdWVzdGVlSWQ6IGNvbnRleHQudXNlcklkLAoJCQkJCQlGcmllbmRzaGlwU3RhdGU6ICdBcHByb3ZlZCcKCQkJCQl9LAoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKCl7IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7IH0KCQkJCX0pOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCgkJCS8vIHJlamVjdGluZyBmcmllbmQgcmVxdWVzdAoJCQkkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBhLmRlbnktZnJpZW5kLXJlcXVlc3QnKS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKCl7CgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZGVsKHsKCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi91c2Vycy97UmVxdWVzdG9ySWR9L2ZyaWVuZHMve1JlcXVlc3RlZUlkfS5qc29uJywKCQkJCQlkYXRhOiB7CgkJCQkJCVJlcXVlc3RvcklkOiBnZXRGcmllbmRJZCgkKHRoaXMpKSwKCQkJCQkJUmVxdWVzdGVlSWQ6IGNvbnRleHQudXNlcklkCgkJCQkJfSwKCQkJCQlzdWNjZXNzOiBmdW5jdGlvbigpeyB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpOyB9CgkJCQl9KTsKCQkJCXJldHVybiBmYWxzZTsKCQkJfSk7CgoJCQkvLyBmb2xsb3cgdG9nZ2xpbmcKCQkJJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5mb2xsb3ctdXNlcicpLmVhY2goZnVuY3Rpb24oKXsKCQkJCXZhciBsaW5rID0gJCh0aGlzKTsKCQkJCWxpbmsuZXZvbHV0aW9uVG9nZ2xlTGluayh7CgkJCQkJb25IdG1sOiAnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LmZvbGxvd09uVGl0bGUsCgkJCQkJb2ZmSHRtbDogJzxzcGFuPjwvc3Bhbj4nICsgY29udGV4dC5mb2xsb3dPZmZUaXRsZSwKCQkJCQlvblRpdGxlOiBjb250ZXh0LmZvbGxvd09uVGl0bGUsCgkJCQkJb2ZmVGl0bGU6IGNvbnRleHQuZm9sbG93T2ZmVGl0bGUsCgkJCQkJcHJvY2Vzc2luZ0h0bWw6ICc8c3Bhbj48L3NwYW4+Li4uJywKCQkJCQljaGFuZ2VTdGF0ZTogZnVuY3Rpb24odmFsKSB7CgkJCQkJCWlmKHZhbCkgewoJCQkJCQkJLy8gZm9sbG93CgkJCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7CgkJCQkJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvdXNlcnMve0ZvbGxvd2VySWR9L2ZvbGxvd2luZy5qc29uJywKCQkJCQkJCQlkYXRhOiB7CgkJCQkJCQkJCUZvbGxvd2VySWQ6IGNvbnRleHQudXNlcklkLAoJCQkJCQkJCQlGb2xsb3dpbmdJZDogZ2V0RnJpZW5kSWQobGluaykKCQkJCQkJCQl9LAoJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7IGxpbmsuZXZvbHV0aW9uVG9nZ2xlTGluaygndmFsJywgdHlwZW9mIHJlc3BvbnNlLkZvbGxvdyAhPT0gJ3VuZGVmaW5lZCcpOyB9LAoJCQkJCQkJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KSB7IGxpbmsuZXZvbHV0aW9uVG9nZ2xlTGluaygndmFsJywgIXZhbCk7IH0KCQkJCQkJCX0pOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJLy8gdW5mb2xsb3cKCQkJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5kZWwoewoJCQkJCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3VzZXJzL3tGb2xsb3dlcklkfS9mb2xsb3dpbmcve0ZvbGxvd2luZ0lkfS5qc29uJywKCQkJCQkJCQlkYXRhOiB7CgkJCQkJCQkJCUZvbGxvd2VySWQ6IGNvbnRleHQudXNlcklkLAoJCQkJCQkJCQlGb2xsb3dpbmdJZDogZ2V0RnJpZW5kSWQobGluaykKCQkJCQkJCQl9LAoJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7IGxpbmsuZXZvbHV0aW9uVG9nZ2xlTGluaygndmFsJywgcmVzcG9uc2UuRXJyb3JzLmxlbmd0aCAhPT0gMCk7IH0sCgkJCQkJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsgbGluay5ldm9sdXRpb25Ub2dnbGVMaW5rKCd2YWwnLCAhdmFsKTsgfQoJCQkJCQkJfSk7CgkJCQkJCX0KCQkJCQl9LAoJCQkJCW9uQ3NzQ2xhc3M6ICdpbnRlcm5hbC1saW5rIGZhdm9yaXRlLW9uJywKCQkJCQlvZmZDc3NDbGFzczogJ2ludGVybmFsLWxpbmsgZmF2b3JpdGUtb2ZmJywKCQkJCQlwcm9jZXNzaW5nQ3NzQ2xhc3M6ICdpbnRlcm5hbC1saW5rIHByb2Nlc3NpbmcnLAoJCQkJCXZhbDogKGxpbmsuYXR0cignZGF0YS1mb2xsb3dzJykgPT09ICd0cnVlJykKCQkJCX0pOwoKCQkJfSk7CgkJfQoJfTsKCgoKCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuZnJpZW5kc2hpcExpc3QgPSBhcGk7Cgp9KGpRdWVyeSkpOwo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_FriendshipRequestList_Name}" version="7.5.0.32466" description="${resource:Core_FriendshipRequestList_Description}" instanceIdentifier="90469023086d42818397f904195b124f" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="friendship-request-list">
		<contentScript>
#set($accessingUser = $core_v2_user.Accessing)
#if(!$core_v2_user.IsRegistered($accessingUser.Id))
	$core_v2_widget.Hide()
#end

#set($friendships = $core_v2_friendship.List("%{ PageSize='100', PageIndex='0', RecipientId='${accessingUser.Id}', FriendshipState='Pending' }"))

&lt;div class="content-list-header"&gt;&lt;/div&gt;
&lt;div class="content-list-name"&gt;&lt;/div&gt;
&lt;ul class="content-list"&gt;

#if(!$friendships || $friendships.TotalCount == 0)
	&lt;li class="content-item"&gt;
		&lt;div class="message norecords"&gt;
			$core_v2_language.GetResource("Friends_NoRequests")
		&lt;/div&gt;
	&lt;/li&gt;
#else
	#foreach($friendship in $friendships)
		&lt;li class="content-item" data-requestor-id="${friendship.Requestor.Id}"&gt;
			&lt;div class="post-author"&gt;
				&lt;span class="avatar"&gt;
					#if ($friendship.Requestor.ProfileUrl)
						&lt;a href="$core_v2_encoding.HtmlAttributeEncode($friendship.Requestor.ProfileUrl)" class="internal-link view-user-profile"&gt;
							$core_v2_ui.GetResizedImageHtml($friendship.Requestor.AvatarUrl, 40, 40, "%{border='0', alt=$friendship.Requestor.DisplayName}")
						&lt;/a&gt;
					#else
						$core_v2_ui.GetResizedImageHtml($friendship.Requestor.AvatarUrl, 40, 40, "%{border='0', alt=$friendship.Requestor.DisplayName}")
					#end
				&lt;/span&gt;
				&lt;span class="user-name"&gt;
					#if ($friendship.Requestor.ProfileUrl)
						&lt;a href="$core_v2_encoding.HtmlAttributeEncode($friendship.Requestor.ProfileUrl)" class="internal-link view-user-profile"&gt;
							$friendship.Requestor.DisplayName
						&lt;/a&gt;
					#else
						$friendship.Requestor.DisplayName
					#end
				&lt;/span&gt;
			&lt;/div&gt;
			&lt;a href="javascript:void(0);" class="internal-link approve-friend-request"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("FriendRequest_Accept")&lt;/a&gt;
			&lt;span class="separator"&gt;|&lt;/span&gt;
			&lt;a href="javascript:void(0);" class="internal-link deny-friend-request"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("FriendRequest_Reject")&lt;/a&gt;
		&lt;/li&gt;
	#end
#end

&lt;/ul&gt;
&lt;div class="content-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.friendshipRequestList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function() {
			jQuery.telligent.evolution.widgets.friendshipRequestList.register({
				wrapperSelector : '#$core_v2_widget.WrapperElementId',
				userId: '$accessingUser.Id'
			});
		});
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_FriendshipRequestList_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_FriendshipRequestList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Core_FriendshipRequestList_Name">${friendship_propercase} Request List</resource><resource name="Core_FriendshipRequestList_Description">Displays a list of pending ${friendship_lowercase} requests.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Friends_NoRequests">You do not have any pending ${friendship_lowercase} requests.</resource><resource name="FriendRequest_Accept">Accept</resource><resource name="FriendRequest_Reject">Reject</resource></language></languageResources>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQoKCXZhciBhY2NlcHRGcmllbmRzaGlwID0gZnVuY3Rpb24ocmVjaXBpZW50SWQsIHJlcXVlc3RvcklkKSB7CgkJCXZhciBkYXRhID0gewoJCQkJUmVxdWVzdG9ySWQ6IHJlcXVlc3RvcklkLAoJCQkJUmVxdWVzdGVlSWQ6IHJlY2lwaWVudElkLAoJCQkJRnJpZW5kc2hpcFN0YXRlOiAnQXBwcm92ZWQnCgkJCX07CgoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucHV0KHsKCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3VzZXJzL3tSZXF1ZXN0b3JJZH0vZnJpZW5kcy97UmVxdWVzdGVlSWR9Lmpzb24nLAoJCQkJZGF0YTogZGF0YSwKCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJcmVsb2FkUGFnZSgpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWRlbGV0ZUZyaWVuZHNoaXAgPSBmdW5jdGlvbihyZWNpcGllbnRJZCwgcmVxdWVzdG9ySWQpewoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZGVsKHsKCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3VzZXJzL3tSZXF1ZXN0b3JJZH0vZnJpZW5kcy97UmVxdWVzdGVlSWR9Lmpzb24nLAoJCQkJZGF0YToge1JlcXVlc3RvcklkOiByZXF1ZXN0b3JJZCwgUmVxdWVzdGVlSWQ6IHJlY2lwaWVudElkfSwKCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJcmVsb2FkUGFnZSgpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCXJlbG9hZFBhZ2UgPSBmdW5jdGlvbigpIHsKCQkJd2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uOwoJCX07CgoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuZnJpZW5kc2hpcFJlcXVlc3RMaXN0ID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7CgkJCSQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpCgkJCQkuZmluZCgnLmludGVybmFsLWxpbmsuZGVueS1mcmllbmQtcmVxdWVzdCcpCgkJCQkuY2xpY2soZnVuY3Rpb24oKXsKCQkJCQl2YXIgcCA9ICQodGhpcykucGFyZW50cygnLmNvbnRlbnQtaXRlbScpOwoJCQkJCWlmIChwLmxlbmd0aCA+IDApIHsKCQkJCQkJdmFyIGlkID0gcC5hdHRyKCdkYXRhLXJlcXVlc3Rvci1pZCcpOwoJCQkJCQlkZWxldGVGcmllbmRzaGlwKGNvbnRleHQudXNlcklkLCBpZCk7CgkJCQkJfQoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0pOwoKCQkJJChjb250ZXh0LndyYXBwZXJTZWxlY3RvcikKCQkJCS5maW5kKCcuaW50ZXJuYWwtbGluay5hcHByb3ZlLWZyaWVuZC1yZXF1ZXN0JykKCQkJCS5jbGljayhmdW5jdGlvbigpewoJCQkJCXZhciBwID0gJCh0aGlzKS5wYXJlbnRzKCcuY29udGVudC1pdGVtJyk7CgkJCQkJaWYgKHAubGVuZ3RoID4gMCkgewoJCQkJCQl2YXIgaWQgPSBwLmF0dHIoJ2RhdGEtcmVxdWVzdG9yLWlkJyk7CgkJCQkJCWFjY2VwdEZyaWVuZHNoaXAoY29udGV4dC51c2VySWQsIGlkKTsKCQkJCQl9CgkJCQkJcmV0dXJuIGZhbHNlOwoJCQkJfSk7CgkJfQoJfTsKfShqUXVlcnkpKTsK</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupAccessibilityInformation_Name}" version="7.5.0.32466" description="${resource:Groups_GroupAccessibilityInformation_Description}" instanceIdentifier="70e09fc5b5754e56bcf1ed619f8fee69" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="group-accessibility-information">
		<contentScript>
#set ($currentGroup = $core_v2_group.Current)
#if ($currentGroup &amp;&amp; ($currentGroup.GroupType == 'PrivateUnlisted' || $currentGroup.GroupType == 'PrivateListed'))
	&lt;div class="message disclaimer"&gt;
		$core_v2_language.GetResource('Groups_GroupAccessibilityInformation_PrivateGroup')
	&lt;/div&gt;
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupAccessibilityInformation_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupAccessibilityInformation_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupAccessibilityInformation_Name">Group - Accessibility Information</resource><resource name="Groups_GroupAccessibilityInformation_Description">Displays information about the accessibility of information in the current group.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Groups_GroupAccessibilityInformation_PrivateGroup">This is a Private Group - Content is only visible to group members.</resource></language></languageResources>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupApplicationNavigation_Name}" version="7.5.0.32466" description="${resource:Groups_GroupApplicationNavigation_Description}" instanceIdentifier="359bb808134b48b390a51dcceca0490c" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="group-application-navigation">
		<contentScript>
#set($group = $core_v2_group.Current)
&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#foreach($item in $core_v2_customNavigation.Deserialize($group.Id, $core_v2_widget.GetCustomValue('navigation', '')))
		&lt;li class="navigation-item#if($item.IsSelected) selected#end"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($item.Url)" class="$!item.CssClass"&gt;&lt;span&gt;&lt;/span&gt;$!item.Label&lt;/a&gt;&lt;/li&gt;
	#end
	#if($core_v2_group.HasNewPostLinks($group.Id))
		&lt;li class="navigation-item add-post"&gt;&lt;a href="#" class="internal-link add-post" id="$core_v2_widget.UniqueId('newpost')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('NewPost')&lt;/a&gt;&lt;/li&gt;
		#registerEndOfPageHtml('telligent.evolution.widgets.groupApplicationNavigation')
			&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
		#end
		#registerEndOfPageHtml()
			&lt;script type="text/javascript"&gt;
				jQuery(function(){
					jQuery.telligent.evolution.widgets.groupApplicationNavigation.register({
						newPost: jQuery('#$core_v2_widget.UniqueId('newpost')'),
						newPostUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('newpost.vm'))',
						error: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Groups_GroupApplicationNavigation_Error'))'
					});
				});
			&lt;/script&gt;
		#end
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupApplicationNavigation_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupApplicationNavigation_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="navigation" dataType="custom" controlType="Telligent.Evolution.Controls.CustomNavigationCustomControl, Telligent.Evolution.Controls" maximumDepth="1" resourceName="Groups_GroupApplicationNavigation_Navigation" descriptionResourceName="Groups_GroupApplicationNavigation_Navigation_Description" navigationType="group" scope="group" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupApplicationNavigation_Name">Group - Application Navigation</resource><resource name="Groups_GroupApplicationNavigation_Description">Displays a list of applications in a group.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Groups_GroupApplicationNavigation_Navigation">Navigation Items</resource><resource name="Groups_GroupApplicationNavigation_Navigation_Description">Add, edit, delete, and reorder navigation items for this group.</resource><resource name="NewPost">New Post</resource><resource name="Groups_GroupApplicationNavigation_Error">An error occurred while loading new post links.</resource><resource name="Groups_GroupApplicationNavigation_NewPost_MoreApps">(and {0} more)</resource></language></languageResources>
		<files>
			<file name="newpost.vm">DQojc2V0KCRjb3VudCA9IDApDQojc2V0KCRsaW5rcyA9IGZhbHNlKQ0KI3NldCgkbGlua3MgPSAkY29yZV92Ml9ncm91cC5MaXN0TmV3UG9zdExpbmtzKCRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQpKQ0KPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+DQo8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+DQojZm9yZWFjaCgkbGluayBpbiAkbGlua3MpDQoJI2lmKCRjb3VudCA8IDIwKQ0KCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbGluay5VcmwpIiBjbGFzcz0iJGxpbmsuQ3NzQ2xhc3MiPjxzcGFuPjwvc3Bhbj4kbGluay5MYWJlbDwvYT48L2xpPg0KCSNlbHNlaWYgKCRjb3VudCA9PSAyMCkNCgkJI3NldCgkcmVtYWluaW5nID0gJGxpbmtzLkNvdW50IC0gJGNvdW50KQ0KCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfR3JvdXBBcHBsaWNhdGlvbk5hdmlnYXRpb25fTmV3UG9zdF9Nb3JlQXBwcycpLCAkcmVtYWluaW5nLlRvU3RyaW5nKCkpPC9saT4NCgkjZW5kDQoJI3NldCgkY291bnQgPSAkY291bnQgKyAxKQ0KI2VuZA0KPC91bD4NCjxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2Pg0K</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciBwb3B1bGF0ZSA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJew0KCQlpZiAoY29udGV4dC5wb3B1bGF0ZWQpDQoJCXsNCgkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ3Nob3cnLCBjb250ZXh0Lm5ld3Bvc3QpOw0KCQkJcmV0dXJuOw0KCQl9DQoJCQkNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJdXJsOiBjb250ZXh0Lm5ld1Bvc3RVcmwsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQl2YXIganEgPSAkKHJlc3BvbnNlKTsNCgkJCQkJdmFyIGxpbmtzID0ganEuZmluZCgnLm5hdmlnYXRpb24taXRlbSBhJyk7DQoJCQkJCWlmIChsaW5rcy5sZW5ndGggPT0gMCkNCgkJCQkJew0KCQkJCQkJY29udGV4dC5uZXdQb3N0LmhpZGUoKTsNCgkJCQkJfQ0KCQkJCQllbHNlIGlmIChsaW5rcy5sZW5ndGggPT0gMSkNCgkJCQkJew0KCQkJCQkJdHJ5IHsNCgkJCQkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9IGxpbmtzLmdldCgwKS5ocmVmOwkJCQkJCQkNCgkJCQkJCX0gY2F0Y2goZSkge30NCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsJCQkJCQ0KCQkJCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaHRtbCcsIGpxKTsNCgkJCQkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ3Nob3cnLCBjb250ZXh0Lm5ld1Bvc3QpOw0KCQkJCQkJY29udGV4dC5wb3B1bGF0ZWQgPSB0cnVlOw0KCQkJCQl9DQoJCQkJfSwNCgkJCQlkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmVycm9yDQoJCQl9KTsNCgl9Ow0KDQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuZ3JvdXBBcHBsaWNhdGlvbk5hdmlnYXRpb24gPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQljb250ZXh0LnBvcHVsYXRlZCA9IGZhbHNlOw0KDQoJCQljb250ZXh0LnBvcHVwID0gJCgnPGRpdj48L2Rpdj4nKS5nbG93UG9wVXBQYW5lbCh7DQoJCQkJY3NzQ2xhc3M6ICdtZW51IGdyb3VwLWFwcGxpY2F0aW9uLW5hdmlnYXRpb24tY29udGVudCcsDQoJCQkJcG9zaXRpb246ICdkb3duJywNCgkJCQl6SW5kZXg6IDEwMDAsDQoJCQkJaGlkZU9uRG9jdW1lbnRDbGljazogdHJ1ZQ0KCQkJfSkNCgkJCQkuYmluZCgnZ2xvd1BvcFVwUGFuZWxJc1Nob3duJywgZnVuY3Rpb24oKSB7IGNvbnRleHQubmV3UG9zdC5hZGRDbGFzcygnc2VsZWN0ZWQnKTsgfSkNCgkJCQkuYmluZCgnZ2xvd1BvcFVwUGFuZWxIaWRkZW4nLCBmdW5jdGlvbigpIHsgY29udGV4dC5uZXdQb3N0LnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOyB9KQ0KCQkJCS5nbG93UG9wVXBQYW5lbCgnaHRtbCcsICcnKTsNCg0KCQkJY29udGV4dC5uZXdQb3N0LmNsaWNrKGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlpZiAoY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaXNTaG93bicpKQ0KCQkJCXsNCgkJCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaGlkZScpOw0KCQkJCX0NCgkJCQllbHNlDQoJCQkJew0KCQkJCQlwb3B1bGF0ZShjb250ZXh0KTsNCgkJCQl9DQoJCQkJDQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfSk7DQoJCX0NCgl9Ow0KfShqUXVlcnkpKTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupBanner_Name}" version="7.5.0.32466" description="${resource:Groups_GroupBanner_Description}" instanceIdentifier="ab92f9a89af24721bba1c464c1334be6" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="group-banner">
		<contentScript>
#set ($userId = $core_v2_user.Accessing.Id)
#set ($group = $core_v2_group.Current)
#set ($groupType = $core_v2_group.Current.GroupType)
#set ($isRegistered = $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
#set ($membershipType = "None")
#set ($groupUser = $core_v2_groupUserMember.Get($group.Id, "%{UserId = $userId}"))
#set ($membershipType = $groupUser.MembershipType)
#set ($canLeaveGroup = ($groupUser.IsDirectMember &amp;&amp; !$groupUser.IsRoleMember) &amp;&amp; ($membershipType != "Owner" || $core_v2_groupUserMember.List($group.Id, "%{MembershipType = 'Owner', PageSize = 1}").TotalCount &gt; 1))
#set ($canJoinGroup = $core_v2_nodePermission.Get("groups", $group.Id, "Group_JoinGroup").IsAllowed)
#set ($canJoinGroupByRequest = $core_v2_nodePermission.Get("groups", $group.Id, "Group_JoinGroupByRequest").IsAllowed)

#set($rollupDailyMessage = $core_v2_language.GetResource('EmailDigest_Rollup_Daily'))
#if($rollupDailyMessage.Length &gt; 22) 
    #set($rollupDailyMessage = "$rollupDailyMessage.SubString(0,20)...")
#end
#set($rollupWeeklyMessage = $core_v2_language.GetResource('EmailDigest_Rollup_Weekly'))
#if($rollupWeeklyMessage.Length &gt; 22) 
    #set($rollupWeeklyMessage = "$rollupWeeklyMessage.SubString(0,20)...")
#end
#set($rollupUnsubscribed = $core_v2_language.GetResource('EmailDigest_Rollup_GroupUnsubscribed'))
#if($rollupUnsubscribed.Length &gt; 22) 
    #set($rollupUnsubscribed = "$rollupUnsubscribed.SubString(0,20)...")
#end

&lt;div class="group-banner-header"&gt;&lt;/div&gt;
&lt;div class="group-banner" id="$core_v2_widget.UniqueId('banner')"&gt;
	&lt;div class="group-banner-info"&gt;
	#if (!$core_v2_group.Current.ParentGroupId &lt; 1)
		&lt;h2 class="group-name"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_infoResult.Get().InfoResult.SiteName&lt;/h2&gt;
		&lt;div class="group-avatar"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_group.Current.Url)" class="internal-link view-group"&gt;$core_v2_ui.GetResizedImageHtml($core_v2_group.Current.AvatarUrl, 70, 70, "%{ alt = $core_v2_group.Current.Name }")&lt;/a&gt;
			#set ($url = false)
			#set ($url = $core_v2_groupUrls.Edit($group.Id))
			#if ($url)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-group"&gt;$core_v2_language.GetResource("Hubs_Avatar_Change")&lt;/a&gt;
			#end
		&lt;/div&gt;
		&lt;div class="group-description user-defined-markup"&gt;
			$core_v2_infoResult.Get().InfoResult.SiteDescription
		&lt;/div&gt;
	#else
		&lt;h2 class="group-name"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_group.Current.Name&lt;/h2&gt;
		&lt;div class="group-avatar"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_group.Current.Url)" class="internal-link view-group"&gt;$core_v2_ui.GetResizedImageHtml($core_v2_group.Current.AvatarUrl, 70, 70, "%{ alt = $core_v2_group.Current.Name }")&lt;/a&gt;
			#set ($url = false)
			#set ($url = $core_v2_groupUrls.Edit($group.Id))
			#if ($url)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-group"&gt;$core_v2_language.GetResource("Hubs_Avatar_Change")&lt;/a&gt;
			#end
		&lt;/div&gt;
		&lt;div class="group-description"&gt;
			#if ($core_v2_group.Current.Description &amp;&amp; $core_v2_group.Current.Description.Length &gt; 0)
				&lt;span class="user-defined-markup"&gt;$core_v2_group.Current.Description&lt;/span&gt;
			#else
				&lt;span class="user-defined-markup"&gt;$core_v2_language.GetResource("Groups_GroupBanner_EmptyDescription")&lt;/span&gt;
				#set ($url = false)
				#set ($url = $core_v2_groupUrls.Edit($group.Id))
				#if ($url)
					&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-group"&gt;$core_v2_language.GetResource("Hubs_EditAndAddDescription")&lt;/a&gt;
				#end
			#end
		&lt;/div&gt;
	#end
	&lt;/div&gt;
	&lt;div class="group-banner-actions" id="$core_v2_widget.UniqueId('actions')"&gt;
		&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
		&lt;ul class="navigation-list"&gt;
			#if ($groupType == "PublicOpen" &amp;&amp; !$isRegistered)
				&lt;li class="navigation-item join-group"&gt;
					&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.RequestMembership($group.Id))" class="internal-link join-group"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_JoinGroup')&lt;/a&gt;
				&lt;/li&gt;
			#elseif ($groupType == "PublicClosed" &amp;&amp; !$isRegistered)
				&lt;li class="navigation-item join-group"&gt;
					&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.RequestMembership($group.Id))" class="internal-link join-group"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_RequestMembership')&lt;/a&gt;
				&lt;/li&gt;
			#elseif ($groupType != "Joinless")
				#if($membershipType == "PendingMember" &amp;&amp; $canLeaveGroup)
					&lt;li class="navigation-item leave-group"&gt;
						&lt;a href="javascript:void(0)" id="$core_v2_widget.UniqueId('groupMembershipButton')" class="internal-link leave-group"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_CancelJoinRequest')&lt;/a&gt;
					&lt;/li&gt;
				#elseif($membershipType == "None" &amp;&amp; $canJoinGroup)
					&lt;li class="navigation-item join-group"&gt;
						&lt;a href="javascript:void(0)" id="$core_v2_widget.UniqueId('groupMembershipButton')" class="internal-link join-group"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_JoinGroup')&lt;/a&gt;
					&lt;/li&gt;
				#elseif($membershipType != "PendingMember" &amp;&amp; $membershipType != "None" &amp;&amp; $canLeaveGroup)
					&lt;li class="navigation-item leave-group"&gt;
						&lt;a href="javascript:void(0)" id="$core_v2_widget.UniqueId('groupMembershipButton')" class="internal-link leave-group"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_LeaveGroup')&lt;/a&gt;
					&lt;/li&gt;
				#elseif($membershipType == "None" &amp;&amp; $canJoinGroupByRequest)
					&lt;li class="navigation-item join-group"&gt;
						&lt;a href="javascript:void(0)" id="$core_v2_widget.UniqueId('groupMembershipButton')" class="internal-link join-group"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_RequestMembership')&lt;/a&gt;
					&lt;/li&gt;
				#end

				#registerEndOfPageHtml('telligent.evolution.widgets.groupBanner')
					&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
				#end
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					//&lt;![CDATA[
						jQuery(document).ready(function()
						{
							jQuery.telligent.evolution.widgets.groupBanner.register({
								groupMembershipButton:jQuery("#$core_v2_widget.UniqueId('groupMembershipButton')"),
								requestJoinUrl: #if(!$canJoinGroup) "$core_v2_groupUrls.RequestMembership($group.Id)",#else null,#end
								canJoinGroup: #if($canJoinGroup) true,#else false,#end
								canJoinGroupByRequest: #if($canJoinGroupByRequest) true,#else false,#end
								membershipType:"$membershipType",
								groupId:$group.Id,
								userId:$userId,
								errorText:"$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Groups_GroupBanner_Error'))",
								#if ($core_v2_page.GetQueryStringValue("requestmembership") == "true" &amp;&amp; $membershipType == "None")
									forceRequestMembership:true
								#else
									forceRequestMembership:false
								#end
							});
						});
					//]]&gt;
					&lt;/script&gt;
				#end
			#end

			#if ($core_v2_bookmark.SupportsBookmarks($core_v2_group.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($group.ContentId, $core_v2_group.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($group.ContentId, $core_v2_group.ContentTypeId))
				#if ($core_v2_groupUrls.Rss($group.Id) || ($isRegistered &amp;&amp; $core_v2_configuration.EnableEmailDigest))
					&lt;li class="navigation-item favorite"&gt;
				#else
					&lt;li class="navigation-item favorite last"&gt;
				#end
					$core_v2_ui.Bookmark($group.ContentId, $core_v2_group.ContentTypeId)
				&lt;/li&gt;
			#end
			#if ($core_v2_groupUrls.Rss($group.Id))
				&lt;li class="navigation-item rss #if(!$core_v2_configuration.EnableEmailDigest)last#end"&gt;
					#set ($url = false)
					#set ($url = $core_v2_groupUrls.Rss($group.Id))
					#if ($url)
						&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("CF_GetRssFeed")&lt;/a&gt;
					#end
				&lt;/li&gt;
			#end

			#if($isRegistered &amp;&amp; $core_v2_configuration.EnableEmailDigest)
				#set($subscription = $core_v2_emailDigest.GetByGroup($core_v2_group.Current.Id))
				&lt;li class="email-digest-subscription last"&gt;
					&lt;span id="$core_v2_widget.UniqueId('emailDigestRollupWrapper')" class="email-digest-rollup"&gt;
            &lt;span class="email-digest-icon"&gt;&lt;/span&gt;
						&lt;span id="$core_v2_widget.UniqueId('emailDigestRollup')" class="email-digest-item"&gt;
						#if($subscription &amp;&amp; $subscription.FrequencyInDays == 1)
                			$rollupDailyMessage
						#elseif($subscription &amp;&amp; $subscription.FrequencyInDays == 7)
            				$rollupWeeklyMessage
                        #else
        					$rollupUnsubscribed
						#end
						&lt;/span&gt;
						&lt;span class="drop-down-arrow"&gt;&amp;nbsp;&lt;/span&gt;
					&lt;/span&gt;
					&lt;div id="$core_v2_widget.UniqueId('digestSelectPopup')"&gt;
					&lt;/div&gt;
				&lt;/li&gt;
			#end
	&lt;/ul&gt;
		&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="group-banner-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.emailDigest.register({
				context: 'group',
				subscriptionId: '#if($subscription)$subscription.Id#end',
				frequency: #if($subscription) $subscription.FrequencyInDays #else 0 #end,
				contextId: $core_v2_group.Current.Id,
				isGroupPrivate: #if($core_v2_group.Current.GroupType=='PrivateUnlisted' || $core_v2_group.Current.GroupType=='PrivateListed') true #else false #end,
				rollupTextId: '$core_v2_widget.UniqueId('emailDigestRollup')',
				selectPopupId: '$core_v2_widget.UniqueId('digestSelectPopup')',
				selectableTag: '$core_v2_widget.UniqueId('email-digest-selectable')',
				rollupWrapperId: '$core_v2_widget.UniqueId('emailDigestRollupWrapper')',
				emailDigestUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('emaildigest.vm'))',
				popupUnsubscribe: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EmailDigest_SubscriptionSelectOptions_Unsubscribe'))',
				popupDaily: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EmailDigest_SubscriptionSelectOptions_Daily'))',
				popupWeekly: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EmailDigest_SubscriptionSelectOptions_Weekly'))',
				rollupUnsubscribed: '$core_v2_encoding.JavascriptEncode($rollupUnsubscribed)',
				rollupDaily: '$core_v2_encoding.JavascriptEncode($rollupDailyMessage)',
				rollupWeekly: '$core_v2_encoding.JavascriptEncode($rollupWeeklyMessage)',
				dailyMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EmailDigest_Message_Daily'))',
				weeklyMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EmailDigest_Message_Weekly'))',
				unsubscribeGroupMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EmailDigest_Message_UnsubscribedGroup'))',
				errorMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EmailDigest_SubscriptionError'))'
			});
			
			var actions = jQuery('#$core_v2_widget.UniqueId('actions')');
			var banner = jQuery('#$core_v2_widget.UniqueId('banner')');			
			if (actions.outerHeight(true) + 10 &gt; banner.height()) {
				banner.height(actions.outerHeight(true) + 10);
			}
		});
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupBanner_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupBanner_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupBanner_Name">Group - Banner</resource><resource name="Groups_GroupBanner_Description">Displays a banner of common group information and links.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Hubs_Avatar_Change">Change group avatar</resource><resource name="Groups_GroupBanner_EmptyDescription">A description has not yet been added to this group.</resource><resource name="Hubs_EditAndAddDescription">Edit this group and add a description</resource><resource name="Hubs_JoinGroup">Join group</resource><resource name="Hubs_RequestMembership">Request Membership</resource><resource name="Hubs_CancelJoinRequest">Cancel Join Request</resource><resource name="Hubs_LeaveGroup">Leave Group</resource><resource name="Groups_GroupBanner_Error">There was an error joining or leaving the group.</resource><resource name="CF_GetRssFeed">RSS</resource><resource name="EmailDigest_Rollup_Daily">Subscribed to daily digest</resource><resource name="EmailDigest_Rollup_Weekly">Subscribed to weekly digest</resource><resource name="EmailDigest_Rollup_GroupUnsubscribed">Digest Subscription</resource><resource name="EmailDigest_SubscriptionSelectOptions_Unsubscribe">Do not send a digest</resource><resource name="EmailDigest_SubscriptionSelectOptions_Daily">Daily digest via email</resource><resource name="EmailDigest_SubscriptionSelectOptions_Weekly">Weekly digest via email</resource><resource name="EmailDigest_Message_Daily">You are now subscribed to the daily digest.</resource><resource name="EmailDigest_Message_Weekly">You are now subscribed to the weekly digest.</resource><resource name="EmailDigest_Message_UnsubscribedGroup">You are now unsubscribed from email digest for this group.</resource><resource name="EmailDigest_SubscriptionError">An error occurred while trying to subscribe to email digest, please try again later.</resource></language></languageResources>
		<files>
			<file name="emaildigest.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0ICgkc3Vic2NyaXB0aW9uSWQgPSAtMSkNCgkjc2V0ICgkc3Vic2NyaXB0aW9uSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzdWJzY3JpcHRpb25JZCcpKSkNCgkjc2V0ICgkZnJlcXVlbmN5ID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZnJlcXVlbmN5JykpKQ0KCSNzZXQgKCRjb250ZXh0ID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2NvbnRleHQnKSkNCgkjc2V0ICgkY29udGV4dElkID0gLTEpDQoJI3NldCAoJGNvbnRleHRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2NvbnRleHRJZCcpKSkNCg0KCXsNCgkjaWYoJGZyZXF1ZW5jeSA9PSAwICYmICRzdWJzY3JpcHRpb25JZCA+IDApDQoJCSNzZXQoJGRlbGV0ZUluZm8gPSAkY29yZV92Ml9lbWFpbERpZ2VzdC5EZWxldGUoJHN1YnNjcmlwdGlvbklkKSkNCgkJI3NldCgkd2FybmluZ3MgPSAkZGVsZXRlSW5mby5XYXJuaW5ncykNCgkJInN1Y2Nlc3MiIDogInRydWUiLA0KCQkiYWN0aW9uIiA6ICJkZWxldGUiDQoJI2Vsc2VpZigkZnJlcXVlbmN5ID4gMCAmJiAkc3Vic2NyaXB0aW9uSWQgPiAwKQ0KCQkjc2V0KCRzdWIgPSAkY29yZV92Ml9lbWFpbERpZ2VzdC5VcGRhdGUoJHN1YnNjcmlwdGlvbklkLCAkZnJlcXVlbmN5KSkNCgkJI3NldCgkd2FybmluZ3MgPSAkc3ViLldhcm5pbmdzKQ0KCQkic3VjY2VzcyIgOiAidHJ1ZSIsDQoJCSJhY3Rpb24iIDogInVwZGF0ZSINCgkjZWxzZWlmKCRmcmVxdWVuY3kgPiAwICYmICRzdWJzY3JpcHRpb25JZCA8PSAwKQ0KCQkjc2V0KCRzdWIgPSAkY29yZV92Ml9lbWFpbERpZ2VzdC5DcmVhdGUoJGNvbnRleHQsICRjb250ZXh0SWQsICRmcmVxdWVuY3kpKQ0KCQkjc2V0KCR3YXJuaW5ncyA9ICRzdWIuV2FybmluZ3MpDQoJCSJzdWNjZXNzIiA6ICJ0cnVlIiwNCgkJImFjdGlvbiIgOiAiY3JlYXRlIiwNCgkJInN1YnNjcmlwdGlvbklkIiA6ICIkc3ViLklkIg0KCSNlbHNlDQoJCSJzdWNjZXNzIiA6ICJ0cnVlIiwNCgkJImFjdGlvbiIgOiAibm9uZSINCgkjZW5kDQoJLCAid2FybmluZ3MiOlsNCgkJI2ZvcmVhY2ggKCR3YXJuaW5nIGluICR3YXJuaW5ncykNCgkJCSNlYWNoDQoJCQkJIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHdhcm5pbmcuTWVzc2FnZSkiDQoJCQkjYmV0d2Vlbg0KCQkJCSwNCgkJI2VuZA0KCV19DQojZW5k</file>
			<file name="ui.js">KGZ1bmN0aW9uIChqLCBnbG9iYWwpDQp7DQoJaWYgKHR5cGVvZiBqLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJCWoudGVsbGlnZW50ID0ge307DQoNCglpZiAodHlwZW9mIGoudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpDQoJCWoudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9Ow0KDQoJaWYgKHR5cGVvZiBqLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpDQoJCWoudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307DQoNCgl2YXIgbGVhdmVHcm91cCA9IGZ1bmN0aW9uIChjb250ZXh0KQ0KCXsNCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7DQoJCQl1cmw6IGoudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ncm91cHMvJyArIGNvbnRleHQuZ3JvdXBJZCArICcvbWVtYmVycy91c2Vycy8nICsgY29udGV4dC51c2VySWQgKyAnLmpzb24nLA0KCQkJZGF0YTogeyBVc2VySWQ6Y29udGV4dC51c2VySWQsIEdyb3VwSWQ6IGNvbnRleHQuZ3JvdXBJZCB9LA0KCQkJc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKQ0KCQkJew0KCQkJCWlmKGNvbnRleHQuaXNHcm91cFByaXZhdGUpDQoJCQkJCWdsb2JhbC5sb2NhdGlvbi5ocmVmPSQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKQ0KCQkJCWVsc2UNCgkJCQkJZ2xvYmFsLmxvY2F0aW9uLnJlbG9hZCgpOw0KCQkJfSwNCgkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuZXJyb3JUZXh0DQoJCX0pOw0KCX0sDQoJam9pbkdyb3VwID0gZnVuY3Rpb24gKGNvbnRleHQpDQoJew0KCQlqLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQoJCQl1cmw6IGoudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ncm91cHMvJyArIGNvbnRleHQuZ3JvdXBJZCArICcvbWVtYmVycy91c2Vycy5qc29uJywNCgkJCWRhdGE6IHsgVXNlcklkOiBjb250ZXh0LnVzZXJJZCwgR3JvdXBJZDogY29udGV4dC5ncm91cElkIH0sDQoJCQlzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpDQoJCQl7DQoJCQkJZ2xvYmFsLmxvY2F0aW9uLnJlbG9hZCgpOw0KCQkJfSwNCgkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuZXJyb3JUZXh0DQoJCX0pOw0KCX0sDQoJcmVxdWVzdEpvaW5Hcm91cCA9IGZ1bmN0aW9uIChjb250ZXh0KQ0KCXsNCgkJVGVsbGlnZW50X01vZGFsLk9wZW4oY29udGV4dC5yZXF1ZXN0Sm9pblVybCwgNTUwLCAzMDAsIGZ1bmN0aW9uKCkgeyBnbG9iYWwubG9jYXRpb24ucmVsb2FkKCk7IH0pOw0KCX0sDQoJdG9nZ2xlTWVtYmVyc2hpcCA9IGZ1bmN0aW9uIChjb250ZXh0KQ0KCXsNCgkJaWYgKGNvbnRleHQubWVtYmVyc2hpcFR5cGUgIT0gIk5vbmUiKQ0KCQkJbGVhdmVHcm91cChjb250ZXh0KTsNCgkJZWxzZSBpZiAoY29udGV4dC5jYW5Kb2luR3JvdXApDQoJCQlqb2luR3JvdXAoY29udGV4dCk7DQoJCWVsc2UNCgkJCXJlcXVlc3RKb2luR3JvdXAoY29udGV4dCk7DQoJfTsNCg0KCWoudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmdyb3VwQmFubmVyID0NCgl7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbiAoY29udGV4dCkgew0KCQkJaWYgKGNvbnRleHQuZm9yY2VSZXF1ZXN0TWVtYmVyc2hpcCkgew0KCQkJCWlmIChjb250ZXh0LmNhbkpvaW5Hcm91cCkgew0KCQkJCQlqb2luR3JvdXAoY29udGV4dCk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJcmVxdWVzdEpvaW5Hcm91cChjb250ZXh0KTsNCgkJCQl9DQoJCQl9DQoNCgkJCWlmIChjb250ZXh0Lmdyb3VwTWVtYmVyc2hpcEJ1dHRvbiAmJiBjb250ZXh0Lmdyb3VwTWVtYmVyc2hpcEJ1dHRvbi5sZW5ndGggPiAwKQ0KCQkJCWNvbnRleHQuZ3JvdXBNZW1iZXJzaGlwQnV0dG9uLmNsaWNrKGZ1bmN0aW9uIChlKSB7IHRvZ2dsZU1lbWJlcnNoaXAoY29udGV4dCk7IGUucHJldmVudERlZmF1bHQoKTsgfSk7DQoJCX0NCgl9Ow0KfSkoalF1ZXJ5LCB3aW5kb3cpOw==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupBreadCrumbs_Name}" version="7.5.0.32466" description="${resource:Groups_GroupBreadCrumbs_Description}" instanceIdentifier="c0c7ea8f22864aee9cf85f8bd1c3fba1" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="group-bread-crumbs">
		<contentScript>

#set($page = $core_v2_groupUrls.Current)

&lt;div class="breadcrumb-list-header"&gt;&lt;/div&gt;
&lt;div class="breadcrumb-list"&gt;
	&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Home())" class="internal-link view-home"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Home")&lt;/a&gt;&lt;/span&gt;
	#foreach($group in $core_v2_group.CurrentGroupPath)
	#each
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($group.Url)" class="internal-link view-group"&gt;&lt;span&gt;&lt;/span&gt;$group.Name&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($page == "Contact")
		#set($groupContactUrl = $core_v2_groupUrls.Contact($core_v2_group.Current.Id))
		#if ($groupContactUrl)
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($groupContactUrl)" class="internal-link contact-group"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Contact")&lt;/a&gt;&lt;/span&gt;
		#end
	#elseif ($page == "AccessDenied")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="#"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Hubs_AccessDenied_Title")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "MemberList")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		#if ($core_v2_page.GetQueryStringValue("UserID"))
			&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.MemberList($core_v2_group.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Role_Members")&lt;/a&gt;&lt;/span&gt;
			&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
			&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.EditMember($core_v2_group.Current.Id, $core_v2_utility.ParseInt($core_v2_page.GetQueryStringValue("UserID"))))"&gt;$core_v2_language.GetResource("Hubs_EditMember")&lt;/a&gt;&lt;/span&gt;
		#else
			&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.MemberList($core_v2_group.Current.Id))"&gt;$core_v2_language.GetResource("Role_Members")&lt;/a&gt;&lt;/span&gt;
		#end
	#elseif ($page == "ContactRequests")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.ContactRequests($core_v2_group.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Groups_BreadCrumbs_ContactRequests")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "ContactRequest")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.ContactRequests($core_v2_group.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Groups_BreadCrumbs_ContactRequests")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "MentionList")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.MentionList($core_v2_group.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Groups_BreadCrumbs_MentionList")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Tags")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.Tags($core_v2_group.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("TagBreadCrumb_Root")&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_tags.Current &amp;&amp; $core_v2_tags.Current.Count &gt; 0)
			#set($index = 0)
			#foreach($tag in $core_v2_tags.Current)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.Tags($core_v2_group.Current.Id, $core_v2_utility.Slice($core_v2_tags.Current, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$tag&lt;/a&gt;&lt;/span&gt;
			#end
		#end
	#elseif ($page == "AddGroup")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.Url)"&gt;$core_v2_language.GetResource("Group_CreateGroup")&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == "Custom")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.Custom($core_v2_group.Current.Id, $core_v2_customPage.Current.Name))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_widget.ApplyTokens($core_v2_customPage.Current.Title)&lt;/a&gt;&lt;/span&gt;
	#end
&lt;/div&gt;
&lt;div class="breadcrumb-list-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupBreadCrumbs_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupBreadCrumbs_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupBreadCrumbs_Name">Group - Breadcrumbs</resource><resource name="Groups_GroupBreadCrumbs_Description">Displays bread crumb links for group pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Home">Home</resource><resource name="BreadCrumb_Seperator"> &amp;raquo; </resource><resource name="Contact">Contact</resource><resource name="Hubs_AccessDenied_Title">Access Denied</resource><resource name="Role_Members">Members</resource><resource name="Hubs_EditMember">Edit Member</resource><resource name="Groups_BreadCrumbs_ContactRequests">Contact Requests</resource><resource name="Groups_BreadCrumbs_MentionList">Mentions</resource><resource name="TagBreadCrumb_Root">All Tags</resource><resource name="Group_CreateGroup">Create Group</resource></language></languageResources>
		<requiredContext>
			<context id="c75db121ca2f49458517ef31436d98a0" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupContact_Name}" version="7.5.0.32466" description="${resource:Groups_GroupContact_Description}" instanceIdentifier="fe031c8fd1fe4d5bbddbfd9014140fc8" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="group-contact">
		<contentScript>
#set ($group = $core_v2_group.Current)
#if (!$group || $group.GroupType == "Joinless" || !$group.EnableContact)
	$core_v2_widget.Hide()
#end

#set ($subjectId = $core_v2_widget.UniqueId('subject'))
#set ($nameId = $core_v2_widget.UniqueId('name'))
#set ($emailId = $core_v2_widget.UniqueId('email'))
#set ($messageId = $core_v2_widget.UniqueId('message'))
#set ($submitId = $core_v2_widget.UniqueId('submit'))
#set ($successId = $core_v2_widget.UniqueId('success'))

&lt;div style="display:none" id="$core_v2_encoding.HtmlAttributeEncode($successId)" class="message success"&gt;
	$core_v2_language.GetResource('Hubs_MessageSent')
&lt;/div&gt;
&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;legend class="field-list-description"&gt;&lt;/legend&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;label for="$core_v2_encoding.HtmlAttributeEncode($subjectId)" class="field-item-header"&gt;$core_v2_language.GetResource('Subject')&lt;/label&gt;
				&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Hubs_Contact_Subject_Desc')&lt;/span&gt;
				&lt;span class="field-item-input"&gt;&lt;input name="$core_v2_encoding.HtmlAttributeEncode($subjectId)" type="text" size="40" id="$core_v2_encoding.HtmlAttributeEncode($subjectId)"&gt;&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;label for="$core_v2_encoding.HtmlAttributeEncode($nameId)" class="field-item-header"&gt;$core_v2_language.GetResource('Name')&lt;/label&gt;
				&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Hubs_Contact_Name_Desc')&lt;/span&gt;
				&lt;span class="field-item-input"&gt;&lt;input name="$core_v2_encoding.HtmlAttributeEncode($nameId)" type="text" size="40" id="$core_v2_encoding.HtmlAttributeEncode($nameId)"&gt;&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;label for="$core_v2_encoding.HtmlAttributeEncode($emailId)" class="field-item-header"&gt;$core_v2_language.GetResource('Hubs_EmailAddress')&lt;/label&gt;
				&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Hubs_Contact_Email_Desc')&lt;/span&gt;
				&lt;span class="field-item-input"&gt;&lt;input name="$core_v2_encoding.HtmlAttributeEncode($emailId)" type="text" size="40" id="$core_v2_encoding.HtmlAttributeEncode($emailId)"&gt;&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;label for="$core_v2_encoding.HtmlAttributeEncode($messageId)" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_Body')&lt;/label&gt;
				&lt;span class="field-item-description"&gt;$core_v2_language.GetResource('Hubs_Contact_Message_Desc')&lt;/span&gt;
				&lt;span class="field-item-input"&gt;&lt;textarea name="$core_v2_encoding.HtmlAttributeEncode($messageId)" rows="10" cols="20" id="$core_v2_encoding.HtmlAttributeEncode($messageId)" style="width: 80%;"&gt;&lt;/textarea&gt;&lt;/span&gt;
				&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;
					&lt;input type="submit" name="$core_v2_encoding.HtmlAttributeEncode($submitId)" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Send'))" id="$core_v2_encoding.HtmlAttributeEncode($submitId)"&gt;
				&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.groupContact')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	#set($lastPageIndex = $core_v2_ui.GetLastPageIndex($conversationMessages.PageSize, $conversationMessages.TotalCount))
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.groupContact.register({
				wrapperId : '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
				subject: '#$core_v2_encoding.JavascriptEncode($subjectId)',
				name: '#$core_v2_encoding.JavascriptEncode($nameId)',
				email: '#$core_v2_encoding.JavascriptEncode($emailId)',
				message: '#$core_v2_encoding.JavascriptEncode($messageId)',
				submit: '#$core_v2_encoding.JavascriptEncode($submitId)',
				success: '#$core_v2_encoding.JavascriptEncode($successId)',
				groupId: $group.Id
			});
		});
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupContact_Name}'))
		</headerScript>
		<configuration>
 &lt;propertyGroup id="options" resourceName="Options"&gt;
	 &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupContact_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
 &lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupContact_Name">Group - Contact</resource><resource name="Groups_GroupContact_Description">Displays a form for a user to contact a group.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Hubs_MessageSent">Your message has been sent successfully.</resource><resource name="Subject">Subject</resource><resource name="Hubs_Contact_Subject_Desc">The subject of your message.</resource><resource name="Name">Name</resource><resource name="Hubs_Contact_Name_Desc">Your name, to be shared with group owners.</resource><resource name="Hubs_EmailAddress">Email Address</resource><resource name="Hubs_Contact_Email_Desc">Your email address, to be shared with group owners only.</resource><resource name="CreateEditPost_Body">Message</resource><resource name="Hubs_Contact_Message_Desc">The following message will be delivered to the owners of this group.</resource><resource name="Send">Send</resource><resource name="Core_GroupContact_Title_ContactGroup">Contact Group</resource></language></languageResources>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQpewoKCXZhciB2YWxpZGF0aW9uTWVzc2FnZSA9ICcqJywKCQljcmVhdGVDb250YWN0UmVxdWVzdCA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3QoewoJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvZ3JvdXBzL3tHcm91cElkfS9jb250YWN0cmVxdWVzdHMuanNvbicsCgkJCQlkYXRhOiB7CgkJCQkJR3JvdXBJZDogY29udGV4dC5ncm91cElkLAoJCQkJCVN1YmplY3Q6IGNvbnRleHQuc3ViamVjdC52YWwoKSwKCQkJCQlCb2R5OiBjb250ZXh0Lm1lc3NhZ2UudmFsKCksCgkJCQkJTmFtZTogY29udGV4dC5uYW1lLnZhbCgpLAoJCQkJCUVtYWlsQWRkcmVzczogY29udGV4dC5lbWFpbC52YWwoKQoJCQkJfSwKCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJLy8gc2hvdyBzdWNjZXNzIG1lc3NhZ2UKCQkJCQljb250ZXh0LnN1Y2Nlc3Muc2hvdygpOwoJCQkJCS8vIGVtcHR5IHRoZSBmb3JtCgkJCQkJY29udGV4dC5zdWJqZWN0LnZhbCgnJyk7CgkJCQkJY29udGV4dC5tZXNzYWdlLnZhbCgnJyk7CgkJCQkJY29udGV4dC5uYW1lLnZhbCgnJyk7CgkJCQkJY29udGV4dC5lbWFpbC52YWwoJycpOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWFwaSA9IHsKCQkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJCWNvbnRleHQuc3ViamVjdCA9ICQoY29udGV4dC5zdWJqZWN0KTsKCQkJCWNvbnRleHQubmFtZSA9ICQoY29udGV4dC5uYW1lKTsKCQkJCWNvbnRleHQuZW1haWwgPSAkKGNvbnRleHQuZW1haWwpOwoJCQkJY29udGV4dC5tZXNzYWdlID0gJChjb250ZXh0Lm1lc3NhZ2UpOwoJCQkJY29udGV4dC5zdWNjZXNzID0gJChjb250ZXh0LnN1Y2Nlc3MpOwoJCQkJY29udGV4dC5zdWJtaXQgPSAkKGNvbnRleHQuc3VibWl0KQoJCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKHsKCQkJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsgfSwKCQkJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCQkJCWNyZWF0ZUNvbnRhY3RSZXF1ZXN0KGNvbnRleHQpOwoJCQkJCQl9fSkKCQkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLAoJCQkJCQljb250ZXh0LnN1YmplY3QsIHsKCQkJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCQkJbWVzc2FnZXM6IHsKCQkJCQkJCQlyZXF1aXJlZDogdmFsaWRhdGlvbk1lc3NhZ2UKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJY29udGV4dC5zdWJqZWN0LmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKQoJCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsCgkJCQkJCWNvbnRleHQubmFtZSwgewoJCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCQltZXNzYWdlczogewoJCQkJCQkJCXJlcXVpcmVkOiB2YWxpZGF0aW9uTWVzc2FnZQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQljb250ZXh0Lm5hbWUuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpCgkJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywKCQkJCQkJY29udGV4dC5lbWFpbCwgewoJCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCQllbWFpbDogdHJ1ZSwKCQkJCQkJCW1lc3NhZ2VzOiB7CgkJCQkJCQkJcmVxdWlyZWQ6IHZhbGlkYXRpb25NZXNzYWdlLAoJCQkJCQkJCWVtYWlsOiB2YWxpZGF0aW9uTWVzc2FnZQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQljb250ZXh0LmVtYWlsLmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKQoJCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsCgkJCQkJCWNvbnRleHQubWVzc2FnZSwgewoJCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCQltZXNzYWdlczogewoJCQkJCQkJCXJlcXVpcmVkOiB2YWxpZGF0aW9uTWVzc2FnZQoJCQkJCQkJfQoJCQkJCQl9LAoJCQkJCQljb250ZXh0Lm1lc3NhZ2UuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpOwoJCQl9Cgl9OwoKCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuZ3JvdXBDb250YWN0ID0gYXBpOwoKfShqUXVlcnkpKTsK</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupContactRequestList_Name}" version="7.5.0.32466" description="${resource:Groups_GroupContactRequestList_Description}" instanceIdentifier="34d079e77aa44988878104f83a304485" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="group-contact-request-list">
		<contentScript>
#set($accessingUser = $core_v2_user.Accessing)
#set($group = $core_v2_group.Current)
#set($pageIndex = $core_v2_ui.GetCurrentPageIndex())
#set($canModifyGroupMembership = $core_v2_nodePermission.Get('groups', $group.Id, 'Group_ModifyMembership').IsAllowed)

#if(!$core_v2_user.IsRegistered($accessingUser.Id) || !$canModifyGroupMembership)
	$core_v2_widget.Hide()
#end

#set($contactRequests = $core_v2_groupContactRequest.List($group.Id, "%{ PageSize='10', PageIndex='${pageIndex}' }"))

&lt;div class="content-list-header"&gt;&lt;/div&gt;
&lt;div class="content-list-name"&gt;&lt;/div&gt;
&lt;div class="content-list-description"&gt;&lt;/div&gt;

#if(!$contactRequests || $contactRequests.TotalCount == 0)
	&lt;div class="message norecords"&gt;
		$core_v2_language.GetResource("Hubs_Contact_NoneExist")
	&lt;/div&gt;
#else
	#foreach($contactRequest in $contactRequests)
		#beforeall
		&lt;ul class="content-list"&gt;
		#each
			&lt;li class="content-item" data-request-id="${contactRequest.Id}"&gt;
				&lt;div class="abbreviated-post-header"&gt;&lt;/div&gt;
				&lt;div class="abbreviated-post"&gt;
					&lt;h4 class="post-name"&gt;
						&lt;a href="javascript:void(0);" class="internal-link view-post"
						onclick="Telligent_Modal.Open('$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.ContactRequest(${group.Id}, ${contactRequest.Id}))')"&gt;$contactRequest.Subject&lt;/a&gt;
					&lt;/h4&gt;
					&lt;div class="post-summary"&gt;$contactRequest.Body&lt;/div&gt;
					&lt;div class="post-author"&gt;
						&lt;span class="user-name"&gt;&lt;a href='mailto:$core_v2_encoding.HtmlAttributeEncode(${contactRequest.EmailAddress})' class="external-link send-email"&gt;$contactRequest.Name&lt;/a&gt;&lt;/span&gt;
					&lt;/div&gt;
					&lt;div class="post-date"&gt;
						&lt;span class="label"&gt;&lt;/span&gt;
						&lt;span class="value"&gt;$core_v2_language.FormatDate($contactRequest.DateCreated)&lt;/span&gt;
					&lt;/div&gt;
					&lt;div class="post-attributes"&gt;
						&lt;div class="attribute-list-header"&gt;&lt;/div&gt;
						&lt;ul class="attribute-list"&gt;
							#if($contactRequest.IsModerated)
								&lt;li class="attribute-item post-moderated-true"&gt;
									&lt;span class="attribute-name"&gt;&lt;/span&gt;
									&lt;span class="attribute-value"&gt;$core_v2_language.GetResource("Groups_ContactRequests_PossibleSpamNotEmailed")&lt;/span&gt;
								&lt;/li&gt;
							#else
								&lt;li class="attribute-item post-moderated-false"&gt;
									&lt;span class="attribute-name"&gt;&lt;/span&gt;
									&lt;span class="attribute-value"&gt;$core_v2_language.GetResource("Groups_ContactRequests_MessageEmailed")&lt;/span&gt;
								&lt;/li&gt;
							#end
						&lt;/ul&gt;
						&lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
					&lt;/div&gt;
					&lt;div class="post-actions"&gt;
						&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
						&lt;ul class="navigation-list"&gt;
							&lt;li class="navigation-item"&gt;
								&lt;a href="javascript:void(0);" class="internal-link deny-contact-request"&gt;
									&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Delete")
								&lt;/a&gt;
							&lt;/li&gt;
							#if ($contactRequest.IsModerated)
							&lt;li class="navigation-item"&gt;
								&lt;a href="javascript:void(0);" class="internal-link approve-contact-request"&gt;
									&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Approve")
								&lt;/a&gt;
							&lt;/li&gt;
							#end
						&lt;/ul&gt;
						&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
					&lt;/div&gt;
				&lt;/div&gt;
				&lt;div class="abbreviated-post-footer"&gt;&lt;/div&gt;
			&lt;/li&gt;
		#afterall
		&lt;/ul&gt;
	#end
#end
&lt;div class="content-list-footer"&gt;&lt;/div&gt;

$core_v2_ui.Pager($contactRequests.PageIndex, $contactRequests.PageSize, $contactRequests.TotalCount)

#registerEndOfPageHtml('telligent.evolution.widgets.groupContactRequestList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function() {
			jQuery.telligent.evolution.widgets.groupContactRequestList.register({
				wrapperSelector : '#${core_v2_widget.WrapperElementId}',
				userId:'${accessingUser.Id}',
				deleteConfirmationText: '$core_v2_encoding.JavaScriptEncode($core_v2_language.GetResource("Hubs_Contact_CancelConfirm"))',
				deleteContactUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('delete-request.vm'))",
				approveContactUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('approve-request.vm'))",
				groupId: $group.Id
			});
		});
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupContactRequestList_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupContactRequestList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupContactRequestList_Name">Group - Contact Request List</resource><resource name="Groups_GroupContactRequestList_Description">Displays a list of contact requests.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Hubs_Contact_NoneExist">No contact requests have been created.</resource><resource name="Groups_ContactRequests_PossibleSpamNotEmailed">Possible Spam - Not Emailed</resource><resource name="Groups_ContactRequests_MessageEmailed">Message Emailed</resource><resource name="Delete">Delete</resource><resource name="Approve">Approve</resource><resource name="Hubs_Contact_CancelConfirm">Are you sure you want to delete this contact request?</resource><resource name="Core_GroupContactRequestList_Title_ContactRequests">Contact Requests</resource></language></languageResources>
		<requiredContext>
			<context id="5ec5866ac72c47c4b8f12f9af40e5c35" />
		</requiredContext>
		<files>
			<file name="approve-request.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkjc2V0KCRjb250YWN0UmVxdWVzdElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnQ29udGFjdFJlcXVlc3RJZCcpKSkNCgkjc2V0KCRncm91cElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnR3JvdXBJZCcpKSkNCgkjc2V0KCRyZXN1bHQgPSAkY29yZV92Ml9ncm91cENvbnRhY3RSZXF1ZXN0LkFwcHJvdmUoJGdyb3VwSWQsICRjb250YWN0UmVxdWVzdElkKSkNCg0KCSNpZigkcmVzdWx0LkVycm9ycy5Db3VudCA+IDApDQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkcmVzdWx0LkVycm9ycykNCgkjZWxzZQ0KCQl7InN1Y2Nlc3MiOiAidHJ1ZSJ9DQoJI2VuZA0KI2VuZA==</file>
			<file name="delete-request.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkjc2V0KCRjb250YWN0UmVxdWVzdElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnQ29udGFjdFJlcXVlc3RJZCcpKSkNCgkjc2V0KCRncm91cElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnR3JvdXBJZCcpKSkNCgkjc2V0KCRyZXN1bHQgPSAkY29yZV92Ml9ncm91cENvbnRhY3RSZXF1ZXN0LkRlbGV0ZSgkZ3JvdXBJZCwgJGNvbnRhY3RSZXF1ZXN0SWQpKQ0KDQoJI2lmICgkcmVzdWx0LkVycm9ycy5Db3VudCA+IDApDQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkcmVzdWx0LkVycm9ycykNCgkjZWxzZQ0KCQl7InN1Y2Nlc3MiOiAidHJ1ZSJ9DQoJI2VuZA0KI2VuZA==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpCnsKCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7JC50ZWxsaWdlbnQgPSB7fTt9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHskLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTt9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307fQoKCXZhciBhcHByb3ZlQ29udGFjdFJlcXVlc3QgPSBmdW5jdGlvbihjb250ZXh0LCBjb250YWN0UmVxdWVzdElkKQoJewoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wdXQoewoJCQl1cmw6IGNvbnRleHQuYXBwcm92ZUNvbnRhY3RVcmwsCgkJCWRhdGE6IHsgR3JvdXBJZDogY29udGV4dC5ncm91cElkLCBDb250YWN0UmVxdWVzdElkOiBjb250YWN0UmVxdWVzdElkIH0sCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQoJCQl7CgkJCQlyZWxvYWRQYWdlKCk7CgkJCX0KCQl9KTsKCX0sCglkZWxldGVDb250YWN0UmVxdWVzdCA9IGZ1bmN0aW9uKGNvbnRleHQsIGNvbnRhY3RSZXF1ZXN0SWQpCgl7CgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7CgkJCXVybDogY29udGV4dC5kZWxldGVDb250YWN0VXJsLAoJCQlkYXRhOiB7IEdyb3VwSWQ6IGNvbnRleHQuZ3JvdXBJZCwgQ29udGFjdFJlcXVlc3RJZDogY29udGFjdFJlcXVlc3RJZCB9LAoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkKCQkJewoJCQkJcmVsb2FkUGFnZSgpOwoJCQl9CgkJfSk7Cgl9LAoJcmVsb2FkUGFnZSA9IGZ1bmN0aW9uKCkKCXsKCQl3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247Cgl9OwoKCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmdyb3VwQ29udGFjdFJlcXVlc3RMaXN0ID0KCXsKCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkKCQl7CgkJCSQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpLmZpbmQoJy5pbnRlcm5hbC1saW5rLmRlbnktY29udGFjdC1yZXF1ZXN0JykuY2xpY2soCgkJCWZ1bmN0aW9uKCkKCQkJewoJCQkJaWYgKGNvbmZpcm0oY29udGV4dC5kZWxldGVDb25maXJtYXRpb25UZXh0KSkKCQkJCXsKCQkJCQl2YXIgcCA9ICQodGhpcykucGFyZW50cygnLmNvbnRlbnQtaXRlbScpOwoJCQkJCWlmIChwLmxlbmd0aCA+IDApCgkJCQkJewoJCQkJCQl2YXIgaWQgPSBwLmF0dHIoJ2RhdGEtcmVxdWVzdC1pZCcpOwoJCQkJCQlkZWxldGVDb250YWN0UmVxdWVzdChjb250ZXh0LCBpZCk7CgkJCQkJfQoJCQkJfQoKCQkJCXJldHVybiBmYWxzZTsKCQkJfSk7CgoJCQkkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKS5maW5kKCcuaW50ZXJuYWwtbGluay5hcHByb3ZlLWNvbnRhY3QtcmVxdWVzdCcpLmNsaWNrKAoJCQlmdW5jdGlvbigpCgkJCXsKCQkJCXZhciBwID0gJCh0aGlzKS5wYXJlbnRzKCcuY29udGVudC1pdGVtJyk7CgkJCQlpZiAocC5sZW5ndGggPiAwKQoJCQkJewoJCQkJCXZhciBpZCA9IHAuYXR0cignZGF0YS1yZXF1ZXN0LWlkJyk7CgkJCQkJYXBwcm92ZUNvbnRhY3RSZXF1ZXN0KGNvbnRleHQsIGlkKTsKCQkJCX0KCgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoJCX0KCX07Cn0oalF1ZXJ5KSk7Cg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupLinks_Name}" version="7.5.0.32466" description="${resource:Groups_GroupLinks_Description}" instanceIdentifier="0a17667640f8484eaaf66935ecb6ff44" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="group-links">
		<contentScript>

#set ($links = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('links','Link=groupCreateGroup&amp;amp;Link=groupContactOwners&amp;amp;Link=groupInviteUser&amp;amp;Link=groupJoin&amp;amp;Link=groupFavorite&amp;amp;Link=groupEdit&amp;amp;Link=groupEditTheme&amp;amp;Link=groupManageCustomPages&amp;amp;Link=groupManageMembers&amp;amp;Link=groupContactRequests')))
#set ($hasLinks = false)
#set ($group = $core_v2_group.Current)
#set ($user = $core_v2_user.Accessing)
#set ($canModifyMembership = $core_v2_nodePermission.Get("groups", $group.Id, "Group_ModifyMembership").IsAllowed)

&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#foreach($link in $links.Values('Link'))
		#set ($url = false)

		#if ($link == 'groupCreateGroup')
			#if ($group)
				#set ($url = $core_v2_groupUrls.AddGroup($group.Id))
				#if ($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link create-group"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Groups_Links_CreateNewGroup')&lt;/a&gt;&lt;/li&gt;
					#set ($hasLinks = true)
				#end
			#end
		#elseif ($link == 'groupContactOwners')
			#if ($group)
				#set ($url = $core_v2_groupUrls.Contact($group.Id))
				#if ($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-contact"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_ContactGroupOwners')&lt;/a&gt;&lt;/li&gt;
					#set ($hasLinks = true)
				#end
			#end
		#elseif ($link == 'groupInviteUser')
			#if ($group &amp;&amp; $canModifyMembership)
				#set ($url = $core_v2_groupUrls.MemberList($group.Id))
				#if ($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AdjustTarget($url,'invite'))" class="internal-link view-invite"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Groups_Links_InviteAUser')&lt;/a&gt;&lt;/li&gt;
					#set ($hasLinks = true)
				#end
			#end
		#elseif ($link == 'groupJoin')
			#if ($group &amp;&amp; $group.GroupType != 'Joinless')

				#set ($membershipType = $core_v2_groupUserMember.Get($group.Id, "%{ UserId = $user.Id }").MembershipType)
				#set ($canJoinGroup = $core_v2_nodePermission.Get("groups", $group.Id, "Group_JoinGroup").IsAllowed)
				#set ($canJoinGroupByRequest = $core_v2_nodePermission.Get("groups", $group.Id, "Group_JoinGroupByRequest").IsAllowed)

				#registerEndOfPageHtml('telligent.evolution.widgets.GroupLinks')
					&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
				#end
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
						jQuery(function(j){
							j.telligent.evolution.widgets.groupLinks.register({
								joinButton: j("#$core_v2_widget.UniqueId('RequestButton')"),
								requestJoinButton: j("#$core_v2_widget.UniqueId('RequestJoinButton')"),
								requestJoinUrl: #if(!$canJoinGroup) "$core_v2_groupUrls.RequestMembership($group.Id)",#else null,#end
								canJoinGroup: #if($canJoinGroup) true,#else false,#end
								canJoinGroupByRequest: #if($canJoinGroupByRequest) true,#else false,#end
								cancelLink: j("#$core_v2_widget.UniqueId('CancelMembership')"),
								groupId: $core_v2_group.Current.Id,
								userId: $core_v2_user.Accessing.Id,
								cancelConfirmMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Hubs_Membership_LeaveConfirm"))',
								joinUrl: '$core_v2_page.AbsoluteUrl("~/api.ashx/v2/groups/{GroupId}/members/users.json")',
								cancelUrl: '$core_v2_page.AbsoluteUrl("~/api.ashx/v2/groups/{GroupId}/members/users/{UserId}.json")'
							});
						});
					&lt;/script&gt;
				#end

				#if ($membershipType == "Owner" || $membershipType == "Manager" || $membershipType == "Member" || $membershipType == "PendingMember")
					#set ($canLeaveGroup = $membershipType != "Owner" || $core_v2_groupUserMember.List($groupId, "%{MembershipType = 'Owner', PageSize = 1}").TotalCount &gt; 1)
					#if ($canLeaveGroup)
						&lt;li class="navigation-item leave-group"&gt;
							&lt;a href="#" class="internal-link leave-group" id="$core_v2_widget.UniqueId('CancelMembership')"&gt;
								&lt;span&gt;&lt;/span&gt;
								#if ($membershipType == "Member")
									$core_v2_language.GetResource("Hubs_LeaveGroup")
								#elseif ($membershipType == "PendingMember")
									$core_v2_language.GetResource("Hubs_CancelJoinRequest")
								#end
							&lt;/a&gt;
						&lt;/li&gt;
						#set($hasLinks = true)
					#end
				#elseif ($canJoinGroupByRequest || $canJoinGroup)
					#if ($group.GroupType == "PublicOpen")
						&lt;li class="navigation-item join-group"&gt;
							&lt;a href="#" class="internal-link join-group" id="$core_v2_widget.UniqueId('RequestButton')"&gt;
								&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_JoinGroup')
							&lt;/a&gt;
						&lt;/li&gt;
						#set($hasLinks = true)
					#elseif ($group.GroupType == "PublicClosed")
						&lt;li class="navigation-item"&gt;
							&lt;a href="#" class="internal-link join-group" id="$core_v2_widget.UniqueId('RequestJoinButton')"&gt;
								&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_ApplyToJoin')
							&lt;/a&gt;
						&lt;/li&gt;
						#set($hasLinks = true)
					#end
				#end

			#end
		#elseif ($link == 'groupEdit')
			#if ($group)
				#set ($url = $core_v2_groupUrls.Edit($group.Id))
				#if ($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-group"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_EditHub')&lt;/a&gt;&lt;/li&gt;
					#set ($hasLinks = true)
				#end
			#end
		#elseif ($link == 'groupEditTheme')
			#if ($group)
				#set ($url = $core_v2_groupUrls.EditTheme($group.Id))
				#if ($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-theme"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Groups_Links_EditThisTheme')&lt;/a&gt;&lt;/li&gt;
					#set ($hasLinks = true)
				#end
			#end
		#elseif ($link == 'groupManageCustomPages')
			#if ($group)
				#set ($url = $core_v2_groupUrls.ManageCustomPages($group.Id))
				#if ($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link manage-pages"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Groups_Links_ManageCustomPages')&lt;/a&gt;&lt;/li&gt;
					#set ($hasLinks = true)
				#end
			#end
		#elseif ($link == 'groupMentions')
			#if ($group)
				#set ($url = $core_v2_groupUrls.MentionList($group.Id))
				#if ($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link group-mention-list"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Groups_Links_MentionList')&lt;/a&gt;&lt;/li&gt;
					#set ($hasLinks = true)
				#end
			#end
		#elseif ($link == 'groupManageMembers')
			#if ($group &amp;&amp; $canModifyMembership)
				#set ($url = $core_v2_groupUrls.ManageMembers($group.Id))
				#if ($url)
					#set ($pendingMemberCount = $core_v2_groupUserMember.List($group.Id, "%{ MembershipType = 'PendingMember', PageSize = 1, PageIndex = 0 }").TotalCount)
					&lt;li class="navigation-item"&gt;
						#if ($pendingMemberCount &gt; 0)
							#set ($url = $core_v2_page.AdjustQueryString($url, 'Show=Pending&amp;PageIndex=1'))
							#set ($linkText = $core_v2_language.FormatString($core_v2_language.GetResource('CF_ManageMembers_Pending'), $pendingMemberCount.ToString()))
							&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-group-membership pending"&gt;&lt;span&gt;&lt;/span&gt;$linkText&lt;/a&gt;
						#else
							&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-group-membership"&gt;&lt;span&gt;&lt;/span&gt;
								#if ($group.GroupType == 'Joinless')
									$core_v2_language.GetResource('CF_ManageGroupOwners')
								#else
									$core_v2_language.GetResource('CF_ManageMembers')
								#end
							&lt;/a&gt;
						#end
					&lt;/li&gt;
					#set ($hasLinks = true)
				#end
			#end
		#elseif ($link == 'groupContactRequests')
			#if ($group &amp;&amp; $canModifyMembership)
				#set ($url = $core_v2_groupUrls.ContactRequests($group.Id))
				#if ($url)
					#set ($contactRequestCount = $core_v2_groupContactRequest.List($core_v2_group.Current.Id).TotalCount)
					&lt;li class="navigation-item"&gt;
						#if ($contactRequestCount &gt; 0)
							#set ($linkText = $core_v2_language.FormatString($core_v2_language.GetResource('Hubs_ContactRequest_Unread'), $contactRequestCount.ToString()))
							&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-contact-requests unread"&gt;&lt;span&gt;&lt;/span&gt;$linkText&lt;/a&gt;
						#else
							&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-contact-requests"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Hubs_ContactRequest')&lt;/a&gt;
						#end
					&lt;/li&gt;
					#set ($hasLinks = true)
				#end
			#end
		#elseif ($link == 'groupFavorite')
			#if ($group &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_group.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($group.ContentId, $core_v2_group.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($group.ContentId, $core_v2_group.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($group.ContentId, $core_v2_group.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif ($link == 'groupReviewAppeals')
    		#if ($group)
    			#set ($url = $core_v2_urls.AppealQueue("%{ ContainerId = $group.ContainerId }"))
    			#if ($url)
    				&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link group-review-appeal-list"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Groups_Links_ReviewAppeals')&lt;/a&gt;&lt;/li&gt;
    				#set ($hasLinks = true)
    			#end
    		#end
		#end
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;

#if (!$hasLinks)
	$core_v2_widget.Hide()
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupLinks_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="linkArea" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupLinks_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="links" resourceName="Wikis_WikiLinks_Links" dataType="custom" defaultValue="Link=groupCreateGroup&amp;amp;Link=groupContactOwners&amp;amp;Link=groupInviteUser&amp;amp;Link=groupJoin&amp;amp;Link=groupFavorite&amp;amp;Link=groupEdit&amp;amp;Link=groupEditTheme&amp;amp;Link=groupManageCustomPages&amp;amp;Link=groupManageMembers&amp;amp;Link=groupContactRequests&amp;amp;Link=groupReviewAppeals" controlType="Telligent.Evolution.Controls.SortableListControl, Telligent.Evolution.Controls" height="300" key="Link" &gt;
		&lt;propertyValue value="groupCreateGroup" resourceName="Groups_Links_CreateNewGroup" /&gt;
		&lt;propertyValue value="groupContactOwners" resourceName="Hubs_ContactGroupOwners" /&gt;
		&lt;propertyValue value="groupInviteUser" resourceName="CF_InviteUser_ShowLink" /&gt;
		&lt;propertyValue value="groupJoin" resourceName="CF_JoinGroup_ShowLink" /&gt;
		&lt;propertyValue value="groupFavorite" resourceName="CF_FavoriteGroup_ShowLink" /&gt;
		&lt;propertyValue value="groupEdit" resourceName="CF_EditGroup_ShowLink" /&gt;
		&lt;propertyValue value="groupEditTheme" resourceName="CF_EditTheme_ShowLink" /&gt;
		&lt;propertyValue value="groupManageCustomPages" resourceName="CF_ManageCustomPages_ShowLink" /&gt;
		&lt;propertyValue value="groupManageMembers" resourceName="CF_ManageMembers_ShowLink" /&gt;
		&lt;propertyValue value="groupContactRequests" resourceName="CF_ContactRequests_ShowLink" /&gt;
		&lt;propertyValue value="groupMentions" resourceName="Groups_Links_MentionList" /&gt;
		&lt;propertyValue value="groupReviewAppeals" resourceName="Groups_Links_ReviewAppeals" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupLinks_Name">Group - Links</resource><resource name="Groups_GroupLinks_Description">Common action links related to any group such as membership and administration.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Wikis_WikiLinks_Links">Select, rearrange, and enable the links to be displayed</resource><resource name="Groups_Links_CreateNewGroup">Create new group</resource><resource name="Hubs_ContactGroupOwners">Contact group owners</resource><resource name="CF_InviteUser_ShowLink">Show 'invite people' link</resource><resource name="CF_JoinGroup_ShowLink">Show 'join group' link</resource><resource name="CF_FavoriteGroup_ShowLink">Show 'bookmark group' link</resource><resource name="CF_EditGroup_ShowLink">Show 'edit group' link</resource><resource name="CF_EditTheme_ShowLink">Show 'edit theme' link</resource><resource name="CF_ManageCustomPages_ShowLink">Show 'manage pages' link</resource><resource name="CF_ManageMembers_ShowLink">Show 'manage members' link</resource><resource name="CF_ContactRequests_ShowLink">Show 'Manage messages to group admins' link</resource><resource name="Groups_Links_InviteAUser">Invite people</resource><resource name="Hubs_Membership_LeaveConfirm">Are you sure you want to leave this group?</resource><resource name="Hubs_LeaveGroup">Leave group</resource><resource name="Hubs_CancelJoinRequest">Cancel join request</resource><resource name="Hubs_JoinGroup">Join group</resource><resource name="Hubs_ApplyToJoin">Request membership</resource><resource name="Hubs_EditHub">Group settings</resource><resource name="Groups_Links_EditThisTheme">Edit group theme</resource><resource name="Groups_Links_ManageCustomPages">Manage pages</resource><resource name="CF_ManageMembers_Pending">Manage members ({0})</resource><resource name="CF_ManageGroupOwners">Manage group owners</resource><resource name="CF_ManageMembers">Manage members</resource><resource name="Hubs_ContactRequest_Unread">Messages ({0})</resource><resource name="Hubs_ContactRequest">Messages</resource><resource name="Core_GroupLinks_Title_GroupAdministration">Group administration</resource><resource name="Core_GroupLinks_Title_Options">Options</resource><resource name="Groups_Links_MentionList">Mentions</resource><resource name="Groups_Links_ReviewAppeals">Review appeals</resource></language></languageResources>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKGosIGdsb2JhbCl7CgoJaWYgKHR5cGVvZiBqLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpCgkJai50ZWxsaWdlbnQgPSB7fTsKCglpZiAodHlwZW9mIGoudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307CgoJaWYgKHR5cGVvZiBqLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsKCglqLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5ncm91cExpbmtzID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbihvcHRpb25zKSB7CgkJCXZhciBqb2luT3B0aW9ucyA9IHsKCQkJCXVybDogb3B0aW9ucy5qb2luVXJsLAoJCQkJZGF0YToge0dyb3VwSWQ6b3B0aW9ucy5ncm91cElkLCBVc2VySWQ6b3B0aW9ucy51c2VySWR9LAoJCQkJc3VjY2VzczogZnVuY3Rpb24oKSB7IGdsb2JhbC5sb2NhdGlvbi5yZWxvYWQoKTsgfQoJCQl9OwoKCQkJLy8gYWN0aXZhdGUgZ3JvdXAgam9pbmluZyBidXR0b25zCgkJCW9wdGlvbnMuam9pbkJ1dHRvbi5jbGljayhmdW5jdGlvbigpewoJCQkJam9pbk9wdGlvbnMuZGF0YS5Hcm91cE1lbWJlcnNoaXBUeXBlID0gJ01lbWJlcic7CgkJCQlqLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdChqb2luT3B0aW9ucyk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoJCQlvcHRpb25zLnJlcXVlc3RKb2luQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKGUpewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJaWYgKG9wdGlvbnMuY2FuSm9pbkdyb3VwKSB7CgkJCQkJam9pbk9wdGlvbnMuZGF0YS5Hcm91cE1lbWJlcnNoaXBUeXBlID0gJ1BlbmRpbmdNZW1iZXInOwoJCQkJCWoudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KGpvaW5PcHRpb25zKTsKCQkJCX0gZWxzZSB7CgkJCQkJVGVsbGlnZW50X01vZGFsLk9wZW4ob3B0aW9ucy5yZXF1ZXN0Sm9pblVybCwgNTUwLCAzMDAsIGZ1bmN0aW9uKCkgeyBnbG9iYWwubG9jYXRpb24ucmVsb2FkKCk7IH0pOwoJCQkJfQoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCgkJCS8vIGFjdGl2YXRlIG1lbWJlcnNoaXAgY2FuY2VsbGF0aW9uIGxpbmtzCgkJCW9wdGlvbnMuY2FuY2VsTGluay5jbGljayhmdW5jdGlvbigpewoJCQkJaWYoY29uZmlybShvcHRpb25zLmNhbmNlbENvbmZpcm1NZXNzYWdlKSkgewoJCQkJCWoudGVsbGlnZW50LmV2b2x1dGlvbi5kZWwoewoJCQkJCQl1cmw6IG9wdGlvbnMuY2FuY2VsVXJsLAoJCQkJCQlkYXRhOiB7R3JvdXBJZDpvcHRpb25zLmdyb3VwSWQsIFVzZXJJZDpvcHRpb25zLnVzZXJJZH0sCgkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKCl7IGdsb2JhbC5sb2NhdGlvbi5yZWxvYWQoKTsgfQoJCQkJCX0pOwoJCQkJfQoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCQl9Cgl9OwoKfSkoalF1ZXJ5LCB3aW5kb3cpOwo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupList_Name}" version="7.5.0.32466" description="${resource:Groups_GroupList_Description}" instanceIdentifier="b89c5ca74a5d4904a06695ace5917fac" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="group-list">
		<contentScript>
$core_v2_ui.PagedContent('pagedContent.vm')
$core_v2_ui.Pager($groups.PageIndex, $groups.PageSize, $groups.TotalCount, "%{ PagedContentFile = 'pagedContent.vm' }")
            </contentScript>
		<headerScript>
#set($header=$core_v2_widget.GetStringValue('fragmentHeader', ''))
#if($header == '')
    #if($core_v2_urls.Current == 'Home')
        $core_v2_widget.SetStringValue('fragmentHeader','${resource:Groups_GroupList_Name_ForAccessingUser}')
    #elseif($core_v2_user.Current)
        $core_v2_widget.SetStringValue('fragmentHeader',$core_v2_language.FormatString($core_v2_language.GetResource('Groups_GroupList_Name_ForContextualUser'), $core_v2_user.Current.DisplayName))
    #else
        $core_v2_widget.SetStringValue('fragmentHeader','${resource:Groups_GroupList_Name}')
    #end
    #set($header=$core_v2_widget.GetStringValue('fragmentHeader', ''))
#end
$core_v2_widget.ApplyTokens($header)
            </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
    &lt;property id="queryType" resourceName="CF_GroupList_QueryType" dataType="string" defaultValue=""&gt;
        &lt;propertyValue value="subGroups" resourceName="CF_GroupList_QueryType_SubGroups" /&gt;
        &lt;propertyValue value="currentUser" resourceName="CF_GroupList_QueryType_CurrentUser" /&gt;
        &lt;propertyValue value="accessingUser" resourceName="CF_GroupList_QueryType_AccessingUser" /&gt;
    &lt;/property&gt;
    &lt;property id="viewType" resourceName="Groups_GroupList_ViewType" dataType="string" defaultValue="standard"&gt;
        &lt;propertyValue value="standard" resourceName="Groups_GroupList_StandardView" /&gt;
        &lt;propertyValue value="simpleExtended" resourceName="Groups_GroupList_SimpleExtendedView" /&gt;
        &lt;propertyValue value="simple" resourceName="Groups_GroupList_SimpleView" /&gt;
    &lt;/property&gt;
    &lt;property id="sortBy" resourceName="CF_SortBy" dataType="string" defaultValue="treeview"&gt;
        &lt;propertyValue value="treeview" resourceName="CF_GroupList_QueryType_SortBy_Treeview" /&gt;
        &lt;propertyValue value="alphabetical" resourceName="CF_GroupList_QueryType_SortBy_Alphabetical" /&gt;
        &lt;propertyValue value="lastupdate" resourceName="CF_GroupList_QueryType_SortBy_LastUpdate" /&gt;
    &lt;/property&gt;
    &lt;property id="sortOrder" resourceName="CF_SortOrder" dataType="string" defaultValue="ascending"&gt;
        &lt;propertyValue value="ascending" resourceName="SortOrderDropDownList_Asc" /&gt;
        &lt;propertyValue value="descending" resourceName="SortOrderDropDownList_Desc" /&gt;
    &lt;/property&gt;
    &lt;property id="pageSize" resourceName="Pagesize" dataType="int" defaultValue="10"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
    &lt;/property&gt;
    &lt;property id="showActivity" resourceName="CF_ShowActivity" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
        </configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupList_Name">Group - List</resource><resource name="Groups_GroupList_Description">Displays a list of groups.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_GroupList_QueryType">Show</resource><resource name="CF_GroupList_QueryType_SubGroups">Current contextual group's sub-groups</resource><resource name="CF_GroupList_QueryType_CurrentUser">Current contextual user's groups</resource><resource name="CF_GroupList_QueryType_AccessingUser">Accessing user's groups</resource><resource name="Groups_GroupList_ViewType">View Type</resource><resource name="Groups_GroupList_StandardView">Detailed List</resource><resource name="Groups_GroupList_SimpleExtendedView">Simple Extended List</resource><resource name="Groups_GroupList_SimpleView">Simple List</resource><resource name="CF_SortBy">Sort By</resource><resource name="CF_GroupList_QueryType_SortBy_Treeview">Group hierarchy</resource><resource name="CF_GroupList_QueryType_SortBy_Alphabetical">Alphabetical</resource><resource name="CF_GroupList_QueryType_SortBy_LastUpdate">Last Updated Date</resource><resource name="CF_SortOrder">Sort Order</resource><resource name="SortOrderDropDownList_Asc">Ascending</resource><resource name="SortOrderDropDownList_Desc">Descending</resource><resource name="Pagesize">Number of items to display</resource><resource name="CF_ShowActivity">Show Latest Activity Message</resource><resource name="Groups_GroupList_Name_ForAccessingUser">My Groups</resource><resource name="Groups_GroupList_Name_ForContextualUser">{0}'s Group Membership</resource><resource name="on">on</resource><resource name="Groups_PublicGroup">Public&lt;br/&gt;Group</resource><resource name="Groups_PrivateGroup">Private&lt;br/&gt;Group</resource><resource name="Core_GroupList_Title_Groups">Groups</resource><resource name="Core_GroupList_Title_MyGroups">My Groups</resource><resource name="Core_GroupList_Title_Subgroups">Sub-Groups</resource><resource name="Groups_GroupList_NoGroups">No groups</resource></language></languageResources>
		<files>
			<file name="pagedContent.vm">I3NldCgkcXVlcnlUeXBlID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdxdWVyeVR5cGUnLCcnKSkKI3NldCgkc29ydEJ5ID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdzb3J0QnknLCd0cmVldmlldycpKQojc2V0KCRzb3J0T3JkZXIgPSAkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoJ3NvcnRPcmRlcicsJ2FzY2VuZGluZycpKQojc2V0KCRwYWdlU2l6ZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRJbnRWYWx1ZSgncGFnZVNpemUnLDEwKSkKI3NldCgkdmlld1R5cGUgPSAkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoJ3ZpZXdUeXBlJywnc3RhbmRhcmQnKSkKI3NldCgkcGFnZUluZGV4ID0gJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQojaWYgKCRxdWVyeVR5cGUgPT0gJycpCgkjaWYoJGNvcmVfdjJfdXJscy5DdXJyZW50ID09ICdIb21lJykKCQkkY29yZV92Ml93aWRnZXQuU2V0U3RyaW5nVmFsdWUoJ3F1ZXJ5VHlwZScsJ2FjY2Vzc2luZ1VzZXInKQoJI2Vsc2VpZigkY29yZV92Ml91c2VyLkN1cnJlbnQpCgkJJGNvcmVfdjJfd2lkZ2V0LlNldFN0cmluZ1ZhbHVlKCdxdWVyeVR5cGUnLCdjdXJyZW50VXNlcicpCgkjZWxzZQoJCSRjb3JlX3YyX3dpZGdldC5TZXRTdHJpbmdWYWx1ZSgncXVlcnlUeXBlJywnc3ViR3JvdXBzJykKCSNlbmQKCSNzZXQoJHF1ZXJ5VHlwZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgncXVlcnlUeXBlJywnJykpCiNlbmQKI2lmICgkc29ydE9yZGVyID09ICdkZXNjZW5kaW5nJykKCSNzZXQoJHNvcnRPcmRlciA9ICdEZXNjZW5kaW5nJykKI2Vsc2UKCSNzZXQoJHNvcnRPcmRlciA9ICdBc2NlbmRpbmcnKQojZW5kCiNpZiAoJHNvcnRCeSA9PSAnYWxwaGFiZXRpY2FsJykKCSNzZXQoJHNvcnRCeSA9ICdOYW1lJykKI2Vsc2VpZiAoJHNvcnRCeSA9PSAnbGFzdHVwZGF0ZScpCgkjc2V0KCRzb3J0QnkgPSAnTGFzdFVwZGF0ZScpCiNlbHNlCgkjc2V0KCRzb3J0QnkgPSAnU29ydE9yZGVyJykKI2VuZAojaWYoJHF1ZXJ5VHlwZT09J3N1Ykdyb3VwcycpCgkjc2V0KCRncm91cHMgPSAkY29yZV92Ml9ncm91cC5MaXN0KCIle1BhcmVudEdyb3VwSWQ9JGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCxQYWdlU2l6ZT0kcGFnZVNpemUsUGFnZUluZGV4PSRwYWdlSW5kZXgsU29ydEJ5PSckc29ydEJ5JyxTb3J0T3JkZXI9JyRzb3J0T3JkZXInLEdyb3VwVHlwZXM9J2FsbCd9IikpCiNlbHNlaWYoJHF1ZXJ5VHlwZT09J2N1cnJlbnRVc2VyJykKCSNpZighJGNvcmVfdjJfdXNlci5DdXJyZW50KQoJCSRjb3JlX3YyX3dpZGdldC5IaWRlKCkKCSNlbHNlCgkJI3NldCgkZ3JvdXBzID0gJGNvcmVfdjJfZ3JvdXAuTGlzdCgiJXtVc2VySWQ9JGNvcmVfdjJfdXNlci5DdXJyZW50LklkLFBhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleCxTb3J0Qnk9JyRzb3J0QnknLFNvcnRPcmRlcj0nJHNvcnRPcmRlcid9IikpCgkjZW5kCiNlbHNlCgkjc2V0ICgkaW5jbHVkZVBlbmRpbmdNZW1iZXJzaGlwcyA9IHRydWUpCgkjc2V0KCRncm91cHMgPSAkY29yZV92Ml9ncm91cC5MaXN0KCIle1VzZXJJZD0kY29yZV92Ml91c2VyLkFjY2Vzc2luZy5JZCxQYWdlU2l6ZT0kcGFnZVNpemUsUGFnZUluZGV4PSRwYWdlSW5kZXgsU29ydEJ5PSckc29ydEJ5JyxTb3J0T3JkZXI9JyRzb3J0T3JkZXInLEluY2x1ZGVQZW5kaW5nTWVtYmVyc2hpcHM9JGluY2x1ZGVQZW5kaW5nTWVtYmVyc2hpcHN9IikpCiNlbmQKI2lmKCR2aWV3VHlwZT09J3N0YW5kYXJkJykKCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc3RhbmRhcmQudm0nKQojZWxzZWlmKCR2aWV3VHlwZT09J3NpbXBsZUV4dGVuZGVkJykKCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc2ltcGxlRXh0ZW5kZWQudm0nKQojZWxzZQoJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzaW1wbGUudm0nKQojZW5kCg==</file>
			<file name="simple.vm">I2ZvcmVhY2goJGdyb3VwIGluICRncm91cHMpDQojYmVmb3JlYWxsDQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2VhY2gNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSBzaW1wbGUiPg0KCQk8c3BhbiBjbGFzcz0iZ3JvdXAtYXZhdGFyIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRncm91cC5VcmwpIj4kY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRncm91cC5BdmF0YXJVcmwsIDMwLCAzMCwgIiV7YWx0PSRncm91cC5OYW1lLGJvcmRlcj0nMCd9Iik8L2E+PC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0iZ3JvdXAtbmFtZSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZ3JvdXAuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1ncm91cCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRncm91cC5OYW1lLCAyNSwgJy4uLicpPC9hPjwvc3Bhbj4NCgk8L2xpPg0KI2FmdGVyYWxsDQoJPC91bD4NCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4NCiNub2RhdGENCgkkY29yZV92Ml93aWRnZXQuSGlkZSgpDQojZW5k</file>
			<file name="simpleExtended.vm">I2ZvcmVhY2goJGdyb3VwIGluICRncm91cHMpDQojYmVmb3JlYWxsDQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2VhY2gNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSBzaW1wbGUtZXh0ZW5kZWQiPg0KCQk8c3BhbiBjbGFzcz0iZ3JvdXAtbmFtZSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZ3JvdXAuVXJsKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGdyb3VwLk5hbWUsIDI1LCAnLi4uJyk8L2E+PC9zcGFuPg0KCQkjaWYoJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd0FjdGl2aXR5Jyx0cnVlKSkNCgkJCSNmb3JlYWNoKCRhY3Rpdml0eSBpbiAkY29yZV92Ml9hY3Rpdml0eU1lc3NhZ2UuTGlzdCgiJXtHcm91cElkPSRncm91cC5JZCxQYWdlU2l6ZT0xLEluY2x1ZGVTdGF0dXM9J3RydWUnfSIpKQ0KCQkJI2VhY2gNCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5LlR5cGUpIj48L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QgJGNvcmVfdjJfdWkuTWFrZUNzc0NsYXNzTmFtZSgkYWN0aXZpdHkuVHlwZSkiPg0KCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+DQoJCQkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4kY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRhY3Rpdml0eS5BdXRob3IuQXZhdGFyVXJsLDMyLDMyLCIle2FsdD0kYWN0aXZpdHkuQXV0aG9yLkRpc3BsYXlOYW1lfSIpPC9zcGFuPg0KCQkJCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+DQoJCQkJCQkJI2lmICgkYWN0aXZpdHkuQXV0aG9yLlByb2ZpbGVVcmwpDQoJCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFjdGl2aXR5LkF1dGhvci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPiRhY3Rpdml0eS5BdXRob3IuRGlzcGxheU5hbWU8L2E+DQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJJGFjdGl2aXR5LkF1dGhvci5EaXNwbGF5TmFtZQ0KCQkJCQkJCSNlbmQNCgkJCQkJCTwvc3Bhbj4NCgkJCQkJPC9kaXY+DQoJCQkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj48c3BhbiBjbGFzcz0iZmlqaS1wb3N0LWNvbnRlbnQtaWNvbiBldm9sdXRpb24yLXBvc3QtY29udGVudC1pY29uIHBvc3QtY29udGVudC1pY29uICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5LlR5cGUpIj48L3NwYW4+JGFjdGl2aXR5LkJvZHk8L2Rpdj4NCgkJCQkJPHNwYW4gY2xhc3M9InBvc3QtZGF0ZSI+DQoJCQkJCQk8c3BhbiBjbGFzcz0ibGFiZWwiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdvbicpPC9zcGFuPg0KCQkJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kYWN0aXZpdHkuQ3JlYXRlZERhdGU8L3NwYW4+DQoJCQkJCTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtZm9vdGVyICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5LlR5cGUpIj48L2Rpdj4NCgkJCSNlbmQNCgkJI2VuZA0KCTwvbGk+DQojYWZ0ZXJhbGwNCgk8L3VsPg0KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KI25vZGF0YQ0KCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX0dyb3VwTGlzdF9Ob0dyb3VwcycpPC9kaXY+DQojZW5k</file>
			<file name="standard.vm">I2ZvcmVhY2goJGdyb3VwIGluICRncm91cHMpDQojYmVmb3JlYWxsDQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2VhY2gNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSBzdGFuZGFyZCI+DQoJCTxzcGFuIGNsYXNzPSJncm91cC1hdmF0YXIiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGdyb3VwLlVybCkiPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGdyb3VwLkF2YXRhclVybCwgNzUsIDc1LCAiJXthbHQ9JGdyb3VwLk5hbWUsYm9yZGVyPScwJ30iKTwvYT48L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJncm91cC1uYW1lIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRncm91cC5VcmwpIj4kY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkZ3JvdXAuTmFtZSwgMjUsICcuLi4nKTwvYT48L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJncm91cC1kZXNjcmlwdGlvbiI+JCFncm91cC5EZXNjcmlwdGlvbjwvc3Bhbj4NCgkJI2lmKCRncm91cC5Hcm91cFR5cGUgPT0gJ1B1YmxpY09wZW4nIHx8ICRncm91cC5Hcm91cFR5cGUgPT0gJ1B1YmxpY0Nsb3NlZCcgfHwgJGdyb3VwLkdyb3VwVHlwZSA9PSAnSm9pbmxlc3MnKQ0KCQkJPHNwYW4gY2xhc3M9Imdyb3VwLXR5cGUgJGNvcmVfdjJfbGFuZ3VhZ2UuTG93ZXJjYXNlKCRncm91cC5Hcm91cFR5cGUpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19QdWJsaWNHcm91cCcpPC9zcGFuPg0KCQkjZWxzZQ0KCQkJPHNwYW4gY2xhc3M9Imdyb3VwLXR5cGUgJGNvcmVfdjJfbGFuZ3VhZ2UuTG93ZXJjYXNlKCRncm91cC5Hcm91cFR5cGUpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19Qcml2YXRlR3JvdXAnKTwvc3Bhbj4NCgkJI2VuZA0KCQkjaWYoJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd0FjdGl2aXR5Jyx0cnVlKSkNCgkJCSNmb3JlYWNoKCRhY3Rpdml0eSBpbiAkY29yZV92Ml9hY3Rpdml0eU1lc3NhZ2UuTGlzdCgiJXtHcm91cElkPSRncm91cC5JZCxQYWdlU2l6ZT0xLEluY2x1ZGVTdGF0dXM9J3RydWUnfSIpKQ0KCQkJI2VhY2gNCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5LlR5cGUpIj48L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QgJGNvcmVfdjJfdWkuTWFrZUNzc0NsYXNzTmFtZSgkYWN0aXZpdHkuVHlwZSkiPg0KCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+DQoJCQkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4kY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRhY3Rpdml0eS5BdXRob3IuQXZhdGFyVXJsLDMyLDMyLCIle2FsdD0kYWN0aXZpdHkuQXV0aG9yLkRpc3BsYXlOYW1lfSIpPC9zcGFuPg0KCQkJCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+DQoJCQkJCQkJI2lmICgkYWN0aXZpdHkuQXV0aG9yLlByb2ZpbGVVcmwpDQoJCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFjdGl2aXR5LkF1dGhvci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPiRhY3Rpdml0eS5BdXRob3IuRGlzcGxheU5hbWU8L2E+DQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJJGFjdGl2aXR5LkF1dGhvci5EaXNwbGF5TmFtZQ0KCQkJCQkJCSNlbmQNCgkJCQkJCTwvc3Bhbj4NCgkJCQkJPC9kaXY+DQoJCQkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj48c3BhbiBjbGFzcz0iZmlqaS1wb3N0LWNvbnRlbnQtaWNvbiBldm9sdXRpb24yLXBvc3QtY29udGVudC1pY29uIHBvc3QtY29udGVudC1pY29uICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5LlR5cGUpIj48L3NwYW4+JGFjdGl2aXR5LkJvZHk8L2Rpdj4NCgkJCQkJPHNwYW4gY2xhc3M9InBvc3QtZGF0ZSI+DQoJCQkJCQk8c3BhbiBjbGFzcz0ibGFiZWwiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdvbicpPC9zcGFuPg0KCQkJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kYWN0aXZpdHkuQ3JlYXRlZERhdGU8L3NwYW4+DQoJCQkJCTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtZm9vdGVyICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5LlR5cGUpIj48L2Rpdj4NCgkJCSNlbmQNCgkJI2VuZA0KCTwvbGk+DQojYWZ0ZXJhbGwNCgk8L3VsPg0KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KI25vZGF0YQ0KCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX0dyb3VwTGlzdF9Ob0dyb3VwcycpPC9kaXY+DQojZW5k</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupMembership_Name}" version="7.5.0.32466" description="${resource:Groups_GroupMembership_Description}" instanceIdentifier="0a72f8627b2d473aa4bf6b89ecbe6c20" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="group-membership">
		<contentScript>
#set ($user = $core_v2_user.Accessing)
#set ($group = $core_v2_group.Current)
#set ($groupUserMember = $core_v2_groupUserMember.Get($group.Id, "%{ UserId = $user.Id }"))
#set ($membershipType = $groupUserMember.MembershipType)
#set ($canLeaveGroup = $membershipType != "Owner" || $core_v2_groupUserMember.List($groupId, "%{MembershipType = 'Owner', PageSize = 1}").TotalCount &gt; 1)
#set ($canJoinGroup = $core_v2_nodePermission.Get("groups", $group.Id, "Group_JoinGroup").IsAllowed)
#set ($canJoinGroupByRequest = $core_v2_nodePermission.Get("groups", $group.Id, "Group_JoinGroupByRequest").IsAllowed)

#if (!$group || !$core_v2_user.IsRegistered($user.Id))
	$core_v2_widget.Hide()
#end

&lt;div class="page-header"&gt;&lt;/div&gt;
&lt;div class="page"&gt;
#if ( $group.GroupType == "Joinless" &amp;&amp; $membershipType != "Owner" )
	$core_v2_widget.Hide()
#elseif ( $membershipType == "Owner" || $membershipType == "Manager" || $membershipType == "Member" || $membershipType == "PendingMember" )
	&lt;div class="page-name"&gt;$core_v2_language.GetResource("Hubs_MembersipStatus")&lt;/div&gt;
	&lt;div class="page-content"&gt;
	#if ( $membershipType == "Owner" )
		$core_v2_language.GetResource("Hubs_anOwnerCurrentMember")
	#elseif ( $membershipType == "Manager" )
		$core_v2_language.GetResource("Hubs_aManagerCurrentMember")
	#elseif ( $membershipType == "Member" )
		$core_v2_language.GetResource("Hubs_aMemberCurrentMember")
		#if ($canLeaveGroup)
			&lt;div class="field-list-header"&gt;&lt;/div&gt;
			&lt;fieldset class="field-list"&gt;
				&lt;ul class="field-list"&gt;
					&lt;li class="field-item"&gt;
						&lt;span class="field-item-input"&gt;
						&lt;a href="#" class="internal-link leave-group" id="$core_v2_widget.UniqueId('CancelMembership')"&gt;$core_v2_language.GetResource("Hubs_LeaveGroup")&lt;/a&gt;
						&lt;/span&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/fieldset&gt;
			&lt;div class="field-list-footer"&gt;&lt;/div&gt;
		#end
	#else
		$core_v2_language.GetResource("Hubs_aPendingMemberCurrentMember")
		#if ($canLeaveGroup)
			&lt;div class="field-list-header"&gt;&lt;/div&gt;
			&lt;fieldset class="field-list"&gt;
				&lt;ul class="field-list"&gt;
					&lt;li class="field-item"&gt;
						&lt;span class="field-item-input"&gt;
						&lt;a href="#" class="internal-link leave-group" id="$core_v2_widget.UniqueId('CancelMembership')"&gt;$core_v2_language.GetResource("Hubs_PendingMembership_Cancel")&lt;/a&gt;
						&lt;/span&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/fieldset&gt;
			&lt;div class="field-list-footer"&gt;&lt;/div&gt;
		#end
	#end
	&lt;/div&gt;
#else
	&lt;div class="page-content"&gt;
	#if ($canJoinGroupByRequest || $canJoinGroup)
		#if ($group.GroupType == "PublicOpen" &amp;&amp; !$core_v2_page.GetQueryStringValue("AccessRequestSent"))
			&lt;div class="field-list-header"&gt;$core_v2_language.GetResource("Hubs_JoinGroup")&lt;/div&gt;
			&lt;fieldset class="field-list"&gt;
				&lt;legend class="field-list-description"&gt;&lt;span&gt;$core_v2_language.GetResource("Hubs_JoinMembership_Desc")&lt;/span&gt;&lt;/legend&gt;
				&lt;ul class="field-list"&gt;
					&lt;li class="field-item"&gt;
						&lt;span class="field-item-input"&gt;
						&lt;input type="submit" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource("Hubs_JoinGroup"))" id="$core_v2_widget.UniqueId('RequestButton')" class="internal-link join-group" /&gt;
						&lt;/span&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/fieldset&gt;
			&lt;div class="field-list-footer"&gt;&lt;/div&gt;
		#elseif (!$core_v2_page.GetQueryStringValue("AccessRequestSent"))
			&lt;div class="field-list-header"&gt;$core_v2_language.GetResource("Hubs_RequestMembership")&lt;/div&gt;
			&lt;fieldset class="field-list"&gt;
				&lt;legend class="field-list-description"&gt;&lt;span&gt;$core_v2_language.GetResource("Hubs_RequestMembership_Desc")&lt;/span&gt;&lt;/legend&gt;
				&lt;ul class="field-list"&gt;
					&lt;li class="field-item"&gt;
						&lt;label class="field-item-header" for="RequestAccessMessage"&gt;$core_v2_language.GetResource("CreateEditPost_Body")&lt;/label&gt;
						&lt;span class="field-item-input"&gt;
							&lt;textarea rows="5" style="width: 90%" id="$core_v2_widget.UniqueId('RequestAccessMessage')"&gt;&lt;/textarea&gt;
						&lt;/span&gt;
					&lt;/li&gt;
					&lt;li class="field-item"&gt;
						&lt;input type="submit" id="$core_v2_widget.UniqueId('RequestButton')" class="internal-link join-group" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource("Hubs_RequestMembership"))" /&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/fieldset&gt;
			&lt;div class="field-list-footer"&gt;&lt;/div&gt;
		#end
	#end
	&lt;/div&gt;
#end
&lt;/div&gt;
&lt;div class="page-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.GroupMembership.${core_v2_widget.WrapperElementId}')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
	&lt;script type="text/javascript"&gt;
		jQuery(function(j){
			j.telligent.evolution.widgets.groupMembership.register({
				joinButton: j("#$core_v2_widget.UniqueId('RequestButton')"),
				cancelLink: j("#$core_v2_widget.UniqueId('CancelMembership')"),
				messageTextArea: j("#$core_v2_widget.UniqueId('RequestAccessMessage')"),
				groupId: $core_v2_group.Current.Id,
				userId: $core_v2_user.Accessing.Id,
				groupUrl: '$core_v2_group.Current.Url',
				cancelConfirmMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("Hubs_Membership_LeaveConfirm"))',
				joinUrl: '$core_v2_page.AbsoluteUrl("~/api.ashx/v2/groups/{GroupId}/members/users.json")',
				cancelUrl: '$core_v2_page.AbsoluteUrl("~/api.ashx/v2/groups/{GroupId}/members/users/{UserId}.json")'
			});
		});
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupMembership_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupMembership_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupMembership_Name">Group - Membership Status</resource><resource name="Groups_GroupMembership_Description">Displays current group membership status with options to join or request membership.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Hubs_MembersipStatus">Membership Status</resource><resource name="Hubs_anOwnerCurrentMember">You are an owner of this group.</resource><resource name="Hubs_aManagerCurrentMember">You are an manager of this group.</resource><resource name="Hubs_aMemberCurrentMember">You are a member of this group.</resource><resource name="Hubs_LeaveGroup">Cancel group membership</resource><resource name="Hubs_aPendingMemberCurrentMember">You are a pending member of this group.</resource><resource name="Hubs_PendingMembership_Cancel">Cancel Membership Request</resource><resource name="Hubs_JoinGroup">Join group</resource><resource name="Hubs_JoinMembership_Desc">To participate in this group, you can become a member by clicking the 'Join This Group' button below.</resource><resource name="Hubs_RequestMembership">Request Membership</resource><resource name="Hubs_RequestMembership_Desc">To participate in this group, you can request to be a member by clicking the 'Request Membership' button below.</resource><resource name="CreateEditPost_Body">Message</resource><resource name="Hubs_Membership_LeaveConfirm">Are you sure you want to leave this group?</resource></language></languageResources>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKGosIGdsb2JhbCl7DQoNCglpZiAodHlwZW9mIGoudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykNCgkJai50ZWxsaWdlbnQgPSB7fTsNCg0KCWlmICh0eXBlb2Ygai50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykNCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307DQoNCglpZiAodHlwZW9mIGoudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykNCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsNCg0KCWoudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmdyb3VwTWVtYmVyc2hpcCA9IHsNCgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHsNCgkJCS8vIGFjdGl2YXRlIGdyb3VwIGpvaW5pbmcgYnV0dG9ucw0KCQkJb3B0aW9ucy5qb2luQnV0dG9uLmNsaWNrKGZ1bmN0aW9uKCl7DQoJCQkJdmFyIGRhdGEgPSB7DQoJCQkJCUdyb3VwSWQ6IG9wdGlvbnMuZ3JvdXBJZCwNCgkJCQkJVXNlcklkOiBvcHRpb25zLnVzZXJJZCwNCgkJCQkJR3JvdXBNZW1iZXJzaGlwVHlwZTogJ01lbWJlcicNCgkJCQl9Ow0KCQkJCS8vIGlmIHRoZXJlIHdhcyBhIG1lc3NhZ2UgdG8gaW5jbHVkZSwgdGhlbg0KCQkJCS8vIHRoaXMgaW5jbHVkZSB0aGUgbWVzc2FnZSBhbmQgYWxzbyBkZWNsYXJlIHRoaXMgaXMgdG8gY3JlYXRlIGEgUGVuZGluZ01lbWJlcnNoaXANCgkJCQlpZihvcHRpb25zLm1lc3NhZ2VUZXh0QXJlYS5pcygnOnZpc2libGUnKSkgew0KCQkJCQlqLmV4dGVuZChkYXRhLCB7DQoJCQkJCQlNZXNzYWdlOiBvcHRpb25zLm1lc3NhZ2VUZXh0QXJlYS52YWwoKSwNCgkJCQkJCUdyb3VwTWVtYmVyc2hpcFR5cGU6ICdQZW5kaW5nTWVtYmVyJw0KCQkJCQl9KTsNCgkJCQl9DQoJCQkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLnB1dCh7DQoJCQkJCXVybDogb3B0aW9ucy5qb2luVXJsLA0KCQkJCQlkYXRhOiBkYXRhLA0KCQkJCQlzdWNjZXNzOiBmdW5jdGlvbigpIHsgZ2xvYmFsLmxvY2F0aW9uLnJlbG9hZCgpOyB9DQoJCQkJfSk7DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfSk7DQoNCgkJCS8vIGFjdGl2YXRlIG1lbWJlcnNoaXAgY2FuY2VsbGF0aW9uIGxpbmtzDQoJCQlvcHRpb25zLmNhbmNlbExpbmsuY2xpY2soZnVuY3Rpb24oKXsNCgkJCQlpZihjb25maXJtKG9wdGlvbnMuY2FuY2VsQ29uZmlybU1lc3NhZ2UpKSB7DQoJCQkJCWoudGVsbGlnZW50LmV2b2x1dGlvbi5kZWwoew0KCQkJCQkJdXJsOiBvcHRpb25zLmNhbmNlbFVybCwNCgkJCQkJCWRhdGE6IHtHcm91cElkOm9wdGlvbnMuZ3JvdXBJZCwgVXNlcklkOm9wdGlvbnMudXNlcklkfSwNCgkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKCl7IGdsb2JhbC5sb2NhdGlvbi5ocmVmID0gb3B0aW9ucy5ncm91cFVybDsgfQ0KCQkJCQl9KTsNCgkJCQl9DQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfSk7DQoJCX0NCgl9Ow0KDQp9KShqUXVlcnksIHdpbmRvdyk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupMembershipList_Name}" version="7.5.0.32466" description="${resource:Groups_GroupMembershipList_Description}" instanceIdentifier="3321fc78780f472eb8031802f1592937" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="group-membership-list">
		<contentScript>
#set($group = $core_v2_group.Current)
$core_v2_widget.ExecuteFile("view.vm")
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupMembershipList_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupMembershipList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupMembershipList_Name">Group - Membership List</resource><resource name="Groups_GroupMembershipList_Description">Displays a list of members in the group.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UserOrRoleLookUp_RoleType">role</resource><resource name="CF_GroupMembers_LastLogin">Last Login:</resource><resource name="MoreEllipsis">More...</resource><resource name="Hubs_SortBy">Sort by: </resource><resource name="Hubs_Username">Username</resource><resource name="Hubs_RecentActivity">Recent Activity</resource><resource name="Hubs_RecentUsers">Most Recent Users</resource><resource name="Hubs_MembershipType">Membership Type</resource><resource name="Groups_GroupMembershipList_PendingUsers">Pending Users</resource><resource name="Hubs_PendingMember">Pending Member</resource><resource name="FriendRequest_Accept">Accept</resource><resource name="FriendRequest_Reject">Reject</resource><resource name="Groups_Membership_NoPendingRequests">There are no pending membership requests.</resource><resource name="Remove">Remove</resource><resource name="Groups_GroupMembershipList_Edit">&lt;span&gt;&lt;/span&gt;Edit</resource><resource name="Hubs_RoleName">Role Name</resource><resource name="Hubs_RecentRoleMembers">Most Recent Roles</resource><resource name="Groups_Membership_NoRoleMembers">There are no role members currently.</resource><resource name="Hubs_InvitationSentMessage">The invitation has been sent successfully.</resource><resource name="Hubs_EditMember">Edit Member</resource><resource name="Hubs_MembershipType_Owner">Owner</resource><resource name="Hubs_MembershipType_Manager">Manager</resource><resource name="Hubs_MembershipType_Member">Member</resource><resource name="Save">Save</resource><resource name="Cancel">Cancel</resource><resource name="Hubs_AddMember">Add a Member</resource><resource name="Groups_ManageMembers_AddUserRole">User Name(s) or Role(s)</resource><resource name="Groups_GroupMembershipList_AddMembers">Add Member(s)</resource><resource name="Groups_Membership_AddDirectoryGroup_Warning">It may take up to 24 hours for large group permissions to be assigned.</resource><resource name="Groups_GroupMembershipList_InviteByName">Invite Members by Name</resource><resource name="Groups_GroupMembershipList_UserNames">User Name(s)</resource><resource name="Groups_GroupMembershipList_Message">Message (optional)</resource><resource name="Groups_GroupMembershipList_SendInvitation">Send Invitation(s)</resource><resource name="Hubs_InviteMemberByEmail">Invite Members by Email</resource><resource name="Hubs_EmailAddresses">Email Addresses (comma separated)</resource><resource name="CreateEditPost_Body">Message</resource><resource name="Groups_GroupMembershipList_Members">Members</resource><resource name="Groups_GroupMembershipList_RoleMembers">Role Members</resource><resource name="CF_GroupList_ConfirmRemoveMember">Are you sure you want to remove this member? (this action cannot be undone)</resource><resource name="Groups_ManageMembers_MissingUserNames">Please enter username(s) to add as members.</resource><resource name="Groups_ManageMembers_MissingInviteUserNames">Please enter username(s) to invite.</resource><resource name="Groups_ManageMembers_MissingEmails">Please enter valid email addresses to send invitations</resource><resource name="Groups_ManageMembers_InvalidEmails">One or more emails is invalid</resource><resource name="UserLookUpTextBox_NoMatches_AllUsers">No matches were found</resource><resource name="Groups_ManageMembers_AjaxError">An error occurred while communicating with the server.  Please try again.</resource><resource name="Core_GroupMembershipList_Title_TopMembers">Top Members</resource><resource name="Core_GroupMembershipList_Title_Members">Members</resource><resource name="editCompleteNotification">Membership Status Updated.</resource></language></languageResources>
		<files>
			<file name="add-user-or-role.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCg0KCSNzZXQoJGdyb3VwSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdHcm91cElkJykpKQ0KCSNzZXQoJG1lbWJlcnNoaXBUeXBlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0dyb3VwTWVtYmVyc2hpcFR5cGUnKSkNCg0KCSNzZXQoJHJlc3BvbnNlID0gZmFsc2UpDQoNCgkjc2V0KCR0eXBlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1R5cGUnKSkNCgkjaWYoJHR5cGUgPT0gJ3JvbGUnKQ0KCQkjc2V0KCRyb2xlSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdSb2xlSWQnKSkpDQoJCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfZ3JvdXBSb2xlTWVtYmVyLkNyZWF0ZSgkZ3JvdXBJZCwgJHJvbGVJZCwgIiV7R3JvdXBNZW1iZXJzaGlwVHlwZT0kbWVtYmVyc2hpcFR5cGV9IikpDQoJI2Vsc2VpZiAoJHR5cGUgPT0gJ2xkYXBSb2xlJykNCgkJI3NldCgkbGRhcE5hbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnTGRhcE5hbWUnKSkNCgkJI3NldCgkcmVzcG9uc2UgPSAkY29yZV92Ml9yb2xlLkNyZWF0ZUZyb21MZGFwKCRsZGFwTmFtZSkpDQoJCSNpZiAoJHJlc3BvbnNlLkVycm9ycy5Db3VudCA9PSAwKQ0KCQkJI3NldCgkcmVzcG9uc2UgPSAkY29yZV92Ml9ncm91cFJvbGVNZW1iZXIuQ3JlYXRlKCRncm91cElkLCAkcmVzcG9uc2UuSWQsICIle0dyb3VwTWVtYmVyc2hpcFR5cGU9JG1lbWJlcnNoaXBUeXBlfSIpKQ0KCQkjZW5kDQoJI2Vsc2VpZiAoJHR5cGUgPT0gJ3VzZXInKQ0KCQkjc2V0KCR1c2VySWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdVc2VySWQnKSkpDQoJCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfZ3JvdXBVc2VyTWVtYmVyLkNyZWF0ZSgkZ3JvdXBJZCwgJHVzZXJJZCwgIiV7R3JvdXBNZW1iZXJzaGlwVHlwZT0kbWVtYmVyc2hpcFR5cGV9IikpDQoJI2Vsc2VpZiAoJHR5cGUgPT0gJ2xkYXBVc2VyJykNCgkJI3NldCgkbGRhcE5hbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnTGRhcE5hbWUnKSkNCgkJI3NldCgkcmVzcG9uc2UgPSAkY29yZV92Ml91c2VyLkNyZWF0ZUZyb21MZGFwKCRsZGFwTmFtZSkpDQoJCSNpZiAoJHJlc3BvbnNlLkVycm9ycy5Db3VudCA9PSAwKQ0KCQkJI3NldCgkcmVzcG9uc2UgPSAkY29yZV92Ml9ncm91cFVzZXJNZW1iZXIuQ3JlYXRlKCRncm91cElkLCAkcmVzcG9uc2UuSWQsICIle0dyb3VwTWVtYmVyc2hpcFR5cGU9JG1lbWJlcnNoaXBUeXBlfSIpKQ0KCQkjZW5kDQoJI2VuZA0KDQoJI2lmKCRyZXNwb25zZSAmJiAkcmVzcG9uc2UuRXJyb3JzLkNvdW50ID4gMCkNCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRyZXNwb25zZS5FcnJvcnMpDQoJI2Vsc2UNCgkJeyJzdWNjZXNzIjp0cnVlfQ0KCSNlbmQNCiNlbmQ=</file>
			<file name="find-users-or-roles.vm">I3NldCgkaW5jbHVkZVJvbGVzID0gZmFsc2UpDQojc2V0KCRpbmNsdWRlUm9sZXMgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfSW5jbHVkZVJvbGVzJykpDQojc2V0KCRzZWFyY2hUZXh0ID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X1NlYXJjaFRleHQnKSkNCg0KI3NldCgkbWF0Y2hpbmdSb2xlcyA9IGZhbHNlKQ0KI3NldCgkbWF0Y2hpbmdMZGFwUm9sZXMgPSBmYWxzZSkNCiNpZiAoJGluY2x1ZGVSb2xlcyA9PSAnVHJ1ZScpDQoJI3NldCgkbWF0Y2hpbmdSb2xlcyA9ICRjb3JlX3YyX3JvbGUuRmluZCgkc2VhcmNoVGV4dCkpDQoJI2lmKCRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uRW5hYmxlTGRhcCkNCgkJI3NldCgkbWF0Y2hpbmdMZGFwUm9sZXMgPSAkY29yZV92Ml9sZGFwR3JvdXBzLkxpc3QoJHNlYXJjaFRleHQpKQ0KCSNlbmQNCiNlbmQNCg0KI3NldCgkbG93ZXJlZFNlYXJjaFRleHQgPSAiKiRjb3JlX3YyX2xhbmd1YWdlLkxvd2VyY2FzZSgkc2VhcmNoVGV4dCkqIikNCiNzZXQoJG1hdGNoaW5nVXNlcnMgPSAkY29yZV92Ml9zZWFyY2hSZXN1bHQuTGlzdCgiJXtRdWVyeT11c2VybmFtZTokbG93ZXJlZFNlYXJjaFRleHQgT1IgdXNlcmRpc3BsYXluYW1lOiRsb3dlcmVkU2VhcmNoVGV4dCxGaWx0ZXJzPSd0eXBlOjp1c2VyJyxQYWdlU2l6ZT0yMH0iKSkNCiNzZXQoJG1hdGNoaW5nTGRhcFVzZXJzID0gZmFsc2UpDQojaWYgKCRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uRW5hYmxlTGRhcCkNCgkjc2V0KCRtYXRjaGluZ0xkYXBVc2VycyA9ICRjb3JlX3YyX2xkYXBVc2Vycy5MaXN0KCIle1VzZXJuYW1lUXVlcnk9JHNlYXJjaFRleHQsUGFnZVNpemU9MjB9IikpDQojZW5kDQojc2V0KCRleGFjdFVzZXIgPSBmYWxzZSkNCiNzZXQoJGV4YWN0VXNlciA9ICRjb3JlX3YyX3VzZXIuR2V0KCIle1VzZXJuYW1lPSRzZWFyY2hUZXh0fSIpKQ0KDQojc2V0KCR0b3RhbFJvbGVzID0gMCkNCiNzZXQoJHRvdGFsTG9jYWxSb2xlcyA9IDIwKQ0KI2lmICgkaW5jbHVkZVJvbGVzICE9ICdUcnVlJyB8fCAhJG1hdGNoaW5nUm9sZXMpDQoJI3NldCgkdG90YWxMb2NhbFJvbGVzID0gMCkNCiNlbHNlDQoJI3NldCgkdG90YWxMb2NhbFJvbGVzID0gJG1hdGNoaW5nUm9sZXMuQ291bnQpDQoJI2lmKCR0b3RhbExvY2FsUm9sZXMgPiAyMCkNCgkJI3NldCgkdG90YWxMb2NhbFJvbGVzID0gMjApDQoJI2VuZA0KCSNzZXQoJHRvdGFsUm9sZXMgPSAkdG90YWxSb2xlcyArICR0b3RhbExvY2FsUm9sZXMpCQ0KI2VuZA0KDQojc2V0KCR0b3RhbExkYXBSb2xlcyA9IDIwKQ0KI2lmICgkaW5jbHVkZVJvbGVzICE9ICdUcnVlJyB8fCAhJG1hdGNoaW5nTGRhcFJvbGVzKQ0KCSNzZXQoJHRvdGFsTGRhcFJvbGVzID0gMCkNCiNlbHNlDQoJI3NldCgkdG90YWxMZGFwUm9sZXMgPSAkbWF0Y2hpbmdMZGFwUm9sZXMuQ291bnQpDQoJI2lmKCR0b3RhbExkYXBSb2xlcyA+IDIwKQ0KCQkjc2V0KCR0b3RhbExkYXBSb2xlcyA9IDIwKQ0KCSNlbmQNCgkjc2V0KCR0b3RhbFJvbGVzID0gJHRvdGFsUm9sZXMgKyAkdG90YWxMZGFwUm9sZXMpCQ0KI2VuZA0KDQojc2V0KCR0b3RhbFVzZXJzID0gMCkNCiNzZXQoJHRvdGFsTG9jYWxVc2VycyA9IDIwKQ0KI2lmICghJG1hdGNoaW5nVXNlcnMpDQoJI3NldCgkdG90YWxMb2NhbFVzZXJzID0gMCkNCiNlbHNlDQoJI3NldCgkdG90YWxVc2VycyA9ICR0b3RhbFVzZXJzICsgJG1hdGNoaW5nVXNlcnMuQ291bnQpDQoJI3NldCgkdG90YWxMb2NhbFVzZXJzID0gJG1hdGNoaW5nVXNlcnMuQ291bnQpDQojZW5kDQoNCiNzZXQoJHRvdGFsTGRhcFVzZXJzID0gMjApDQojaWYgKCEkbWF0Y2hpbmdMZGFwVXNlcnMpDQoJI3NldCgkdG90YWxMZGFwVXNlcnMgPSAwKQ0KI2Vsc2UNCgkjc2V0KCR0b3RhbExkYXBVc2VycyA9ICRtYXRjaGluZ0xkYXBVc2Vycy5Db3VudCkNCgkjc2V0KCR0b3RhbFVzZXJzID0gJHRvdGFsVXNlcnMgKyAkbWF0Y2hpbmdMZGFwVXNlcnMuQ291bnQpDQojZW5kDQoNCiNpZigkaW5jbHVkZVJvbGVzID09ICdUcnVlJyAmJiAkdG90YWxSb2xlcyArICR0b3RhbFVzZXJzID4gMjApDQoJI2lmICgkdG90YWxSb2xlcyA+IDEwKQ0KCQkjaWYgKCR0b3RhbFVzZXJzID4gMTApDQoJCQkjc2V0KCR0b3RhbFVzZXJzID0gMTApDQoJCSNlbmQNCgkjZWxzZQ0KCQkjc2V0KCR0b3RhbFVzZXJzID0gMjAgLSAkdG90YWxSb2xlcykNCgkjZW5kDQoNCgkjaWYoJHRvdGFsUm9sZXMgPiAxMCkNCgkJI3NldCgkdG90YWxSb2xlcyA9IDIwIC0gJHRvdGFsVXNlcnMpDQoJI2VuZA0KI2VuZA0KDQojaWYgKCR0b3RhbExvY2FsUm9sZXMgKyAkdG90YWxMZGFwUm9sZXMgPiAkdG90YWxSb2xlcykNCgkjaWYoJHRvdGFsTGRhcFJvbGVzID4gNSAmJiAkdG90YWxMb2NhbFJvbGVzID4gNSkNCgkJI3NldCgkdG90YWxMZGFwUm9sZXMgPSAkdG90YWxSb2xlcyAvIDIpDQoJCSNzZXQoJHRvdGFsTG9jYWxSb2xlcyA9ICR0b3RhbFJvbGVzIC8gMikNCgkjZWxzZWlmICgkbWF0Y2hpbmdMZGFwUm9sZXMuQ291bnQgPiA1KQ0KCQkjc2V0KCR0b3RhbExkYXBSb2xlcyA9ICR0b3RhbFJvbGVzIC0gJHRvdGFsTG9jYWxSb2xlcykNCgkjZW5kDQojZW5kDQoNCiNpZiAoJHRvdGFsTG9jYWxVc2VycyArICR0b3RhbExkYXBVc2VycyA+ICR0b3RhbFVzZXJzKQ0KCSNpZigkdG90YWxMZGFwVXNlcnMgPiA1ICYmICR0b3RhbExvY2FsVXNlcnMgPiA1KQ0KCQkjc2V0KCR0b3RhbExkYXBVc2VycyA9ICR0b3RhbFVzZXJzIC8gMikNCgkJI3NldCgkdG90YWxMb2NhbFVzZXJzID0gJHRvdGFsVXNlcnMgLyAyKQ0KCSNlbHNlaWYgKCRtYXRjaGluZ0xkYXBVc2Vycy5Db3VudCA+IDUpDQoJCSNzZXQoJHRvdGFsTGRhcFVzZXJzID0gJHRvdGFsVXNlcnMgLSAkdG90YWxMb2NhbFVzZXJzKQ0KCSNlbmQNCiNlbmQNCg0KJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQoNCnsibWF0Y2hlcyI6Ww0KCSNpZiAoJGV4YWN0VXNlcikNCgkJeyJ1c2VySWQiOiIkZXhhY3RVc2VyLklkIiwidGl0bGUiOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRleGFjdFVzZXIuRGlzcGxheU5hbWUpI2lmKCRleGFjdFVzZXIuRGlzcGxheU5hbWUgIT0gJGV4YWN0VXNlci5Vc2VybmFtZSkgKCRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGV4YWN0VXNlci5Vc2VybmFtZSkpI2VuZCJ9LA0KCSNlbmQNCgkjc2V0KCRpbmRleCA9IDApDQoJI2lmKCRtYXRjaGluZ1VzZXJzKQ0KCQkjZm9yZWFjaCgkbWF0Y2hlZFVzZXIgaW4gJG1hdGNoaW5nVXNlcnMpDQoJCQkjaWYgKCRpbmRleCA8ICR0b3RhbFVzZXJzKQ0KCQkJCSNmb3JlYWNoKCR1c2VyIGluICRtYXRjaGVkVXNlci5Vc2VycykNCgkJCQkJI2lmICgkdXNlciAmJiAoISRleGFjdFVzZXIgfHwgJGV4YWN0VXNlci5JZCAhPSAkdXNlci5JZCkpDQoJCQkJCQl7InVzZXJJZCI6IiR1c2VyLklkIiwidGl0bGUiOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCR1c2VyLkRpc3BsYXlOYW1lKSNpZigkdXNlci5EaXNwbGF5TmFtZSAhPSAkdXNlci5Vc2VybmFtZSkgKCRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHVzZXIuVXNlcm5hbWUpKSNlbmQifSwNCgkJCQkJI2VuZA0KCQkJCSNlbmQNCgkJCSNlbmQNCgkJCSNzZXQoJGluZGV4ID0gJGluZGV4ICsgMSkNCgkJI2VuZA0KCSNlbmQNCgkjc2V0KCRpbmRleCA9IDApDQoJI2ZvcmVhY2goJG1hdGNoZWRVc2VyIGluICRtYXRjaGluZ0xkYXBVc2VycykNCgkJI2lmICgkaW5kZXggPCAkdG90YWxMZGFwVXNlcnMpDQoJCQkjaWYgKCEkZXhhY3RVc2VyIHx8ICRleGFjdFVzZXIuSWQgIT0gJHVzZXIuSWQpDQoJCQkJeyJsZGFwVXNlcklkIjoiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkbWF0Y2hlZFVzZXIuVXNlck5hbWUpIiwidGl0bGUiOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRtYXRjaGVkVXNlci5GcmllbmRseU5hbWUpICgkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRtYXRjaGVkVXNlci5Vc2VyTmFtZSkpIChEKSJ9LA0KCQkJI2VuZA0KCQkjZW5kDQoJCSNzZXQoJGluZGV4ID0gJGluZGV4ICsgMSkNCgkjZW5kDQoJI3NldCgkaW5kZXggPSAwKQ0KCSNpZiAoJG1hdGNoaW5nUm9sZXMpDQoJCSNmb3JlYWNoKCRyb2xlIGluICRtYXRjaGluZ1JvbGVzKQ0KCQkJI2lmICgkaW5kZXggPCAkdG90YWxMb2NhbFJvbGVzKQ0KCQkJCXsicm9sZUlkIjoiJHJvbGUuSWQiLCJ0aXRsZSI6IiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHJvbGUuTmFtZSkgKCRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VzZXJPclJvbGVMb29rVXBfUm9sZVR5cGUnKSkpIn0sDQoJCQkjZW5kDQoJCQkjc2V0KCRpbmRleCA9ICRpbmRleCArIDEpDQoJCSNlbmQNCgkjZW5kDQoJI3NldCgkaW5kZXggPSAwKQ0KCSNpZiAoJG1hdGNoaW5nTGRhcFJvbGVzKQ0KCQkjZm9yZWFjaCgkcm9sZSBpbiAkbWF0Y2hpbmdMZGFwUm9sZXMpDQoJCQkjaWYgKCRpbmRleCA8ICR0b3RhbExkYXBSb2xlcykNCgkJCQl7ImxkYXBSb2xlSWQiOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRyb2xlLk5hbWUpIiwNCgkJCQkJImxkYXBSb2xlRG4iOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRyb2xlLkRpc3Rpbmd1aXNoZWROYW1lKSIsDQoJCQkJCSJ0aXRsZSI6IiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHJvbGUuTmFtZSkgKEQpIn0sDQoJCQkjZW5kDQoJCQkjc2V0KCRpbmRleCA9ICRpbmRleCArIDEpDQoJCSNlbmQNCgkjZW5kDQpudWxsXX0=</file>
			<file name="send-invitation.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCg0KCSNzZXQoJGdyb3VwSWQgPSBmYWxzZSkNCgkjc2V0KCRncm91cElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnR3JvdXBJZCcpKSkNCgkNCgkjc2V0KCRlbWFpbCA9IGZhbHNlKQ0KCSNzZXQoJGVtYWlsID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0VtYWlsJykpDQoJI2lmICghJGVtYWlsKQ0KCQkjc2V0KCR1c2VySWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdVc2VySWQnKSkpDQoJCSNpZiAoJHVzZXJJZCA+IDApDQoJCQkjc2V0KCRlbWFpbCA9ICRjb3JlX3YyX3VzZXIuR2V0KCIle0lkPSR1c2VySWR9IikuUHJpdmF0ZUVtYWlsKQ0KCQkjZWxzZQ0KCQkJI3NldCgkbGRhcE5hbWUgPSBmYWxzZSkNCgkJCSNzZXQoJGxkYXBOYW1lID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0xkYXBOYW1lJykpDQoJCQkjaWYgKCRsZGFwTmFtZSkNCgkJCQkjc2V0KCR1c2VyID0gJGNvcmVfdjJfdXNlci5DcmVhdGVGcm9tTGRhcCgkbGRhcE5hbWUpKQ0KCQkJCSNpZiAoISR1c2VyIHx8ICR1c2VyLkVycm9ycy5Db3VudCA+IDApDQoJCQkJCSRjb3JlX3YyX3BhZ2UuU2V0U3RhdHVzQ29kZSg1MDApDQoJCQkJCSRjb3JlX3YyX3dpZGdldC5IaWRlKCkNCgkJCQkjZW5kDQoJCQkJI3NldCgkZW1haWwgPSAkdXNlci5Qcml2YXRlRW1haWwpDQoJCQkjZW5kDQoJCSNlbmQNCgkjZW5kDQoNCgkjc2V0KCRtZW1iZXJzaGlwVHlwZSA9ICcnKQ0KCSNzZXQoJG1lbWJlcnNoaXBUeXBlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ01lbWJlcnNoaXBUeXBlJykpDQoNCgkjc2V0KCRtZXNzYWdlID0gJycpDQoJI3NldCgkbWVzc2FnZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdNZXNzYWdlJykpDQoNCgkjc2V0KCRyZXNwb25zZSA9IGZhbHNlKQ0KCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfZ3JvdXBVc2VyTWVtYmVyLkludml0ZVVzZXIoJGdyb3VwSWQsICRlbWFpbCwgJG1lbWJlcnNoaXBUeXBlLCAkbWVzc2FnZSkpDQoJI2lmICghJHJlc3BvbnNlIHx8ICgkcmVzcG9uc2UuRXJyb3JzICYmICRyZXNwb25zZS5FcnJvcnMuQ291bnQgPiAwKSkNCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRyZXNwb25zZS5FcnJvcnMpDQoJI2Vsc2UNCgkJeyJzdWNjZXNzIjoiVHJ1ZSJ9DQoJI2VuZA0KI2VuZA==</file>
			<file name="ui.js">KGZ1bmN0aW9uICgkKSB7DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KICAgIChmdW5jdGlvbiAoKSB7DQogICAgICAgIHRoaXMuVGFza1NlcXVlbmNlID0gew0KICAgICAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAob3B0aW9ucykgew0KICAgICAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCBUYXNrU2VxdWVuY2UuY3JlYXRlLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KSwNCgkJCQkJdGFza3MgPSBbXSwgaGFzRXJyb3IgPSBmYWxzZSwgcnVuQ291bnQgPSAtMSwNCgkJCQkJcHJvY2VlZCA9IGZ1bmN0aW9uICgpIHsNCgkJCQkJICAgIHJ1bkNvdW50Kys7DQoJCQkJCSAgICBpZiAodGFza3MubGVuZ3RoID4gMCAmJiBydW5Db3VudCA8IHRhc2tzLmxlbmd0aCkgew0KCQkJCQkgICAgICAgIGlmICghaGFzRXJyb3IpIHsNCgkJCQkJICAgICAgICAgICAgdGFza3NbcnVuQ291bnRdKCk7DQoJCQkJCSAgICAgICAgfQ0KCQkJCQkgICAgfSBlbHNlIHsNCgkJCQkJICAgICAgICBzZXR0aW5ncy5vbkNvbXBsZXRlKCk7DQoJCQkJCSAgICB9DQoJCQkJCX07DQogICAgICAgICAgICAgICAgdmFyIGFwaSA9IHsNCiAgICAgICAgICAgICAgICAgICAgYWRkOiBmdW5jdGlvbiAodGFzaykgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGFza3MucHVzaCh0YXNrKTsNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvY2VlZCgpOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBydW46IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHByb2NlZWQoKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgcmV0dXJuIGFwaTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCiAgICAgICAgVGFza1NlcXVlbmNlLmNyZWF0ZS5kZWZhdWx0cyA9IHsNCiAgICAgICAgICAgIG9uQ29tcGxldGU6IGZ1bmN0aW9uICgpIHsgfQ0KICAgICAgICB9Ow0KICAgIH0gKCkpOw0KDQogICAgdmFyIF9zYXZlID0gZnVuY3Rpb24gKGNvbnRleHQpIHsNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgdXJsOiBjb250ZXh0LnNhdmVVcmwsDQogICAgICAgICAgICBkYXRhOiBfcG9wdWxhdGVEYXRhKGNvbnRleHQpLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJlZGlyZWN0VXJsKSB7DQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHJlc3BvbnNlLnJlZGlyZWN0VXJsOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LnNhdmVFcnJvclRleHQsDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKHhociwgZGVzYywgZXgpIHsNCiAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2MsIHsgdHlwZTogJ2Vycm9yJyB9KTsNCiAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBhLnNhdmUtcG9zdCcpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQogICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zYXZlLXBvc3QnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBfZGlzYWJsZUxhc3RPd25lciA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCiAgICAJJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgc2VsZWN0Lm1lbWJlcnNoaXAtc3RhdHVzJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTsNCiAgICAJJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgLmRlbGV0ZS1tZW1iZXIgYScpLmNzcygndmlzaWJpbGl0eScsICd2aXNpYmxlJyk7DQogICAgCWlmICgkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBzZWxlY3QubWVtYmVyc2hpcC1zdGF0dXNbZGF0YS11c2VyaWRdOmhhcyg6c2VsZWN0ZWRbdmFsdWU9Ik93bmVyIl0pJykubGVuZ3RoID09IDEpIHsNCiAgICAJCSQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIHNlbGVjdC5tZW1iZXJzaGlwLXN0YXR1c1tkYXRhLXVzZXJpZF06aGFzKDpzZWxlY3RlZFt2YWx1ZT0iT3duZXIiXSknKS5lYWNoKGZ1bmN0aW9uKCkgew0KICAgIAkJCSQodGhpcykuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpOw0KICAgIAkJCSQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5kZWxldGUtbWVtYmVyIGFbZGF0YS11c2VyaWQ9IicgKyAkKHRoaXMpLmF0dHIoJ2RhdGEtdXNlcmlkJykgKyAnIl0nKS5jc3MoJ3Zpc2liaWxpdHknLCAnaGlkZGVuJyk7DQogICAgCQl9KTsNCiAgICAJfQ0KICAgIH0sDQoJX2F0dGFjaEhhbmRsZXJzID0gZnVuY3Rpb24gKGNvbnRleHQpIHsNCgkJX2Rpc2FibGVMYXN0T3duZXIoY29udGV4dCk7DQoJCQ0KCSAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5kZWxldGUtbWVtYmVyIGEnKS5jbGljayhmdW5jdGlvbiAoKSB7DQoJICAgICAgICB2YXIgdXNlcklkID0gJCh0aGlzKS5hdHRyKCdkYXRhLXVzZXJpZCcpOw0KCSAgICAgICAgdmFyIHJvbGVJZCA9ICQodGhpcykuYXR0cignZGF0YS1yb2xlaWQnKTsNCgkgICAgICAgIGlmICh1c2VySWQpIHsNCgkgICAgICAgICAgICBpZiAod2luZG93LmNvbmZpcm0oY29udGV4dC5kZWxldGVNZW1iZXJDb25maXJtYXRpb25UZXh0KSkgew0KCSAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZGVsKHsNCgkgICAgICAgICAgICAgICAgICAgIHVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL2dyb3Vwcy97R3JvdXBJZH0vbWVtYmVycy91c2Vycy97VXNlcklkfS5qc29uJywNCgkgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgR3JvdXBJZDogY29udGV4dC5ncm91cElkLCBVc2VySWQ6IHVzZXJJZCB9LA0KCSAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywNCgkgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsNCgkgICAgICAgICAgICAgICAgICAgIH0sDQoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmFqYXhFcnJvclRleHQNCgkgICAgICAgICAgICAgICAgfSk7DQoJICAgICAgICAgICAgfQ0KCSAgICAgICAgfQ0KCSAgICAgICAgZWxzZSBpZiAocm9sZUlkKSB7DQoJICAgICAgICAgICAgaWYgKHdpbmRvdy5jb25maXJtKGNvbnRleHQuZGVsZXRlTWVtYmVyQ29uZmlybWF0aW9uVGV4dCkpIHsNCgkgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7DQoJICAgICAgICAgICAgICAgICAgICB1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ncm91cHMve0dyb3VwSWR9L21lbWJlcnMvcm9sZXMve1JvbGVJZH0uanNvbicsDQoJICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IEdyb3VwSWQ6IGNvbnRleHQuZ3JvdXBJZCwgUm9sZUlkOiByb2xlSWQgfSwNCgkgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsDQoJICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQoJICAgICAgICAgICAgICAgICAgICB9LA0KCSAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5hamF4RXJyb3JUZXh0DQoJICAgICAgICAgICAgICAgIH0pOw0KCSAgICAgICAgICAgIH0NCgkgICAgICAgIH0NCg0KCSAgICAgICAgcmV0dXJuIGZhbHNlOw0KCSAgICB9KTsNCg0KCSAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBzZWxlY3QubWVtYmVyc2hpcC1zdGF0dXMnKS5lYWNoKGZ1bmN0aW9uICgpIHsNCgkgICAgICAgICQodGhpcykuZGF0YSgnaW5pdGlhbFZhbHVlJywgJCh0aGlzKS52YWwoKSk7DQoJICAgIH0pOw0KDQoJICAgICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIHNlbGVjdC5tZW1iZXJzaGlwLXN0YXR1cycpLmNoYW5nZShmdW5jdGlvbiAoKSB7DQoJICAgICAgICB2YXIgc2VsZWN0T2JqZWN0ID0gJCh0aGlzKTsNCgkgICAgICAgIHZhciB1c2VySWQgPSBzZWxlY3RPYmplY3QuYXR0cignZGF0YS11c2VyaWQnKTsNCgkgICAgICAgIHZhciByb2xlSWQgPSBzZWxlY3RPYmplY3QuYXR0cignZGF0YS1yb2xlaWQnKTsNCgkgICAgICAgIHZhciBtZW1iZXJzaGlwVHlwZSA9IHNlbGVjdE9iamVjdC52YWwoKTsNCgkgICAgICAgIHZhciBlbmRwb2ludCA9IG51bGw7DQoJICAgICAgICB2YXIgZGF0YSA9IG51bGw7DQoJICAgICAgICBpZiAodXNlcklkID4gMCkgew0KCSAgICAgICAgCWVuZHBvaW50ID0gJ2FwaS5hc2h4L3YyL2dyb3Vwcy97R3JvdXBJZH0vbWVtYmVycy91c2Vycy5qc29uJzsNCgkgICAgICAgIAlkYXRhID0geyBHcm91cElkOiBjb250ZXh0Lmdyb3VwSWQsIFVzZXJJZDogdXNlcklkLCBHcm91cE1lbWJlcnNoaXBUeXBlOiBtZW1iZXJzaGlwVHlwZSB9Ow0KCSAgICAgICAgfSBlbHNlIGlmIChyb2xlSWQgPiAwKSB7DQoJICAgICAgICAJZW5kcG9pbnQgPSAnYXBpLmFzaHgvdjIvZ3JvdXBzL3tHcm91cElkfS9tZW1iZXJzL3JvbGVzLmpzb24nOw0KCSAgICAgICAgCWRhdGEgPSB7IEdyb3VwSWQ6IGNvbnRleHQuZ3JvdXBJZCwgUm9sZUlkOiByb2xlSWQsIEdyb3VwTWVtYmVyc2hpcFR5cGU6IG1lbWJlcnNoaXBUeXBlIH07DQoJICAgICAgICB9DQoJICAgICAgICANCgkgICAgICAgIGlmIChlbmRwb2ludCkgew0KCSAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkgICAgICAgICAgICAgICAgdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyBlbmRwb2ludCwNCgkgICAgICAgICAgICAgICAgZGF0YTogZGF0YSwNCgkgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywNCgkgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQoJICAgICAgICAgICAgICAgIAlzZWxlY3RPYmplY3QuZGF0YSgnaW5pdGlhbFZhbHVlJywgc2VsZWN0T2JqZWN0LnZhbCgpKTsNCgkgICAgICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coY29udGV4dC5lZGl0Q29tcGxldGVOb3RpZmljYXRpb24sIHsgdHlwZTogJ3N1Y2Nlc3MnLCBkdXJhdGlvbjogMTAwMCB9KTsNCgkgICAgICAgICAgICAgICAgICAgIGlmICh1c2VySWQgPiAwKSB7DQoJICAgICAgICAgICAgICAgICAgICAJaWYgKHVzZXJJZCA9PSBjb250ZXh0LnVzZXJJZCkgew0KCSAgICAgICAgICAgICAgICAgICAgCQl3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpOw0KCSAgICAgICAgICAgICAgICAgICAgCX0gZWxzZSB7DQoJICAgICAgICAgICAgICAgICAgICAJCV9kaXNhYmxlTGFzdE93bmVyKGNvbnRleHQpOw0KCSAgICAgICAgICAgICAgICAgICAgCX0NCgkgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgfSwNCgkgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChyZXNwb25zZSkgew0KCSAgICAgICAgICAgICAgICAgICAgc2VsZWN0T2JqZWN0LnZhbChzZWxlY3RPYmplY3QuZGF0YSgnaW5pdGlhbFZhbHVlJykpOw0KCSAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlT2JqZWN0ID0galF1ZXJ5LnBhcnNlSlNPTihyZXNwb25zZS5yZXNwb25zZVRleHQpOw0KCSAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yU3RyaW5nID0gIiI7DQoJICAgICAgICAgICAgICAgICAgICB2YXIgYWx0RXJyb3JTdHJpbmcgPSAiIjsNCgkgICAgICAgICAgICAgICAgICAgIHZhciBuZXdFcnJvclN0cmluZyA9ICIiOw0KDQoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJlc3BvbnNlT2JqZWN0LkVycm9ycy5sZW5ndGg7IHgrKykgew0KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXN0ID0gcmVzcG9uc2VPYmplY3QuRXJyb3JzW3hdLmluZGV4T2YoIkNvbmZsaWN0Iik7DQoNCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGVzdCA9PT0gLTEpIHsNCg0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYWx0RXJyb3JTdHJpbmcubGVuZ3RoICE9PSAwKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHRFcnJvclN0cmluZyA9IGFsdEVycm9yU3RyaW5nICsgIjxicj4iOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFsdEVycm9yU3RyaW5nID0gYWx0RXJyb3JTdHJpbmcgKyBhbHRFcnJvclN0cmluZzsNCg0KCSAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3RXJyb3JTdHJpbmcgPSByZXNwb25zZU9iamVjdC5FcnJvcnNbeF0uc3Vic3RyaW5nKDkpOw0KDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnJvclN0cmluZy5sZW5ndGggIT09IDApIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yU3RyaW5nID0gZXJyb3JTdHJpbmcgKyAiPGJyPiI7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JTdHJpbmcgPSBlcnJvclN0cmluZyArIG5ld0Vycm9yU3RyaW5nOw0KCSAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgIH0NCg0KCSAgICAgICAgICAgICAgICAgICAgaWYgKG5ld0Vycm9yU3RyaW5nLmxlbmd0aCA+IDApIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGVycm9yU3RyaW5nLCB7IHR5cGU6ICdzdWNjZXNzJywgZHVyYXRpb246IDcwMDAgfSk7DQoJICAgICAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGFsdEVycm9yU3RyaW5nLCB7IHR5cGU6ICdzdWNjZXNzJywgZHVyYXRpb246IDcwMDAgfSk7DQoJICAgICAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICB9KTsNCgkgICAgICAgIH0NCg0KCSAgICAgICAgcmV0dXJuIGZhbHNlOw0KCSAgICB9KTsNCg0KCSAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5hY2NlcHQtbWVtYmVyIGEnKS5jbGljayhmdW5jdGlvbiAoKSB7DQoJICAgICAgICB2YXIgdXNlcklkID0gJCh0aGlzKS5hdHRyKCdkYXRhLXVzZXJpZCcpOw0KCSAgICAgICAgdmFyIG1lbWJlcnNoaXBUeXBlID0gJCh0aGlzKS5hdHRyKCdkYXRhLW1lbWJlcnNoaXB0eXBlJyk7DQoJICAgICAgICBpZiAodXNlcklkICYmIG1lbWJlcnNoaXBUeXBlKSB7DQoJICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCSAgICAgICAgICAgICAgICB1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ncm91cHMve0dyb3VwSWR9L21lbWJlcnMvdXNlcnMuanNvbicsDQoJICAgICAgICAgICAgICAgIGRhdGE6IHsgR3JvdXBJZDogY29udGV4dC5ncm91cElkLCBVc2VySWQ6IHVzZXJJZCwgR3JvdXBNZW1iZXJzaGlwVHlwZTogbWVtYmVyc2hpcFR5cGUgfSwNCgkgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywNCgkgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQoJICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7DQoJICAgICAgICAgICAgICAgIH0sDQoJICAgICAgICAgICAgICAgIGRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuYWpheEVycm9yVGV4dA0KCSAgICAgICAgICAgIH0pOw0KCSAgICAgICAgfQ0KDQoJICAgICAgICByZXR1cm4gZmFsc2U7DQoJICAgIH0pOw0KDQoJICAgICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLnJlamVjdC1tZW1iZXIgYScpLmNsaWNrKGZ1bmN0aW9uICgpIHsNCgkgICAgICAgIHZhciB1c2VySWQgPSAkKHRoaXMpLmF0dHIoJ2RhdGEtdXNlcmlkJyk7DQoJICAgICAgICBpZiAodXNlcklkKSB7DQoJICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7DQoJICAgICAgICAgICAgICAgIHVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL2dyb3Vwcy97R3JvdXBJZH0vbWVtYmVycy91c2Vycy97VXNlcklkfS5qc29uJywNCgkgICAgICAgICAgICAgICAgZGF0YTogeyBHcm91cElkOiBjb250ZXh0Lmdyb3VwSWQsIFVzZXJJZDogdXNlcklkIH0sDQoJICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsDQoJICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgew0KCSAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOw0KCSAgICAgICAgICAgICAgICB9LA0KCSAgICAgICAgICAgICAgICBkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmFqYXhFcnJvclRleHQNCgkgICAgICAgICAgICB9KTsNCgkgICAgICAgIH0NCg0KCSAgICAgICAgcmV0dXJuIGZhbHNlOw0KCSAgICB9KTsNCg0KCSAgICBpZiAoY29udGV4dC5hZGRNZW1iZXJVc2VyTmFtZSAmJiBjb250ZXh0LmFkZE1lbWJlclVzZXJOYW1lLmxlbmd0aCA+IDApIHsNCgkgICAgICAgIGNvbnRleHQuYWRkTWVtYmVyU2F2ZS5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCgkgICAgICAgICAgICBvblZhbGlkYXRlZDogZnVuY3Rpb24gKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsNCgkgICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHsNCgkgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYWRkTWVtYmVyU2F2ZS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICBlbHNlIHsNCgkgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuYWRkTWVtYmVyU2F2ZS5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgIH0sDQoJICAgICAgICAgICAgb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uIChlKSB7DQoJCQkJCWlmICghY29udGV4dC5hZGRNZW1iZXJTYXZlLnBhcmVudCgpLmhhc0NsYXNzKCdwcm9jZXNzaW5nJykpDQoJCQkJCQljb250ZXh0LmFkZE1lbWJlclNhdmUucGFyZW50KCkuYWRkQ2xhc3MoJ3Byb2Nlc3NpbmcnKTsNCgkgICAgICAgICAgICAgICAgY29udGV4dC5hZGRNZW1iZXJTYXZlLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KDQoJICAgICAgICAgICAgICAgIHZhciB0YXNrcyA9IFRhc2tTZXF1ZW5jZS5jcmVhdGUoew0KCSAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsNCgkgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgfSk7DQoNCgkgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gY29udGV4dC5hZGRNZW1iZXJVc2VyTmFtZS5nbG93TG9va1VwVGV4dEJveCgnY291bnQnKTsNCgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7DQoJICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgew0KDQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBjb250ZXh0LmFkZE1lbWJlclVzZXJOYW1lLmdsb3dMb29rVXBUZXh0Qm94KCdnZXRCeUluZGV4JywgaSk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBpdGVtLlZhbHVlLnNwbGl0KC86LywgMik7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2WzBdID09ICd1c2VyJykgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJJZCA9IHZbMV07DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5hZGQoZnVuY3Rpb24gKCkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LmFkZE1lbWJlclVybCwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyBUeXBlOiAndXNlcicsIEdyb3VwSWQ6IGNvbnRleHQuZ3JvdXBJZCwgVXNlcklkOiB1c2VySWQsIEdyb3VwTWVtYmVyc2hpcFR5cGU6IGNvbnRleHQuYWRkTWVtYmVyTWVtYmVyc2hpcFR5cGUudmFsKCkgfSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5zdWNjZXNzKCk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuYWpheEVycm9yVGV4dCwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIGRlc2MsIGV4KSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5lcnJvcigpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLCB7IHR5cGU6ICdlcnJvcicgfSk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFkZE1lbWJlclNhdmUucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCQkJCQkJCQljb250ZXh0LmFkZE1lbWJlclNhdmUucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3Byb2Nlc3NpbmcnKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodlswXSA9PSAncm9sZScpIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByb2xlSWQgPSB2WzFdOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3MuYWRkKGZ1bmN0aW9uICgpIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5hZGRNZW1iZXJVcmwsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgVHlwZTogJ3JvbGUnLCBHcm91cElkOiBjb250ZXh0Lmdyb3VwSWQsIFJvbGVJZDogcm9sZUlkLCBHcm91cE1lbWJlcnNoaXBUeXBlOiBjb250ZXh0LmFkZE1lbWJlck1lbWJlcnNoaXBUeXBlLnZhbCgpIH0sDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3Muc3VjY2VzcygpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmFqYXhFcnJvclRleHQsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBkZXNjLCBleCkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3MuZXJyb3IoKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coZGVzYywgeyB0eXBlOiAnZXJyb3InIH0pOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hZGRNZW1iZXJTYXZlLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQkJCQkJCQkJY29udGV4dC5hZGRNZW1iZXJTYXZlLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZbMF0gPT0gJ2xkYXBVc2VyJykgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJOYW1lID0gdlsxXTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzLmFkZChmdW5jdGlvbiAoKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQuYWRkTWVtYmVyVXJsLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IFR5cGU6ICdsZGFwVXNlcicsIEdyb3VwSWQ6IGNvbnRleHQuZ3JvdXBJZCwgTGRhcE5hbWU6IHVzZXJOYW1lLCBHcm91cE1lbWJlcnNoaXBUeXBlOiBjb250ZXh0LmFkZE1lbWJlck1lbWJlcnNoaXBUeXBlLnZhbCgpIH0sDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3Muc3VjY2VzcygpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmFqYXhFcnJvclRleHQsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBkZXNjLCBleCkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3MuZXJyb3IoKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coZGVzYywgeyB0eXBlOiAnZXJyb3InIH0pOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hZGRNZW1iZXJTYXZlLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQkJCQkJCQkJY29udGV4dC5hZGRNZW1iZXJTYXZlLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZbMF0gPT0gJ2xkYXBSb2xlJykgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvbGVOYW1lID0gdlsxXTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzLmFkZChmdW5jdGlvbiAoKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQuYWRkTWVtYmVyVXJsLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IFR5cGU6ICdsZGFwUm9sZScsIEdyb3VwSWQ6IGNvbnRleHQuZ3JvdXBJZCwgTGRhcE5hbWU6IHJvbGVOYW1lLCBHcm91cE1lbWJlcnNoaXBUeXBlOiBjb250ZXh0LmFkZE1lbWJlck1lbWJlcnNoaXBUeXBlLnZhbCgpIH0sDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwb25zZSkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3Muc3VjY2VzcygpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmFqYXhFcnJvclRleHQsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoeGhyLCBkZXNjLCBleCkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3MuZXJyb3IoKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coZGVzYywgeyB0eXBlOiAnZXJyb3InIH0pOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5hZGRNZW1iZXJTYXZlLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQkJCQkJCQkJY29udGV4dC5hZGRNZW1iZXJTYXZlLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICAgICAgfSkoKTsNCgkgICAgICAgICAgICAgICAgfQ0KDQoJICAgICAgICAgICAgICAgIHRhc2tzLnJ1bigpOw0KCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQoJICAgICAgICAgICAgfQ0KCSAgICAgICAgfSk7DQoNCgkgICAgICAgIGNvbnRleHQuYWRkTWVtYmVyVXNlck5hbWUuYmluZCgnZ2xvd0xvb2tVcFRleHRCb3hDaGFuZ2UnLCBjb250ZXh0LmFkZE1lbWJlclNhdmUuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkQ3VzdG9tVmFsaWRhdGlvbicsICdyZXF1aXJlZHVzZXJuYW1lJywgZnVuY3Rpb24gKCkgew0KCSAgICAgICAgICAgIHJldHVybiBjb250ZXh0LmFkZE1lbWJlclVzZXJOYW1lLmdsb3dMb29rVXBUZXh0Qm94KCdjb3VudCcpID4gMDsNCgkgICAgICAgIH0sDQoJCQkJY29udGV4dC5hZGRNZW1iZXJVc2VyTmFtZU1pc3NpbmdUZXh0LA0KCQkJCScjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS51c2VybmFtZSAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywNCgkJCQludWxsKSk7DQoJICAgIH0NCg0KCSAgICBpZiAoY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVVc2VyTmFtZSAmJiBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZVVzZXJOYW1lLmxlbmd0aCA+IDApIHsNCgkgICAgICAgIGNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lSW52aXRlLmV2b2x1dGlvblZhbGlkYXRpb24oew0KCSAgICAgICAgICAgIG9uVmFsaWRhdGVkOiBmdW5jdGlvbiAoaXNWYWxpZCwgYnV0dG9uQ2xpY2tlZCwgYykgew0KCSAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCkgew0KCSAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVJbnZpdGUucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgZWxzZSB7DQoJICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZUludml0ZS5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgIH0sDQoJICAgICAgICAgICAgb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uIChlKSB7DQoJICAgICAgICAgICAgICAgIGNvbnRleHQubWVzc2FnZS5oaWRlKCk7DQoJCQkJCWlmICghY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVJbnZpdGUucGFyZW50KCkuaGFzQ2xhc3MoJ3Byb2Nlc3NpbmcnKSkNCgkJCQkJCWNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lSW52aXRlLnBhcmVudCgpLmFkZENsYXNzKCdwcm9jZXNzaW5nJyk7DQoJICAgICAgICAgICAgICAgIGNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lSW52aXRlLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KDQoJICAgICAgICAgICAgICAgIHZhciB0YXNrcyA9IFRhc2tTZXF1ZW5jZS5jcmVhdGUoew0KCSAgICAgICAgICAgICAgICAgICAgb25Db21wbGV0ZTogZnVuY3Rpb24gKCkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubWVzc2FnZS5zaG93KCk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVJbnZpdGUucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCQkJY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVJbnZpdGUucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3Byb2Nlc3NpbmcnKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVVc2VyTmFtZS5nbG93TG9va1VwVGV4dEJveCgnY291bnQnKSA+IDApIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVVc2VyTmFtZS5nbG93TG9va1VwVGV4dEJveCgncmVtb3ZlQnlJbmRleCcsIDApOw0KCSAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZU1lc3NhZ2UudmFsKCcnKTsNCgkgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgfSk7DQoNCgkgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVVc2VyTmFtZS5nbG93TG9va1VwVGV4dEJveCgnY291bnQnKTsNCgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb3VudDsgaSsrKSB7DQoJICAgICAgICAgICAgICAgICAgICAoZnVuY3Rpb24gKCkgew0KDQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZVVzZXJOYW1lLmdsb3dMb29rVXBUZXh0Qm94KCdnZXRCeUluZGV4JywgaSk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGl0ZW0pIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHYgPSBpdGVtLlZhbHVlLnNwbGl0KC86Lyk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2WzBdID09ICd1c2VyJykgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJJZCA9IHZbMV07DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5hZGQoZnVuY3Rpb24gKCkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LnNlbmRJbnZpdGF0aW9uVXJsLA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IEdyb3VwSWQ6IGNvbnRleHQuZ3JvdXBJZCwgVXNlcklkOiB1c2VySWQsIE1lbWJlcnNoaXBUeXBlOiBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZU1lbWJlcnNoaXBUeXBlLnZhbCgpLCBNZXNzYWdlOiBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZU1lc3NhZ2UudmFsKCkgfSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5zdWNjZXNzKCk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuYWpheEVycm9yVGV4dCwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIGRlc2MsIGV4KSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5lcnJvcigpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLCB7IHR5cGU6ICdlcnJvcicgfSk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZUludml0ZS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJCQkJCQkJCWNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lSW52aXRlLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZbMF0gPT0gJ2xkYXBVc2VyJykgew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVzZXJOYW1lID0gdlsxXTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzLmFkZChmdW5jdGlvbiAoKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQuc2VuZEludml0YXRpb25VcmwsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgR3JvdXBJZDogY29udGV4dC5ncm91cElkLCBMZGFwTmFtZTogdXNlck5hbWUsIE1lbWJlcnNoaXBUeXBlOiBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZU1lbWJlcnNoaXBUeXBlLnZhbCgpLCBNZXNzYWdlOiBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZU1lc3NhZ2UudmFsKCkgfSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5zdWNjZXNzKCk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuYWpheEVycm9yVGV4dCwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIGRlc2MsIGV4KSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5lcnJvcigpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLCB7IHR5cGU6ICdlcnJvcicgfSk7DQoJCQkJCQkJCQkJCQljb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZUludml0ZS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJCQkJCQkJCWNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lSW52aXRlLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICAgICAgfSkoKTsNCgkgICAgICAgICAgICAgICAgfQ0KDQoJICAgICAgICAgICAgICAgIHRhc2tzLnJ1bigpOw0KCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQoJICAgICAgICAgICAgfQ0KCSAgICAgICAgfSk7DQoNCgkgICAgICAgIGNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lVXNlck5hbWUuYmluZCgnZ2xvd0xvb2tVcFRleHRCb3hDaGFuZ2UnLCBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZUludml0ZS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRDdXN0b21WYWxpZGF0aW9uJywgJ3JlcXVpcmVkdXNlcm5hbWUnLCBmdW5jdGlvbiAoKSB7DQoJICAgICAgICAgICAgcmV0dXJuIGNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lVXNlck5hbWUuZ2xvd0xvb2tVcFRleHRCb3goJ2NvdW50JykgPiAwOw0KCSAgICAgICAgfSwNCgkJCQljb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZVVzZXJOYW1lTWlzc2luZ1RleHQsDQoJCQkJJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLnVzZXItbmFtZSAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywNCgkJCQludWxsKSk7DQoJICAgIH0NCg0KCSAgICBpZiAoY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsRW1haWxBZGRyZXNzZXNTZWxlY3Rvcikgew0KCSAgICAgICAgY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsSW52aXRlLmV2b2x1dGlvblZhbGlkYXRpb24oew0KCSAgICAgICAgICAgIG9uVmFsaWRhdGVkOiBmdW5jdGlvbiAoaXNWYWxpZCwgYnV0dG9uQ2xpY2tlZCwgYykgew0KCSAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCkgew0KCSAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsSW52aXRlLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCSAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgICAgIGVsc2Ugew0KCSAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsSW52aXRlLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCSAgICAgICAgICAgICAgICB9DQoJICAgICAgICAgICAgfSwNCgkgICAgICAgICAgICBvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24gKGUpIHsNCgkgICAgICAgICAgICAgICAgY29udGV4dC5tZXNzYWdlLmhpZGUoKTsNCgkJCQkJaWYgKCFjb250ZXh0Lmludml0ZU1lbWJlckJ5RW1haWxJbnZpdGUucGFyZW50KCkuaGFzQ2xhc3MoJ3Byb2Nlc3NpbmcnKSkNCgkJCQkJCWNvbnRleHQuaW52aXRlTWVtYmVyQnlFbWFpbEludml0ZS5wYXJlbnQoKS5hZGRDbGFzcygncHJvY2Vzc2luZycpOw0KCSAgICAgICAgICAgICAgICBjb250ZXh0Lmludml0ZU1lbWJlckJ5RW1haWxJbnZpdGUuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQoNCgkgICAgICAgICAgICAgICAgdmFyIHRhc2tzID0gVGFza1NlcXVlbmNlLmNyZWF0ZSh7DQoJICAgICAgICAgICAgICAgICAgICBvbkNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5tZXNzYWdlLnNob3coKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmludml0ZU1lbWJlckJ5RW1haWxJbnZpdGUucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCQkJY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsSW52aXRlLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgJChjb250ZXh0Lmludml0ZU1lbWJlckJ5RW1haWxFbWFpbEFkZHJlc3Nlc1NlbGVjdG9yKS52YWwoJycpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICQoY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsTWVzc2FnZVNlbGVjdG9yKS52YWwoJycpOw0KCSAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICB9KTsNCg0KCSAgICAgICAgICAgICAgICB2YXIgYWRkcmVzc2VzID0gJChjb250ZXh0Lmludml0ZU1lbWJlckJ5RW1haWxFbWFpbEFkZHJlc3Nlc1NlbGVjdG9yKS52YWwoKS5zcGxpdCgvWyw7XS9nKTsNCgkgICAgICAgICAgICAgICAgJC5lYWNoKGFkZHJlc3NlcywgZnVuY3Rpb24gKGksIGFkZHJlc3MpIHsNCgkgICAgICAgICAgICAgICAgICAgIGFkZHJlc3MgPSAkLnRyaW0oYWRkcmVzcyk7DQoJICAgICAgICAgICAgICAgICAgICBpZiAoYWRkcmVzcykgew0KCSAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzLmFkZChmdW5jdGlvbiAoKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5zZW5kSW52aXRhdGlvblVybCwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgR3JvdXBJZDogY29udGV4dC5ncm91cElkLCBFbWFpbDogYWRkcmVzcywgTWVtYmVyc2hpcFR5cGU6IGNvbnRleHQuaW52aXRlTWVtYmVyQnlFbWFpbE1lbWJlcnNoaXBUeXBlLnZhbCgpLCBNZXNzYWdlOiAkKGNvbnRleHQuaW52aXRlTWVtYmVyQnlFbWFpbE1lc3NhZ2VTZWxlY3RvcikudmFsKCkgfSwNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzcG9uc2UpIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrcy5zdWNjZXNzKCk7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5hamF4RXJyb3JUZXh0LA0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uICh4aHIsIGRlc2MsIGV4KSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFza3MuZXJyb3IoKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2MsIHsgdHlwZTogJ2Vycm9yJyB9KTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZUludml0ZS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJCQkJCQljb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZUludml0ZS5wYXJlbnQoKS5yZW1vdmVDbGFzcygncHJvY2Vzc2luZycpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCgkgICAgICAgICAgICAgICAgICAgICAgICB9KTsNCgkgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgfSk7DQoNCgkgICAgICAgICAgICAgICAgdGFza3MucnVuKCk7DQoJICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCgkgICAgICAgICAgICB9DQoJICAgICAgICB9KTsNCg0KCSAgICAgICAgY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsSW52aXRlLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywgY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsRW1haWxBZGRyZXNzZXNTZWxlY3RvciwNCgkJCXsNCgkJCSAgICByZXF1aXJlZDogdHJ1ZSwNCgkJCSAgICBlbWFpbHM6IHRydWUsDQoJCQkgICAgbWVzc2FnZXM6DQoJCQkJew0KCQkJCSAgICByZXF1aXJlZDogY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsRW1haWxBZGRyZXNzUmVxdWlyZWRUZXh0LA0KCQkJCSAgICBlbWFpbHM6IGNvbnRleHQuaW52aXRlTWVtYmVyQnlFbWFpbEVtYWlsQWRkcmVzc0ludmFsaWRUZXh0DQoJCQkJfQ0KCQkJfSwgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLmVtYWlsIC5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCBudWxsKTsNCgkgICAgfQ0KCX07DQoNCiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5ncm91cE1lbWJlcnNoaXBMaXN0ID0gew0KICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKGNvbnRleHQpIHsNCiAgICAgICAgICAgIGlmIChjb250ZXh0Lm1lbWJlcnNoaXBUYWJzICYmIGNvbnRleHQubWVtYmVyc2hpcFRhYnMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQubWVtYmVyc2hpcFRhYnMuZ2xvd1RhYmJlZFBhbmVzKHsNCiAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICd0YWItcGFuZScsDQogICAgICAgICAgICAgICAgICAgIHRhYlNldENzc0NsYXNzOiAndGFiLXNldCB3aXRoLXBhbmVzJywNCiAgICAgICAgICAgICAgICAgICAgdGFiQ3NzQ2xhc3NlczogWyd0YWInXSwNCiAgICAgICAgICAgICAgICAgICAgdGFiU2VsZWN0ZWRDc3NDbGFzc2VzOiBbJ3RhYiBzZWxlY3RlZCddLA0KICAgICAgICAgICAgICAgICAgICB0YWJIb3ZlckNzc0NsYXNzZXM6IFsndGFiIGhvdmVyJ10sDQogICAgICAgICAgICAgICAgICAgIGVuYWJsZVJlc2l6aW5nOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgdGFiczogWw0KCQkJCQkJW2NvbnRleHQubWVtYmVyc1RhYklkLCBjb250ZXh0Lm1lbWJlcnNUYWJUZXh0LCBudWxsXSwNCgkJCQkJCVtjb250ZXh0LnJvbGVNZW1iZXJzVGFiSWQsIGNvbnRleHQucm9sZU1lbWJlcnNUYWJUZXh0LCBudWxsXQ0KCQkJCQldDQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICB2YXIgdGFiID0gY29udGV4dC5tZW1iZXJzaGlwVGFicy5nbG93VGFiYmVkUGFuZXMoJ2dldEJ5SW5kZXgnLCBjb250ZXh0Lm1lbWJlcnNoaXBUYWJTZWxlY3RlZEluZGV4KTsNCiAgICAgICAgICAgICAgICBpZiAodGFiKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQubWVtYmVyc2hpcFRhYnMuZ2xvd1RhYmJlZFBhbmVzKCdzZWxlY3RlZCcsIHRhYik7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBpZiAoY29udGV4dC5hZGRNZW1iZXJUYWJzICYmIGNvbnRleHQuYWRkTWVtYmVyVGFicy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgY29udGV4dC5hZGRNZW1iZXJUYWJzLmdsb3dUYWJiZWRQYW5lcyh7DQogICAgICAgICAgICAgICAgICAgIGNzc0NsYXNzOiAndGFiLXBhbmUnLA0KICAgICAgICAgICAgICAgICAgICB0YWJTZXRDc3NDbGFzczogJ3RhYi1zZXQgd2l0aC1wYW5lcycsDQogICAgICAgICAgICAgICAgICAgIHRhYkNzc0NsYXNzZXM6IFsndGFiJ10sDQogICAgICAgICAgICAgICAgICAgIHRhYlNlbGVjdGVkQ3NzQ2xhc3NlczogWyd0YWIgc2VsZWN0ZWQnXSwNCiAgICAgICAgICAgICAgICAgICAgdGFiSG92ZXJDc3NDbGFzc2VzOiBbJ3RhYiBob3ZlciddLA0KICAgICAgICAgICAgICAgICAgICBlbmFibGVSZXNpemluZzogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIHRhYnM6IFsNCgkJCQkJCVtjb250ZXh0LmFkZE1lbWJlclRhYklkLCBjb250ZXh0LmFkZE1lbWJlclRhYlRleHQsIG51bGxdLA0KCQkJCQkJW2NvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lVGFiSWQsIGNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lVGFiVGV4dCwgbnVsbF0sDQoJCQkJCQlbY29udGV4dC5pbnZpdGVNZW1iZXJCeUVtYWlsVGFiSWQsIGNvbnRleHQuaW52aXRlTWVtYmVyQnlFbWFpbFRhYlRleHQsIG51bGxdDQoJCQkJCV0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhhc2ggPT09ICcjaW52aXRlJykgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaW52aXRlVGFiID0gY29udGV4dC5hZGRNZW1iZXJUYWJzLmdsb3dUYWJiZWRQYW5lcygnZ2V0QnlJZCcsIGNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lVGFiSWQpOw0KICAgICAgICAgICAgICAgICAgICBpZiAoaW52aXRlVGFiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmFkZE1lbWJlclRhYnMuZ2xvd1RhYmJlZFBhbmVzKCdzZWxlY3RlZCcsIGludml0ZVRhYik7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIGlmIChjb250ZXh0LmFkZE1lbWJlclVzZXJOYW1lICYmIGNvbnRleHQuYWRkTWVtYmVyVXNlck5hbWUubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQuYWRkTWVtYmVyVXNlck5hbWUuZ2xvd0xvb2tVcFRleHRCb3goDQoJCQkJew0KCQkJCSAgICBlbXB0eUh0bWw6ICcnLA0KCQkJCSAgICBtYXhWYWx1ZXM6IDIwLA0KCQkJCSAgICBvbkdldExvb2tVcHM6IGZ1bmN0aW9uICh0Yiwgc2VhcmNoVGV4dCkgew0KCQkJCSAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChjb250ZXh0LmFkZE1lbWJlclVzZXJOYW1lVGltZW91dCk7DQoJCQkJICAgICAgICBpZiAoc2VhcmNoVGV4dCAmJiBzZWFyY2hUZXh0Lmxlbmd0aCA+PSAyKSB7DQoJCQkJICAgICAgICAgICAgdGIuZ2xvd0xvb2tVcFRleHRCb3goJ3VwZGF0ZVN1Z2dlc3Rpb25zJywgW3RiLmdsb3dMb29rVXBUZXh0Qm94KCdjcmVhdGVMb29rVXAnLCAnJywgJzxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsiPjxpbWcgc3JjPSInICsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ3V0aWxpdHkvc3Bpbm5lci5naWYiIC8+PC9kaXY+JywgJzxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsiPjxpbWcgc3JjPSInICsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ3V0aWxpdHkvc3Bpbm5lci5naWYiIC8+PC9kaXY+JywgZmFsc2UpXSk7DQoJCQkJICAgICAgICAgICAgY29udGV4dC5hZGRNZW1iZXJVc2VyTmFtZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7DQoJCQkJICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KCQkJCSAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LmZpbmRVc2Vyc09yUm9sZXNVcmwsDQoJCQkJICAgICAgICAgICAgICAgICAgICBkYXRhOiB7IHdfU2VhcmNoVGV4dDogc2VhcmNoVGV4dCwgd19JbmNsdWRlUm9sZXM6ICdUcnVlJyB9LA0KCQkJCSAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm1hdGNoZXMubGVuZ3RoID4gMSkgew0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VnZ2VzdGlvbnMgPSBbXTsNCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5tYXRjaGVzLmxlbmd0aDsgaSsrKSB7DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHJlc3BvbnNlLm1hdGNoZXNbaV07DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLnVzZXJJZCkgew0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zW3N1Z2dlc3Rpb25zLmxlbmd0aF0gPSB0Yi5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywgJ3VzZXI6JyArIGl0ZW0udXNlcklkLCBpdGVtLnRpdGxlLCBpdGVtLnRpdGxlLCB0cnVlKTsNCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0gJiYgaXRlbS5yb2xlSWQpIHsNCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0aW9uc1tzdWdnZXN0aW9ucy5sZW5ndGhdID0gdGIuZ2xvd0xvb2tVcFRleHRCb3goJ2NyZWF0ZUxvb2tVcCcsICdyb2xlOicgKyBpdGVtLnJvbGVJZCwgaXRlbS50aXRsZSwgaXRlbS50aXRsZSwgdHJ1ZSk7DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpdGVtICYmIGl0ZW0ubGRhcFJvbGVJZCkgew0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zW3N1Z2dlc3Rpb25zLmxlbmd0aF0gPSB0Yi5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywgJ2xkYXBSb2xlOicgKyBpdGVtLmxkYXBSb2xlSWQgKyAnOicgKyBpdGVtLmxkYXBSb2xlRG4sIGl0ZW0udGl0bGUsIGl0ZW0udGl0bGUsIHRydWUpOw0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoaXRlbSAmJiBpdGVtLmxkYXBVc2VySWQpIHsNCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWdnZXN0aW9uc1tzdWdnZXN0aW9ucy5sZW5ndGhdID0gdGIuZ2xvd0xvb2tVcFRleHRCb3goJ2NyZWF0ZUxvb2tVcCcsICdsZGFwVXNlcjonICsgaXRlbS5sZGFwVXNlcklkLCBpdGVtLnRpdGxlLCBpdGVtLnRpdGxlLCB0cnVlKTsNCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KDQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRiLmdsb3dMb29rVXBUZXh0Qm94KCd1cGRhdGVTdWdnZXN0aW9ucycsIHN1Z2dlc3Rpb25zKTsNCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICB9DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZQ0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Yi5nbG93TG9va1VwVGV4dEJveCgndXBkYXRlU3VnZ2VzdGlvbnMnLCBbdGIuZ2xvd0xvb2tVcFRleHRCb3goJ2NyZWF0ZUxvb2tVcCcsICcnLCBjb250ZXh0Lm5vVXNlck9yUm9sZU1hdGNoZXNUZXh0LCBjb250ZXh0Lm5vVXNlck9yUm9sZU1hdGNoZXNUZXh0LCBmYWxzZSldKTsNCgkJCQkgICAgICAgICAgICAgICAgICAgIH0NCgkJCQkgICAgICAgICAgICAgICAgfSk7DQoJCQkJICAgICAgICAgICAgfSwgNzQ5KTsNCgkJCQkgICAgICAgIH0NCgkJCQkgICAgfSwNCgkJCQkgICAgc2VsZWN0ZWRMb29rVXBzSHRtbDogW10NCgkJCQl9KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgaWYgKGNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lVXNlck5hbWUgJiYgY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVVc2VyTmFtZS5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgY29udGV4dC5pbnZpdGVNZW1iZXJCeU5hbWVVc2VyTmFtZS5nbG93TG9va1VwVGV4dEJveCgNCgkJCQl7DQoJCQkJICAgIGVtcHR5SHRtbDogJycsDQoJCQkJICAgIG1heFZhbHVlczogMjAsDQoJCQkJICAgIG9uR2V0TG9va1VwczogZnVuY3Rpb24gKHRiLCBzZWFyY2hUZXh0KSB7DQoJCQkJICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGNvbnRleHQuaW52aXRlTWVtYmVyQnlOYW1lVXNlck5hbWVUaW1lb3V0KTsNCgkJCQkgICAgICAgIGlmIChzZWFyY2hUZXh0ICYmIHNlYXJjaFRleHQubGVuZ3RoID49IDIpIHsNCgkJCQkgICAgICAgICAgICB0Yi5nbG93TG9va1VwVGV4dEJveCgndXBkYXRlU3VnZ2VzdGlvbnMnLCBbdGIuZ2xvd0xvb2tVcFRleHRCb3goJ2NyZWF0ZUxvb2tVcCcsICcnLCAnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+PGltZyBzcmM9IicgKyAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAndXRpbGl0eS9zcGlubmVyLmdpZiIgLz48L2Rpdj4nLCAnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyI+PGltZyBzcmM9IicgKyAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAndXRpbGl0eS9zcGlubmVyLmdpZiIgLz48L2Rpdj4nLCBmYWxzZSldKTsNCgkJCQkgICAgICAgICAgICBjb250ZXh0Lmludml0ZU1lbWJlckJ5TmFtZVVzZXJOYW1lVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsNCgkJCQkgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQuZmluZFVzZXJzT3JSb2xlc1VybCwNCgkJCQkgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsgd19TZWFyY2hUZXh0OiBzZWFyY2hUZXh0LCB3X0luY2x1ZGVSb2xlczogJ0ZhbHNlJyB9LA0KCQkJCSAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLm1hdGNoZXMubGVuZ3RoID4gMSkgew0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3VnZ2VzdGlvbnMgPSBbXTsNCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXNwb25zZS5tYXRjaGVzLmxlbmd0aDsgaSsrKSB7DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IHJlc3BvbnNlLm1hdGNoZXNbaV07DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLnVzZXJJZCkgew0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Z2dlc3Rpb25zW3N1Z2dlc3Rpb25zLmxlbmd0aF0gPSB0Yi5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJywgJ3VzZXI6JyArIGl0ZW0udXNlcklkLCBpdGVtLnRpdGxlLCBpdGVtLnRpdGxlLCB0cnVlKTsNCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGl0ZW0gJiYgaXRlbS5sZGFwVXNlcklkKSB7DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGlvbnNbc3VnZ2VzdGlvbnMubGVuZ3RoXSA9IHRiLmdsb3dMb29rVXBUZXh0Qm94KCdjcmVhdGVMb29rVXAnLCAnbGRhcFVzZXI6JyArIGl0ZW0ubGRhcFVzZXJJZCwgaXRlbS50aXRsZSwgaXRlbS50aXRsZSwgdHJ1ZSk7DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB0Yi5nbG93TG9va1VwVGV4dEJveCgndXBkYXRlU3VnZ2VzdGlvbnMnLCBzdWdnZXN0aW9ucyk7DQoJCQkJICAgICAgICAgICAgICAgICAgICAgICAgfQ0KCQkJCSAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UNCgkJCQkgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGIuZ2xvd0xvb2tVcFRleHRCb3goJ3VwZGF0ZVN1Z2dlc3Rpb25zJywgW3RiLmdsb3dMb29rVXBUZXh0Qm94KCdjcmVhdGVMb29rVXAnLCAnJywgY29udGV4dC5ub1VzZXJPclJvbGVNYXRjaGVzVGV4dCwgY29udGV4dC5ub1VzZXJPclJvbGVNYXRjaGVzVGV4dCwgZmFsc2UpXSk7DQoJCQkJICAgICAgICAgICAgICAgICAgICB9DQoJCQkJICAgICAgICAgICAgICAgIH0pOw0KCQkJCSAgICAgICAgICAgIH0sIDc0OSk7DQoJCQkJICAgICAgICB9DQoJCQkJICAgIH0sDQoJCQkJICAgIHNlbGVjdGVkTG9va1Vwc0h0bWw6IFtdDQoJCQkJfSk7DQogICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIF9hdHRhY2hIYW5kbGVycyhjb250ZXh0KTsNCiAgICAgICAgfQ0KICAgIH07DQp9KShqUXVlcnkpOw0K</file>
			<file name="view-members.vm">I3NldCgkc29ydEJ5ID0gZmFsc2UpDQojc2V0KCRzb3J0QnkgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ1NvcnRCeScpKQ0KI2lmICghJHNvcnRCeSkNCgkjc2V0KCRzb3J0QnkgPSAnVXNlcm5hbWUnKQ0KI2VuZA0KDQojc2V0KCRzaG93ID0gZmFsc2UpDQojc2V0KCRzaG93ID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdTaG93JykpDQojaWYgKCEkc2hvdykNCgkjc2V0KCRzaG93ID0gJycpDQojZW5kDQoNCjxkaXYgY2xhc3M9ImZpbHRlciI+DQoJPGRpdiBjbGFzcz0icXVlcnktZmlsdGVyIj4NCgkJPHNwYW4gY2xhc3M9ImZpbHRlci1sYWJlbCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfU29ydEJ5Jyk8L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uI2lmKCRzb3J0QnkgIT0nQWN0aXZpdHknICYmICRzb3J0QnkgIT0gJ1JlY2VudCcgJiYgJHNvcnRCeSAhPSAnTWVtYmVyc2hpcFR5cGUnICYmICRzaG93ICE9ICdQZW5kaW5nJykgc2VsZWN0ZWQjZW5kIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJTb3J0Qnk9VXNlcm5hbWUmJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSZTaG93PSIpKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfVXNlcm5hbWUnKTwvYT48L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uI2lmKCRzb3J0QnkgPT0nQWN0aXZpdHknKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNvcnRCeT1BY3Rpdml0eSYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xJlNob3c9IikpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19SZWNlbnRBY3Rpdml0eScpPC9hPjwvc3Bhbj4NCgkJPHNwYW4gY2xhc3M9InNlcGFyYXRvciI+fDwvc3Bhbj4NCgkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24jaWYoJHNvcnRCeSA9PSdSZWNlbnQnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNvcnRCeT1SZWNlbnQmJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSZTaG93PSIpKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfUmVjZW50VXNlcnMnKTwvYT48L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uI2lmKCRzb3J0QnkgPT0nTWVtYmVyc2hpcFR5cGUnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNvcnRCeT1NZW1iZXJzaGlwVHlwZSYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xJlNob3c9IikpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZScpPC9hPjwvc3Bhbj4NCgkJI2lmICgkY29yZV92Ml9ub2RlUGVybWlzc2lvbi5HZXQoJ2dyb3VwcycsJGdyb3VwLklkLCdHcm91cF9Nb2RpZnlNZW1iZXJzaGlwJykuSXNBbGxvd2VkKQ0KCQkJPHNwYW4gY2xhc3M9InNlcGFyYXRvciI+fDwvc3Bhbj4NCgkJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uI2lmKCRzaG93ID09J1BlbmRpbmcnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNvcnRCeT0mJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSZTaG93PVBlbmRpbmciKSkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfR3JvdXBNZW1iZXJzaGlwTGlzdF9QZW5kaW5nVXNlcnMnKTwvYT48L3NwYW4+DQoJCSNlbmQNCgk8L2Rpdj4NCjwvZGl2Pg0KDQojc2V0KCRjYW5Nb2RpZnlNZW1iZXJzaGlwID0gZmFsc2UpDQojaWYoJGNvcmVfdjJfbm9kZVBlcm1pc3Npb24uR2V0KCdncm91cHMnLCRncm91cC5JZCwnR3JvdXBfTW9kaWZ5TWVtYmVyc2hpcCcpLklzQWxsb3dlZCkNCgkjc2V0KCRjYW5Nb2RpZnlNZW1iZXJzaGlwID0gdHJ1ZSkNCiNlbmQNCg0KI2lmKCRzaG93ID09ICdQZW5kaW5nJykNCgkjc2V0KCRvcHRpb25zID0gIiV7UGFnZVNpemU9MTUsTWVtYmVyc2hpcFR5cGU9J1BlbmRpbmdNZW1iZXInLFNvcnRCeT0nVXNlcm5hbWUnLFNvcnRPcmRlcj0nQXNjZW5kaW5nJ30iKQ0KCSRvcHRpb25zLkFkZCgnUGFnZUluZGV4JywgJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQ0KDQoJI3NldCgkbWVtYmVycyA9ICRjb3JlX3YyX2dyb3VwVXNlck1lbWJlci5MaXN0KCRncm91cC5JZCwgJG9wdGlvbnMpKQ0KCSNmb3JlYWNoICgkbWVtYmVyIGluICRtZW1iZXJzKQ0KCSNiZWZvcmVhbGwNCgkJPGRpdiBjbGFzcz0idGFibGUtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCQk8dGFibGUgY2xhc3M9InRhYmxlLWxpc3QiPg0KCQkJPGNvbCB3aWR0aD0iNDAlIiBhbGlnbj0ibGVmdCIgLz4NCgkJCTxjb2wgd2lkdGg9IjQwJSIgYWxpZ249ImxlZnQiIC8+DQoJCQk8Y29sIHdpZHRoPSIyMCUiIGFsaWduPSJyaWdodCIgLz4NCgkJCTx0Ym9keT4NCgkjZWFjaA0KCQk8dHIgY2xhc3M9InRhYmxlLWl0ZW0iPg0KCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4iPg0KCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPg0KCQkJCQkjaWYgKCRtZW1iZXIuVXNlci5Qcm9maWxlVXJsKQ0KCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG1lbWJlci5Vc2VyLlByb2ZpbGVVcmwpIj4NCgkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRtZW1iZXIuVXNlci5BdmF0YXJVcmwsMjksMjksIiV7IHN0eWxlPSdib3JkZXItd2lkdGg6IDBweDsnLCBhbHQ9JG1lbWJlci5Vc2VyLkRpc3BsYXlOYW1lfSIpDQoJCQkJCQk8L2E+DQoJCQkJCSNlbHNlDQoJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRtZW1iZXIuVXNlci5BdmF0YXJVcmwsMjksMjksIiV7IHN0eWxlPSdib3JkZXItd2lkdGg6IDBweDsnLCBhbHQ9JG1lbWJlci5Vc2VyLkRpc3BsYXlOYW1lfSIpDQoJCQkJCSNlbmQNCgkJCQk8L3NwYW4+DQoJCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+DQoJCQkJCSNpZiAoJG1lbWJlci5Vc2VyLlByb2ZpbGVVcmwpDQoJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVtYmVyLlVzZXIuUHJvZmlsZVVybCkiPiRtZW1iZXIuVXNlci5EaXNwbGF5TmFtZTwvYT4NCgkJCQkJI2Vsc2UNCgkJCQkJCSRtZW1iZXIuVXNlci5EaXNwbGF5TmFtZQ0KCQkJCQkjZW5kDQoJCQkJCSNpZigkbWVtYmVyLlVzZXIuVXNlcm5hbWUgIT0gJG1lbWJlci5Vc2VyLkRpc3BsYXlOYW1lKQ0KCQkJCQkJKCRtZW1iZXIuVXNlci5Vc2VybmFtZSkNCgkJCQkJI2VuZA0KCQkJCTwvc3Bhbj4NCgkJCTwvdGQ+DQoJCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBtZW1iZXJzaGlwLXN0YXR1cyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfUGVuZGluZ01lbWJlcicpPC90ZD4NCgkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIj4NCgkJCQkjaWYgKCRjYW5Nb2RpZnlNZW1iZXJzaGlwKQ0KCQkJCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQkJCTxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJCQkJCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQkJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBhY2NlcHQtbWVtYmVyIj4NCgkJCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPjxhIGhyZWY9IiMiIGRhdGEtdXNlcmlkPSIkbWVtYmVyLlVzZXIuSWQiIGRhdGEtbWVtYmVyc2hpcHR5cGU9Ik1lbWJlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0ZyaWVuZFJlcXVlc3RfQWNjZXB0Jyk8L2E+PC9zcGFuPiB8DQoJCQkJCQkJPC9saT4NCgkJCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gcmVqZWN0LW1lbWJlciI+DQoJCQkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48YSBocmVmPSIjIiBkYXRhLXVzZXJpZD0iJG1lbWJlci5Vc2VyLklkIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRnJpZW5kUmVxdWVzdF9SZWplY3QnKTwvYT48L3NwYW4+DQoJCQkJCQkJPC9saT4NCgkJCQkJCTwvdWw+DQoJCQkJCTwvZmllbGRzZXQ+DQoJCQkJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4NCgkJCQkjZW5kDQoJCQk8L3RkPg0KCQk8L3RyPg0KCSNhZnRlcmFsbA0KCQkJPC90Ym9keT4NCgkJPC90YWJsZT4NCgkJPGRpdiBjbGFzcz0idGFibGUtbGlzdC1mb290ZXIiPjwvZGl2Pg0KCSNub2RhdGENCgkJPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfTWVtYmVyc2hpcF9Ob1BlbmRpbmdSZXF1ZXN0cycpPC9kaXY+DQoJI2VuZA0KDQoJJGNvcmVfdjJfdWkuUGFnZXIoJG1lbWJlcnMuUGFnZUluZGV4LCAkbWVtYmVycy5QYWdlU2l6ZSwgJG1lbWJlcnMuVG90YWxDb3VudCkNCiNlbHNlDQoJI3NldCgkb3B0aW9ucyA9ICIle1BhZ2VTaXplPTE1LE1lbWJlcnNoaXBUeXBlPSdNYW5hZ2VyLE1lbWJlcixPd25lcid9IikNCgkkb3B0aW9ucy5BZGQoJ1BhZ2VJbmRleCcsICRjb3JlX3YyX3VpLkdldEN1cnJlbnRQYWdlSW5kZXgoKSkNCg0KCSNpZigkc29ydEJ5ID09ICdBY3Rpdml0eScpDQoJCSRvcHRpb25zLkFkZCgnU29ydEJ5JywgJ1VzZXJMYXN0QWN0aXZlRGF0ZScpDQoJCSRvcHRpb25zLkFkZCgnU29ydE9yZGVyJywgJ0Rlc2NlbmRpbmcnKQ0KCSNlbHNlaWYgKCRzb3J0QnkgPT0gJ1JlY2VudCcpDQoJCSRvcHRpb25zLkFkZCgnU29ydEJ5JywgJ1VzZXJKb2luZWREYXRlJykNCgkJJG9wdGlvbnMuQWRkKCdTb3J0T3JkZXInLCAnRGVzY2VuZGluZycpDQoJI2Vsc2VpZiAoJHNvcnRCeSA9PSAnTWVtYmVyc2hpcFR5cGUnKQ0KCQkkb3B0aW9ucy5BZGQoJ1NvcnRCeScsICdNZW1iZXJzaGlwVHlwZScpDQoJCSRvcHRpb25zLkFkZCgnU29ydE9yZGVyJywgJ0Rlc2NlbmRpbmcnKQ0KCSNlbHNlDQoJCSRvcHRpb25zLkFkZCgnU29ydEJ5JywgJ1VzZXJuYW1lJykNCgkJJG9wdGlvbnMuQWRkKCdTb3J0T3JkZXInLCAnQXNjZW5kaW5nJykNCgkjZW5kDQoNCgkjc2V0KCRtZW1iZXJzID0gJGNvcmVfdjJfZ3JvdXBVc2VyTWVtYmVyLkxpc3QoJGdyb3VwLklkLCAkb3B0aW9ucykpDQoJI2ZvcmVhY2ggKCRtZW1iZXIgaW4gJG1lbWJlcnMpDQoJI2JlZm9yZWFsbA0KCQk8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWhlYWRlciI+PC9kaXY+DQoJCTx0YWJsZSBjbGFzcz0idGFibGUtbGlzdCI+DQoJCQk8Y29sIHdpZHRoPSI0MCUiIGFsaWduPSJsZWZ0IiAvPg0KCQkJPGNvbCB3aWR0aD0iNDAlIiBhbGlnbj0ibGVmdCIgLz4NCgkJCTxjb2wgd2lkdGg9IjIwJSIgYWxpZ249InJpZ2h0IiAvPg0KCQkJPHRib2R5Pg0KCSNlYWNoDQoJCSNpZiAoJG1lbWJlciAmJiAkbWVtYmVyLlVzZXIpDQoJCQk8dHIgY2xhc3M9InRhYmxlLWl0ZW0iPg0KCQkJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIj4NCgkJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+DQoJCQkJCQkjaWYgKCRtZW1iZXIuVXNlci5Qcm9maWxlVXJsKQ0KCQkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRtZW1iZXIuVXNlci5Qcm9maWxlVXJsKSI+DQoJCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJG1lbWJlci5Vc2VyLkF2YXRhclVybCwyOSwyOSwiJXsgc3R5bGU9J2JvcmRlci13aWR0aDogMHB4OycsIGFsdD0kbWVtYmVyLlVzZXIuRGlzcGxheU5hbWV9IikNCgkJCQkJCQk8L2E+DQoJCQkJCQkjZWxzZQ0KCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJG1lbWJlci5Vc2VyLkF2YXRhclVybCwyOSwyOSwiJXsgc3R5bGU9J2JvcmRlci13aWR0aDogMHB4OycsIGFsdD0kbWVtYmVyLlVzZXIuRGlzcGxheU5hbWV9IikNCgkJCQkJCSNlbmQNCgkJCQkJPC9zcGFuPg0KCQkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4NCgkJCQkJCSNpZiAoJG1lbWJlci5Vc2VyLlByb2ZpbGVVcmwpDQoJCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG1lbWJlci5Vc2VyLlByb2ZpbGVVcmwpIj4kbWVtYmVyLlVzZXIuRGlzcGxheU5hbWU8L2E+DQoJCQkJCQkjZWxzZQ0KCQkJCQkJCSRtZW1iZXIuVXNlci5EaXNwbGF5TmFtZQ0KCQkJCQkJI2VuZA0KCQkJCQkJI2lmKCRtZW1iZXIuVXNlci5Vc2VybmFtZSAhPSAkbWVtYmVyLlVzZXIuRGlzcGxheU5hbWUpDQoJCQkJCQkJKCRtZW1iZXIuVXNlci5Vc2VybmFtZSkNCgkJCQkJCSNlbmQNCgkJCQkJPC9zcGFuPg0KCQkJCTwvdGQ+DQoJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gbWVtYmVyc2hpcC1zdGF0dXMiPg0KCQkJCQkjaWYgKCRjYW5Nb2RpZnlNZW1iZXJzaGlwICYmICRncm91cC5Hcm91cFR5cGUgIT0gJ0pvaW5sZXNzJykNCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48c2VsZWN0IGNsYXNzPSJtZW1iZXJzaGlwLXN0YXR1cyIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnRWRpdFVzZXJNZW1iZXJzaGlwVHlwZScpIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VkaXRVc2VyTWVtYmVyc2hpcFR5cGUnKSIgZGF0YS11c2VyaWQ9IiRtZW1iZXIuVXNlci5JZCI+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iT3duZXIiI2lmKCRtZW1iZXIuTWVtYmVyc2hpcFR5cGUgPT0gJ093bmVyJykgc2VsZWN0ZWQ9InNlbGVjdGVkIiNlbmQ+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfTWVtYmVyc2hpcFR5cGVfT3duZXInKTwvb3B0aW9uPg0KCQkJCQkJCTxvcHRpb24gdmFsdWU9Ik1hbmFnZXIiI2lmKCRtZW1iZXIuTWVtYmVyc2hpcFR5cGUgPT0gJ01hbmFnZXInKSBzZWxlY3RlZD0ic2VsZWN0ZWQiI2VuZD4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZV9NYW5hZ2VyJyk8L29wdGlvbj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSJNZW1iZXIiI2lmKCRtZW1iZXIuTWVtYmVyc2hpcFR5cGUgPT0gJ01lbWJlcicpIHNlbGVjdGVkPSJzZWxlY3RlZCIjZW5kPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX01lbWJlcnNoaXBUeXBlX01lbWJlcicpPC9vcHRpb24+DQoJCQkJCQk8L3NlbGVjdD48L3NwYW4+DQoJCQkJCSNlbHNlDQoJCQkJCQkjaWYgKCRtZW1iZXIuTWVtYmVyc2hpcFR5cGUgPT0gJ093bmVyJykgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfTWVtYmVyc2hpcFR5cGVfT3duZXInKQ0KCQkJCQkJI2Vsc2VpZiAoJG1lbWJlci5NZW1iZXJzaGlwVHlwZSA9PSAnTWFuYWdlcicpICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX01lbWJlcnNoaXBUeXBlX01hbmFnZXInKQ0KCQkJCQkJI2Vsc2VpZiAoJG1lbWJlci5NZW1iZXJzaGlwVHlwZSA9PSAnTWVtYmVyJykgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfTWVtYmVyc2hpcFR5cGVfTWVtYmVyJykNCgkJCQkJCSNlbHNlICRtZW1iZXIuTWVtYmVyc2hpcFR5cGUNCgkJCQkJCSNlbmQNCgkJCQkJI2VuZA0KCQkJCTwvdGQ+DQoJCQkJPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4iPg0KCQkJCQkjaWYgKCRjYW5Nb2RpZnlNZW1iZXJzaGlwKQ0KCQkJCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCQkJCQkJPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0Ij4NCgkJCQkJCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQkJCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gZGVsZXRlLW1lbWJlciI+DQoJCQkJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+PGEgaHJlZj0iIyIgZGF0YS11c2VyaWQ9IiRtZW1iZXIuVXNlci5JZCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1JlbW92ZScpPC9hPjwvc3Bhbj4NCgkJCQkJCQkJPC9saT4NCgkJCQkJCQk8L3VsPg0KCQkJCQkJPC9maWVsZHNldD4NCgkJCQkJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4NCgkJCQkJI2VuZA0KCQkJCTwvdGQ+DQoJCQk8L3RyPg0KCQkjZW5kDQoJI2FmdGVyYWxsDQoJCQk8L3Rib2R5Pg0KCQk8L3RhYmxlPg0KCQk8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWZvb3RlciI+PC9kaXY+DQoJI2VuZA0KDQoJJGNvcmVfdjJfdWkuUGFnZXIoJG1lbWJlcnMuUGFnZUluZGV4LCAkbWVtYmVycy5QYWdlU2l6ZSwgJG1lbWJlcnMuVG90YWxDb3VudCkNCiNlbmQ=</file>
			<file name="view-rolemembers.vm">I3NldCgkc29ydEJ5ID0gZmFsc2UpDQojc2V0KCRzb3J0QnkgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ1NvcnRCeScpKQ0KI2lmICghJHNvcnRCeSkNCgkjc2V0KCRzb3J0QnkgPSAnUm9sZU5hbWUnKQ0KI2VuZA0KDQo8ZGl2IGNsYXNzPSJmaWx0ZXIiPg0KCTxkaXYgY2xhc3M9InF1ZXJ5LWZpbHRlciI+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItbGFiZWwiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX1NvcnRCeScpPC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiNpZigkc29ydEJ5ICE9ICdSb2xlQWRkZWREYXRlJyAmJiAkc29ydEJ5ICE9ICdSb2xlTWVtYmVyc2hpcFR5cGUnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNvcnRCeT1Sb2xlTmFtZSYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xJlNob3c9IikpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19Sb2xlTmFtZScpPC9hPjwvc3Bhbj4NCgkgIAk8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj58PC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiNpZigkc29ydEJ5ID09J1JvbGVBZGRlZERhdGUnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNvcnRCeT1Sb2xlQWRkZWREYXRlJiRjb3JlX3YyX3VpLlBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5PTEmU2hvdz0iKSkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX1JlY2VudFJvbGVNZW1iZXJzJyk8L2E+PC9zcGFuPg0KCSAgCTxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+CQkNCgkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24jaWYoJHNvcnRCeSA9PSdSb2xlTWVtYmVyc2hpcFR5cGUnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNvcnRCeT1Sb2xlTWVtYmVyc2hpcFR5cGUmJGNvcmVfdjJfdWkuUGFnZUluZGV4UXVlcnlTdHJpbmdLZXk9MSZTaG93PSIpKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfTWVtYmVyc2hpcFR5cGUnKTwvYT48L3NwYW4+DQoJPC9kaXY+DQo8L2Rpdj4NCg0KI3NldCgkb3B0aW9ucyA9ICIle1BhZ2VTaXplPTE1LE1lbWJlcnNoaXBUeXBlPSdNYW5hZ2VyLE1lbWJlcixPd25lcid9IikNCiRvcHRpb25zLkFkZCgnUGFnZUluZGV4JywgJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQ0KDQojaWYgKCRzb3J0QnkgPT0gJ1JvbGVBZGRlZERhdGUnKQ0KCSRvcHRpb25zLkFkZCgnU29ydEJ5JywgJ1JvbGVBZGRlZERhdGUnKQ0KCSRvcHRpb25zLkFkZCgnU29ydE9yZGVyJywgJ0Rlc2NlbmRpbmcnKQ0KI2Vsc2VpZiAoJHNvcnRCeSA9PSAnUm9sZU1lbWJlcnNoaXBUeXBlJykNCgkkb3B0aW9ucy5BZGQoJ1NvcnRCeScsICdNZW1iZXJzaGlwVHlwZScpDQoJJG9wdGlvbnMuQWRkKCdTb3J0T3JkZXInLCAnRGVzY2VuZGluZycpDQojZWxzZQ0KCSRvcHRpb25zLkFkZCgnU29ydEJ5JywgJ1JvbGVOYW1lJykNCgkkb3B0aW9ucy5BZGQoJ1NvcnRPcmRlcicsICdBc2NlbmRpbmcnKQ0KI2VuZA0KDQojc2V0KCRjYW5Nb2RpZnlNZW1iZXJzaGlwID0gZmFsc2UpDQojaWYoJGNvcmVfdjJfbm9kZVBlcm1pc3Npb24uR2V0KCdncm91cHMnLCRncm91cC5JZCwnR3JvdXBfTW9kaWZ5TWVtYmVyc2hpcCcpLklzQWxsb3dlZCkNCgkjc2V0KCRjYW5Nb2RpZnlNZW1iZXJzaGlwID0gdHJ1ZSkNCiNlbmQNCg0KI3NldCgkbWVtYmVycyA9ICRjb3JlX3YyX2dyb3VwUm9sZU1lbWJlci5MaXN0KCRncm91cC5JZCwgJG9wdGlvbnMpKQ0KI2ZvcmVhY2ggKCRtZW1iZXIgaW4gJG1lbWJlcnMpDQojYmVmb3JlYWxsDQoJPGRpdiBjbGFzcz0idGFibGUtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCTx0YWJsZSBjbGFzcz0idGFibGUtbGlzdCI+DQoJCTxjb2wgd2lkdGg9IjQwJSIgYWxpZ249ImxlZnQiIC8+DQoJCTxjb2wgd2lkdGg9IjQwJSIgYWxpZ249ImxlZnQiIC8+DQoJCTxjb2wgd2lkdGg9IjIwJSIgYWxpZ249InJpZ2h0IiAvPg0KCQk8dGJvZHk+DQojZWFjaA0KCTx0ciBjbGFzcz0idGFibGUtaXRlbSI+DQoJCTx0ZCBjbGFzcz0idGFibGUtY29sdW1uIj4NCgkJCSNpZighJG1lbWJlci5Sb2xlLkltYWdlVXJsIHx8ICRtZW1iZXIuUm9sZS5JbWFnZVVybCA9PSAnJykNCgkJCQk8ZGl2IHN0eWxlPSJoZWlnaHQ6MjlweDsiPjxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPiRtZW1iZXIuUm9sZS5OYW1lPC9zcGFuPjwvZGl2Pg0KCQkJI2Vsc2UNCgkJCQkkIWNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkbWVtYmVyLlJvbGUuSW1hZ2VVcmwsMjksMjksIiV7c3R5bGU9J2JvcmRlci13aWR0aDogMHB4Oyd9IikNCgkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4kbWVtYmVyLlJvbGUuTmFtZTwvc3Bhbj4NCgkJCSNlbmQNCg0KCQk8L3RkPg0KCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBtZW1iZXJzaGlwLXN0YXR1cyI+DQoJCQkjaWYgKCRjYW5Nb2RpZnlNZW1iZXJzaGlwICYmICRncm91cC5Hcm91cFR5cGUgIT0gJ0pvaW5sZXNzJykNCgkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+PHNlbGVjdCBjbGFzcz0ibWVtYmVyc2hpcC1zdGF0dXMiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0VkaXRVc2VyTWVtYmVyc2hpcFR5cGUnKSIgbmFtZT0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdFZGl0VXNlck1lbWJlcnNoaXBUeXBlJykiIGRhdGEtcm9sZWlkPSIkbWVtYmVyLlJvbGUuSWQiPg0KCQkJCQk8b3B0aW9uIHZhbHVlPSJPd25lciIjaWYoJG1lbWJlci5NZW1iZXJzaGlwVHlwZSA9PSAnT3duZXInKSBzZWxlY3RlZD0ic2VsZWN0ZWQiI2VuZD4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZV9Pd25lcicpPC9vcHRpb24+DQoJCQkJCTxvcHRpb24gdmFsdWU9Ik1hbmFnZXIiI2lmKCRtZW1iZXIuTWVtYmVyc2hpcFR5cGUgPT0gJ01hbmFnZXInKSBzZWxlY3RlZD0ic2VsZWN0ZWQiI2VuZD4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZV9NYW5hZ2VyJyk8L29wdGlvbj4NCgkJCQkJPG9wdGlvbiB2YWx1ZT0iTWVtYmVyIiNpZigkbWVtYmVyLk1lbWJlcnNoaXBUeXBlID09ICdNZW1iZXInKSBzZWxlY3RlZD0ic2VsZWN0ZWQiI2VuZD4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZV9NZW1iZXInKTwvb3B0aW9uPg0KCQkJCTwvc2VsZWN0Pjwvc3Bhbj4NCgkJCSNlbHNlDQoJCQkJI2lmICgkbWVtYmVyLk1lbWJlcnNoaXBUeXBlID09ICdPd25lcicpICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX01lbWJlcnNoaXBUeXBlX093bmVyJykNCgkJCQkjZWxzZWlmICgkbWVtYmVyLk1lbWJlcnNoaXBUeXBlID09ICdNYW5hZ2VyJykgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfTWVtYmVyc2hpcFR5cGVfTWFuYWdlcicpDQoJCQkJI2Vsc2VpZiAoJG1lbWJlci5NZW1iZXJzaGlwVHlwZSA9PSAnTWVtYmVyJykgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfTWVtYmVyc2hpcFR5cGVfTWVtYmVyJykNCgkJCQkjZWxzZSAkbWVtYmVyLk1lbWJlcnNoaXBUeXBlDQoJCQkJI2VuZA0KCQkJI2VuZA0KCQk8L3RkPg0KCQk8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiI+DQoJCQkjaWYgKCRjYW5Nb2RpZnlNZW1iZXJzaGlwKQ0KCQkJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtaGVhZGVyIj48L2Rpdj4NCgkJCQk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQkJCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQkJCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIGRlbGV0ZS1tZW1iZXIiPg0KCQkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48YSBocmVmPSIjIiBkYXRhLXJvbGVpZD0iJG1lbWJlci5Sb2xlLklkIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnUmVtb3ZlJyk8L2E+PC9zcGFuPg0KCQkJCQkJPC9saT4NCgkJCQkJPC91bD4NCgkJCQk8L2ZpZWxkc2V0Pg0KCQkJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4NCgkJCSNlbmQNCgkJPC90ZD4NCgk8L3RyPg0KI2FmdGVyYWxsDQoJCTwvdGJvZHk+DQoJPC90YWJsZT4NCgk8ZGl2IGNsYXNzPSJ0YWJsZS1saXN0LWZvb3RlciI+PC9kaXY+DQojbm9kYXRhDQoJPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfTWVtYmVyc2hpcF9Ob1JvbGVNZW1iZXJzJyk8L2Rpdj4NCiNlbmQNCg0KJGNvcmVfdjJfdWkuUGFnZXIoJG1lbWJlcnMuUGFnZUluZGV4LCAkbWVtYmVycy5QYWdlU2l6ZSwgJG1lbWJlcnMuVG90YWxDb3VudCk=</file>
			<file name="view.vm">PGRpdiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdNZXNzYWdlJykiIGNsYXNzPSJtZXNzYWdlIHN1Y2Nlc3MiIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfSW52aXRhdGlvblNlbnRNZXNzYWdlJyk8L2Rpdj4NCg0KPGRpdiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdNZW1iZXJzaGlwVGFicycpIj4NCgk8ZGl2IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ01lbWJlcnNUYWInKSI+DQoJCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgndmlldy1tZW1iZXJzLnZtJykNCgk8L2Rpdj4NCgk8ZGl2IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ1JvbGVNZW1iZXJzVGFiJykiPg0KCQkkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ3ZpZXctcm9sZW1lbWJlcnMudm0nKQ0KCTwvZGl2Pg0KPC9kaXY+DQoNCiNpZiAoJGNvcmVfdjJfbm9kZVBlcm1pc3Npb24uR2V0KCdncm91cHMnLCRncm91cC5JZCwnR3JvdXBfTW9kaWZ5TWVtYmVyc2hpcCcpLklzQWxsb3dlZCkNCgk8ZGl2IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0FkZE1lbWJlclRhYnMnKSI+DQoJCTxkaXYgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQWRkTWVtYmVyVGFiJykiPg0KCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCQkJPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0Ij4NCgkJCQk8bGVnZW5kIGNsYXNzPSJmaWVsZC1saXN0LWRlc2NyaXB0aW9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19BZGRNZW1iZXInKTwvbGVnZW5kPg0KCQkJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSB1c2VybmFtZSI+DQoJCQkJCQk8bGFiZWwgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0FkZE1lbWJlclVzZXJOYW1lJykiIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19NYW5hZ2VNZW1iZXJzX0FkZFVzZXJSb2xlJyk8L2xhYmVsPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPjxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdBZGRNZW1iZXJVc2VyTmFtZScpIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0FkZE1lbWJlclVzZXJOYW1lJykiIHN0eWxlPSJ3aWR0aDogMjYwcHg7IiAvPjwvc3Bhbj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gbWVtYmVyc2hpcC10eXBlIj4NCgkJCQkJCTxsYWJlbCBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQWRkTWVtYmVyTWVtYmVyc2hpcFR5cGUnKSIgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZScpPC9sYWJlbD4NCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48c2VsZWN0IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0FkZE1lbWJlck1lbWJlcnNoaXBUeXBlJykiIG5hbWU9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnQWRkTWVtYmVyTWVtYmVyc2hpcFR5cGUnKSI+DQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iT3duZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX01lbWJlcnNoaXBUeXBlX093bmVyJyk8L29wdGlvbj4NCgkJCQkJCQkjaWYgKCRncm91cC5Hcm91cFR5cGUgIT0gJ0pvaW5sZXNzJykNCgkJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iTWFuYWdlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfTWVtYmVyc2hpcFR5cGVfTWFuYWdlcicpPC9vcHRpb24+DQoJCQkJCQkJCTxvcHRpb24gdmFsdWU9Ik1lbWJlciIgc2VsZWN0ZWQ9InNlbGVjdGVkIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZV9NZW1iZXInKTwvb3B0aW9uPg0KCQkJCQkJCSNlbmQNCgkJCQkJCTwvc2VsZWN0Pjwvc3Bhbj4NCgkJCQkJPC9saT4NCgkJCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIGFkZC1tZW1iZXIiPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPg0KCQkJCQkJCTxhIGhyZWY9IiMiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0FkZE1lbWJlclNhdmUnKSIgY2xhc3M9ImludGVybmFsLWxpbmsgYWRkLW1lbWJlciBkaXNhYmxlZCI+DQoJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX0dyb3VwTWVtYmVyc2hpcExpc3RfQWRkTWVtYmVycycpDQoJCQkJCQkJPC9hPg0KCQkJCQkJCTxzcGFuIGNsYXNzPSJwcm9jZXNzaW5nIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyI+PC9zcGFuPg0KCQkJCQkJPC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCTwvdWw+DQoJCQk8L2ZpZWxkc2V0Pg0KCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KDQoJCQkjaWYoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5FbmFibGVMZGFwKQ0KCQkJCTxkaXYgY2xhc3M9Im1lc3NhZ2UgaW5mbyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19NZW1iZXJzaGlwX0FkZERpcmVjdG9yeUdyb3VwX1dhcm5pbmcnKTwvZGl2Pg0KCQkJI2VuZA0KCQk8L2Rpdj4NCgkJPGRpdiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeU5hbWVUYWInKSI+DQoJCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQkJCTxsZWdlbmQgY2xhc3M9ImZpZWxkLWxpc3QtZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfR3JvdXBNZW1iZXJzaGlwTGlzdF9JbnZpdGVCeU5hbWUnKTwvbGVnZW5kPg0KCQkJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSByZXF1aXJlZCB1c2VyLW5hbWUiPg0KCQkJCQkJPGxhYmVsIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5TmFtZVVzZXJOYW1lJykiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfR3JvdXBNZW1iZXJzaGlwTGlzdF9Vc2VyTmFtZXMnKTwvbGFiZWw+DQoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+PGlucHV0IHR5cGU9InRleHQiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5TmFtZVVzZXJOYW1lJykiIG5hbWU9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlOYW1lVXNlck5hbWUnKSIgc3R5bGU9IndpZHRoOiAyNjBweDsiIC8+PC9zcGFuPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L3NwYW4+DQoJCQkJCTwvbGk+DQoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBtZW1iZXJzaGlwLXR5cGUiPg0KCQkJCQkJPGxhYmVsIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeU5hbWVNZW1iZXJzaGlwVHlwZScpIiBjbGFzcz0iZmllbGQtaXRlbS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX01lbWJlcnNoaXBUeXBlJyk8L2xhYmVsPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPjxzZWxlY3QgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlOYW1lTWVtYmVyc2hpcFR5cGUnKSIgbmFtZT0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeU5hbWVNZW1iZXJzaGlwVHlwZScpIj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSJPd25lciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfTWVtYmVyc2hpcFR5cGVfT3duZXInKTwvb3B0aW9uPg0KCQkJCQkJCSNpZiAoJGdyb3VwLkdyb3VwVHlwZSAhPSAnSm9pbmxlc3MnKQ0KCQkJCQkJCQk8b3B0aW9uIHZhbHVlPSJNYW5hZ2VyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZV9NYW5hZ2VyJyk8L29wdGlvbj4NCgkJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iTWVtYmVyIiBzZWxlY3RlZD0ic2VsZWN0ZWQiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX01lbWJlcnNoaXBUeXBlX01lbWJlcicpPC9vcHRpb24+DQoJCQkJCQkJI2VuZA0KCQkJCQkJPC9zZWxlY3Q+PC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gaW52aXRlLW1lc3NhZ2UiPg0KCQkJCQkJPGxhYmVsIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeU5hbWVJbnZpdGVNZXNzYWdlJykiIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19Hcm91cE1lbWJlcnNoaXBMaXN0X01lc3NhZ2UnKTwvbGFiZWw+DQoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+PHRleHRhcmVhIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5TmFtZUludml0ZU1lc3NhZ2UnKSIgbmFtZT0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeU5hbWVJbnZpdGVNZXNzYWdlJykiICByb3dzPSI1IiBjb2xzPSI1MCI+PC90ZXh0YXJlYT48L3NwYW4+DQoJCQkJCTwvbGk+DQoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBpbnZpdGUtbWVtYmVyIj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCQkJCQk8YSBocmVmPSIjIiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeU5hbWVJbnZpdGUnKSIgY2xhc3M9ImludGVybmFsLWxpbmsgaW52aXRlLW1lbWJlciBzdWJtaXQtYnV0dG9uIGRpc2FibGVkIj4NCgkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfR3JvdXBNZW1iZXJzaGlwTGlzdF9TZW5kSW52aXRhdGlvbicpDQoJCQkJCQkJPC9hPg0KCQkJCQkJCTxzcGFuIGNsYXNzPSJwcm9jZXNzaW5nIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyI+PC9zcGFuPg0KCQkJCQkJPC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCTwvdWw+DQoJCQk8L2ZpZWxkc2V0Pg0KCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KCQk8L2Rpdj4NCgkJPGRpdiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeUVtYWlsVGFiJykiPg0KCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCQkJPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0IGludml0ZS1tZW1iZXItZW1haWwiPg0KCQkJCTxsZWdlbmQgY2xhc3M9ImZpZWxkLWxpc3QtZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX0ludml0ZU1lbWJlckJ5RW1haWwnKTwvbGVnZW5kPg0KCQkJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSByZXF1aXJlZCBlbWFpbCI+DQoJCQkJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIiBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlFbWFpbEVtYWlsQWRkcmVzZXMnKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfRW1haWxBZGRyZXNzZXMnKTwvbGFiZWw+DQoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+PHRleHRhcmVhIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5RW1haWxFbWFpbEFkZHJlc2VzJykiIG5hbWU9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlFbWFpbEVtYWlsQWRkcmVzZXMnKSIgcm93cz0iMyIgY29scz0iNTAiPjwvdGV4dGFyZWE+PC9zcGFuPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L3NwYW4+DQoJCQkJCTwvbGk+DQoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBtZW1iZXJzaGlwLXR5cGUiPg0KCQkJCQkJPGxhYmVsIGZvcj0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeUVtYWlsTWVtYmVyc2hpcFR5cGUnKSIgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZScpPC9sYWJlbD4NCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48c2VsZWN0IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5RW1haWxNZW1iZXJzaGlwVHlwZScpIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5RW1haWxNZW1iZXJzaGlwVHlwZScpIj4NCgkJCQkJCQk8b3B0aW9uIHZhbHVlPSJPd25lciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfTWVtYmVyc2hpcFR5cGVfT3duZXInKTwvb3B0aW9uPg0KCQkJCQkJCSNpZiAoJGdyb3VwLkdyb3VwVHlwZSAhPSAnSm9pbmxlc3MnKQ0KCQkJCQkJCQk8b3B0aW9uIHZhbHVlPSJNYW5hZ2VyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnSHVic19NZW1iZXJzaGlwVHlwZV9NYW5hZ2VyJyk8L29wdGlvbj4NCgkJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iTWVtYmVyIiBzZWxlY3RlZD0ic2VsZWN0ZWQiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX01lbWJlcnNoaXBUeXBlX01lbWJlcicpPC9vcHRpb24+DQoJCQkJCQkJI2VuZA0KCQkJCQkJPC9zZWxlY3Q+PC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gcmVxdWlyZWQgbWVzc2FnZS1ib2R5Ij4NCgkJCQkJCTxsYWJlbCBmb3I9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlFbWFpbEludml0ZU1lc3NhZ2UnKSIgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ3JlYXRlRWRpdFBvc3RfQm9keScpPC9sYWJlbD4NCgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48dGV4dGFyZWEgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlFbWFpbEludml0ZU1lc3NhZ2UnKSIgbmFtZT0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeUVtYWlsSW52aXRlTWVzc2FnZScpIiByb3dzPSI1IiBjb2xzPSI1MCI+PC90ZXh0YXJlYT48L3NwYW4+DQoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4NCgkJCQkJPC9saT4NCgkJCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIGludml0ZS1tZW1iZXIiPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPg0KCQkJCQkJCTxhIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5RW1haWxJbnZpdGUnKSIgaHJlZj0iIyIgY2xhc3M9ImludGVybmFsLWxpbmsgaW52aXRlLW1lbWJlciBzdWJtaXQtYnV0dG9uIGRpc2FibGVkIj4NCgkJCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfR3JvdXBNZW1iZXJzaGlwTGlzdF9TZW5kSW52aXRhdGlvbicpDQoJCQkJCQkJPC9hPg0KCQkJCQkJCTxzcGFuIGNsYXNzPSJwcm9jZXNzaW5nIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyI+PC9zcGFuPg0KCQkJCQkJPC9zcGFuPg0KCQkJCQk8L2xpPg0KCQkJCTwvdWw+DQoJCQk8L2ZpZWxkc2V0Pg0KCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KCQk8L2Rpdj4NCgk8L2Rpdj4NCiNlbmQNCg0KI3JlZ2lzdGVyRW5kT2ZQYWdlSHRtbCgndGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmdyb3VwTWVtYmVyc2hpcExpc3QnKQ0KCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0IiBzcmM9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LkdldEZpbGVVcmwoInVpLmpzIikpIj48L3NjcmlwdD4NCiNlbmQNCiNyZWdpc3RlckVuZE9mUGFnZUh0bWwoKQ0KCTxzY3JpcHQgdHlwZT0idGV4dC9qYXZhc2NyaXB0Ij4NCgkJalF1ZXJ5KGZ1bmN0aW9uKGopew0KCQkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuZ3JvdXBNZW1iZXJzaGlwTGlzdC5yZWdpc3Rlcih7DQoJCQkJZ3JvdXBJZDogJGdyb3VwLklkLA0KCQkJCXdyYXBwZXJJZDogJyRjb3JlX3YyX3dpZGdldC5XcmFwcGVyRWxlbWVudElkJywNCgkJCQltZXNzYWdlOiBqKCcjJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdNZXNzYWdlJyknKSwNCgkJCQltZW1iZXJzaGlwVGFiczogaignIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnTWVtYmVyc2hpcFRhYnMnKScpLA0KCQkJCW1lbWJlcnNUYWJJZDogJyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnTWVtYmVyc1RhYicpJywNCgkJCQltZW1iZXJzVGFiVGV4dCA6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfR3JvdXBNZW1iZXJzaGlwTGlzdF9NZW1iZXJzJykpJywNCgkJCQlyb2xlTWVtYmVyc1RhYklkOiAnJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdSb2xlTWVtYmVyc1RhYicpJywNCgkJCQlyb2xlTWVtYmVyc1RhYlRleHQgOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX0dyb3VwTWVtYmVyc2hpcExpc3RfUm9sZU1lbWJlcnMnKSknLA0KCQkJCSNzZXQoJHNvcnRCeSA9IGZhbHNlKQ0KCQkJCSNzZXQoJHNvcnRCeSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnU29ydEJ5JykpDQoJCQkJbWVtYmVyc2hpcFRhYlNlbGVjdGVkSW5kZXg6ICNpZigkc29ydEJ5ID09ICdSb2xlTmFtZScgfHwgJHNvcnRCeSA9PSAnUm9sZUFkZGVkRGF0ZScgfHwgJHNvcnRCeSA9PSAnUm9sZU1lbWJlcnNoaXBUeXBlJykgMSNlbHNlIDAjZW5kLA0KCQkJCWFkZE1lbWJlclRhYnM6IGooJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0FkZE1lbWJlclRhYnMnKScpLA0KCQkJCWFkZE1lbWJlclRhYklkOiAnJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdBZGRNZW1iZXJUYWInKScsDQoJCQkJYWRkTWVtYmVyVGFiVGV4dCA6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdIdWJzX0FkZE1lbWJlcicpKScsDQoJCQkJaW52aXRlTWVtYmVyQnlOYW1lVGFiSWQ6ICckY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5TmFtZVRhYicpJywNCgkJCQlpbnZpdGVNZW1iZXJCeU5hbWVUYWJUZXh0IDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19Hcm91cE1lbWJlcnNoaXBMaXN0X0ludml0ZUJ5TmFtZScpKScsDQoJCQkJaW52aXRlTWVtYmVyQnlFbWFpbFRhYklkOiAnJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeUVtYWlsVGFiJyknLA0KCQkJCWludml0ZU1lbWJlckJ5RW1haWxUYWJUZXh0IDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0h1YnNfSW52aXRlTWVtYmVyQnlFbWFpbCcpKScsDQoJCQkJZGVsZXRlTWVtYmVyQ29uZmlybWF0aW9uVGV4dCA6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9Hcm91cExpc3RfQ29uZmlybVJlbW92ZU1lbWJlcicpKScsDQoJCQkJYWRkTWVtYmVyVXNlck5hbWUgOiBqKCcjJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdBZGRNZW1iZXJVc2VyTmFtZScpJyksDQoJCQkJYWRkTWVtYmVyTWVtYmVyc2hpcFR5cGUgOiBqKCcjJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdBZGRNZW1iZXJNZW1iZXJzaGlwVHlwZScpJyksDQoJCQkJYWRkTWVtYmVyU2F2ZSA6IGooJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0FkZE1lbWJlclNhdmUnKScpLA0KCQkJCWFkZE1lbWJlclVzZXJOYW1lTWlzc2luZ1RleHQ6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cHNfTWFuYWdlTWVtYmVyc19NaXNzaW5nVXNlck5hbWVzJykpJywNCgkJCQlpbnZpdGVNZW1iZXJCeU5hbWVVc2VyTmFtZSA6IGooJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5TmFtZVVzZXJOYW1lJyknKSwNCgkJCQlpbnZpdGVNZW1iZXJCeU5hbWVNZW1iZXJzaGlwVHlwZSA6IGooJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5TmFtZU1lbWJlcnNoaXBUeXBlJyknKSwNCgkJCQlpbnZpdGVNZW1iZXJCeU5hbWVNZXNzYWdlIDogaignIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlOYW1lSW52aXRlTWVzc2FnZScpJyksDQoJCQkJaW52aXRlTWVtYmVyQnlOYW1lSW52aXRlIDogaignIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlOYW1lSW52aXRlJyknKSwNCgkJCQlpbnZpdGVNZW1iZXJCeU5hbWVVc2VyTmFtZU1pc3NpbmdUZXh0OiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX01hbmFnZU1lbWJlcnNfTWlzc2luZ0ludml0ZVVzZXJOYW1lcycpKScsDQoJCQkJaW52aXRlTWVtYmVyQnlFbWFpbEVtYWlsQWRkcmVzc2VzU2VsZWN0b3IgOiAnIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlFbWFpbEVtYWlsQWRkcmVzZXMnKScsDQoJCQkJaW52aXRlTWVtYmVyQnlFbWFpbE1lbWJlcnNoaXBUeXBlIDogaignIyRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnSW52aXRlTWVtYmVyQnlFbWFpbE1lbWJlcnNoaXBUeXBlJyknKSwNCgkJCQlpbnZpdGVNZW1iZXJCeUVtYWlsTWVzc2FnZVNlbGVjdG9yIDogJyMkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ0ludml0ZU1lbWJlckJ5RW1haWxJbnZpdGVNZXNzYWdlJyknLA0KCQkJCWludml0ZU1lbWJlckJ5RW1haWxJbnZpdGUgOiBqKCcjJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdJbnZpdGVNZW1iZXJCeUVtYWlsSW52aXRlJyknKSwNCgkJCQlpbnZpdGVNZW1iZXJCeUVtYWlsRW1haWxBZGRyZXNzUmVxdWlyZWRUZXh0OiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX01hbmFnZU1lbWJlcnNfTWlzc2luZ0VtYWlscycpKScsDQoJCQkJaW52aXRlTWVtYmVyQnlFbWFpbEVtYWlsQWRkcmVzc0ludmFsaWRUZXh0OiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX01hbmFnZU1lbWJlcnNfSW52YWxpZEVtYWlscycpKScsDQoJCQkJZmluZFVzZXJzT3JSb2xlc1VybCA6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRFeGVjdXRlZEZpbGVVcmwoJ2ZpbmQtdXNlcnMtb3Itcm9sZXMudm0nKSknLA0KCQkJCW5vVXNlck9yUm9sZU1hdGNoZXNUZXh0IDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1VzZXJMb29rVXBUZXh0Qm94X05vTWF0Y2hlc19BbGxVc2VycycpKScsDQoJCQkJYWpheEVycm9yVGV4dDogJyRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19NYW5hZ2VNZW1iZXJzX0FqYXhFcnJvcicpKScsDQoJCQkJc2VuZEludml0YXRpb25VcmwgOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCdzZW5kLWludml0YXRpb24udm0nKSknLA0KCQkJCWFkZE1lbWJlclVybCA6ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRFeGVjdXRlZEZpbGVVcmwoJ2FkZC11c2VyLW9yLXJvbGUudm0nKSknLA0KCQkJCWNsZWFuVXJsOiAnJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAnVXNlcklkPSZSb2xlSWQ9JykpJywNCgkJCQllZGl0Q29tcGxldGVOb3RpZmljYXRpb246ICckY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdlZGl0Q29tcGxldGVOb3RpZmljYXRpb24nKSknLA0KCQkJCXVzZXJJZDogJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQNCgkJCX0pOw0KCQl9KTsNCgk8L3NjcmlwdD4NCiNlbmQ=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_MembersList_Name}" version="7.5.0.32466" description="${resource:Groups_MembersList_Description}" instanceIdentifier="91a40a91b04843ebb2bf2686c82b8996" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="group-members-list">
		<contentScript>
$core_v2_ui.PagedContent('pagedContent.vm')
#if($core_v2_widget.GetBoolValue('enablePaging', true))
    $core_v2_ui.Pager($groupUserMembers.PageIndex, $groupUserMembers.PageSize, $groupUserMembers.TotalCount, "%{ShowIndividualPages = 'false', ShowPrevious = 'true', ShowNext = 'true', PagedContentFile = 'pagedContent.vm', ShowFirst = 'false', ShowLast = 'false' }")
#end
        </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_TopGroupAuthorQualityUsers_Name}'))
        </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="Title" dataType="string" defaultValue="${resource:Groups_MembersList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
    &lt;property id="groupSelection" resourceName="Group" dataType="custom" defaultValue="IncludeSubGroups=%20False&amp;amp;Group=0&amp;amp;GroupPath=" controlType="Telligent.Evolution.Controls.GroupSelectionList, Telligent.Evolution.Controls" IncludeCurrentGroup="true" /&gt;
	&lt;property id="viewType" resourceName="ViewType" dataType="string" defaultValue="simple"&gt;
		&lt;propertyValue value="standard" resourceName="StandardView" /&gt;
		&lt;propertyValue value="simple" resourceName="SimpleView" /&gt;
	&lt;/property&gt;
	&lt;property id="sortBy" resourceName="SortBy" dataType="string" defaultValue="GroupQualityAuthorScore"&gt;
		&lt;propertyValue value="MembershipDate" resourceName="SortBy_MembershipDate" /&gt;
		&lt;propertyValue value="UserLastActiveDate" resourceName="SortBy_UserLastActiveDate" /&gt;
		&lt;propertyValue value="GroupQualityAuthorScore" resourceName="SortBy_GroupQualityAuthorScore" /&gt;
	&lt;/property&gt;
	&lt;property id="sortOrder" resourceName="SortOrder" dataType="string" defaultValue="Descending"&gt;
		&lt;propertyValue value="Ascending" resourceName="SortOrder_Ascending" /&gt;
		&lt;propertyValue value="Descending" resourceName="SortOrder_Descending" /&gt;
	&lt;/property&gt;
	&lt;property id="pageSize" resourceName="PageSize" dataType="int" defaultValue="20"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
    &lt;/property&gt;
    &lt;property id="enablePaging" resourceName="EnablePaging" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
        </configuration>
		<languageResources><language key="en-us"><resource name="Groups_MembersList_Name">Group - Members List</resource><resource name="Groups_MembersList_Description">Displays a list of group members</resource><resource name="Groups_TopGroupAuthorQualityUsers_Title">Top Quality Authors</resource><resource name="Core_GroupMembershipList_Title_TopMembers">Top Members</resource><resource name="Groups_Members_Title">Group Members</resource><resource name="Options">Options</resource><resource name="Title">Widget Title</resource><resource name="Group">Select group to pull from</resource><resource name="ViewType">View Type</resource><resource name="StandardView">Standard</resource><resource name="SimpleView">Simple</resource><resource name="PageSize">Number of items to display</resource><resource name="SortBy">Sort By</resource><resource name="SortBy_MembershipDate">Group Joined Date</resource><resource name="SortBy_UserLastActiveDate">Last Activity Date</resource><resource name="SortBy_GroupQualityAuthorScore">Group Author Quality Score</resource><resource name="SortOrder">Sort Order</resource><resource name="SortOrder_Ascending">Ascending</resource><resource name="SortOrder_Descending">Descending</resource><resource name="EnablePaging">Enable Paging</resource></language></languageResources>
		<files>
			<file name="pagedContent.vm">I3NldCAoJHZpZXdUeXBlID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCd2aWV3VHlwZScsICdzaW1wbGUnKSkKI3NldCAoJHNvcnRCeSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgnc29ydEJ5JywgJ0dyb3VwUXVhbGl0eUF1dGhvclNjb3JlJykpCiNpZiAoJHNvcnRCeSA9PSAnR3JvdXBRdWFsaXR5QXV0aG9yU2NvcmUnKQoJI3NldCAoJHNvcnRCeSA9ICJTY29yZToke2NvcmVfdjJfZ3JvdXBBdXRob3JRdWFsaXR5U2NvcmUuU2NvcmVJZH0iKQojZW5kCiNzZXQgKCRzb3J0T3JkZXIgPSAkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoJ3NvcnRPcmRlcicsICdEZXNjZW5kaW5nJykpCiNzZXQgKCRncm91cElkID0gZmFsc2UpCiNzZXQgKCRncm91cElkID0gJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3dpZGdldC5HZXRDdXN0b21WYWx1ZSgnZ3JvdXBTZWxlY3Rpb24nLCcnKSkuVmFsdWUoJ0dyb3VwJykpCiNpZiAoJGdyb3VwSWQgPT0gMCkKICAgICNzZXQgKCRncm91cElkID0gJGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCkKI2VuZAojc2V0ICgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ3BhZ2VTaXplJywgMjApKQojc2V0ICgkcGFnZUluZGV4ID0gJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQoKI3NldCAoJGdyb3VwVXNlck1lbWJlcnMgPSBmYWxzZSkKI2lmICgkc29ydEJ5ID09ICJTY29yZToke2NvcmVfdjJfZ3JvdXBBdXRob3JRdWFsaXR5U2NvcmUuU2NvcmVJZH0iKQogICAgI3NldCAoJGdyb3VwVXNlck1lbWJlcnMgPSAkY29yZV92Ml9ncm91cFVzZXJNZW1iZXIuTGlzdEVmZmVjdGl2ZUdyb3VwTWVtYmVycygkZ3JvdXBJZCwgIiV7IFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFBhZ2VTaXplID0gJHBhZ2VTaXplLCBTb3J0QnkgPSAkc29ydEJ5LCBTb3J0T3JkZXIgPSAkc29ydE9yZGVyIH0iKSkKI2Vsc2UKICAgICNzZXQgKCRncm91cFVzZXJNZW1iZXJzID0gJGNvcmVfdjJfZ3JvdXBVc2VyTWVtYmVyLkxpc3QoIiV7IEdyb3VwSWQgPSAkZ3JvdXBJZCwgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgUGFnZVNpemUgPSAkcGFnZVNpemUsIFNvcnRCeSA9ICRzb3J0QnksIFNvcnRPcmRlciA9ICRzb3J0T3JkZXIgfSIpKQojZW5kCgojaWYgKCEkZ3JvdXBVc2VyTWVtYmVycyB8fCAkZ3JvdXBVc2VyTWVtYmVycy5Ub3RhbENvdW50ID09IDApCiAgICRjb3JlX3YyX3dpZGdldC5IaWRlKCkKI2VuZAoKI2ZvcmVhY2ggKCRncm91cFVzZXJNZW1iZXIgaW4gJGdyb3VwVXNlck1lbWJlcnMpCiNiZWZvcmVhbGwKICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIgJHZpZXdUeXBlIHVzZXIiPjwvZGl2PgogICAgPHVsIGNsYXNzPSJjb250ZW50LWxpc3QgJHZpZXdUeXBlIHVzZXIiPgojZWFjaAogICAgI3NldCAoJHVzZXIgPSBmYWxzZSkKICAgICNzZXQgKCR1c2VyID0gJGdyb3VwVXNlck1lbWJlci5Vc2VyKQogICAgI2lmICgkdXNlcikKICAgICAgICA8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSAkdmlld1R5cGUgdXNlciI+CiAgICAgICAgICAgICNpZiAoJHZpZXdUeXBlID09ICJzdGFuZGFyZCIpCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXZhdGFyIj4KICAgICAgICAgICAgICAgICAgICAjaWYgKCR1c2VyLlByb2ZpbGVVcmwpCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXIuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCA0MCwgNDAsICIle2JvcmRlcj0nMCcsIGFsdD0kdXNlci5EaXNwbGF5TmFtZSwgUmVzaXplTWV0aG9kID0gJ1pvb21BbmRDcm9wJ30iKQogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkdXNlci5BdmF0YXJVcmwsIDQwLCA0MCwgIiV7Ym9yZGVyPScwJywgYWx0PSR1c2VyLkRpc3BsYXlOYW1lLCBSZXNpemVNZXRob2QgPSAnWm9vbUFuZENyb3AnfSIpCiAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+CiAgICAgICAgICAgICAgICAgICAgI2lmICgkdXNlci5Qcm9maWxlVXJsKQogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdXNlci5EaXNwbGF5TmFtZQogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgICAgICAgICAgJHVzZXIuRGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICNlbHNlaWYoJHZpZXdUeXBlID09ICJzaW1wbGUiKQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF2YXRhciI+CiAgICAgICAgICAgICAgICAgICAgI2lmICgkdXNlci5Qcm9maWxlVXJsKQogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCR1c2VyLkF2YXRhclVybCwgMzQsIDM0LCAiJXtib3JkZXI9JzAnLCBhbHQ9JHVzZXIuRGlzcGxheU5hbWUsIFJlc2l6ZU1ldGhvZCA9ICdab29tQW5kQ3JvcCd9IikKICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCAzNCwgMzQsICIle2JvcmRlcj0nMCcsIGFsdD0kdXNlci5EaXNwbGF5TmFtZSwgUmVzaXplTWV0aG9kID0gJ1pvb21BbmRDcm9wJ30iKQogICAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgI2VuZAogICAgICAgIDwvbGk+CiAgICAjZW5kCiNhZnRlcmFsbAogICAgPC91bD4KICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIgJHZpZXdUeXBlIHVzZXIiPjwvZGl2PgojZW5k</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:GroupMentionListWidget_Title}" version="7.5.0.32466" description="${resource:GroupMentionListWidget_Description}" instanceIdentifier="7f2edee679dd4f47985960a90294e6e9" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="group-mention-list">
		<contentScript>
#set ($endlessScroll = $core_v2_widget.GetBoolValue('endlessScroll', true))

#set($group = false)
#set($group = $core_v2_group.Current)
#if (!$group)
    $core_v2_widget.Hide()
#end

#set($groupId = $group.ContentId)
#set($pageIndex = 0)
&lt;div class="$core_v2_widget.GetStringValue('viewType', 'simple')-view"&gt;
    $core_v2_widget.ExecuteFile('mentions.vm')
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.groupMentionList')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	jQuery(document).ready(function(j){
		jQuery.telligent.evolution.widgets.groupMentionList.register({
			wrapper: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)",
            groupId: "$groupId",
            endlessScroll:#if ($endlessScroll) true#else false#end,
			loadNextPageUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('loadnextpage.vm'))"
		});
	});
	&lt;/script&gt;
#end
</contentScript>
		<headerScript>
	$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Title}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Configuration_Options"&gt;
    &lt;property id="fragmentHeader" resourceName="Configuration_Title" dataType="string" defaultValue="${resource:Title}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="pageSize" resourceName="Configuration_PageSize" dataType="int" defaultValue="15"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
    &lt;property id="viewType" resourceName="Configuration_View" dataType="string" defaultValue="simple"&gt;
        &lt;propertyValue value="simple" resourceName="Configuration_View_Simple" /&gt;
        &lt;propertyValue value="full" resourceName="Configuration_View_Full" /&gt;
    &lt;/property&gt;
	&lt;property id="endlessScroll" resourceName="Configuration_EnableEndlessScroll" descriptionResourceName="Configuration_EnableEndlessScroll_Description" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
</configuration>
		<languageResources><language key="en-us"><resource name="Title">Group Mentions</resource><resource name="GroupMentionListWidget_Description">Shows content that mentioned a group.</resource><resource name="GroupMentionListWidget_Title">Group - Mention List</resource><resource name="Configuration_Options">Options</resource><resource name="Configuration_Title">Widget Title</resource><resource name="Configuration_EnableEndlessScroll">Enable endless scrolling</resource><resource name="Configuration_EnableEndlessScroll_Description">Automatically load more mentions when scrolled near the end</resource><resource name="Content_InApplication">in {0}</resource><resource name="Configuration_PageSize">Page Size</resource><resource name="Content_More">Show More</resource><resource name="Configuration_View">View Type</resource><resource name="Configuration_View_Simple">Simple</resource><resource name="Configuration_View_Full">Full</resource><resource name="No_Mentions_Message">{0} has not yet been mentioned.</resource></language></languageResources>
		<files>
			<file name="loadnextpage.vm">I3NldCgkZ3JvdXBJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VHdWlkKCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnR3JvdXBJZCcpKSkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ3ZhbHVlKCdQYWdlSW5kZXgnKSkpDQoNCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnbWVudGlvbnMudm0nKQ==</file>
			<file name="mentions.vm">I3NldCAoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdwYWdlU2l6ZScsIDE1KSkNCiNzZXQgKCR2aWV3VHlwZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgndmlld1R5cGUnLCAnc2ltcGxlJykpDQoNCiNzZXQoJG1lbnRpb25zID0gJGNvcmVfdjJfbWVudGlvbi5MaXN0KCIle01lbnRpb25lZENvbnRlbnRJZHM9JGdyb3VwSWQuVG9TdHJpbmcoKSxNZW50aW9uZWRDb250ZW50VHlwZUlkPSRjb3JlX3YyX2dyb3VwLkNvbnRlbnRUeXBlSWQsUGFnZVNpemU9JHBhZ2VTaXplLFBhZ2VJbmRleD0kcGFnZUluZGV4LFNvcnRCeT0nRGF0ZScsU29ydE9yZGVyPSdEZXNjZW5kaW5nJ30iKSkNCiNpZiAoJG1lbnRpb25zLlRvdGFsQ291bnQgPT0gMCAmJiAkcGFnZUluZGV4ID09IDApDQogICAgPGRpdiBjbGFzcz0ibWVzc2FnZSBpbmZvcm1hdGlvbiI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJOb19NZW50aW9uc19NZXNzYWdlIiksICRncm91cC5OYW1lKTwvZGl2Pg0KI2Vsc2UNCiAgICAjZm9yZWFjaCgkbWVudGlvbiBpbiAkbWVudGlvbnMpDQogICAgICAgICNiZWZvcmVhbGwNCiAgICAgICAgICAgICNpZigkcGFnZUluZGV4ID09IDApDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciB2aWV3LSR2aWV3VHlwZSI+PC9kaXY+DQogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJjb250ZW50LWxpc3Qgdmlldy0kdmlld1R5cGUiPg0KICAgICAgICAgICAgI2VuZA0KICAgICAgICAjZWFjaA0KICAgICAgICAgICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iPg0KCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciI+PC9kaXY+DQoJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QiPg0KCQkJPGg0IGNsYXNzPSJwb3N0LW5hbWUiPg0KCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG1lbnRpb24uTWVudGlvbmluZ0NvbnRlbnQuVXJsKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRtZW50aW9uLk1lbnRpb25pbmdDb250ZW50Lkh0bWxOYW1lKCdXZWInKSwgMjUsICcuLi4nKTwvYT4NCgkJCTwvaDQ+DQoJCQkjaWYgKCR2aWV3VHlwZSA9PSAnZnVsbCcpDQoJCQkJPGRpdiBjbGFzcz0icG9zdC10aHVtYm5haWwiPg0KCQkJCQkjc2V0KCRhdmF0YXIgPSBmYWxzZSkNCgkJCQkJI3NldCgkYXZhdGFyID0gJG1lbnRpb24uTWVudGlvbmluZ0NvbnRlbnQuQXZhdGFyVXJsKQ0KCQkJCQkjaWYgKCEkYXZhdGFyKQ0KCQkJCQkJI3NldCgkYXZhdGFyID0gJG1lbnRpb24uTWVudGlvbmluZ0NvbnRlbnQuQXBwbGljYXRpb24uQXZhdGFyVXJsKQ0KCQkJCQkJI2lmICghJGF2YXRhcikNCgkJCQkJCSAgICAjc2V0KCRhdmF0YXIgPSAkbWVudGlvbi5NZW50aW9uaW5nQ29udGVudC5BcHBsaWNhdGlvbi5Db250YWluZXIuQXZhdGFyVXJsKQ0KCQkJCQkJI2VuZA0KCQkJCQkjZW5kDQoJCQkJCSNpZiAoJGF2YXRhcikNCgkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG1lbnRpb24uTWVudGlvbmluZ0NvbnRlbnQuVXJsKSI+JGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkYXZhdGFyLCA3OCwgNzgsICIle1Jlc2l6ZU1ldGhvZD0nWm9vbUFuZENyb3AnLGJvcmRlcj0nMCd9Iik8L2E+DQoJCQkJCSNlbmQNCgkJCQk8L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LXN1bW1hcnkiPg0KCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkbWVudGlvbi5NZW50aW9uaW5nQ29udGVudC5IdG1sRGVzY3JpcHRpb24oJ1dlYlF1b3RlJyksIDI1MCwgJy4uLicpDQoJCQkJPC9kaXY+DQoJCQkjZW5kDQoJCQkjaWYgKCRtZW50aW9uLk1lbnRpb25pbmdDb250ZW50LkFwcGxpY2F0aW9uICYmICRtZW50aW9uLk1lbnRpb25pbmdDb250ZW50LkFwcGxpY2F0aW9uLkFwcGxpY2F0aW9uSWQgIT0gJG1lbnRpb24uTWVudGlvbmluZ0NvbnRlbnQuQ29udGVudElkKQ0KCQkJCTxkaXYgY2xhc3M9InBvc3QtYXBwbGljYXRpb24iPg0KCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnRlbnRfSW5BcHBsaWNhdGlvbicpLCAiPGEgaHJlZj0nJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVudGlvbi5NZW50aW9uaW5nQ29udGVudC5BcHBsaWNhdGlvbi5VcmwpJz4kbWVudGlvbi5NZW50aW9uaW5nQ29udGVudC5BcHBsaWNhdGlvbi5IdG1sTmFtZSgnV2ViJyk8L2E+IikNCgkJCQk8L2Rpdj4NCgkJCSNlbmQNCgkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+DQoJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRtZW50aW9uLk1lbnRpb25lZERhdGUpPC9zcGFuPg0KCQkJPC9kaXY+DQoJCTwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciI+PC9kaXY+DQogICAgICAgICAgICA8L2xpPg0KICAgICAgICAjYWZ0ZXJhbGwNCiAgICAgICAgICAgICNpZiAoKCRwYWdlSW5kZXggKyAxKSAqICRwYWdlU2l6ZSA8ICRtZW50aW9ucy5Ub3RhbENvdW50KQ0KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtIGxvYWQtbW9yZSI+PGRpdiBjbGFzcz0icGFnZXIiPjxhIGhyZWY9IiMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb250ZW50X01vcmUnKTwvYT48L2Rpdj48L2xpPg0KICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgI2lmICgkcGFnZUluZGV4ID09IDApDQogICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIHZpZXctJHZpZXdUeXBlIj48L2Rpdj4NCiAgICAgICAgICAgICNlbmQNCiAgICAjZW5kDQojZW5k</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsNCiAgICB2YXIgX2F0dGFjaEhhbmRsZXJzID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgdmFyIGxvYWRNb3JlID0gJChjb250ZXh0LndyYXBwZXIgKyAnIC5sb2FkLW1vcmUgYScpOw0KICAgICAgICAgICAgaWYgKGNvbnRleHQuZW5kbGVzc1Njcm9sbCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQuaGFzTW9yZSA9IGxvYWRNb3JlLmxlbmd0aCA+IDA7DQogICAgICAgICAgICAgICAgbG9hZE1vcmUucGFyZW50cygnbGknKS5oaWRlKCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxvYWRNb3JlLmNsaWNrKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBfbG9hZE5leHRQYWdlKGNvbnRleHQsIGNvbnRleHQucGFnZUluZGV4ICsgMSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgX2lzTG9hZGluZ01vcmUgPSBmYWxzZSwNCiAgICAgICAgX2xvYWROZXh0UGFnZSA9IGZ1bmN0aW9uKGNvbnRleHQsIHBhZ2VJbmRleCkgew0KICAgICAgICAgICAgX2lzTG9hZGluZ01vcmUgPSB0cnVlOw0KICAgICAgICAgICAgcmV0dXJuICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5sb2FkTmV4dFBhZ2VVcmwsDQogICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgCQlHcm91cElkOiBjb250ZXh0Lmdyb3VwSWQsDQogICAgICAgICAgICAgICAgICAgIFBhZ2VJbmRleDogcGFnZUluZGV4DQogICAgICAgICAgICAJfSwNCiAgICAgICAgICAgIAlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgICAgICAkKGNvbnRleHQud3JhcHBlciArICcgLmxvYWQtbW9yZSBhJykucGFyZW50cygnbGknKS5zaG93KCkucmVwbGFjZVdpdGgocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IHBhZ2VJbmRleDsNCiAgICAgICAgICAgICAgICAgICAgX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgICAgICBfaXNMb2FkaW5nTW9yZSA9IGZhbHNlOw0KICAgICAgICAgICAgCX0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9Ow0KCXZhciBhcGkgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IDA7DQoJCQlfYXR0YWNoSGFuZGxlcnMoY29udGV4dCk7DQoNCiAgICAgICAgICAgIGlmIChjb250ZXh0LmVuZGxlc3NTY3JvbGwpIHsNCiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5iaW5kKCdzY3JvbGxlbmQnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuaGFzTW9yZSAmJiAhX2lzTG9hZGluZ01vcmUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkTmV4dFBhZ2UoY29udGV4dCwgY29udGV4dC5wYWdlSW5kZXggKyAxKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgLy8gaWYgdGhlIHdpbmRvdyBpc24ndCB5ZXQgc2Nyb2xsYWJsZSwgdHJ5IGxvYWRpbmcgbW9yZQ0KICAgICAgICAgICAgICAgIHZhciBleHRyYUxvYWRDb3VudCA9IDAsDQogICAgICAgICAgICAgICAgICAgIG1heEV4dHJhTG9hZHMgPSAxMCwNCiAgICAgICAgICAgICAgICAgICAgbG9hZFVudGlsUGFnZUZ1bGwgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKCEoJChkb2N1bWVudCkuaGVpZ2h0KCkgPiAkKHdpbmRvdykuaGVpZ2h0KCkpICYmIChleHRyYUxvYWRDb3VudCA8IG1heEV4dHJhTG9hZHMpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFMb2FkQ291bnQrKzsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbG9hZE5leHRQYWdlKGNvbnRleHQsIGNvbnRleHQucGFnZUluZGV4ICsgMSkudGhlbihsb2FkVW50aWxQYWdlRnVsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgbG9hZFVudGlsUGFnZUZ1bGwoKTsNCiAgICAgICAgICAgIH0NCgkJfQ0KCX07DQoNCglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQ0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmdyb3VwTWVudGlvbkxpc3QgPSBhcGk7DQoNCn0oalF1ZXJ5KSk7</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Groups_GroupTitle_Name}" version="7.5.0.32466" description="${resource:Groups_GroupTitle_Description}" instanceIdentifier="98b406bf9f224e61b50ee7293c5732fd" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="group-title">
		<contentScript>
#set($page = $core_v2_groupUrls.Current)
#if ($page == 'Contact')
	#set($title = $core_v2_language.GetResource('Contact'))
#elseif ($page == 'AccessDenied')
	#set($title = $core_v2_language.GetResource('Hubs_AccessDenied_Title'))
#elseif ($page == 'RequestMembership')
	#set($title = $core_v2_language.GetResource('Hubs_RequestMembership'))
#elseif ($page == 'MemberList')
	#if ($core_v2_page.GetQueryStringValue('UserID'))
		#set($title = $core_v2_language.GetResource('Hubs_EditMember'))
	#else
		#set($title = $core_v2_language.GetResource('Role_Members'))
	#end
#elseif ($page == 'ContactRequests')
	#set($title = $core_v2_language.GetResource('Hubs_ContactRequest'))
#elseif ($page == 'MentionList')
	#set($title = $core_v2_language.GetResource('Hubs_MentionList'))
#elseif ($page == 'Tags')
	#set($title = $core_langauge.GetResource('TagBrowser_Title'))
#elseif ($page == 'Custom' &amp;&amp; $core_v2_customPage.Current)
	#set($title = $core_v2_widget.ApplyTokens($core_v2_customPage.Current.Title))
#end
#if ($page == 'Group')
	$core_v2_page.SetTitle('', true, true)
	&lt;h1 class="title"&gt;$core_v2_group.Current.Name&lt;/h1&gt;
#elseif ($title)
	$core_v2_page.SetTitle($title, true, true)
	&lt;h1 class="title"&gt;$title&lt;/h1&gt;
#else
	$core_v2_widget.Hide()
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Groups_GroupTitle_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Groups_GroupTitle_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Groups_GroupTitle_Name">Group - Title</resource><resource name="Groups_GroupTitle_Description">Displays the title for group pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Contact">Contact</resource><resource name="Hubs_AccessDenied_Title">Access Denied</resource><resource name="Hubs_RequestMembership">Request Membership</resource><resource name="Hubs_EditMember">Edit Member</resource><resource name="Role_Members">Members</resource><resource name="Hubs_ContactRequest">Manage contact requests</resource><resource name="Hubs_MentionList">Mentions</resource></language></languageResources>
		<requiredContext>
			<context id="c75db121ca2f49458517ef31436d98a0" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_History_Name}" version="7.5.0.32466" description="${resource:Wikis_History_Description}" instanceIdentifier="be2489b0472c4ce88243bf2d9d5f0c61" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="history">
		<contentScript>
#set ($currentPage = $core_v2_wikiPage.Current)

## hide this widget if the content is abusive and accessing user does not have permission to review
#set ($abusiveContent = false)
#set ($abusiveContent = $core_v2_abusiveContent.Get($currentPage.ContentId, $currentPage.ContentTypeId))
#set ($abusiveAndCanReviewAppealsInGroup = false)
#if ($abusiveContent &amp;&amp; $abusiveContent.IsAbusive)
	#set ($currentGroup = $core_v2_group.Current)
	#set ($abusiveAndCanReviewAppealsInGroup = $core_v2_nodePermission.Get('groups',$currentGroup.Id,'Group_ReviewAbuseAppeals').IsAllowed)
	#if (!$abusiveAndCanReviewAppealsInGroup)
		$core_v2_widget.Hide()
	#end
#end

#set ($deleteCompleteSingleText = $core_v2_language.GetResource('Wikis_History_Delete_Complete_Single'))
#set ($deleteCompleteMultipleText = $core_v2_language.GetResource('Wikis_History_Delete_Complete_Multiple'))
#if ($abusiveAndCanReviewAppealsInGroup)
	#set ($deleteCompleteSingleText = $core_v2_language.GetResource('Wikis_History_Delete_Complete_Abusive_Single'))
	#set ($deleteCompleteMultipleText = $core_v2_language.GetResource('Wikis_History_Delete_Complete_Abusive_Multiple'))
#end

#set ($canDeleteVersions = false)
#set ($canDeleteVersions = $core_v2_nodePermission.Get('wikis',$currentPage.WikiId,'Wiki_DeletePage',"%{PostType='pages',PostId=$currentPage.Id}").IsAllowed)

#set ($pageSize = 10)
#set ($pageIndex = $core_v2_ui.GetCurrentPageIndex())
#set ($revisions = $core_v2_wikiPageRevision.List($currentPage.WikiId, "%{PageId = $currentPage.Id, PageIndex = $pageIndex, PageSize = $pageSize}"))

#foreach ($revision in $revisions)
#beforeall
	&lt;div class="table-list-header"&gt;&lt;/div&gt;
	&lt;table id="$core_v2_widget.UniqueId('revisionListing')" class="table-list"&gt;
		&lt;thead&gt;
		&lt;tr class="table-header"&gt;
			&lt;th class="table-header-column" colspan="2"&gt;$core_v2_language.GetResource("Wikis_History_Revision")&lt;/th&gt;
			&lt;th class="table-header-column"&gt;$core_v2_language.GetResource("Wikis_History_Date")&lt;/th&gt;
			&lt;th class="table-header-column"&gt;$core_v2_language.GetResource("Wikis_History_Author")&lt;/th&gt;
		&lt;/tr&gt;
		&lt;/thead&gt;
		&lt;tbody&gt;
			&lt;tr class="table-item"&gt;
				&lt;td class="table-column"&gt;&lt;input type="checkbox" name="0" checked="checked" /&gt;&lt;/td&gt;
				&lt;td class="table-column"&gt;[$core_v2_language.GetResource("Wikis_History_CurrentRevision")]&lt;/td&gt;
				&lt;td class="table-column"&gt;$core_v2_language.FormatDateAndTime($currentPage.LastModifiedDate)&lt;/td&gt;
				&lt;td class="table-column"&gt;$core_v2_language.GetResource("by"):
					#if ($core_v2_user.Current.ProfileUrl)
						&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_user.Current.ProfileUrl)" class="internal-link view-user-profile"&gt;$core_v2_user.Current.DisplayName&lt;/a&gt;
					#else
						$core_v2_user.Current.DisplayName
					#end
				&lt;/td&gt;
			&lt;/tr&gt;
#each
	&lt;tr class="table-item"&gt;
		&lt;td class="table-column"&gt;
			&lt;input type="checkbox" name="$revision.RevisionNumber" /&gt;
		&lt;/td&gt;
		&lt;td class="table-column"&gt;
			[&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Revision($currentPage.Id, $revision.RevisionNumber))"&gt;$core_v2_language.GetResource("Revision") #$revision.RevisionNumber&lt;/a&gt;]
		&lt;/td&gt;
		&lt;td class="table-column"&gt;
			$core_v2_language.FormatDateAndTime($revision.LastModifiedDate)
		&lt;/td&gt;
		&lt;td class="table-column"&gt;
			$core_v2_language.GetResource("by"):
			#if ($revision.User.ProfileUrl)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($revision.User.ProfileUrl)" class="internal-link view-user-profile"&gt;$revision.User.DisplayName&lt;/a&gt;
			#else
				$revision.User.DisplayName
			#end
		&lt;/td&gt;
	&lt;/tr&gt;
#afterall
		&lt;/tbody&gt;
	&lt;/table&gt;
	&lt;div class="table-list-footer"&gt;&lt;/div&gt;
	$core_v2_ui.Pager($pageIndex, $revisions.PageSize, $revisions.TotalCount)

	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;&lt;input type="button" id="$core_v2_widget.UniqueId('compareVersionsButton')" value="$core_v2_language.GetResource('Wikis_History_Compare')" /&gt;&lt;/span&gt;
			&lt;/li&gt;
			#if ($canDeleteVersions)
				&lt;li class="field-item"&gt;
					&lt;span class="field-item-input"&gt;&lt;input type="button" id="$core_v2_widget.UniqueId('deleteVersionsButton')" value="$core_v2_language.GetResource('Wikis_History_Delete')" /&gt;&lt;/span&gt;
				&lt;/li&gt;
			#end
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#nodata
	&lt;div class="message norecords"&gt;$core_v2_language.GetResource("Wikis_History_NoRevisions")&lt;/div&gt;
#end

#registerEndOfPageHtml('telligent.evolution.widgets.history')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
		jQuery(document).ready(function()
		{
			jQuery.telligent.evolution.widgets.history.register({
				compareVersionsButton:jQuery('#$core_v2_widget.UniqueId('compareVersionsButton')'),
				deleteVersionsButton:jQuery('#$core_v2_widget.UniqueId('deleteVersionsButton')'),
				revisionListingContainer:jQuery('#$core_v2_widget.UniqueId('revisionListing')'),
				tooManyVersionsText:"$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_History_TooManyVersionsSelected'))",
				notEnoughVersionsText:"$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_History_NotEnoughVersionsSelected'))",
				deleteNotEnoughText:"$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_History_Delete_NotEnoughVersionsSelected'))",
				deleteCurrentText:"$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_History_Delete_CurrentVersion'))",
				deleteConfirmText:"$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_History_Delete_Confirm'))",
				deleteCompleteSingleText:"$core_v2_encoding.JavascriptEncode($deleteCompleteSingleText)",
				deleteCompleteMultipleText:"$core_v2_encoding.JavascriptEncode($deleteCompleteMultipleText)",
				wikiId: $currentPage.WikiId,
				wikiPageId: $currentPage.Id,
				revisionCount: $currentPage.RevisionCount
			});
		});
	//]]&gt;
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_History_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_History_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_History_Name">Wikis - History</resource><resource name="Wikis_History_Description">Displays history for wikis.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Wikis_History_Revision">Revision</resource><resource name="Wikis_History_Date">Creation Date</resource><resource name="Wikis_History_Author">Revision Author</resource><resource name="Wikis_History_CurrentRevision">Current Revision</resource><resource name="by">by</resource><resource name="Revision">Revision</resource><resource name="Wikis_History_Compare">Compare Versions</resource><resource name="Wikis_History_NoRevisions">There are no older revisions of this page.</resource><resource name="Wikis_History_TooManyVersionsSelected">Please only select two versions to compare</resource><resource name="Wikis_History_NotEnoughVersionsSelected">Please select two versions to compare</resource><resource name="Wikis_History_Delete">Delete Versions</resource><resource name="Wikis_History_Delete_NotEnoughVersionsSelected">Please select at least one version to delete.</resource><resource name="Wikis_History_Delete_CurrentVersion">The current revision version cannot be deleted.</resource><resource name="Wikis_History_Delete_Confirm">Are you sure you want to delete the selected revisions?</resource><resource name="Wikis_History_Delete_Complete_Single">Revision {0} has been deleted.</resource><resource name="Wikis_History_Delete_Complete_Multiple">Revisions {0} have been deleted.</resource><resource name="Wikis_History_Delete_Complete_Abusive_Single">Revision {0} has been deleted. This wiki page is still considered abusive. You must still restore the page.</resource><resource name="Wikis_History_Delete_Complete_Abusive_Multiple">Revisions {0} have been deleted. This wiki page is still considered abusive. You must still restore the page.</resource></language></languageResources>
		<requiredContext>
			<context id="438f4b20be39493c908f292b4592f6fc" />
		</requiredContext>
		<files>
			<file name="ui.js">OyhmdW5jdGlvbigkKSB7CgoJdmFyIFdpa2lTZXJ2aWNlID0gKGZ1bmN0aW9uKCl7CgkJcmV0dXJuIHsKCQkJZGVsZXRlUmV2aXNpb246IGZ1bmN0aW9uKHdpa2lJZCwgcGFnZUlkLCByZXZpc2lvbklkKSB7CgkJCQlyZXR1cm4gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7CgkJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvd2lraXMve1dpa2lJZH0vcGFnZXMve1BhZ2VJZH0vcmV2aXNpb25zL3tSZXZpc2lvbk51bWJlcn0uanNvbicsCgkJCQkJZGF0YTogewoJCQkJCQlXaWtpSWQ6IHdpa2lJZCwKCQkJCQkJUGFnZUlkOiBwYWdlSWQsCgkJCQkJCVJldmlzaW9uTnVtYmVyOiByZXZpc2lvbklkCgkJCQkJfQoJCQkJfSk7CgkJCX0KCQl9Cgl9KSgpOwoKCXZhciBnZXRTZWxlY3RlZFJldmlzaW9ucyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJcmV0dXJuICQoImlucHV0OmNoZWNrZWQiLCBjb250ZXh0LnJldmlzaW9uTGlzdGluZ0NvbnRhaW5lcikubWFwKGZ1bmN0aW9uKCl7CgkJCQlyZXR1cm4gdGhpcy5uYW1lOwoJCQl9KTsKCQl9LAoJCWhhbmRsZVZlcnNpb25Db21wYXJpc29ucyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJdmFyIHJlc3VsdCA9ICcnLAoJCQkJbnVtQ2hlY2tzID0gMDsKCQkJCXZlcnNpb25zID0gZ2V0U2VsZWN0ZWRSZXZpc2lvbnMoY29udGV4dCk7CgoJCQlpZih2ZXJzaW9ucy5sZW5ndGggPiAyKSB7CgkJCQlhbGVydChjb250ZXh0LnRvb01hbnlWZXJzaW9uc1RleHQpOwoJCQl9IGVsc2UgaWYodmVyc2lvbnMubGVuZ3RoIDwgMikgewoJCQkJYWxlcnQoY29udGV4dC5ub3RFbm91Z2hWZXJzaW9uc1RleHQpOwoJCQl9IGVsc2UgewoJCQkJd2luZG93LmxvY2F0aW9uID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5tb2RpZnkoewoJCQkJCXVybDogJ2NvbXBhcmUuYXNweCcsCgkJCQkJcXVlcnk6IHsKCQkJCQkJcmV2QTogdmVyc2lvbnNbMV0sCgkJCQkJCXJldkI6IHZlcnNpb25zWzBdCgkJCQkJfQoJCQkJfSk7CgkJCX0KCQl9LAoJCWhhbmRsZVZlcnNpb25EZWxldGlvbnMgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJCXZhciB2ZXJzaW9ucyA9IGdldFNlbGVjdGVkUmV2aXNpb25zKGNvbnRleHQpLAoJCQkJcmV2aXNpb25EZWxldGlvblJlcXVlc3RzID0gW107CgoJCQlpZih2ZXJzaW9ucy5sZW5ndGggPT09IDApIHsKCQkJCWFsZXJ0KGNvbnRleHQuZGVsZXRlTm90RW5vdWdoVGV4dCk7CgkJCX0gZWxzZSBpZih2ZXJzaW9uc1swXSA9PSAnMCcpIHsKCQkJCWFsZXJ0KGNvbnRleHQuZGVsZXRlQ3VycmVudFRleHQpOwoJCQl9IGVsc2UgaWYoY29uZmlybShjb250ZXh0LmRlbGV0ZUNvbmZpcm1UZXh0KSkgewoKCQkJCXZhciB2ZXJzaW9uTGlzdCA9ICQubWFrZUFycmF5KHZlcnNpb25zKTsKCQkJCXZlcnNpb25MaXN0LnNvcnQoKTsKCQkJCXZhciB2ZXJzaW9uc0RlbGV0aW9uQ29uZmlybWF0aW9uVGV4dCA9IHZlcnNpb25MaXN0LmpvaW4oJywgJyksCgkJCQkJZGVsZXRpb25Db25maXJtYXRpb25UZXh0ID0gdmVyc2lvbnMubGVuZ3RoID4gMQoJCQkJCQk/IGNvbnRleHQuZGVsZXRlQ29tcGxldGVNdWx0aXBsZVRleHQucmVwbGFjZSgvXHswXH0vZ2ksIHZlcnNpb25zRGVsZXRpb25Db25maXJtYXRpb25UZXh0KQoJCQkJCQk6IGNvbnRleHQuZGVsZXRlQ29tcGxldGVTaW5nbGVUZXh0LnJlcGxhY2UoL1x7MFx9L2dpLCB2ZXJzaW9uc0RlbGV0aW9uQ29uZmlybWF0aW9uVGV4dCk7CgoJCQkJcmV2aXNpb25EZWxldGlvblJlcXVlc3RzID0gJC5tYXAodmVyc2lvbnMsIGZ1bmN0aW9uKHZlcnNpb24pIHsKCQkJCQlyZXR1cm4gV2lraVNlcnZpY2UuZGVsZXRlUmV2aXNpb24oY29udGV4dC53aWtpSWQsIGNvbnRleHQud2lraVBhZ2VJZCwgdmVyc2lvbik7CgkJCQl9KTsKCgkJCQkkLndoZW4uYXBwbHkoJCwgcmV2aXNpb25EZWxldGlvblJlcXVlc3RzKS5kb25lKGZ1bmN0aW9uKCl7CgkJCQkJaWYoY29udGV4dC5yZXZpc2lvbkNvdW50ID4gKHZlcnNpb25zLmxlbmd0aCArIDEpKSB7CgkJCQkJCSQoImlucHV0OmNoZWNrZWQiLCBjb250ZXh0LnJldmlzaW9uTGlzdGluZ0NvbnRhaW5lcikuY2xvc2VzdCgndHInKS5yZW1vdmUoKTsKCQkJCQl9CgkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZWxldGlvbkNvbmZpcm1hdGlvblRleHQsIHsKCQkJCQkJdHlwZTogJ3N1Y2Nlc3MnLAoJCQkJCQlkdXJhdGlvbjogNTAwMCwKCQkJCQkJY2FsbGJhY2s6IGZ1bmN0aW9uKCkgewoJCQkJCQkJaWYoY29udGV4dC5yZXZpc2lvbkNvdW50ID09PSAodmVyc2lvbnMubGVuZ3RoICsgMSkpIHsKCQkJCQkJCQl3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSk7CgkJCQl9KTsKCQkJfQoJCX07CgoJdmFyIGFwaSA9IHsKCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgewoJCQljb250ZXh0LmNvbXBhcmVWZXJzaW9uc0J1dHRvbi5jbGljayhmdW5jdGlvbigpIHsKCQkJCWhhbmRsZVZlcnNpb25Db21wYXJpc29ucyhjb250ZXh0KTsKCQkJfSk7CgkJCWNvbnRleHQuZGVsZXRlVmVyc2lvbnNCdXR0b24uY2xpY2soZnVuY3Rpb24oKXsKCQkJCWhhbmRsZVZlcnNpb25EZWxldGlvbnMoY29udGV4dCk7CgkJCX0pOwoKCQkJaWYgKCQoIjpjaGVja2JveCIsIGNvbnRleHQucmV2aXNpb25MaXN0aW5nQ29udGFpbmVyKS5sZW5ndGggPiAxKSB7CgkJCQkkKCI6Y2hlY2tib3giLCBjb250ZXh0LnJldmlzaW9uTGlzdGluZ0NvbnRhaW5lcikuZ2V0KDEpLnNldEF0dHJpYnV0ZSgnY2hlY2tlZCcsICdjaGVja2VkJyk7CgkJCX0KCQl9Cgl9OwoKCSQudGVsbGlnZW50ID0gJC50ZWxsaWdlbnQgfHwge307CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24gfHwge307CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzIHx8IHt9OwoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMuaGlzdG9yeSA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLmhpc3RvcnkgfHwgYXBpOwoKfSkoalF1ZXJ5KTs=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_InviteUser_Name}" version="7.5.0.32466" description="${resource:Core_InviteUser_Description}" instanceIdentifier="9f268aafcc6b4e1eb74ee21eabd11322" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="invite-user">
		<contentScript>
#set($user = $core_v2_user.Accessing)
#if(!$core_v2_user.IsRegistered($user.Id))
	$core_v2_widget.Hide()
#end

&lt;div class="message success" id="$core_v2_widget.UniqueId('successMessage')" style="display:none"&gt;
	$core_v2_language.FormatString($core_v2_language.GetResource("InviteUser_SendSuccess"), $core_v2_urls.Home())
&lt;/div&gt;

&lt;div class="message instructions"&gt;
	$core_v2_language.GetResource("InviteUser_Instructions")
&lt;/div&gt;

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item email-address"&gt;
			&lt;label class="field-item-header" for="$core_v2_widget.UniqueId('email')"&gt;${core_v2_language.GetResource("InviteUser_Email")}&lt;/label&gt;
			&lt;span class="field-item-input"&gt;&lt;input type="text" id="$core_v2_widget.UniqueId('email')" size="60" maxlength="5000" /&gt;&lt;/span&gt;
			&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;label class="field-item-header" for="$core_v2_widget.UniqueId('message')"&gt;${core_v2_language.GetResource("InviteUser_Message")}&lt;/label&gt;
			&lt;span class="field-item-input"&gt;&lt;textarea id="$core_v2_widget.UniqueId('message')" rows="5" size="60"&gt;&lt;/textarea&gt;&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="field-item"&gt;
			&lt;span class="field-item-input"&gt;&lt;input type="button" disabled="disabled" value="$core_v2_language.GetResource('Send')" id="$core_v2_widget.UniqueId('send')" /&gt;&lt;/span&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.inviteUser')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.inviteUser.register({
				wrapperId : '$core_v2_widget.WrapperElementId',
				emailInput : jQuery('#$core_v2_widget.UniqueId('email')'),
				messageInput : jQuery('#$core_v2_widget.UniqueId('message')'),
				sendButton : jQuery('#$core_v2_widget.UniqueId('send')'),
				successMessageContainer : jQuery('#$core_v2_widget.UniqueId('successMessage')'),
				createUrl : '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('create.vm'))',
				emailRequiredText : '*',
				createErrorMessage : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("InviteUser_CreateError"))'
			});
		});
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_InviteUser_Name}'))
					</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_InviteUser_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
					</configuration>
		<languageResources><language key="en-us"><resource name="Core_InviteUser_Name">Invite User</resource><resource name="Core_InviteUser_Description">Displays a form for a user to invite a person to join the community.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="InviteUser_SendSuccess">Your invitations have been sent successfully. Return to the &lt;a class="internal-link view-home" href="{0}"&gt;homepage&lt;/a&gt;.</resource><resource name="InviteUser_Instructions">Enter the email addresses of people you would like to invite to join this community along with a brief message. Multiple email addresses can be entered, delimited by semi-colons.</resource><resource name="Send">Send</resource><resource name="InviteUser_CreateError">An error occurred while trying to create the invitation to send to the user.</resource><resource name="InviteUser_Email">Email Address(es):</resource><resource name="InviteUser_Message">Message:</resource></language></languageResources>
		<files>
			<file name="create.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJGVtYWlsQWRkcmVzcyA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdlbWFpbEFkZHJlc3MnKSkKCSNzZXQoJG1lc3NhZ2UgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnbWVzc2FnZScpKQoKCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQoKCSNpZigkZW1haWxBZGRyZXNzLkluZGV4T2YoIjsiKSA+IDApCgkgICAgI3NldCgkZW1haWxBZGRyZXNzZXMgPSAkY29yZV92Ml91dGlsaXR5LlNwbGl0KCI7IiwgJGVtYWlsQWRkcmVzcykpCgkgICAgI3NldCgkdXNlckludml0YXRpb24gPSAkY29yZV92Ml91c2VySW52aXRhdGlvbi5DcmVhdGUoJGVtYWlsQWRkcmVzc2VzLCAkbWVzc2FnZSkpCgkjZWxzZQoJICAgICNzZXQoJHVzZXJJbnZpdGF0aW9uID0gJGNvcmVfdjJfdXNlckludml0YXRpb24uQ3JlYXRlKCRlbWFpbEFkZHJlc3MsICRtZXNzYWdlKSkKCSNlbmQKCgkjaWYgKCR1c2VySW52aXRhdGlvbi5FcnJvcnMuQ291bnQgPiAwKQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkdXNlckludml0YXRpb24uRXJyb3JzKQoJI2VuZAoKCXsiaW52aXRhdGlvbkNyZWF0ZWQiOnRydWV9CiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciBfY3JlYXRlSW52aXRlID0gZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJdmFyIGRhdGEgPSB7IA0KCQkJCQllbWFpbEFkZHJlc3M6Y29udGV4dC5lbWFpbElucHV0LnZhbCgpLA0KCQkJCQltZXNzYWdlOmNvbnRleHQubWVzc2FnZUlucHV0LnZhbCgpDQoJCQkJfTsNCgkJCQ0KCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCQkJCXVybDogY29udGV4dC5jcmVhdGVVcmwsDQoJCQkJZGF0YTogZGF0YSwNCgkJCQlkYXRhVHlwZTogJ2pzb24nLA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCXsNCgkJCQkJJChjb250ZXh0LnN1Y2Nlc3NNZXNzYWdlQ29udGFpbmVyKS5zaG93KCk7DQoJCQkJfSwNCgkJCQlkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmNyZWF0ZUVycm9yTWVzc2FnZSwNCgkJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkgDQoJCQkJeyANCgkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTsNCgkJCQkJY29udGV4dC5zZW5kQnV0dG9uLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7DQoJCQkJfQ0KCQkJfSk7DQoJCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5pbnZpdGVVc2VyID0NCgl7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KQ0KCQl7DQoJCQljb250ZXh0LnNlbmRCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbigNCgkJCXsNCgkJCQl2YWxpZGF0ZU9uTG9hZCA6IGZhbHNlLA0KCQkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSANCgkJCQl7IA0KCQkJCQlpZiAoaXNWYWxpZCkgDQoJCQkJCQljb250ZXh0LnNlbmRCdXR0b24ucmVtb3ZlQXR0cignZGlzYWJsZWQnKTsgDQoJCQkJCWVsc2UNCgkJCQkJCWNvbnRleHQuc2VuZEJ1dHRvbi5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpOw0KCQkJCX0sDQoJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIA0KCQkJCXsNCgkJCQkJY29udGV4dC5zZW5kQnV0dG9uLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7DQoJCQkJCV9jcmVhdGVJbnZpdGUoY29udGV4dCk7DQoJCQkJfQ0KCQkJfSkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLCBjb250ZXh0LmVtYWlsSW5wdXQsCQ0KCQkJeyANCgkJCQlyZXF1aXJlZDogdHJ1ZSwNCgkJCQllbWFpbHM6IHRydWUsDQoJCQkJbWVzc2FnZXM6IA0KCQkJCXsgDQoJCQkJCXJlcXVpcmVkOiBjb250ZXh0LmVtYWlsUmVxdWlyZWRUZXh0LA0KCQkJCQllbWFpbHM6IGNvbnRleHQuZW1haWxSZXF1aXJlZFRleHQNCgkJCQl9IA0KCQkJfSwgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLmVtYWlsLWFkZHJlc3MgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsIG51bGwpOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:LikesWidget_Title}" version="7.5.0.32466" description="${resource:LikesWidget_Description}" instanceIdentifier="b0c8ad14ffd94a9eb7efa727c469a165" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="liked-content">
		<contentScript>
#set ($endlessScroll = $core_v2_widget.GetBoolValue('endlessScroll', true))

#set($filterType = false)
#set($filterType = $core_v2_widget.GetStringValue('filterType', ''))
#if(!$filterType)
    #set($user = false)
	#set($user = $core_v2_user.Current)
	#if($user)
		#set($filterType = 'Current')
		$core_v2_widget.SetStringValue('filterType', $filterType)
	#else
		#set($filterType = 'Accessing')
		$core_v2_widget.SetStringValue('filterType', $filterType)
	#end
#end

#set($user = false)
#if ($filterType == 'Current')
    #set($user = $core_v2_user.Current)
#else
    #set($user = $core_v2_user.Accessing)
#end

#if (!$user)
    $core_v2_widget.Hide()
#end

#set($userId = $user.Id)
#set($pageIndex = 0)
&lt;div class="$core_v2_widget.GetStringValue('viewType', 'simple')-view"&gt;
    $core_v2_widget.ExecuteFile('likes.vm')
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.likedContent')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	jQuery(document).ready(function(j){
		jQuery.telligent.evolution.widgets.likedContent.register({
			wrapper: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)",
            userId: $userId,
            endlessScroll:#if ($endlessScroll) true#else false#end,
			loadNextPageUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('loadnextpage.vm'))"
		});
	});
	&lt;/script&gt;
#end
</contentScript>
		<headerScript>
	$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Title}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Configuration_Options"&gt;
    &lt;property id="fragmentHeader" resourceName="Configuration_Title" dataType="string" defaultValue="${resource:Title}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="pageSize" resourceName="Configuration_PageSize" dataType="int" defaultValue="15"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="filterType" resourceName="Configuration_Filter" dataType="string" defaultValue=""&gt;
		&lt;propertyValue value="Accessing" resourceName="Configuration_Filter_AccessingUser" /&gt;
		&lt;propertyValue value="Current" resourceName="Configuration_Filter_CurrentUser" /&gt;
	&lt;/property&gt;
    &lt;property id="viewType" resourceName="Configuration_View" dataType="string" defaultValue="simple"&gt;
        &lt;propertyValue value="simple" resourceName="Configuration_View_Simple" /&gt;
        &lt;propertyValue value="full" resourceName="Configuration_View_Full" /&gt;
    &lt;/property&gt;
	&lt;property id="endlessScroll" resourceName="Configuration_EnableEndlessScroll" descriptionResourceName="Configuration_EnableEndlessScroll_Description" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
</configuration>
		<languageResources><language key="en-us"><resource name="Title">Likes</resource><resource name="LikesWidget_Description">Shows content liked by a user.</resource><resource name="LikesWidget_Title">Liked Content</resource><resource name="Configuration_Options">Options</resource><resource name="Configuration_Title">Widget Title</resource><resource name="Configuration_Filter">Show likes for</resource><resource name="Configuration_Filter_AccessingUser">Accessing user</resource><resource name="Configuration_Filter_CurrentUser">Contextual user</resource><resource name="Configuration_EnableEndlessScroll">Enable endless scrolling</resource><resource name="Configuration_EnableEndlessScroll_Description">Automatically load more likes when scrolled near the end</resource><resource name="Content_InApplication">in {0}</resource><resource name="Configuration_PageSize">Page Size</resource><resource name="Content_More">Show More</resource><resource name="Configuration_View">View Type</resource><resource name="Configuration_View_Simple">Simple</resource><resource name="Configuration_View_Full">Full</resource><resource name="No_Likes_Message">{0} has not yet liked anything.</resource></language></languageResources>
		<files>
			<file name="likes.vm">I3NldCAoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdwYWdlU2l6ZScsIDE1KSkNCiNzZXQgKCR2aWV3VHlwZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgndmlld1R5cGUnLCAnc2ltcGxlJykpDQoNCiNzZXQoJGxpa2VzID0gJGNvcmVfdjJfbGlrZS5MaXN0KCIle1VzZXJJZD0kdXNlcklkLFBhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleCxTb3J0Qnk9J0RhdGUnLFNvcnRPcmRlcj0nRGVzY2VuZGluZyd9IikpDQojaWYgKCRsaWtlcy5Ub3RhbENvdW50ID09IDAgJiYgJHBhZ2VJbmRleCA9PSAwKQ0KICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2UgaW5mb3JtYXRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiTm9fTGlrZXNfTWVzc2FnZSIpLCAkdXNlci5EaXNwbGF5TmFtZSk8L2Rpdj4NCiNlbHNlDQogICAgI2ZvcmVhY2goJGxpa2UgaW4gJGxpa2VzKQ0KICAgICAgICAjYmVmb3JlYWxsDQoJCSNpZigkcGFnZUluZGV4ID09IDApDQoJCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIj48L2Rpdj4NCgkJCTx1bCBjbGFzcz0iY29udGVudC1saXN0Ij4NCgkJI2VuZA0KCSNlYWNoDQoJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4NCgkJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIj48L2Rpdj4NCgkJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QiPg0KCQkJCSNpZiAoJHZpZXdUeXBlID09ICdmdWxsJykNCgkJCQkJPGRpdiBjbGFzcz0icG9zdC1wYXJ0aWNpcGFudHMiPg0KCQkJCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQkJCQk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+DQoJCQkJCQkJI3NldCgkdXNlckxpa2VzID0gJGNvcmVfdjJfbGlrZS5MaXN0KCIle0NvbnRlbnRJZD0kbGlrZS5Db250ZW50SWQsUGFnZVNpemU9MTEsUGFnZUluZGV4PTAsU29ydE9yZGVyPSdEZXNjZW5kaW5nJ30iKSkNCgkJCQkJCQkjc2V0KCR1c2VyQ291bnQgPSAwKQ0KCQkJCQkJCSNmb3JlYWNoICgkdXNlckxpa2UgaW4gJHVzZXJMaWtlcykNCgkJCQkJCQkJI2lmICgkdXNlckxpa2UuVXNlcklkICE9ICR1c2VySWQgJiYgJHVzZXJDb3VudCA8IDEwKQ0KCQkJCQkJCQkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iPg0KCQkJCQkJCQkJCSNpZiAoJHVzZXJMaWtlLlVzZXIuUHJvZmlsZVVybCkNCgkJCQkJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXNlckxpa2UuVXNlci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXJMaWtlLlVzZXIuQXZhdGFyVXJsLCA0MiwgNDIsICIle1Jlc2l6ZU1ldGhvZD0nWm9vbUFuZENyb3AnLGJvcmRlcj0nMCd9Iik8L2E+DQoJCQkJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkdXNlckxpa2UuVXNlci5BdmF0YXJVcmwsIDQyLCA0MiwgIiV7UmVzaXplTWV0aG9kPSdab29tQW5kQ3JvcCcsYm9yZGVyPScwJ30iKQ0KCQkJCQkJCQkJCSNlbmQNCgkJCQkJCQkJCTwvbGk+DQoJCQkJCQkJCQkjc2V0KCR1c2VyQ291bnQgPSAkdXNlckNvdW50ICsgMSkNCgkJCQkJCQkJI2VuZA0KCQkJCQkJCSNlbmQNCgkJCQkJCTwvdWw+DQoJCQkJCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj4NCgkJCQkJCQkjaWYgKCR1c2VyTGlrZXMuVG90YWxDb3VudCA+IDEpDQoJCQkJCQkJCSRjb3JlX3YyX3VpLkxpa2UoJGxpa2UuQ29udGVudElkLCAkbGlrZS5Db250ZW50LkNvbnRlbnRUeXBlSWQsICIleyBGb3JtYXQgPSAne21lc3NhZ2V9JyB9IikNCgkJCQkJCQkjZW5kDQoJCQkJCQk8L2Rpdj4NCgkJCQkJPC9kaXY+DQoJCQkJI2VuZA0KCQkJCTxoNCBjbGFzcz0icG9zdC1uYW1lIj4NCgkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbGlrZS5Db250ZW50LlVybCkiPjxzcGFuPjwvc3Bhbj4kbGlrZS5Db250ZW50Lkh0bWxOYW1lKCdXZWInKTwvYT4NCgkJCQk8L2g0Pg0KCQkJCTxkaXYgY2xhc3M9InBvc3QtdGh1bWJuYWlsIj4NCgkJCQkJI3NldCgkYXZhdGFyID0gZmFsc2UpDQoJCQkJCSNzZXQoJGF2YXRhciA9ICRsaWtlLkNvbnRlbnQuQXZhdGFyVXJsKQ0KCQkJCQkjaWYgKCEkYXZhdGFyKQ0KCQkJCQkJI3NldCgkYXZhdGFyID0gJGxpa2UuQ29udGVudC5BcHBsaWNhdGlvbi5BdmF0YXJVcmwpDQoJCQkJCQkjaWYgKCEkYXZhdGFyKQ0KCQkJCQkJCSNzZXQoJGF2YXRhciA9ICRsaWtlLkNvbnRlbnQuQXBwbGljYXRpb24uQ29udGFpbmVyLkF2YXRhclVybCkNCgkJCQkJCSNlbmQNCgkJCQkJI2VuZA0KCQkJCQkjaWYgKCRhdmF0YXIpDQoJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRsaWtlLkNvbnRlbnQuVXJsKSI+JGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkYXZhdGFyLCA3OCwgNzgsICIle1Jlc2l6ZU1ldGhvZD0nWm9vbUFuZENyb3AnLGJvcmRlcj0nMCd9Iik8L2E+DQoJCQkJCSNlbmQNCgkJCQk8L2Rpdj4NCgkJCQkjaWYgKCRsaWtlLkNvbnRlbnQuQXBwbGljYXRpb24pDQoJCQkJCTxkaXYgY2xhc3M9InBvc3QtYXBwbGljYXRpb24iPg0KCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb250ZW50X0luQXBwbGljYXRpb24nKSwgIjxhIGhyZWY9JyRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGxpa2UuQ29udGVudC5BcHBsaWNhdGlvbi5VcmwpJz4kbGlrZS5Db250ZW50LkFwcGxpY2F0aW9uLkh0bWxOYW1lKCdXZWInKTwvYT4iKQ0KCQkJCQk8L2Rpdj4NCgkJCQkjZW5kDQoJCQkJPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4NCgkJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRsaWtlLkNyZWF0ZWREYXRlKTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCTwvZGl2Pg0KCQkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIiPjwvZGl2Pg0KCQk8L2xpPg0KICAgICAgICAjYWZ0ZXJhbGwNCiAgICAgICAgICAgICNpZiAoKCRwYWdlSW5kZXggKyAxKSAqICRwYWdlU2l6ZSA8ICRsaWtlcy5Ub3RhbENvdW50KQ0KICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtIGxvYWQtbW9yZSI+PGRpdiBjbGFzcz0icGFnZXIiPjxhIGhyZWY9IiMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb250ZW50X01vcmUnKTwvYT48L2Rpdj48L2xpPg0KICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgI2lmICgkcGFnZUluZGV4ID09IDApDQogICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4NCiAgICAgICAgICAgICNlbmQNCiAgICAjZW5kDQojZW5k</file>
			<file name="loadnextpage.vm">I3NldCgkdXNlcklkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ1VzZXJJZCcpKSkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ3ZhbHVlKCdQYWdlSW5kZXgnKSkpDQoNCiRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnbGlrZXMudm0nKQ==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsNCiAgICB2YXIgX2F0dGFjaEhhbmRsZXJzID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgdmFyIGxvYWRNb3JlID0gJChjb250ZXh0LndyYXBwZXIgKyAnIC5sb2FkLW1vcmUgYScpOw0KICAgICAgICAgICAgaWYgKGNvbnRleHQuZW5kbGVzc1Njcm9sbCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQuaGFzTW9yZSA9IGxvYWRNb3JlLmxlbmd0aCA+IDA7DQogICAgICAgICAgICAgICAgbG9hZE1vcmUucGFyZW50cygnbGknKS5oaWRlKCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxvYWRNb3JlLmNsaWNrKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBfbG9hZE5leHRQYWdlKGNvbnRleHQsIGNvbnRleHQucGFnZUluZGV4ICsgMSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgX2lzTG9hZGluZ01vcmUgPSBmYWxzZSwNCiAgICAgICAgX2xvYWROZXh0UGFnZSA9IGZ1bmN0aW9uKGNvbnRleHQsIHBhZ2VJbmRleCkgew0KICAgICAgICAgICAgX2lzTG9hZGluZ01vcmUgPSB0cnVlOw0KICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQogICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LmxvYWROZXh0UGFnZVVybCwNCiAgICAgICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAJCVVzZXJJZDogY29udGV4dC51c2VySWQsDQogICAgICAgICAgICAgICAgICAgIFBhZ2VJbmRleDogcGFnZUluZGV4DQogICAgICAgICAgICAJfSwNCiAgICAgICAgICAgIAlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgICAgICAkKGNvbnRleHQud3JhcHBlciArICcgLmxvYWQtbW9yZSBhJykucGFyZW50cygnbGknKS5zaG93KCkucmVwbGFjZVdpdGgocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IHBhZ2VJbmRleDsNCiAgICAgICAgICAgICAgICAgICAgX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgICAgICBfaXNMb2FkaW5nTW9yZSA9IGZhbHNlOw0KICAgICAgICAgICAgCX0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9Ow0KCXZhciBhcGkgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IDA7DQoJCQlfYXR0YWNoSGFuZGxlcnMoY29udGV4dCk7DQoNCiAgICAgICAgICAgIGlmIChjb250ZXh0LmVuZGxlc3NTY3JvbGwpIHsNCiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5iaW5kKCdzY3JvbGxlbmQnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuaGFzTW9yZSAmJiAhX2lzTG9hZGluZ01vcmUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkTmV4dFBhZ2UoY29udGV4dCwgY29udGV4dC5wYWdlSW5kZXggKyAxKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KCQl9DQoJfTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0NCglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307IH0NCglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9OyB9DQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMubGlrZWRDb250ZW50ID0gYXBpOw0KDQp9KGpRdWVyeSkpOw==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_LoginAndCreateUser_Name}" version="7.5.0.32466" description="${resource:Core_LoginAndCreateUser_Description}" instanceIdentifier="b1db6b71c0be43b58925e469eb6315a4" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="login-and-create-user">
		<contentScript>
#if (!$core_v2_widget.IsInWidgetPreviewMode)
	$core_v2_page.EnsureSecureConnection("%{ IsAuthenticatingUser = 'true' }")
#end

#set ($mode = $core_v2_widget.GetStringValue('mode', 'login'))
#set ($loginTypeSetting = $core_v2_widget.GetStringValue('loginType', 'username'))
#set ($oAuthDataTokenKey = "oauth_data_token_key")
#set ($oAuthDataTokenValue = $core_v2_page.GetQueryStringValue($oAuthDataTokenKey))

#set ($returnUrl = $core_v2_page.GetQueryStringValue('ReturnUrl'))
## if there was no return url, or it was redirecting to create or logout, then instead direct to home
## it's not ideal that this simply checks the URL for certain paths, but it's also what the non-scripted login did.
#if (!$returnUrl || $returnUrl.Contains('createuser.aspx') || $returnUrl.Contains('logout.aspx') )
	#set ($returnUrl = $core_v2_urls.Home())
#end

#set ($siteInfo =  $core_v2_infoResult.Get())
#set ($selectedProfileFields = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('profileFields','')).Values('SelectedField'))
#set ($requiredProfileFields = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('profileFields','')).Values('RequiredField'))
#set ($termsOfServiceUrl = $core_v2_urls.TermsOfService())
#set ($requiredFields = "")

## grab round-tripped time zone offset from cookie initially written by JavaScript for use
## by the various in and out of line creation/linking mechanisms.
#set ($timeZoneOffset = $core_v2_page.GetCookieValue("tzoffset", "%{ CookieName = 'tzoffset' }"))

## requiresJoinDetails dictates whether a new user joining via oauth is required to fill out any form
#set ($requiresJoinDetails = false)
#if ($termsOfServiceUrl || $core_v2_configuration.ShowContactCheckboxes || $selectedProfileFields.Count &gt; 0)
	#set ($requiresJoinDetails = true)
#end

## define unique form input names
#set ($actionInput = $core_v2_widget.UniqueId('action'))
#set ($providerInput = $core_v2_widget.UniqueId('provider'))
#set ($profileFieldsInput = $core_v2_widget.UniqueId('profileFields'))
#set ($loginTypeInput = $core_v2_widget.UniqueId('loginType'))
#set ($usernameInput = $core_v2_widget.UniqueId('username'))
#set ($passwordInput = $core_v2_widget.UniqueId('password'))
#set ($password2Input = $core_v2_widget.UniqueId('password2'))
#set ($emailInput = $core_v2_widget.UniqueId('email'))
#set ($rememberMeInput = $core_v2_widget.UniqueId('rememberMe'))
#set ($acceptAgreementInput = $core_v2_widget.UniqueId('acceptAgreement'))
#set ($allowSiteToContactInput = $core_v2_widget.UniqueId('allowSiteToContact'))
#set ($allowSitePartnersToContactInput = $core_v2_widget.UniqueId('allowSitePartnersToContact'))
#set ($dynamicFieldsForm = $core_v2_widget.UniqueId('profileFields'))
#set ($captchaHiddenInput = $core_v2_widget.UniqueId('cp_Id'))
#set($captchaEnabled = $core_v2_widget.GetBoolValue("captcha",false))

## GET or PREVIEWING
#if (!$core_v2_page.IsPost || $core_v2_widget.IsInWidgetPreviewMode)
	## login mode or any sort of oauth connect redirect handling (whether from login or join)
	#if ($mode == 'login' || $oAuthDataTokenValue)
		## implies page was loaded as the result of handling an oauth login request
		#if ($oAuthDataTokenValue)
			#if ($oAuthDataTokenValue.Length &gt; 0)
				## attempt to login and redirect using an already-oauth-linked user account
				#if (!$core_v2_authentication.LoginAndRedirect($oAuthDataTokenValue, true, $returnUrl))
					## there wasn't currently a linked account
					#set ($oAuthData = $core_v2_authentication.GetOAuthData($oAuthDataTokenValue))
					#if ($oAuthData.Email)
						## get any existing evolution user which has an email returned from provider
						#set ($user = false)
						#set ($user = $core_v2_user.Get("%{ Email = $oAuthData.Email }"))
						#if ($user)
							$core_v2_widget.ExecuteFile('form_link_accounts.vm')
						#else
							## it's determined that there is no linkable current evo account
							## for this oauth user, so a new account will be created.

							#if ($requiresJoinDetails)
								## it's possible we first need more information from the user to create this account
								$core_v2_widget.ExecuteFile('form_join_oauth.vm')
							#else

								## otherwise, try auto-creating the account purely from oauth data
								#if (!$core_v2_authentication.CreateLoginAndRedirect($oAuthDataTokenValue, true, $returnUrl, "%{ TimeZone = $timeZoneOffset }"))
									$core_v2_widget.ExecuteFile('form_join_oauth.vm')
								#end
							#end
						#end
					#else
						$core_v2_widget.ExecuteFile('form_collect_email_address.vm')
					#end
				#end
			## if the oauth data token value was empty, access was denied by the user in oauth
			#else
				$core_v2_widget.ExecuteFile('form_login.vm')
			#end
		## not the result of oauth redirection, so is a standard login form
		#else
			$core_v2_widget.ExecuteFile('form_login.vm')
		#end
	## Create Mode
	#else
		$core_v2_widget.ExecuteFile('form_join_manual.vm')
	#end
## POST
#else
	#set ($action = $core_v2_page.GetFormValue($actionInput))

	## handles an explicit login-via-credentials request
	#if ($action == 'login')
		## gather credentials from form post

        #if ($loginTypeSetting == "both")
            #set ($loginType = $core_v2_page.GetFormValue($loginTypeInput))
        #else
            #set ($loginType = $loginTypeSetting)
        #end

        ##if email login is selected, look up user to retrieve username
        #if ($loginType == "email")
            #set ($email = $core_v2_page.GetFormValue($usernameInput))

            #set($emailUser = $core_v2_user.Get("%{Email = $email}"))
            #if ($emailUser)
                #set ($username = $emailUser.Username)
            #else
                #set ($username = '')
            #end
        #else
        	#set ($username = $core_v2_page.GetFormValue($usernameInput))
		#end

        #set ($password = $core_v2_page.GetFormValue($passwordInput))
		#set ($rememberMe = false)
		#if ($core_v2_page.GetFormValue($rememberMeInput))
			#set ($rememberMe = true)
		#end

		## try to login and redirect
		#if (!$core_v2_authentication.LoginAndRedirect($username, $password, $rememberMe, $returnUrl))
			## if not authenticated, re-show login options
			$core_v2_widget.ExecuteFile('form_login.vm')
		#end
	## handles a request to use a given oauth provider for authentication
	#elseif ($action == 'oauth_connect')
		## redirect browser to the user's chosen oauth provider
		$core_v2_authentication.RedirectToAuthenticationLink($core_v2_page.GetFormValue($providerInput), $core_v2_page.Url, $oAuthDataTokenKey)
	## handles a request for email address when one was not provided by the oauth provider
	## and subsequently links a matching existing account, auto-creates a new account,
	## or asks for more details before creating a new account
	#elseif ($action == 'collect_email_address')
		#set ($email = $core_v2_page.GetFormValue($emailInput))
		## get any existing evolution user which has an email returned from provider
		#set ($user = false)
		#set ($user = $core_v2_user.Get("%{ Email = $email }"))

		#if ($user)
			$core_v2_widget.ExecuteFile('form_link_accounts.vm')
		#else
			## it's determined that there is no linkable current evo account
			## for this oauth user, so a new account will be created.

			#if ($requiresJoinDetails)
				## it's possible we first need more information from the user to create this account
				$core_v2_widget.ExecuteFile('form_join_oauth.vm')
			#else
				## otherwise, try auto-creating the account purely from oauth data
				## since this path was reached via explicitly providing an email address
				## let's also pass that email address to the create, which will need it
				#if (!$core_v2_authentication.CreateLoginAndRedirect($oAuthDataTokenValue, true, $returnUrl, "%{ Email = $email, TimeZone = $timeZoneOffset }"))
					$core_v2_widget.ExecuteFile('form_join_oauth.vm')
				#end
			#end
		#end
	## handles a standard fully-manual join/creation request not from oauth
	#elseif ($action == 'join_manual')
		## process posted fields
		#set ($username = $core_v2_page.GetFormValue($usernameInput))
		#set ($password = $core_v2_page.GetFormValue($passwordInput))
		#set ($password2 = $core_v2_page.GetFormValue($password2Input))
		#set ($email = $core_v2_page.GetFormValue($emailInput))
    #set($captcha = $core_v2_page.GetFormValue($captchaHiddenInput))

     #set($captchaPass = false)
     #if( $core_v2_recaptcha &amp;&amp; $captchaEnabled)
        #set($captchaPass = $core_v2_recaptcha.Validate($captcha))
     #else
        #set($captchaPass = true)
     #end

		#set ($allowSiteToContact = false)
		#if ($core_v2_page.GetFormValue($allowSiteToContactInput))
			#set ($allowSiteToContact = true)
		#end

		#set ($allowSitePartnersToContact = false)
		#if ($core_v2_page.GetFormValue($allowSitePartnersToContactInput))
			#set ($allowSitePartnersToContact = true)
		#end

		#set ($acceptAgreement = false)
		#if ($core_v2_page.GetFormValue($acceptAgreementInput))
			#set ($acceptAgreement = true)
		#end

		#set ($options = "%{ TimeZone = $timeZoneOffset, AllowSiteToContact = $allowSiteToContact, AllowSitePartnersToContact = $allowSitePartnersToContact}")

		## process posted profile fields
		#set ($profileFieldsQueryString = $core_v2_page.GetFormValue($profileFieldsInput))
		#if ($profileFieldsQueryString)
			## loop through any posted profile fields, adding them to the $options set
			#set($profileFields = $core_v2_page.ParseQueryString($profileFieldsQueryString))
			#foreach ($key in $profileFields.Keys)
				$options.Add($key, $profileFields.Value($key))
			#end
		#end

		## passwords must match, or activation must be email based
		#set ($passwordsMatch = $core_v2_configuration.AccountActivation == "Email" || ($password == $password2))
		## to be accepted, either there is no terms of service url or they have accepted
		#set ($acceptsTerms = !$core_v2_urls.TermsOfService() || $acceptAgreement)

		#if ($passwordsMatch &amp;&amp; $acceptsTerms &amp;&amp; $captchaPass)
			#if (!$core_v2_authentication.CreateLoginAndRedirect($username, $password, $email, true, $returnUrl, $options))
				$core_v2_widget.ExecuteFile('form_join_manual.vm')
			#end
		#else
			$core_v2_widget.ExecuteFile('form_join_manual.vm')
		#end
	## handles a semi-manual join/creation request where
	## part of the join was provided by an oauth provider, but further details
	## (Terms of service, profile fields, etc) were manually collected
	#elseif ($action == 'join_oauth')
		## process posted fields
		#set ($email = $core_v2_page.GetFormValue($emailInput))

		#set ($allowSiteToContact = false)
		#if ($core_v2_page.GetFormValue($allowSiteToContactInput))
			#set ($allowSiteToContact = true)
		#end

		#set ($allowSitePartnersToContact = false)
		#if ($core_v2_page.GetFormValue($allowSitePartnersToContactInput))
			#set ($allowSitePartnersToContact = true)
		#end

		#set ($acceptAgreement = false)
		#if ($core_v2_page.GetFormValue($acceptAgreementInput))
			#set ($acceptAgreement = true)
		#end

		#set ($options = "%{ TimeZone = $timeZoneOffset, AllowSiteToContact = $allowSiteToContact, AllowSitePartnersToContact = $allowSitePartnersToContact }")
		## if there was an explicitly-collected email address in scope, add this to
		## the set of options to use when creating.
		#if ($email &amp;&amp; $email.length &gt; 0)
			$options.Add('Email', $email)
		#end

		## process posted profile fields
		#set ($profileFieldsQueryString = $core_v2_page.GetFormValue($profileFieldsInput))
		#if ($profileFieldsQueryString)
			## loop through any posted profile fields, adding them to the $options set
			#set($profileFields = $core_v2_page.ParseQueryString($profileFieldsQueryString))
			#foreach ($key in $profileFields.Keys)
				$options.Add($key, $profileFields.Value($key))
			#end
		#end

		## to be accepted, either there is no terms of service url or they have accepted
		#set ($acceptsTerms = !$core_v2_urls.TermsOfService() || $acceptAgreement)

		#if ($acceptsTerms)
			#if (!$core_v2_authentication.CreateLoginAndRedirect($oAuthDataTokenValue, true, $returnUrl, $options))
				$core_v2_widget.ExecuteFile('form_join_oauth.vm')
			#end
		#else
			$core_v2_widget.ExecuteFile('form_join_oauth.vm')
		#end
	## handles an attempt to link an oauth provider to a pre-existing
	## evo account, where the user also provides credentials to authorize the linking
	#elseif ($action == 'link_accounts')
		## gather credentials from form post
		#set ($username = $core_v2_page.GetFormValue($usernameInput))
		#set ($password = $core_v2_page.GetFormValue($passwordInput))
		#set ($rememberMe = false)
		#if ($core_v2_page.GetFormValue($rememberMeInput))
			#set ($rememberMe = true)
		#end
		## try to login, link oauth, and redirect
		#if (!$core_v2_authentication.LinkLoginAndRedirect($oAuthDataTokenValue, $username, $password, $rememberMe, $returnUrl))
			## if not authenticated, re-show login options
			$core_v2_widget.ExecuteFile('form_link_accounts.vm')
		#end
	#end
#end

#registerEndOfPageHtml('telligent.evolution.widgets.UserLoginAndCreate')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function(j){

		j.telligent.evolution.widgets.userLoginAndCreate.register({
			wrapper: '#$core_v2_encoding.JavascriptEncode(${core_v2_widget.WrapperElementId})',
            mode: '$mode',
			inputs: {
				action: "#$core_v2_encoding.JavascriptEncode($actionInput)",
				provider: "#$core_v2_encoding.JavascriptEncode($providerInput)",
				profileFields: "#$core_v2_encoding.JavascriptEncode($profileFieldsInput)",
				username: "#$core_v2_encoding.JavascriptEncode($usernameInput)",
				password: "#$core_v2_encoding.JavascriptEncode($passwordInput)",
				password2: "#$core_v2_encoding.JavascriptEncode($password2Input)",
				email: "#$core_v2_encoding.JavascriptEncode($emailInput)",
				acceptAgreement: "#$core_v2_encoding.JavascriptEncode($acceptAgreementInput)",
                captcha: "#$core_v2_encoding.JavascriptEncode($captchaHiddenInput)",
                loginType: '#$core_v2_encoding.JavascriptEncode($loginTypeInput)'
			},
			resources: {
				usernameInvalidUserName: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateNewAccount_CreateUserStatus_InvalidUserName'))",
				usernameDuplicateUserName: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateNewAccount_CreateUserStatus_DuplicateUsername'))",
				passwordError: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateNewAccount_PasswordRegExValidator'))",
				passwordLimits: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateNewAccount_PasswordLimits'))",
				passwordMatch: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateNewAccount_PasswordNoMatch'))",
				emailInvalid: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateNewAccount_CreateUserStatus_InvalidEmail'))",
				emailDuplicate: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateNewAccount_CreateUserStatus_DuplicateEmailAddress'))",
				tosMustAgree: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateNewAccount_TermsOfService_MustAgree'))",
				fieldRequired: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Validate_Field_Required'))",
                captchaFailure: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CR_LoginAndCreate_CaptchaError'))"
			},
            captchaEnabled: #if($captchaEnabled)true#else false#end,
			usernameMinLength: $core_v2_configuration.UsernameMinLength,
			usernameMaxLength: $core_v2_configuration.UsernameMaxLength,
			passwordMinLength: $core_v2_configuration.PasswordMinLength,
			getDynamicValues: function() {
                return $core_v2_dynamicForm.GetValuesScript($dynamicFieldsForm);
			},
			getHasValue: function(profileField) {
				return ${core_v2_dynamicForm.GetHasValueScript($dynamicFieldsForm)}(profileField);
			},
			dynamicFieldsForm: "$core_v2_encoding.JavascriptEncode($dynamicFieldsForm)",
			requiredDynamicfields: '$core_v2_encoding.JavascriptEncode($requiredFields)'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end

		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_LoginAndCreateUser_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_LoginAndCreateUser_Mode" dataType="string" defaultValue="${resource:Core_LoginAndCreateUser_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="mode" resourceName="CF_LoginAndCreateUser_Mode" dataType="string" defaultValue="login" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls"&gt;
		&lt;propertyValue value="login" resourceName="login" propertiesToHide="captcha" propertiesToShow="loginType" /&gt;
		&lt;propertyValue value="create" resourceName="Create" propertiesToHide="loginType" propertiesToShow="captcha" /&gt;
	&lt;/property&gt;
    &lt;property id="loginType" resourceName="CF_LoginAndCreateUser_LoginType" dataType="string" defaultValue="usdfddfdername"&gt;
    	&lt;propertyValue value="username" resourceName="Login_SignInName" /&gt;
    	&lt;propertyValue value="email" resourceName="Login_Email_Address" /&gt;
      &lt;propertyValue value="both" resourceName="Login_Both" /&gt;
    &lt;/property&gt;
    &lt;property id="captcha" resourceName="CF_LoginAndCreate_Captcha" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="profileFields"
		resourceName="CF_Core_CreateUser_UserProfileFields_Description"
		descriptionResourceName="CF_Core_CreateUser_UserProfileFields_Description"
		dataType="custom" defaultValue="" height="250" scope="site"
		controlType="Telligent.Evolution.Controls.UserProfileSettings, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Core_LoginAndCreateUser_Name">User - Login And Create</resource><resource name="Core_LoginAndCreateUser_Description">Displays a form to allow a user to login or join the site.</resource><resource name="Options">Options</resource><resource name="CF_LoginAndCreateUser_Mode">Mode</resource><resource name="login">Sign in</resource><resource name="Create">Create</resource><resource name="CF_Core_CreateUser_UserProfileFields_Description">Select which user profile fields you would also like to appear on the Create User form.</resource><resource name="CreateNewAccount_CreateUserStatus_InvalidUserName">Your sign in name does not meet the requirements for this site.</resource><resource name="CreateNewAccount_CreateUserStatus_DuplicateUsername">That sign in name is not available.</resource><resource name="CreateNewAccount_PasswordRegExValidator">Password contains invalid chars ...</resource><resource name="CreateNewAccount_PasswordLimits">Password must be at least {0} characters</resource><resource name="CreateNewAccount_PasswordNoMatch">Passwords do not match</resource><resource name="CreateNewAccount_CreateUserStatus_InvalidEmail">Your email address is invalid.</resource><resource name="CreateNewAccount_CreateUserStatus_DuplicateEmailAddress">A user with this email address already exists.</resource><resource name="CreateNewAccount_TermsOfService_MustAgree">Please accept the service agreement before joining the site.</resource><resource name="Login_Title">Sign in</resource><resource name="Login_Email_Required">Please enter your e-mail address:</resource><resource name="Login_Email_Button">Continue</resource><resource name="CreateNewAccount_Register">Register</resource><resource name="CreateNewAccount_JoinOAuth">Skip {0} registration and connect with</resource><resource name="CreateNewAccount_JoinOAuth_Divider_Last">or</resource><resource name="CreateNewAccount_JoinOAuth_Divider">,</resource><resource name="CreateNewAccount_Join_Manual_Text">Please help us customize your experience. Complete the fields below.</resource><resource name="CreateNewAccount_Details">Details</resource><resource name="CreateNewAccount_CreateAccount">Join now</resource><resource name="CreateNewAccount_AccountInfo">Account Info</resource><resource name="CreateNewAccount_UserName">Sign in name:</resource><resource name="CreateNewAccount_Email">Email Address:</resource><resource name="CreateNewAccount_EmailDescription">Your e-mail address will not be published.</resource><resource name="CreateNewAccount_PasswordDescription">Password:</resource><resource name="CreateNewAccount_PasswordLimits_Join">Your password must be at least {0} characters</resource><resource name="CreateNewAccount_ReEnterPassword">Confirm Password:</resource><resource name="CreateNewAccount_AlreadyJoined">Already a member?</resource><resource name="CreateNewAccount_SignIn">Sign in Here</resource><resource name="CreateNewAccount_Welcome">Welcome</resource><resource name="CreateNewAccount_Join_Provider_Text">Please help us customize your experience. Complete the fields below.</resource><resource name="Login_ExistingAccount">&lt;p&gt;Please enter your {0} sign in name and password.&lt;/p&gt;&lt;p&gt;Once you’ve signed in, your {1} account will be used from now on.&lt;p&gt;</resource><resource name="Login_LinkProvider_Welcome">Welcome back, {0}.</resource><resource name="LoginSmall_Button">Sign in</resource><resource name="Login_Reset_Password_Message">Forgot your password or username? Reset </resource><resource name="Login_Reset_Password_Link">Here.</resource><resource name="Login_LinkProvider_Message">You can manage your sign in methods at any time in the Settings panel.</resource><resource name="Login_Providers_Message">If you already use any of the available services, skip the registration process and make signing in here easier. Select a service below.</resource><resource name="Login_Without_Service">without any other services</resource><resource name="Login_Options_Title">Sign in with</resource><resource name="Login_Connect_With">Connect with {0}</resource><resource name="Login_Provider_Label">Sign in now with</resource><resource name="Login_Provider_Privacy">Learn more about privacy</resource><resource name="Login_Description">Sign in now with your {0} user name.</resource><resource name="LoginSmall_AutoLogin">Remember me</resource><resource name="Login_Regular_Sign_In_Message">Prefer to just sign in here? Use the</resource><resource name="Login_Regular_Sign_In_Link">Regular Sign In</resource><resource name="Login_Join_Message">Not yet a member?</resource><resource name="Login_Join_Link">Join here.</resource><resource name="Login_AlreadyLoggedIn">You are already logged into the site.</resource><resource name="Login_Community_UserName">{0} sign in name</resource><resource name="Login_SignInName">Sign in name</resource><resource name="Login_Community_Password">{0} password</resource><resource name="Login_Password">Password</resource><resource name="CreateNewAccount_AllowSiteToContact">Allow this site to contact me:</resource><resource name="CreateNewAccount_AllowSitePartnersToContact">Allow this site's partners to contact me:</resource><resource name="CreateNewAccount_ForumRules_AgreeText">I agree to the</resource><resource name="CreateNewAccount_ForumRulesDescLink">Terms of Service.</resource><resource name="Core_Login_Name">User - Login</resource><resource name="Core_Login_Title_AlreadyAMemberLogInHere">Already a member? Log-in here.</resource><resource name="Core_CreateUser_Title_SignUpToday">Sign-up today!</resource><resource name="Core_CreateUser_Name">Create User</resource><resource name="Validate_Field_Required">This field is required.</resource><resource name="CF_LoginAndCreate_Captcha">Enable Captcha on Create User</resource><resource name="CR_LoginAndCreate_CaptchaError">The captcha response was not correct</resource><resource name="Login_Email_Address">Email address</resource><resource name="CF_LoginAndCreateUser_LoginType">Login Type</resource><resource name="Login_Description_Email">Sign in now with your email address.</resource><resource name="Login_Description_Both">Sign in now with your email address or {0} user name.</resource><resource name="Login_Email">Email Address</resource><resource name="Login_Both">Username or Email Address</resource></language></languageResources>
		<files>
			<file name="form_collect_email_address.vm">IyMKIyMgRm9ybSBzaG93biB3aGVuIGEgbm9uLWxpbmtlZCB1c2VyIGF0dGVtcHRzIHRvIGxvZyBpbiB2aWEgb2F1dGggYW5kIHRoZSBvYXV0aAojIyBwcm92aWRlciBkb2Vzbid0IGV4cG9zZSBhbiBlbWFpbCBhZGRyZXNzIG9mIGl0cyBvd24KIyMKCjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFjdGlvbklucHV0KSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFjdGlvbklucHV0KSIJdmFsdWU9ImNvbGxlY3RfZW1haWxfYWRkcmVzcyIgLz4KCjxkaXYgY2xhc3M9InBhZ2UtaGVhZGVyIj48L2Rpdj4KPGRpdiBjbGFzcz0icGFnZSI+Cgk8ZGl2IGNsYXNzPSJwYWdlLWNvbnRlbnQiPgoKCQk8aDI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX1RpdGxlJyk8L2gyPgoJCTxoMz48L2gzPgoKCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+CgkJPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0IGNvbGxlY3QtZW1haWwiPgoJCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QgY29sbGVjdGVtYWlsIj4KCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSB1c2VyLW5hbWUgcmVxdWlyZWQiPgoJCQkJCTxkaXYgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj48bGFiZWwgZm9yPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRlbWFpbElucHV0KSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX0VtYWlsX1JlcXVpcmVkJyk8L2xhYmVsPjwvZGl2PgoJCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRlbWFpbElucHV0KSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGVtYWlsSW5wdXQpIiBtYXhsZW5ndGg9IjY0IiBzaXplPSIzMCIgLz4KCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4KCQkJCTwvbGk+CgkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0iPgoJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIGNvbGxlY3RlbWFpbCBzdWJtaXQtYnV0dG9uIiBocmVmPSIjIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX0VtYWlsX0J1dHRvbicpPC9hPgoJCQkJCTxzcGFuIGNsYXNzPSJwcm9jZXNzaW5nIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyI+PC9zcGFuPgoJCQkJPC9saT4KCQkJPC91bD4KCQk8L2ZpZWxkc2V0PgoJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4KCgk8L2Rpdj4KPC9kaXY+CjxkaXYgY2xhc3M9InBhZ2UtZm9vdGVyIj48L2Rpdj4=</file>
			<file name="form_join_manual.vm">IyMKIyMgRm9ybSByZW5kZXJlZCB3aGVuIGEgbmV3IHVzZXIgaXMgam9pbmluZyB0aGUgc2l0ZSBtYW51YWxseSAod2l0aCB1c2VybmFtZS9wYXNzd29yZC9lbWFpbCkKIyMKCiMjIGlmIHRoZXJlIHdlcmUgYXV0aCBwcm92aWRlcnMsIHJlbmRlciB0aGVtCiNzZXQgKCRoYXNPQXV0aFByb3ZpZGVycyA9IGZhbHNlKQojc2V0ICgkcHJvdmlkZXJzID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uTGlzdE9BdXRoUHJvdmlkZXJzKCkpCiNpZiAoJHByb3ZpZGVycy5Db3VudCA+IDApCgkjc2V0ICgkaGFzT0F1dGhQcm92aWRlcnMgPSB0cnVlKQojZW5kCgo8ZGl2IGNsYXNzPSJwYWdlLWhlYWRlciI+PC9kaXY+CjxkaXYgY2xhc3M9InBhZ2Ugam9pbi1tYW51YWwgI2lmICghJHJlcXVpcmVzSm9pbkRldGFpbHMpIG5vLWRldGFpbHMgI2VuZCI+Cgk8ZGl2IGNsYXNzPSJwYWdlLWNvbnRlbnQiPgoKCQk8aDI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfUmVnaXN0ZXInKTwvaDI+CgoJCSNpZiAoJGhhc09BdXRoUHJvdmlkZXJzKQoJCQk8ZGl2IGNsYXNzPSJqb2luLXByb3ZpZGVycyI+CgkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwcm92aWRlcklucHV0KSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHByb3ZpZGVySW5wdXQpIiAvPgoJCQkJPGRpdj4KCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfSm9pbk9BdXRoJyksICRzaXRlSW5mby5TaXRlTmFtZSkKCQkJCQkjc2V0ICgkcHJvdmlkZXJDb3VudCA9IDApCgkJCQkJI2ZvcmVhY2ggKCRwcm92aWRlciBpbiAkcHJvdmlkZXJzKQoJCQkJCQk8c3BhbiBjbGFzcz0ibG9naW4tcHJvdmlkZXIiIGRhdGEtY2xpZW50dHlwZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgke3Byb3ZpZGVyLkNsaWVudFR5cGV9KSI+CgkJCQkJCQk8YSBocmVmPSIjIiBjbGFzcz0iaW50ZXJuYWwtbGluayBjb25uZWN0IHN1Ym1pdC1idXR0b24iPgoJCQkJCQkJCTxzcGFuPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHByb3ZpZGVyLkljb25VcmwsIDE2LCAxNiwgIiV7Ym9yZGVyPScwJ30iKTwvc3Bhbj4KCQkJCQkJCQkkcHJvdmlkZXIuQ2xpZW50TmFtZQoJCQkJCQkJPC9hPgoJCQkJCQk8L3NwYW4+CgkJCQkJCSNzZXQgKCRwcm92aWRlckNvdW50ID0gJHByb3ZpZGVyQ291bnQgKyAxKQoJCQkJCSNiZXR3ZWVuCgkJCQkJCSNpZiAoJHByb3ZpZGVyQ291bnQgPT0gJHByb3ZpZGVycy5Db3VudCAtIDEpCgkJCQkJCQk8c3Bhbj4gJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfSm9pbk9BdXRoX0RpdmlkZXJfTGFzdCcpIDwvc3Bhbj4KCQkJCQkJI2Vsc2UKCQkJCQkJCTxzcGFuPiAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ3JlYXRlTmV3QWNjb3VudF9Kb2luT0F1dGhfRGl2aWRlcicpIDwvc3Bhbj4KCQkJCQkJI2VuZAoJCQkJCSNlbmQKCQkJCTwvZGl2PgoJCQk8L2Rpdj4KCQkjZW5kCgoJCTxoMz4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ3JlYXRlTmV3QWNjb3VudF9Kb2luX01hbnVhbF9UZXh0Jyk8L2gzPgoKCQkjIyBEZXRhaWxzCgkJI2lmICgkcmVxdWlyZXNKb2luRGV0YWlscykKCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2PgoJCQk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3Qgam9pbi1kZXRhaWxzIj4KCQkJCTxsZWdlbmQgY2xhc3M9ImZpZWxkLWxpc3QtZGVzY3JpcHRpb24iPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDcmVhdGVOZXdBY2NvdW50X0RldGFpbHMnKTwvc3Bhbj48L2xlZ2VuZD4KCQkJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+CgkJCQkJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzdWJfZm9ybV9qb2luX2RldGFpbHMudm0nKQoKCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0iPgoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY3Rpb25JbnB1dCkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY3Rpb25JbnB1dCkiIHZhbHVlPSJqb2luX21hbnVhbCIgLz4KCQkJCQkJCTxhIGhyZWY9IiMiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGNyZWF0ZS1hY2NvdW50IHN1Ym1pdC1idXR0b24iID4KCQkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfQ3JlYXRlQWNjb3VudCcpCgkJCQkJCQk8L2E+CgkJCQkJCQk8c3BhbiBjbGFzcz0icHJvY2Vzc2luZyIgc3R5bGU9InZpc2liaWxpdHk6IGhpZGRlbjsiPjwvc3Bhbj4KCQkJCQkJPC9zcGFuPgoJCQkJCTwvbGk+CgkJCQk8L3VsPgoJCQk8L2ZpZWxkc2V0PgoJCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWZvb3RlciI+PC9kaXY+CgkJI2VuZAoKCQkjIyBBY2NvdW50IEluZm9ybWF0aW9uCgkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2PgoJCTxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCBqb2luLWFjY291bnQgI2lmICghJHJlcXVpcmVzSm9pbkRldGFpbHMpIG5vLWRldGFpbHMgI2VuZCI+CgkJCTxsZWdlbmQgY2xhc3M9ImZpZWxkLWxpc3QtZGVzY3JpcHRpb24iPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDcmVhdGVOZXdBY2NvdW50X0FjY291bnRJbmZvJyk8L3NwYW4+PC9sZWdlbmQ+CgkJCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+CgkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gcmVxdWlyZWQgdXNlci1uYW1lIj4KCQkJCQk8bGFiZWwgZm9yPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VybmFtZUlucHV0KSIgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ3JlYXRlTmV3QWNjb3VudF9Vc2VyTmFtZScpPC9sYWJlbD4KCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VybmFtZUlucHV0KSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXJuYW1lSW5wdXQpIiBNYXhMZW5ndGg9IjY0IiBzaXplPSIzMSIgdmFsdWU9IiQhY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VybmFtZSkiIC8+CgkJCQkJPC9zcGFuPgoJCQkJPC9saT4KCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSByZXF1aXJlZCBlbWFpbCI+CgkJCQkJPGxhYmVsIGZvcj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZW1haWxJbnB1dCkiIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfRW1haWwnKTwvbGFiZWw+CgkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L3NwYW4+CgkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDcmVhdGVOZXdBY2NvdW50X0VtYWlsRGVzY3JpcHRpb24nKTwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRlbWFpbElucHV0KSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGVtYWlsSW5wdXQpIiBNYXhMZW5ndGg9IjEyOCIgc2l6ZT0iMzEiIHZhbHVlPSIkIWNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZW1haWwpIiAvPgoJCQkJCTwvc3Bhbj4KCQkJCTwvbGk+CiAgICAgICAgCQkjaWYoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5BY2NvdW50QWN0aXZhdGlvbiA9PSAiRW1haWwiICYmICEkcmVxdWlyZXNKb2luRGV0YWlscykKCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0iPgoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY3Rpb25JbnB1dCkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY3Rpb25JbnB1dCkiIHZhbHVlPSJqb2luX21hbnVhbCIgLz4KCQkJCQkJCTxhIGhyZWY9IiMiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGNyZWF0ZS1hY2NvdW50IHN1Ym1pdC1idXR0b24iID4KCQkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfQ3JlYXRlQWNjb3VudCcpCgkJCQkJCQk8L2E+CgkJCQkJCQk8c3BhbiBjbGFzcz0icHJvY2Vzc2luZyIgc3R5bGU9InZpc2liaWxpdHk6IGhpZGRlbjsiPjwvc3Bhbj4KCQkJCQkJPC9zcGFuPgoJCQkJCTwvbGk+CiAgICAgICAgCQkjZW5kCgkJCTwvdWw+CgkJPC9maWVsZHNldD4KCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWZvb3RlciI+PC9kaXY+CgoJCSMjIFBhc3N3b3JkcwoJCSNpZiAoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5BY2NvdW50QWN0aXZhdGlvbiAhPSAiRW1haWwiIHx8ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgnU2l0ZV9NYW5hZ2VNZW1iZXJzaGlwJykuSXNBbGxvd2VkKQoJCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+CgkJCTxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCBqb2luLXBhc3N3b3JkICNpZiAoISRyZXF1aXJlc0pvaW5EZXRhaWxzKSBuby1kZXRhaWxzICNlbmQiPgoJCQkJPHVsIGNsYXNzPSJmaWVsZC1saXN0Ij4KCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gcmVxdWlyZWQgcGFzc3dvcmQiPgoJCQkJCQk8bGFiZWwgZm9yPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwYXNzd29yZElucHV0KSIgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ3JlYXRlTmV3QWNjb3VudF9QYXNzd29yZERlc2NyaXB0aW9uJyk8L2xhYmVsPgoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4KCQkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ3JlYXRlTmV3QWNjb3VudF9QYXNzd29yZExpbWl0c19Kb2luJyksICRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uUGFzc3dvcmRNaW5MZW5ndGguVG9TdHJpbmcoKSk8L3NwYW4+CgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4KCQkJCQkJCTxpbnB1dCBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwYXNzd29yZElucHV0KSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBhc3N3b3JkSW5wdXQpIiBNYXhMZW5ndGg9IjY0IiB0eXBlPSJwYXNzd29yZCIgYXV0b2NvbXBsZXRlPSJvZmYiIHNpemU9IjMxIiB2YWx1ZT0iJCFjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBhc3N3b3JkKSIgLz4KCQkJCQkJPC9zcGFuPgoJCQkJCTwvbGk+CgkJCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHJlcXVpcmVkIHBhc3N3b3JkMiI+CgkJCQkJCTxsYWJlbCBmb3I9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBhc3N3b3JkMklucHV0KSIgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ3JlYXRlTmV3QWNjb3VudF9SZUVudGVyUGFzc3dvcmQnKTwvbGFiZWw+CgkJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9zcGFuPgoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJCQk8aW5wdXQgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcGFzc3dvcmQySW5wdXQpIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcGFzc3dvcmQySW5wdXQpIiBNYXhMZW5ndGg9IjY0IiB0eXBlPSJwYXNzd29yZCIgYXV0b2NvbXBsZXRlPSJvZmYiIHNpemU9IjMxIiB2YWx1ZT0iJCFjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBhc3N3b3JkMikiIC8+CgkJCQkJCTwvc3Bhbj4KCQkJCQk8L2xpPgoJCQkJCSNpZigkY29yZV92Ml9yZWNhcHRjaGEgJiYgJGNhcHRjaGFFbmFibGVkKQogICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iZmllbGQtaXRlbSByZXF1aXJlZCBjYXB0Y2hhIj4KICAgICAgICAgICAgICAgICAgICAJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L3NwYW4+CiAgICAgICAgICAgICAgICAgICAgCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4KICAgICAgICAgICAgICAgICAgICAJICAgJGNvcmVfdjJfcmVjYXB0Y2hhLlJlbmRlcigpCiAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJoaWRkZW4iICBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjYXB0Y2hhSGlkZGVuSW5wdXQpIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY2FwdGNoYUhpZGRlbklucHV0KSIgIC8+CiAgICAgICAgICAgICAgICAgICAgCTwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICNlbmQKCgkJCQkJIyMgaWYgdGhlcmUgd2VyZSBubyBkZXRhaWxzLCB0aGVuIHRoZSBqb2luIGJ1dHRvbiB3b24ndCBiZSByZW5kZXJlZCBpbnNpZGUgZGV0YWlscwoJCQkJCSMjIGFuZCBoZW5jZSBuZWVkcyB0byBiZSByZW5kZXJlZCBoZXJlCgkJCQkJI2lmICghJHJlcXVpcmVzSm9pbkRldGFpbHMpCgkJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSI+CgkJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJCQkJPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYWN0aW9uSW5wdXQpIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYWN0aW9uSW5wdXQpIiB2YWx1ZT0iam9pbl9tYW51YWwiIC8+CgkJCQkJCQkJPGEgaHJlZj0iIyIgY2xhc3M9ImludGVybmFsLWxpbmsgY3JlYXRlLWFjY291bnQgc3VibWl0LWJ1dHRvbiIgPgoJCQkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfQ3JlYXRlQWNjb3VudCcpCgkJCQkJCQkJPC9hPgoJCQkJCQkJCTxzcGFuIGNsYXNzPSJwcm9jZXNzaW5nIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyI+PC9zcGFuPgoJCQkJCQkJPC9zcGFuPgoJCQkJCQk8L2xpPgoJCQkJCSNlbmQKCQkJCTwvdWw+CgkJCTwvZmllbGRzZXQ+CgkJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4KCQkjZW5kCgkJPGRpdiBjbGFzcz0ibG9naW4tYWx0ZXJuYXRpdmUiPgoJCQkjc2V0ICgkbG9naW5VcmwgPSAkY29yZV92Ml91cmxzLkxvZ2luKCkpCgkJCSNpZiAoJGxvZ2luVXJsKQoJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfQWxyZWFkeUpvaW5lZCcpIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGxvZ2luVXJsKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfU2lnbkluJyk8L2E+CgkJCSNlbmQKCQk8L2Rpdj4KCTwvZGl2Pgo8L2Rpdj4KPGRpdiBjbGFzcz0icGFnZS1mb290ZXIiPjwvZGl2PgoKCgo=</file>
			<file name="form_join_oauth.vm">IyMKIyMgRm9ybSByZW5kZXJlZCB3aGVuIGEgbmV3IHVzZXIgaXMgam9pbmluZyB0aGUgc2l0ZSB2aWEgYW4gb2F1dGggcHJvdmlkZXIKIyMKCiMjIG9wdGlvbmFsbHkgcm91bmQtdHJpcCBhbiBleHBsaWNpdGx5LWNvbGxlY3RlZCBlbWFpbCBhZGRyZXNzIGluIHRoZSBjYXNlIGl0IHdhcyBwcmV2aW91c2x5CiMjIGNvbGxlY3RlZCB3aGVuIG9hdXRoIGRpZG4ndCBwcm92aWRlIGl0LglXaWxsIG5lZWQgdG8gdXNlIGl0IHdoZW4gY3JlYXRpbmcgdGhlIGFjY291bnQKI2lmICgkZW1haWwgJiYgJGVtYWlsLkxlbmd0aCA+IDApCgk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRlbWFpbElucHV0KSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGVtYWlsSW5wdXQpIiB2YWx1ZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZW1haWwpIiAvPgojZW5kCgo8ZGl2IGNsYXNzPSJwYWdlLWhlYWRlciI+PC9kaXY+CjxkaXYgY2xhc3M9InBhZ2Ugam9pbi1vYXV0aCI+Cgk8ZGl2IGNsYXNzPSJwYWdlLWNvbnRlbnQiPgoKCQk8aDI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfV2VsY29tZScpPC9oMj4KCQk8aDM+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfSm9pbl9Qcm92aWRlcl9UZXh0Jyk8L2gyPgoKCQkjIyBEZXRhaWxzCgkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2PgoJCTxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCBqb2luLWRldGFpbHMiPgoJCQk8bGVnZW5kIGNsYXNzPSJmaWVsZC1saXN0LWRlc2NyaXB0aW9uIj48c3Bhbj5EZXRhaWxzPC9zcGFuPjwvbGVnZW5kPgoJCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPgoJCQkJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzdWJfZm9ybV9qb2luX2RldGFpbHMudm0nKQoKCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSI+CgkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPgoJCQkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY3Rpb25JbnB1dCkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY3Rpb25JbnB1dCkiIHZhbHVlPSJqb2luX29hdXRoIiAvPgoJCQkJCQk8YSBocmVmPSIjIiBjbGFzcz0iaW50ZXJuYWwtbGluayBjcmVhdGUtYWNjb3VudCBzdWJtaXQtYnV0dG9uIiA+CgkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfQ3JlYXRlQWNjb3VudCcpCgkJCQkJCTwvYT4KCQkJCQkJPHNwYW4gY2xhc3M9InByb2Nlc3NpbmciIHN0eWxlPSJ2aXNpYmlsaXR5OiBoaWRkZW47Ij48L3NwYW4+CgkJCQkJPC9zcGFuPgoJCQkJPC9saT4KCQkJPC91bD4KCQk8L2ZpZWxkc2V0PgoJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4KCgk8L2Rpdj4KPC9kaXY+CjxkaXYgY2xhc3M9InBhZ2UtZm9vdGVyIj48L2Rpdj4KCgoK</file>
			<file name="form_link_accounts.vm">IyMKIyMgRm9ybSBzaG93biB3aGVuIGEgbm9uLW9hdXRoLWxpbmtlZCBleGlzdGluZyB1c2VyIGlzIGF0dGVtcHRpbmcgdG8gbG9nIGluIHZpYSBvYXV0aAojIwoKI2lmICghJG9BdXRoRGF0YSkKCSNzZXQgKCRvQXV0aERhdGEgPSAkY29yZV92Ml9hdXRoZW50aWNhdGlvbi5HZXRPQXV0aERhdGEoJG9BdXRoRGF0YVRva2VuVmFsdWUpKQojZW5kCiNzZXQgKCRvQXV0aFByb3ZpZGVyID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uR2V0T0F1dGhQcm92aWRlcigkb0F1dGhEYXRhLkNsaWVudFR5cGUpKQoKPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYWN0aW9uSW5wdXQpIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYWN0aW9uSW5wdXQpIiB2YWx1ZT0ibGlua19hY2NvdW50cyIgLz4KCjxkaXYgY2xhc3M9InBhZ2UtaGVhZGVyIj48L2Rpdj4KPGRpdiBjbGFzcz0icGFnZSBsaW5rLWFjY291bnRzIj4KCTxkaXYgY2xhc3M9InBhZ2UtY29udGVudCI+CgkJPGgyPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9UaXRsZScpPC9oMj4KCQk8aDM+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9FeGlzdGluZ0FjY291bnQnKSwgJHNpdGVJbmZvLlNpdGVOYW1lLCAkb0F1dGhQcm92aWRlci5DbGllbnROYW1lKTwvaDM+CgoJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQk8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QgbGluay1hY2NvdW50cyI+CgkJCTxsZWdlbmQgY2xhc3M9ImZpZWxkLWxpc3QtZGVzY3JpcHRpb24iPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fTGlua1Byb3ZpZGVyX1dlbGNvbWUnKSwgJHVzZXIuRGlzcGxheU5hbWUpPC9zcGFuPjwvbGVnZW5kPgoJCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QgbG9naW4iPgoJCQkJI3NldCAoJHVzZUNvbW11bml0eU5hbWVzID0gdHJ1ZSkgICMjIGFjdHMgbGlrZSBhIHBhcmFtZXRlciB0byB0ZWxsIHRoZSBjcmVkZW50aWFsIGZvcm0gdG8gdXNlIGZ1bGx5IHF1YWlmaWVkIGNvbW11bml0eSBuYW1lcwoJCQkJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzdWJfZm9ybV9jcmVkZW50aWFscy52bScpCgkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0iPgoJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIGxvZ2luIHN1Ym1pdC1idXR0b24iIGhyZWY9IiMiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5TbWFsbF9CdXR0b24nKTwvYT4KCQkJCQk8c3BhbiBjbGFzcz0icHJvY2Vzc2luZyIgc3R5bGU9InZpc2liaWxpdHk6IGhpZGRlbjsiPjwvc3Bhbj4KCQkJCTwvbGk+CgkJCTwvdWw+CgoJCQk8ZGl2IGNsYXNzPSJsb2dpbi1hbHRlcm5hdGl2ZSBsb2dpbi1zdGFuZGFyZC1vcHRpb25zLXNlbGVjdGVkIj4KCQkJCSNzZXQgKCRmb3Jnb3RQYXNzd29yZFVybCA9ICRjb3JlX3YyX3VybHMuRm9yZ290UGFzc3dvcmQoKSkKCQkJCSNpZiAoJGZvcmdvdFBhc3N3b3JkVXJsKQoJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9SZXNldF9QYXNzd29yZF9NZXNzYWdlJykgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZm9yZ290UGFzc3dvcmRVcmwpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fUmVzZXRfUGFzc3dvcmRfTGluaycpPC9hPjxiciAvPgoJCQkJI2VuZAoJCQkJPHA+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX0xpbmtQcm92aWRlcl9NZXNzYWdlJyk8L3A+CgkJCTwvZGl2PgoKCQk8L2ZpZWxkc2V0PgoJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4KCgk8L2Rpdj4KPC9kaXY+CjxkaXYgY2xhc3M9InBhZ2UtZm9vdGVyIj48L2Rpdj4K</file>
			<file name="form_login.vm">IyMKIyMgRm9ybSBzaG93biB3aGVuIHdpZGdldCBpcyBpbiBsb2dpbiBtb2RlIGFjY2VwdGluZyBhIG5ldyBsb2dpbiByZXF1ZXN0IGZyb20gdGhlIHVzZXIKIyMKCiMjIGlmIHRoZXJlIHdlcmUgYXV0aCBwcm92aWRlcnMsIHJlbmRlciB0aGVtCiNzZXQgKCRoYXNPQXV0aFByb3ZpZGVycyA9IGZhbHNlKQojc2V0ICgkcHJvdmlkZXJzID0gJGNvcmVfdjJfYXV0aGVudGljYXRpb24uTGlzdE9BdXRoUHJvdmlkZXJzKCkpCiNpZiAoJHByb3ZpZGVycy5Db3VudCA+IDApCgkjc2V0ICgkaGFzT0F1dGhQcm92aWRlcnMgPSB0cnVlKQojZW5kCgo8aW5wdXQgdHlwZT0iaGlkZGVuIiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY3Rpb25JbnB1dCkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY3Rpb25JbnB1dCkiIHZhbHVlPSJsb2dpbiIgLz4KPGlucHV0IHR5cGU9ImhpZGRlbiIgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcHJvdmlkZXJJbnB1dCkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwcm92aWRlcklucHV0KSIgLz4KCiNpZiAoISRjb3JlX3YyX3VzZXIuSXNSZWdpc3RlcmVkKCRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nLklkKSkKCTxkaXYgY2xhc3M9InBhZ2UtaGVhZGVyIj48L2Rpdj4KCTxkaXYgY2xhc3M9InBhZ2UgbG9naW4iPgoJCTxkaXYgY2xhc3M9InBhZ2UtY29udGVudCI+CgkJCTxoMj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fVGl0bGUnKTwvaDI+CgkJCSNpZiAoJGhhc09BdXRoUHJvdmlkZXJzKQoJCQkJPGgzPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9Qcm92aWRlcnNfTWVzc2FnZScpPC9oMz4KCQkJCTxkaXYgY2xhc3M9ImxvZ2luLW9wdGlvbnMiPgoJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1oZWFkZXIiPjwvZGl2PgoJCQkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4KCQkJCQkJI2ZvcmVhY2ggKCRwcm92aWRlciBpbiAkcHJvdmlkZXJzKQoJCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0iPgoJCQkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHByb3ZpZGVyIiBocmVmPSIjJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcHJvdmlkZXIuQ2xpZW50VHlwZSkiPgoJCQkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRwcm92aWRlci5JY29uVXJsLCAyMiwgMjIsICIle2JvcmRlcj0nMCd9IikKCQkJCQkJCQkJJHByb3ZpZGVyLkNsaWVudE5hbWUKCQkJCQkJCQk8L2E+CgkJCQkJCQk8L2xpPgoJCQkJCQkjZW5kCgkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj4KCQkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIGNyZWRlbnRpYWwiIGhyZWY9IiMiPgoJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fVGl0bGUnKQoJCQkJCQkJCTxzcGFuIGNsYXNzPSJzdWJ0ZXh0Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fV2l0aG91dF9TZXJ2aWNlJyk8L3NwYW4+CgkJCQkJCQk8L2E+CgkJCQkJCTwvbGk+CgkJCQkJPC91bD4KCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtZm9vdGVyIj48L2Rpdj4KCQkJCTwvZGl2PgoJCQkJPGRpdiBjbGFzcz0ibG9naW4tcHJvdmlkZXJzIj4KCQkJCQk8ZGl2IGNsYXNzPSJwcm92aWRlci1vcHRpb25zIj4KCQkJCQkJPHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX09wdGlvbnNfVGl0bGUnKTwvc3Bhbj4KCQkJCQkJI2ZvcmVhY2ggKCRwcm92aWRlciBpbiAkcHJvdmlkZXJzKQoJCQkJCQkJPGEgaHJlZj0iIyRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHByb3ZpZGVyLkNsaWVudFR5cGUpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBwcm92aWRlciI+CgkJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkcHJvdmlkZXIuSWNvblVybCwgMTYsIDE2LCAiJXtib3JkZXI9JzAnfSIpCgkJCQkJCQk8L2E+CgkJCQkJCSNlbmQKCQkJCQk8L2Rpdj4KCQkJCQkjZm9yZWFjaCAoJHByb3ZpZGVyIGluICRwcm92aWRlcnMpCgkJCQkJCSNzZXQgKCRjb25uZWN0VGV4dCA9ICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fQ29ubmVjdF9XaXRoJyksICRwcm92aWRlci5DbGllbnROYW1lKSkKCQkJCQkJPGRpdiBjbGFzcz0ibG9naW4tcHJvdmlkZXIiIGRhdGEtY2xpZW50dHlwZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgke3Byb3ZpZGVyLkNsaWVudFR5cGV9KSIgZGF0YS1jb2xvcj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgke3Byb3ZpZGVyLkNvbG9yfSkiPgoJCQkJCQkJPHNwYW4gY2xhc3M9ImxvZ2luLXByb3ZpZGVyLWhlYWRpbmciPgoJCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9Qcm92aWRlcl9MYWJlbCcpICRwcm92aWRlci5DbGllbnROYW1lLgoJCQkJCQkJPC9zcGFuPgoJCQkJCQkJPHNwYW4gY2xhc3M9ImxvZ2luLXByb3ZpZGVyLWljb24td3JhcHBlciIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICMkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwcm92aWRlci5Db2xvcikiPgoJCQkJCQkJCTxzcGFuIGNsYXNzPSJsb2dpbi1wcm92aWRlci1pY29uIj4KCQkJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkcHJvdmlkZXIuSWNvblVybCwgNTAsIDUwLCAiJXtib3JkZXI9JzAnfSIpCgkJCQkJCQkJPC9zcGFuPgoJCQkJCQkJPC9zcGFuPgoJCQkJCQkJPGRpdiBjbGFzcz0ibG9naW4tcHJvdmlkZXItcHJpdmFjeSI+CgkJCQkJCQkJPGEgaHJlZj0iIyIgY2xhc3M9ImxvZ2luLXByb3ZpZGVyLXByaXZhY3ktbGluayI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX1Byb3ZpZGVyX1ByaXZhY3knKTwvYT4KCQkJCQkJCQk8cD4kcHJvdmlkZXIuUHJpdmFjeTwvcD4KCQkJCQkJCTwvZGl2PgoJCQkJCQkJPGRpdiBjbGFzcz0iZmllbGQtaXRlbSI+CgkJCQkJCQkJPGEgaHJlZj0iIyIgY2xhc3M9ImludGVybmFsLWxpbmsgY29ubmVjdCBzdWJtaXQtYnV0dG9uIj48c3Bhbj48L3NwYW4+JGNvbm5lY3RUZXh0PC9hPgoJCQkJCQkJCTxzcGFuIGNsYXNzPSJwcm9jZXNzaW5nIiBzdHlsZT0idmlzaWJpbGl0eTogaGlkZGVuOyI+PC9zcGFuPgoJCQkJCQkJPC9kaXY+CgkJCQkJCTwvZGl2PgoJCQkJCSNlbmQKCQkJCTwvZGl2PgoJCQkjZW5kCgoJCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+CgkJCTxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCBsb2dpbiI+CgkJCQk8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWRlc2NyaXB0aW9uIj4KICAgICAgICAjaWYgKCRsb2dpblR5cGVTZXR0aW5nID09ICJlbWFpbCIpCiAgICAgICAgICAgIDxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9EZXNjcmlwdGlvbl9FbWFpbCcpPC9zcGFuPgogICAgICAgICNlbHNlaWYgKCRsb2dpblR5cGVTZXR0aW5nID09ICJib3RoIikKICAgICAgICAgICAgPHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9EZXNjcmlwdGlvbl9Cb3RoJyksICRzaXRlSW5mby5TaXRlTmFtZSk8L3NwYW4+CiAgICAgICAgI2Vsc2UKICAgICAgICAgICAgPHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9EZXNjcmlwdGlvbicpLCAkc2l0ZUluZm8uU2l0ZU5hbWUpPC9zcGFuPgogICAgICAgICNlbmQKICAgICAgICAgICAgICAgIDwvZGl2PgoJCQkJPHVsIGNsYXNzPSJmaWVsZC1saXN0IGxvZ2luIj4KCQkJCQkkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ3N1Yl9mb3JtX2NyZWRlbnRpYWxzLnZtJykKCQkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gY2hlY2tib3giPgoJCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJCQk8c3BhbiB0eXBlPSJjaGVja2JveCI+CgkJCQkJCQkJPGlucHV0IG5hbWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHJlbWVtYmVyTWVJbnB1dCkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRyZW1lbWJlck1lSW5wdXQpIiBjaGVja2VkPSJjaGVja2VkIiB0eXBlPSJjaGVja2JveCI+CgkJCQkJCQk8L3NwYW4+CgkJCQkJCTwvc3Bhbj4KCQkJCQkJPGRpdiBjbGFzcz0iZmllbGQtaXRlbS1oZWFkZXIiPgoJCQkJCQkJPGxhYmVsIGZvcj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcmVtZW1iZXJNZUlucHV0KSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luU21hbGxfQXV0b0xvZ2luJyk8L2xhYmVsPgoJCQkJCQk8L2Rpdj4KCQkJCQk8L2xpPgoJCQkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSI+CgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIGxvZ2luIHN1Ym1pdC1idXR0b24iIGhyZWY9IiMiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5TbWFsbF9CdXR0b24nKTwvYT4KCQkJCQkJPHNwYW4gY2xhc3M9InByb2Nlc3NpbmciIHN0eWxlPSJ2aXNpYmlsaXR5OiBoaWRkZW47Ij48L3NwYW4+CgkJCQkJPC9saT4KCQkJCTwvdWw+CgoJCQkJPGRpdiBjbGFzcz0ibG9naW4tYWx0ZXJuYXRpdmUgbG9naW4tc3RhbmRhcmQtb3B0aW9ucyIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij4KCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fUmVndWxhcl9TaWduX0luX01lc3NhZ2UnKSA8YSBocmVmPSIjIiBjbGFzcz0iaW50ZXJuYWwtbGluayBjcmVkZW50aWFsIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fUmVndWxhcl9TaWduX0luX0xpbmsnKTwvYT4KCQkJCTwvZGl2PgoJCQkJPGRpdiBjbGFzcz0ibG9naW4tYWx0ZXJuYXRpdmUgbG9naW4tc3RhbmRhcmQtb3B0aW9ucy1zZWxlY3RlZCI+CgkJCQkJI3NldCAoJGZvcmdvdFBhc3N3b3JkVXJsID0gJGNvcmVfdjJfdXJscy5Gb3Jnb3RQYXNzd29yZCgpKQoJCQkJCSNpZiAoJGZvcmdvdFBhc3N3b3JkVXJsKQoJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fUmVzZXRfUGFzc3dvcmRfTWVzc2FnZScpIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZvcmdvdFBhc3N3b3JkVXJsKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX1Jlc2V0X1Bhc3N3b3JkX0xpbmsnKTwvYT48YnIgLz4KCQkJCQkjZW5kCgoJCQkJCSNpZiAoJGNvcmVfdjJfY29uZmlndXJhdGlvbi5BY2NvdW50QWN0aXZhdGlvbiAhPSAiSW52aXRhdGlvbk9ubHkiICYmICRjb3JlX3YyX2NvbmZpZ3VyYXRpb24uQWxsb3dOZXdVc2VyUmVnaXN0cmF0aW9uKQoJCQkJCQkjc2V0ICgkcmVnaXN0ZXJVcmwgPSAkY29yZV92Ml91cmxzLlJlZ2lzdGVyKCRyZXR1cm5VcmwpKQoJCQkJCQkjaWYgKCRyZWdpc3RlclVybCkKCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9Kb2luX01lc3NhZ2UnKSA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRyZWdpc3RlclVybCkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9Kb2luX0xpbmsnKTwvYT4KCQkJCQkJI2VuZAoJCQkJCSNlbmQKCQkJCTwvZGl2PgoKCQkJPC9maWVsZHNldD4KCQkJPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2PgoJCTwvZGl2PgoJPC9kaXY+Cgk8ZGl2IGNsYXNzPSJwYWdlLWZvb3RlciI+PC9kaXY+CiNlbHNlCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIHdhcm5pbmciPgoJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9BbHJlYWR5TG9nZ2VkSW4nKQoJPC9kaXY+CiNlbmQK</file>
			<file name="sub_form_credentials.vm">IyMKIyMgU3ViLUZvcm0gc2hvd24gd2hlbmV2ZXIgdXNlciBjcmVkZW50aWFscyBuZWVkIHRvIGJlIGNvbGxlY3RlZAojIwoKPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHVzZXItbmFtZSByZXF1aXJlZCI+Cgk8ZGl2IGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+CgkgICAgI2lmICgkbG9naW5UeXBlU2V0dGluZyA9PSAiYm90aCIpCiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJyYWRpbyIgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbG9naW5UeXBlSW5wdXQpIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbG9naW5UeXBlSW5wdXQpIiB2YWx1ZT0iZW1haWwiIGNsYXNzPSJsb2dpbi10eXBlIiAvPgogICAgICAgICAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX0VtYWlsX0FkZHJlc3MnKQogICAgICAgICAgICA8aW5wdXQgdHlwZT0icmFkaW8iIG5hbWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGxvZ2luVHlwZUlucHV0KSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGxvZ2luVHlwZUlucHV0KSIgdmFsdWU9InVzZXJuYW1lIiBjbGFzcz0ibG9naW4tdHlwZSIgY2hlY2tlZD0iY2hlY2tlZCIgLz4KICAgICAgICAgICAgI2lmICgkdXNlQ29tbXVuaXR5TmFtZXMpCiAgICAgICAgICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX0NvbW11bml0eV9Vc2VyTmFtZScpLCAkc2l0ZUluZm8uU2l0ZU5hbWUpCiAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgIAkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fU2lnbkluTmFtZScpCiAgICAgICAgICAgICNlbmQKICAgICAgICAjZWxzZWlmICgkbG9naW5UeXBlU2V0dGluZyA9PSAiZW1haWwiKQogICAgICAgIAk8bGFiZWwgZm9yPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VybmFtZUlucHV0KSI+CiAgICAgICAgICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fRW1haWwnKQogICAgICAgIAk8L2xhYmVsPgogICAgICAgICNlbHNlCiAgICAgICAgCTxsYWJlbCBmb3I9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXJuYW1lSW5wdXQpIj4KICAgICAgICAgICAgICAgICNpZiAoJHVzZUNvbW11bml0eU5hbWVzKQogICAgICAgICAgICAgICAgCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fQ29tbXVuaXR5X1VzZXJOYW1lJyksICRzaXRlSW5mby5TaXRlTmFtZSkKICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0xvZ2luX1NpZ25Jbk5hbWUnKQogICAgICAgICAgICAgICAgI2VuZAogICAgICAgIAk8L2xhYmVsPgogICAgICAgICNlbmQKCTwvZGl2PgoJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48L3NwYW4+Cgk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+PGlucHV0IG5hbWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXJuYW1lSW5wdXQpIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXNlcm5hbWVJbnB1dCkiIG1heGxlbmd0aD0iNjQiIHNpemU9IjMwIiB0eXBlPSJ0ZXh0Ij48L3NwYW4+CjwvbGk+CjxsaSBjbGFzcz0iZmllbGQtaXRlbSBwYXNzd29yZCByZXF1aXJlZCI+Cgk8ZGl2IGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+CgkJPGxhYmVsIGZvcj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcGFzc3dvcmRJbnB1dCkiPgoJCQkjaWYgKCR1c2VDb21tdW5pdHlOYW1lcykKCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTG9naW5fQ29tbXVuaXR5X1Bhc3N3b3JkJyksICRzaXRlSW5mby5TaXRlTmFtZSkKCQkJI2Vsc2UKCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdMb2dpbl9QYXNzd29yZCcpCgkJCSNlbmQKCQk8L2xhYmVsPgoJPC9kaXY+Cgk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4KCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48aW5wdXQgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcGFzc3dvcmRJbnB1dCkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwYXNzd29yZElucHV0KSIgbWF4bGVuZ3RoPSI2NCIgc2l6ZT0iMzAiIHR5cGU9InBhc3N3b3JkIiBhdXRvY29tcGxldGU9Im9mZiI+PC9zcGFuPgo8L2xpPgo=</file>
			<file name="sub_form_join_details.vm">IyMKIyMgU3ViLUZvcm0gd2hpY2ggcmVuZGVycyBkeW5hbWljIHByb2ZpbGUgZmllbGRzIGFuZCBvdGhlciBkZXRhaWwgZmllbGRzIGZvciBuZXcgdXNlciBqb2lucyAoYm90aCBtYW51YWwgYW5kIG9hdXRoKQojIwoKIyMgb3BlbiBhIGR5bmFtaWMgZm9ybSB4bWwgbm9kZQojc2V0ICgkZm9ybVhtbCA9ICc8cHJvcGVydHlHcm91cCBpZD0icHJvZmlsZURhdGEiIHJlc291cmNlTmFtZT0iIiByZXNvdXJjZUZpbGU9IiIgdGV4dD0iIiBkZXNjcmlwdGlvblJlc291cmNlTmFtZT0iIiBkZXNjcmlwdGlvblJlc291cmNlRmlsZT0iIiBkZXNjcmlwdGlvblRleHQ9IiIgb3JkZXJOdW1iZXI9IjEiIHZpc2libGU9InRydWUiPicpCiNzZXQgKCRyZXF1aXJlZEZpZWxkcyA9ICIiKQojIyBhcHBlbmQgZWFjaCBkeW5hbWljIHByb2ZpbGUgZmllbGQgdG8gdGhlIGR5bmFtaWMgZm9ybSB4bWwKI3NldCAoJGluZGV4ID0gMSkKI2ZvcmVhY2ggKCRmaWVsZCBpbiAkc2VsZWN0ZWRQcm9maWxlRmllbGRzKQoJI2lmICgkcmVxdWlyZWRQcm9maWxlRmllbGRzLmNvbnRhaW5zKCRmaWVsZCkpCgkJI3NldCAoJHJlcXVpcmVkRmllbGRzID0gIiR7cmVxdWlyZWRGaWVsZHN9LCR7ZmllbGR9IikKCSNlbmQKCSNzZXQgKCRmb3JtWG1sID0gIiR7Zm9ybVhtbH0ke2NvcmVfdjJfdXNlclByb2ZpbGVGaWVsZC5keW5hbWljRm9ybVhtbCgke2ZpZWxkfSwgJyV7T3JkZXJOdW1iZXIgPSAkaW5kZXh9Jyl9IikKCSNzZXQgKCRpbmRleCA9ICRpbmRleCArIDEpCiNlbmQKIyMgY2xvc2UgZHluYW1pYyBmb3JtIHhtbCBub2RlCiNzZXQgKCRmb3JtWG1sID0gIiR7Zm9ybVhtbH08L3Byb3BlcnR5R3JvdXA+IikKCiMjIGJ1aWxkIGEgcXVlcnlzdHJpbmcgb2YgY3VycmVudCB2YWx1ZXMgZm9yIHRoZSBkeW5hbWljIGZvcm0gZmllbGRzCiNzZXQgKCRkYXRhID0gJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCcnKSkKI2ZvcmVhY2ggKCRwcm9maWxlRmllbGQgaW4gJHVzZXIuUHJvZmlsZUZpZWxkcykKCSRkYXRhLkFkZCgkcHJvZmlsZUZpZWxkLkxhYmVsLCAkcHJvZmlsZUZpZWxkLlZhbHVlKQojZW5kCgojIyByZW5kZXIgZHluYW1pYyBwcm9maWxlIGZpZWxkcwokY29yZV92Ml9keW5hbWljRm9ybS5SZW5kZXJGb3JtKCRkeW5hbWljRmllbGRzRm9ybSwgJGZvcm1YbWwsICRkYXRhLCAiJXtHcm91cEZvb3Rlckh0bWxGb3JtYXQ9JycsR3JvdXBIZWFkZXJIdG1sRm9ybWF0PScnLEhpZGVQcm9wZXJ0aWVzV2l0aG91dFZhbHVlcz0nZmFsc2UnfSIpCjxpbnB1dCB0eXBlPSJoaWRkZW4iIG5hbWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHByb2ZpbGVGaWVsZHNJbnB1dCkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwcm9maWxlRmllbGRzSW5wdXQpIiB2YWx1ZT0idGVzdHZhbHVlIiAvPgoKI2lmICgkY29yZV92Ml9jb25maWd1cmF0aW9uLlNob3dDb250YWN0Q2hlY2tib3hlcykKCTxsaSBjbGFzcz0iZmllbGQtaXRlbSI+CgkJPGxhYmVsIGZvcj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYWxsb3dTaXRlVG9Db250YWN0SW5wdXQpIiBjbGFzcz0iZmllbGQtaXRlbS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDcmVhdGVOZXdBY2NvdW50X0FsbG93U2l0ZVRvQ29udGFjdCcpPC9sYWJlbD4KCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCTxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYWxsb3dTaXRlVG9Db250YWN0SW5wdXQpIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYWxsb3dTaXRlVG9Db250YWN0SW5wdXQpIiAvPgoJCTwvc3Bhbj4KCTwvbGk+Cgk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0iPgoJCTxsYWJlbCBmb3I9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFsbG93U2l0ZVBhcnRuZXJzVG9Db250YWN0SW5wdXQpIiBjbGFzcz0iZmllbGQtaXRlbS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDcmVhdGVOZXdBY2NvdW50X0FsbG93U2l0ZVBhcnRuZXJzVG9Db250YWN0Jyk8L2xhYmVsPgoJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4KCQkJPGlucHV0IHR5cGU9ImNoZWNrYm94IiBuYW1lPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhbGxvd1NpdGVQYXJ0bmVyc1RvQ29udGFjdElucHV0KSIgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFsbG93U2l0ZVBhcnRuZXJzVG9Db250YWN0SW5wdXQpIiAvPgoJCTwvc3Bhbj4KCTwvbGk+CiNlbmQKCiNpZiAoJHRlcm1zT2ZTZXJ2aWNlVXJsKQoJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHJlcXVpcmVkIHNpdGUtYWdyZWVtZW50Ij4KCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCTxpbnB1dCB0eXBlPSJjaGVja2JveCIgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYWNjZXB0QWdyZWVtZW50SW5wdXQpIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkYWNjZXB0QWdyZWVtZW50SW5wdXQpIiAvPgoJCTwvc3Bhbj4KCQk8bGFiZWwgZm9yPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY2NlcHRBZ3JlZW1lbnRJbnB1dCkiIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NyZWF0ZU5ld0FjY291bnRfRm9ydW1SdWxlc19BZ3JlZVRleHQnKSA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR0ZXJtc09mU2VydmljZVVybCkiIHRhcmdldD0iX2JsYW5rIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ3JlYXRlTmV3QWNjb3VudF9Gb3J1bVJ1bGVzRGVzY0xpbmsnKTwvYT48L2xhYmVsPgoJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iIHN0eWxlPSJkaXNwbGF5OiBub25lOyI+PC9zcGFuPgoJPC9saT4KI2VuZA==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKCQkvLyBjYXB0dXJlcyBzZWxlY3Rpb25zIHVzZWQgd2l0aGluIHRoZSB3aWRnZXQgb25jZSBzbyBzZWxlY3RvcnMgYXJlIG5vdC1yZXF1ZXJpZWQKCXZhciBzY3JhcGVFbGVtZW50cyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJJC5lYWNoKFtjb250ZXh0LmVsZW1lbnRzLCBjb250ZXh0LmlucHV0c10sIGZ1bmN0aW9uKGksIHNldCkgewoJCQkJJC5lYWNoKHNldCwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkgewoJCQkJCXNldFtrZXldID0gY29udGV4dC53cmFwcGVyLmZpbmQodmFsdWUpOwoJCQkJfSk7CgkJCX0pOwoJCX0sCgkJZHN0T2Zmc2V0ID0gKGZ1bmN0aW9uKCl7CgkJICAgIHZhciBqdW5lT2Zmc2V0ID0gbmV3IERhdGUoMjAxMiwgNSwgMSkuZ2V0VGltZXpvbmVPZmZzZXQoKSB8fCAwLAoJCQkJamFudWFyeU9mZnNldCA9IG5ldyBEYXRlKDIwMTIsIDAsIDEpLmdldFRpbWV6b25lT2Zmc2V0KCkgfHwgMCwKCQkJCW9mZnNldERpZmZlcmVuY2UgPSBqYW51YXJ5T2Zmc2V0IC0ganVuZU9mZnNldDsKCQkJcmV0dXJuIGZ1bmN0aW9uKGRhdGUpIHsKCQkJCS8vIHJlZ2lvbiB3aXRoIG5vIERTVAoJCQkJaWYob2Zmc2V0RGlmZmVyZW5jZSA9PT0gMCkgewoJCQkJCXJldHVybiAwOwoJCQkJLy8gcmVnaW9uIHdpdGggRFNUCgkJCQl9IGVsc2UgewoJCQkJCS8vIHBvc2l0aXZlIERTVCBvZmZzZXQgaW1wbGllcyBub3J0aGVybiBoZW1pc3BoZXJlIChjb21wYXJlIHRvIGp1bmUpLCBvdGhlcndpc2UgamFudWFyeQoJCQkJCXZhciBvZmZzZXQgPSBvZmZzZXREaWZmZXJlbmNlID4gMCA/IGp1bmVPZmZzZXQgOiBqYW51YXJ5T2Zmc2V0OwoJCQkJCXJldHVybiBNYXRoLmFicyhvZmZzZXQgPT09IChkYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkgfHwgMCkgPyBvZmZzZXREaWZmZXJlbmNlIDogMCk7CgkJCQl9CgkJCX07CgkJfSkoKSwKCQljYXB0dXJlVGltZVpvbmVUb0Nvb2tpZSA9IGZ1bmN0aW9uKCkgewoJCQlkb2N1bWVudC5jb29raWUgPSAidHpvZmZzZXQ9IiArIGVzY2FwZSgtMSAqIChuZXcgRGF0ZSgpLmdldFRpbWV6b25lT2Zmc2V0KCkgKyBkc3RPZmZzZXQobmV3IERhdGUoKSkpLzYwKTsKCQl9LAoJCS8vIHN1Ym1pdHMgdGhlIGZvcm0KCQlzdWJtaXQgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJCWNvbnRleHQud3JhcHBlci5jbG9zZXN0KCdmb3JtJykuc3VibWl0KCk7CgkJfSwKCQkvLyBzZXRzIGEgc3BlY2lmaWMgYWN0aW9uIHRvIGJlIHN1Ym1pdHRlZCBhbG9uZyB3aXRoIHRoZSBmb3JtIHBvc3QKCQlzZXRBY3Rpb24gPSBmdW5jdGlvbihjb250ZXh0LCBhY3Rpb24pIHsKCQkJY29udGV4dC5pbnB1dHMuYWN0aW9uLnZhbChhY3Rpb24pOwoJCX0sCgkJLy8gYnVpbGRzIG1ldGFkYXRhIGFib3V0IGF2YWlsYWJsZSBhdXRoIHByb3ZpZGVycyBiYXNlZCBvbiB3aGF0IHdhcyByZW5kZXJlZAoJCS8vIGFsc28gYmluZHMgZXZlbnRzIHRvIHRoZW0gZm9yIGhhbmRsaW5nIHRoZWlyIHVzYWdlCgkJc2V0dXBBdXRoUHJvdmlkZXJzID0gZnVuY3Rpb24oY29udGV4dCkgewoJCQkvLyBzZXQgdXAgcHJvdmlkZXItc3BlY2lmaWMgYWN0aW9ucwoJCQljb250ZXh0LnByb3ZpZGVycyA9IHt9OwoJCQljb250ZXh0LmVsZW1lbnRzLmF1dGhQcm92aWRlcnMuZWFjaChmdW5jdGlvbigpIHsKCQkJCXZhciBwcm92aWRlckVsZW1lbnQgPSAkKHRoaXMpOwoKCQkJCS8vIGNhcHR1cmUgbWV0YWRhdGEgYWJvdXQgdGhlIHByb3ZpZGVyCgkJCQl2YXIgY2xpZW50VHlwZSA9IHByb3ZpZGVyRWxlbWVudC5hdHRyKCdkYXRhLWNsaWVudHR5cGUnKTsKCQkJCWNvbnRleHQucHJvdmlkZXJzW2NsaWVudFR5cGVdID0gewoJCQkJCXdyYXBwZXI6IHByb3ZpZGVyRWxlbWVudCwKCQkJCQlidXR0b246IHByb3ZpZGVyRWxlbWVudC5maW5kKCdhLnN1Ym1pdC1idXR0b24nKSwKCQkJCQljb2xvcjogJyMnICsgcHJvdmlkZXJFbGVtZW50LmF0dHIoJ2RhdGEtY29sb3InKQoJCQkJfTsKCgkJCQkvLyBzdWJtaXQgYSBjb25uZWN0aW9uIHJlcXVlc3Qgd2hlbiB0aGUgcHJvdmlkZXIncyBjb25uZWN0IGJ1dHRvbiBpcyBjbGlja2VkCgkJCQljb250ZXh0LnByb3ZpZGVyc1tjbGllbnRUeXBlXS5idXR0b24uYmluZCgnY2xpY2snLCBmdW5jdGlvbihlKSB7CgkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCS8vIHNldCB2YWx1ZXMgZm9yIHRoZSBvYXV0aCBjb25uZWN0IGZvcm0gc2JtaXNzaW9uCgkJCQkJc2V0QWN0aW9uKGNvbnRleHQsICdvYXV0aF9jb25uZWN0Jyk7CgkJCQkJY29udGV4dC5pbnB1dHMucHJvdmlkZXIudmFsKGNsaWVudFR5cGUpOwoJCQkJCS8vIHRyaWdnZXIgYW4gZXZlbnQgYWJvdXQgb2F1dGggY29ubmVjdCBiZWluZyByZXF1ZXN0ZWQKCQkJCQkkKHRoaXMpLnRyaWdnZXIoJ29BdXRoQ29ubmVjdCcsIFtjbGllbnRUeXBlXSk7CgkJCQkJLy8gc3VibWl0IHRoZSBmb3JtCgkJCQkJc3VibWl0KGNvbnRleHQpOwoJCQkJfSk7CgkJCX0pOwoJCX0sCgkJc2V0dXBDcmVkZW50aWFsTG9naW4gPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJCWNvbnRleHQuZWxlbWVudHMubG9naW5MaW5rCgkJCQkvLyBhZGQgdmFsaWRhdGlvbiB0byB0aGUgY3JlZGVudGlhbCBsb2dpbgoJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oewoJCQkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7CgkJCQkJCWlmIChpc1ZhbGlkKSB7CgkJCQkJCQljb250ZXh0LmVsZW1lbnRzLmxvZ2luTGluay5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsKCQkJCQkJfSBlbHNlIHsKCQkJCQkJCWNvbnRleHQuZWxlbWVudHMubG9naW5MaW5rLmFkZENsYXNzKCdkaXNhYmxlZCcpOwoJCQkJCQl9CgkJCQkJfSwKCQkJCQlvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgewoJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCS8vIHNob3cgdGhlIHByb2Nlc3Npbmcgbm9kZQoJCQkJCQkkKCcucHJvY2Vzc2luZycsIGNvbnRleHQuZWxlbWVudHMubG9naW5MaW5rLnBhcmVudCgpKS5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOwoJCQkJCQkvLyBzZXQgZm9ybSBmaWVsZHMgcmVnYXJkaW5nIHRoZSBsb2dpbgoJCQkJCQljb250ZXh0LmVsZW1lbnRzLmxvZ2luTGluay5hZGRDbGFzcygnZGlzYWJsZWQnKTsKCQkJCQkJLy8gdHJpZ2dlciBhY3Rpb24gdGhhdCB0aGUgbG9naW4gaXMgb2NjdXJyaW5nCgkJCQkJCSQoZS50YXJnZXQpLnRyaWdnZXIoJ2xvZ2luJyk7CgkJCQkJCS8vIHN1Ym1pdCB0aGUgZm9ybQoJCQkJCQlzdWJtaXQoY29udGV4dCk7CgkJCQkJfX0pCgkJCQkvLyB1c2VybmFtZSBpcyByZXF1aXJlZAoJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywKCQkJCQljb250ZXh0LmlucHV0cy51c2VybmFtZSwKCQkJCQl7IHJlcXVpcmVkOiB0cnVlIH0sCgkJCQkJY29udGV4dC5pbnB1dHMudXNlcm5hbWUuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpCgkJCQkvLyBwYXNzd29yZCBpcyByZXF1aXJlZAoJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywKCQkJCQljb250ZXh0LmlucHV0cy5wYXNzd29yZCwKCQkJCQl7IHJlcXVpcmVkOiB0cnVlIH0sCgkJCQkJY29udGV4dC5pbnB1dHMucGFzc3dvcmQuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpOwoJCX0sCgkJc2V0dXBDcmVhdGUgPSBmdW5jdGlvbihjb250ZXh0KSB7CiAgICAgICAgICAgIGlmIChjb250ZXh0Lm1vZGUgPT0gJ2xvZ2luJykKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgY29udGV4dC5pbnB1dHMudXNlcm5hbWUuY2hhbmdlKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIHZhciBlbWFpbFJlZ0V4cCA9IG5ldyBSZWdFeHAoJ15bISQmKlxcLT1eYHx+IyVcJ1xcLlwiK1wvP197fVxcXFxhLXpBLVowLTkgXStAW1xcLVxcLmEtekEtWjAtOV0rKD86XFwuW2EtekEtWjAtOV0rKSskJyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGVtYWlsUmVnRXhwLnRlc3QoY29udGV4dC5pbnB1dHMudXNlcm5hbWUudmFsKCkpKQogICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaW5wdXRzLmxvZ2luVHlwZS5maWx0ZXIoIlt2YWx1ZT1lbWFpbF0iKS5wcm9wKCJjaGVja2VkIix0cnVlKTsKICAgICAgICAgICAgICAgICAgICBlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnB1dHMubG9naW5UeXBlLmZpbHRlcigiW3ZhbHVlPXVzZXJuYW1lXSIpLnByb3AoImNoZWNrZWQiLHRydWUpOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KCgkJCWNvbnRleHQuZWxlbWVudHMuY3JlYXRlQWNjb3VudExpbmsKCQkJCS8vIGFkZCB2YWxpZGF0aW9uIHRvIHRoZSBjcmVhdGlvbiBmb3JtCgkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbih7CgkJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsKCQkJCQkJaWYgKGlzVmFsaWQpIHsKCQkJCQkJCWNvbnRleHQuZWxlbWVudHMuY3JlYXRlQWNjb3VudExpbmsucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7CgkJCQkJCX0gZWxzZSB7CgkJCQkJCQkvLyBhdm9pZCBJRTcvOCBub24tcmVmbG93aW5nIGJ1ZwoJCQkJCQkJJCgnLmpvaW4tcGFzc3dvcmQnKS5jc3Moe3Bvc2l0aW9uOidyZWxhdGl2ZSd9KTsKCQkJCQkJfQoJCQkJCX0sCgkJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQkvLyBjYXB0dXJlIHByb2ZpbGUgZmllbGRzCgkJCQkJCXZhciBkYXRhID0gY29udGV4dC5nZXREeW5hbWljVmFsdWVzKCk7CgkJCQkJCS8vIGNvbnZlcnQgY2FwdHVyZWQgZGF0YSB0byBiZSBwcmVmaXhlZCB3aXRoIF9Qcm9maWxlRmllbGRzXyBhbmQgZm9ybWF0IGRhdGVzCgkJCQkJCXZhciBwb3N0RGF0YSA9IHt9OwoJCQkJCQkkLmVhY2goZGF0YSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSkgewoJCQkJCQkJcG9zdERhdGFbJ19Qcm9maWxlRmllbGRzXycgKyBrZXldID0KCQkJCQkJCQkodmFsdWUgIT09IG51bGwpID8KCQkJCQkJCQkodmFsdWUudG9VVENTdHJpbmcgPyAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZm9ybWF0RGF0ZSh2YWx1ZSkgOiB2YWx1ZSArICcnKSA6CgkJCQkJCQkJJyc7CgkJCQkJCX0pOwoKCQkJCQkJLy8gd3JpdGUgcHJvZmlsZSBmaWVsZHMgdG8gaGlkZGVuIGlucHV0CgkJCQkJCWNvbnRleHQuaW5wdXRzLnByb2ZpbGVGaWVsZHMudmFsKCQucGFyYW0ocG9zdERhdGEpKTsKCgkJCQkJCS8vIHNob3cgdGhlIHByb2Nlc3Npbmcgbm9kZQoJCQkJCQkkKCcucHJvY2Vzc2luZycsIGNvbnRleHQuZWxlbWVudHMuY3JlYXRlQWNjb3VudExpbmsucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7CgkJCQkJCS8vIHNldCBmb3JtIGZpZWxkcyByZWdhcmRpbmcgdGhlIGxvZ2luCgkJCQkJCWNvbnRleHQuZWxlbWVudHMuY3JlYXRlQWNjb3VudExpbmsuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7CgkJCQkJCS8vIHRyaWdnZXIgYWN0aW9uIHRoYXQgdGhlIGxvZ2luIGlzIG9jY3VycmluZwoJCQkJCQkkKGUudGFyZ2V0KS50cmlnZ2VyKCdqb2luJyk7CgoJCQkJCQkvLyBzdWJtaXQgdGhlIGZvcm0KCQkJCQkJc3VibWl0KGNvbnRleHQpOwoJCQkJCX19KTsKCQkJaWYoY29udGV4dC5pbnB1dHMudXNlcm5hbWUubGVuZ3RoID4gMCkgewoJCQkJY29udGV4dC5lbGVtZW50cy5jcmVhdGVBY2NvdW50TGluay5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsCgkJCQkJY29udGV4dC5pbnB1dHMudXNlcm5hbWUsCgkJCQkJewoJCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQkJbWlubGVuZ3RoOiBjb250ZXh0LnVzZXJuYW1lTWluTGVuZ3RoLAoJCQkJCQltYXhsZW5ndGg6IGNvbnRleHQudXNlcm5hbWVNYXhMZW5ndGgsCgkJCQkJCXVzZXJuYW1lOiB0cnVlLAoJCQkJCQl1c2VybmFtZWV4aXN0czogdHJ1ZSwKCQkJCQkJbWVzc2FnZXM6IHsKCQkJCQkJCXVzZXJuYW1lOiBjb250ZXh0LnJlc291cmNlcy51c2VybmFtZUludmFsaWRVc2VyTmFtZSwKCQkJCQkJCXVzZXJuYW1lZXhpc3RzOiBjb250ZXh0LnJlc291cmNlcy51c2VybmFtZUR1cGxpY2F0ZVVzZXJOYW1lLAoJCQkJCQkJcmVxdWlyZWQ6IGNvbnRleHQucmVzb3VyY2VzLmZpZWxkUmVxdWlyZWQKCQkJCQkJfQoJCQkJCX0sCgkJCQkJY29udGV4dC5pbnB1dHMudXNlcm5hbWUuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpOwoJCQl9CgkJCWlmKGNvbnRleHQuaW5wdXRzLnBhc3N3b3JkLmxlbmd0aCA+IDApIHsKCQkJCWNvbnRleHQuZWxlbWVudHMuY3JlYXRlQWNjb3VudExpbmsuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLAoJCQkJCWNvbnRleHQuaW5wdXRzLnBhc3N3b3JkLAoJCQkJCXsKCQkJCQkJcmVxdWlyZWQ6IHRydWUsCgkJCQkJCW1pbmxlbmd0aDogY29udGV4dC5wYXNzd29yZE1pbkxlbmd0aCwKCQkJCQkJcGFzc3dvcmQ6IHRydWUsCgkJCQkJCW1lc3NhZ2VzOiB7CgkJCQkJCQlwYXNzd29yZDogY29udGV4dC5yZXNvdXJjZXMucGFzc3dvcmRFcnJvciwKCQkJCQkJCW1pbmxlbmd0aDogY29udGV4dC5yZXNvdXJjZXMucGFzc3dvcmRMaW1pdHMsCgkJCQkJCQlyZXF1aXJlZDogY29udGV4dC5yZXNvdXJjZXMuZmllbGRSZXF1aXJlZAoJCQkJCQl9CgkJCQkJfSwKCQkJCQljb250ZXh0LmlucHV0cy5wYXNzd29yZC5jbG9zZXN0KCcuZmllbGQtaXRlbScpLmZpbmQoJy5maWVsZC1pdGVtLXZhbGlkYXRpb24nKSwgbnVsbCk7CgkJCX0KCQkJaWYoY29udGV4dC5pbnB1dHMucGFzc3dvcmQyLmxlbmd0aCA+IDApIHsKCQkJCWNvbnRleHQuZWxlbWVudHMuY3JlYXRlQWNjb3VudExpbmsuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLAoJCQkJCWNvbnRleHQuaW5wdXRzLnBhc3N3b3JkMiwKCQkJCQl7CgkJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCQllcXVhbFRvOiBjb250ZXh0LmlucHV0cy5wYXNzd29yZCwKCQkJCQkJbWVzc2FnZXM6IHsKCQkJCQkJCWVxdWFsVG86IGNvbnRleHQucmVzb3VyY2VzLnBhc3N3b3JkTWF0Y2gsCgkJCQkJCQlyZXF1aXJlZDogY29udGV4dC5yZXNvdXJjZXMuZmllbGRSZXF1aXJlZAoJCQkJCQl9CgkJCQkJfSwKCQkJCQljb250ZXh0LmlucHV0cy5wYXNzd29yZDIuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpOwoJCQl9CgogICAgICAgICAgICAvL0NBUFRDSEEKICAgICAgICAgICAgaWYgKGNvbnRleHQuaW5wdXRzLmNhcHRjaGEubGVuZ3RoID4gMCAmJiBjb250ZXh0LmNhcHRjaGFFbmFibGVkKSB7CiAgICAgICAgICAgICAgICB2YXIgY2FwdGNoYUhpZGRlbiA9ICQoY29udGV4dC5pbnB1dHMuY2FwdGNoYSk7CiAgICAgICAgICAgICAgICBpZiAoY2FwdGNoYUhpZGRlbikgewogICAgICAgICAgICAgICAgICAgIHZhciBwYXNzZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmVsZW1lbnRzLmNyZWF0ZUFjY291bnRMaW5rLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEN1c3RvbVZhbGlkYXRpb24nLCAnY2FwdGNoYV9jaGVjaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhc3NlZCkgcmV0dXJuIHRydWU7IC8vIHNvIHlvdSBvbmx5IGhhdmUgdG8gcGFzcyB0aGUgdGVzdCBvbmNlCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNwID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnJlY2FwdGNoYS52ZXJpZnkoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3AgJiYgcmVzcC52ZXJpZmllZCAmJiByZXNwLnRva2VuKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXB0Y2hhSGlkZGVuLnZhbChyZXNwLnRva2VuKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhc3NlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnJlc291cmNlcy5jYXB0Y2hhRmFpbHVyZSwKICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmlucHV0cy5jYXB0Y2hhLmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLAogICAgICAgICAgICAgICAgICAgICBudWxsKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQoKCQkJaWYoY29udGV4dC5pbnB1dHMuZW1haWwubGVuZ3RoID4gMCAmJiBjb250ZXh0LmlucHV0cy5lbWFpbC5pcygnOnZpc2libGUnKSkgewoJCQkJY29udGV4dC5lbGVtZW50cy5jcmVhdGVBY2NvdW50TGluay5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsCgkJCQkJY29udGV4dC5pbnB1dHMuZW1haWwsCgkJCQkJewoJCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQkJZW1haWw6IHRydWUsCgkJCQkJCWVtYWlsZXhpc3RzOiB0cnVlLAoJCQkJCQltZXNzYWdlczogewoJCQkJCQkJZW1haWw6IGNvbnRleHQucmVzb3VyY2VzLmVtYWlsSW52YWxpZCwKCQkJCQkJCWVtYWlsZXhpc3RzOiBjb250ZXh0LnJlc291cmNlcy5lbWFpbER1cGxpY2F0ZSwKCQkJCQkJCXJlcXVpcmVkOiBjb250ZXh0LnJlc291cmNlcy5maWVsZFJlcXVpcmVkCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWNvbnRleHQuaW5wdXRzLmVtYWlsLmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKTsKCQkJfQoJCQkvLyBUZXJtcyBvZiBTZXJ2aWNlIFZhbGlkYXRpb24gKHdoZW4gYWJsZWQpCgkJCWlmKGNvbnRleHQuaW5wdXRzLmFjY2VwdEFncmVlbWVudC5sZW5ndGggPiAwKSB7CgkJCQljb250ZXh0LmVsZW1lbnRzLmNyZWF0ZUFjY291bnRMaW5rCgkJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywKCQkJCQkJY29udGV4dC5pbnB1dHMuYWNjZXB0QWdyZWVtZW50LAoJCQkJCQl7CgkJCQkJCQlyZXF1aXJlZDogdHJ1ZSwKCQkJCQkJCW1lc3NhZ2VzOiB7CgkJCQkJCQkJcmVxdWlyZWQ6IGNvbnRleHQucmVzb3VyY2VzLmZpZWxkUmVxdWlyZWQKCQkJCQkJCX0KCQkJCQkJfSwKCQkJCQkJY29udGV4dC5pbnB1dHMuYWNjZXB0QWdyZWVtZW50LmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKTsKCQkJfQoJCQkvLyBtYWtlIGR5bmFtaWMgZmllbGRzIHRoYXQgd2VyZSBzcGVjaWZpZWQgdG8gYmUgcmVxdWlyZWQgcmVxdWlyZWQKCQkJdmFyIHByZWZpeCA9IGNvbnRleHQuZHluYW1pY0ZpZWxkc0Zvcm0gKyAnXyc7CgkJCXZhciBkeW5hbWljRmllbGRzID0gJCgnW2lkXj0iJytwcmVmaXgrJyJdJywgY29udGV4dC53cmFwcGVyKTsKCQkJJC5lYWNoKGNvbnRleHQucmVxdWlyZWREeW5hbWljZmllbGRzLnNwbGl0KCcsJyksIGZ1bmN0aW9uKGksIGZpZWxkKSB7CgkJCQlpZihmaWVsZCAhPT0gJycpIHsKCQkJCQl2YXIgZmllbGRJZCA9IGZpZWxkLnJlcGxhY2UoL1xzL2csJycpOwoJCQkJCXZhciBkeW5hbWljRmllbGQgPSBkeW5hbWljRmllbGRzLmZpbHRlcignW2lkJD0iJytmaWVsZElkKyciXScpOwoJCQkJCWlmKGR5bmFtaWNGaWVsZCAhPT0gbnVsbCAmJiBkeW5hbWljRmllbGQubGVuZ3RoID4gMCkgewoJCQkJCQlkeW5hbWljRmllbGQucGFyZW50KCkuYmVmb3JlKCc8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4nKTsKCQkJCQkJY29udGV4dC5lbGVtZW50cy5jcmVhdGVBY2NvdW50TGluawoJCQkJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEN1c3RvbVZhbGlkYXRpb24nLCdwcm9maWxlRmllbGRIYXNWYWx1ZScsCgkJCQkJCQkJZnVuY3Rpb24oKXsKCQkJCQkJCQkJcmV0dXJuIGNvbnRleHQuZ2V0SGFzVmFsdWUoZmllbGQpOwoJCQkJCQkJCX0sCgkJCQkJCQkJY29udGV4dC5yZXNvdXJjZXMuZmllbGRSZXF1aXJlZCwKCQkJCQkJCQlkeW5hbWljRmllbGQuY2xvc2VzdCgnZGl2JykucHJldignLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKTsKCQkJCQkJZHluYW1pY0ZpZWxkLmJpbmQoJ2NoYW5nZScsIGZ1bmN0aW9uKCl7CgkJCQkJCQljb250ZXh0LmVsZW1lbnRzLmNyZWF0ZUFjY291bnRMaW5rLmV2b2x1dGlvblZhbGlkYXRpb24oJ3ZhbGlkYXRlJyk7CgkJCQkJCX0pOwoJCQkJCX0KCQkJCX0KCQkJfSk7CgkJfSwKCQkvLyB3aXJlcyB1cCBhbGwgdGhlIGludGVybmFsIGV2ZW50cyBvZiB0aGUgcGx1Z2luCgkJd2lyZUV2ZW50cyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsKCQkJc2V0dXBBdXRoUHJvdmlkZXJzKGNvbnRleHQpOwoJCQlzZXR1cENyZWRlbnRpYWxMb2dpbihjb250ZXh0KTsKCQkJc2V0dXBDcmVhdGUoY29udGV4dCk7CgkJCWNhcHR1cmVUaW1lWm9uZVRvQ29va2llKCk7CgoJCQkvLyBoYW5kbGUgY2xpY2tzIHRvIHN1Ym1pdCBhIGNvbGxlY3RlZCBlbWFpbCBhZGRyZXNzCgkJCWNvbnRleHQuZWxlbWVudHMuY29sbGVjdEVtYWlsTGluawoJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oewoJCQkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7IH0sCgkJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIHsKCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJCQlzdWJtaXQoY29udGV4dCk7CgkJCQkJfX0pCgkJCQkuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLAoJCQkJCWNvbnRleHQuaW5wdXRzLmVtYWlsLCB7CgkJCQkJCXJlcXVpcmVkOiB0cnVlLAoJCQkJCQllbWFpbDogdHJ1ZSwKCQkJCQkJbWVzc2FnZXM6IHsKCQkJCQkJCXJlcXVpcmVkOiBjb250ZXh0LnJlc291cmNlcy5maWVsZFJlcXVpcmVkCgkJCQkJCX0KCQkJCQl9LAoJCQkJCWNvbnRleHQuaW5wdXRzLmVtYWlsLmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKTsKCgkJCS8vIGhhbmRsZSBwcm92aWRlciB0eXBlIGNsaWNrcwoJCQljb250ZXh0LmVsZW1lbnRzLnByb3ZpZGVyTGlua3MuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHsKCQkJCSQodGhpcykudHJpZ2dlcignb0F1dGhTZWxlY3RlZCcsICQodGhpcykuYXR0cignaHJlZicpLnN1YnN0cigxKSk7CgkJCQlyZXR1cm4gZmFsc2U7CgkJCX0pOwoKCQkJLy8gaGFuZGxlIHN0YW5kYXJkIGxvZ2luIG1vZGUgY2xpY2sKCQkJY29udGV4dC5lbGVtZW50cy5jcmVkZW50aWFsTGlua3MuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHsKCQkJCSQodGhpcykudHJpZ2dlcignbG9naW5TZWxlY3RlZCcpOwoJCQkJcmV0dXJuIGZhbHNlOwoJCQl9KTsKCgkJCS8vIGhhbmRsZSBwcml2YWN5IGxpbmsgY2xpY2tpbmcKCQkJY29udGV4dC5lbGVtZW50cy5wcml2YWN5TGlua3MuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHsKCQkJCWlmKCQodGhpcykuaGFzQ2xhc3MoJ29wZW4nKSkgewoJCQkJCSQodGhpcykudHJpZ2dlcignb0F1dGhIaWRlUHJpdmFjeScpOwoJCQkJfSBlbHNlIHsKCQkJCQkkKHRoaXMpLnRyaWdnZXIoJ29BdXRoU2hvd1ByaXZhY3knKTsKCQkJCX0KCQkJCXJldHVybiBmYWxzZTsKCQkJfSk7CgkJfSwKCQkvLyB3aXJlcyB1cCB1aSB0byBtb25pdG9yIHRoZSBpbnRlcm5hbCBwbHVnaW4gZXZlbnRzIHRvCgkJLy8gYWZmZWN0IHRoZSB1aSBpbiByZXNwb25zZSB0byBldmVudHMKCQl3aXJlVWkgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJCWNvbnRleHQud3JhcHBlcgoJCQkJLy8gYW4gb2F1dGggcHJvdmlkZXIgaGFzIGJlZW4gY2hvc2VuCgkJCQkuYmluZCgnb0F1dGhTZWxlY3RlZCcsIGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQkJCQkvLyBoaWRlIHRoZSBpbmxpbmUgcHJvdmlkZXIgb3B0aW9ucwoJCQkJCWNvbnRleHQuZWxlbWVudHMucHJvdmlkZXJPcHRpb25zLmZhZGVPdXQoY29udGV4dC5hbmltYXRpb25EdXJhdGlvbik7CgoJCQkJCS8vIGV4cGFuZCB0aGUgb2F1dGggcGFuZWwKCQkJCQljb250ZXh0LmVsZW1lbnRzLmxvZ2luUHJvdmlkZXJzLmFuaW1hdGUoewoJCQkJCQloZWlnaHQ6IGNvbnRleHQucHJvdmlkZXJFeHBhbmRlZEhlaWdodAoJCQkJCX0sIHsgZHVyYXRpb246IGNvbnRleHQuYW5pbWF0aW9uRHVyYXRpb24gfSk7CgoJCQkJCS8vIHNob3cgdGhlIHNlbGVjdGVkIG9hdXRoIHByb3ZpZGVyLCBoaWRlIGFueSBvdGhlcnMKCQkJCQkkLmVhY2goY29udGV4dC5wcm92aWRlcnMsIGZ1bmN0aW9uKG5hbWUsIHByb3ZpZGVyKSB7CgkJCQkJCWlmKG5hbWUgPT09IGRhdGEpIHsKCQkJCQkJCXByb3ZpZGVyLndyYXBwZXIuZmFkZUluKGNvbnRleHQuYW5pbWF0aW9uRHVyYXRpb24pOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJcHJvdmlkZXIud3JhcHBlci5mYWRlT3V0KGNvbnRleHQuYW5pbWF0aW9uRHVyYXRpb24pOwoJCQkJCQl9CgkJCQkJfSk7CgoJCQkJCS8vIGFwcGx5IHRoZSBvYXV0aCBwcm92aWRlcidzIGJvcmRlciBjb2xvcgoJCQkJCWNvbnRleHQuZWxlbWVudHMubG9naW5Qcm92aWRlcnMuY3NzKHsKCQkJCQkJYm9yZGVyQ29sb3I6IGNvbnRleHQucHJvdmlkZXJzW2RhdGFdLmNvbG9yCgkJCQkJfSk7CgoJCQkJCS8vIHNob3cgbGlua3MgZm9yIHNlbGVjdGluZyB0aGUgc3RhbmRhcmQgbG9naW4KCQkJCQljb250ZXh0LmVsZW1lbnRzLmxvZ2luU3RhbmRhcmRPcHRpb25zLnNob3coKTsKCQkJCQkvLyBoaWRlIGxpbmtzIHRoYXQgYXJlIHZpc2libGUgd2hlbiBzdGFuZGFyZCBsb2dpbiBpcyB2aXNpYmxlCgkJCQkJY29udGV4dC5lbGVtZW50cy5sb2dpblN0YW5kYXJkT3B0aW9uc1NlbGVjdGVkLmhpZGUoKTsKCQkJCQkKCQkJCQljb250ZXh0LmVsZW1lbnRzLmxvZ2luU3RhbmRhcmRGaWVsZHMuYWRkQ2xhc3MoJ2luYWN0aXZlJyk7CgoJCQkJCS8vIG1ha2UgYWxsIHByb3ZpZGVyIGxpbmtzIG5vdCBzZWxlY3RlZCwgYnV0IG1ha2UgdGhlIGN1cnJlbnQgb25lIHNlbGVjdGVkCgkJCQkJdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpOwoJCQkJCSQuZWFjaChjb250ZXh0LmVsZW1lbnRzLnByb3ZpZGVyTGlua3MsIGZ1bmN0aW9uKCkgewoJCQkJCQl2YXIgbGluayA9ICQodGhpcyk7CgkJCQkJCWlmKGxpbmsuYXR0cignaHJlZicpID09PSB0YXJnZXQuYXR0cignaHJlZicpKSB7CgkJCQkJCQlsaW5rLmFkZENsYXNzKCdzZWxlY3RlZCcpOwoJCQkJCQl9IGVsc2UgewoJCQkJCQkJbGluay5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsKCQkJCQkJfQoJCQkJCX0pOwoJCQkJfSkKCQkJCS8vIG9hdXRoIGNvbm5lY3QgcmVxdWVzdCBpcyBhYm91dCB0byBiZSBzdWJtaXR0ZWQKCQkJCS5iaW5kKCdvQXV0aENvbm5lY3QnLCBmdW5jdGlvbihlLCBkYXRhKSB7CgkJCQl9KQoJCQkJLy8gcHJpdmFjeSB0ZXh0IGhhcyBiZWVuIHJlcXVlc3RlZCB0byBiZSBzaG93bgoJCQkJLmJpbmQoJ29BdXRoU2hvd1ByaXZhY3knLCBmdW5jdGlvbihlLCBkYXRhKSB7CgkJCQkJJChlLnRhcmdldCkKCQkJCQkJLmFkZENsYXNzKCdvcGVuJykKCQkJCQkJLnNpYmxpbmdzKCdwJykKCQkJCQkJLnNsaWRlRG93bihjb250ZXh0LmFuaW1hdGlvbkR1cmF0aW9uKTsKCQkJCX0pCgkJCQkvLyBwcml2YWN5IHRleHQgaGFzIGJlZW4gcmVxdWVzdGVkIHRvIGJlIGhpZGRlbgoJCQkJLmJpbmQoJ29BdXRoSGlkZVByaXZhY3knLCBmdW5jdGlvbihlLCBkYXRhKSB7CgkJCQkJJChlLnRhcmdldCkKCQkJCQkJLnJlbW92ZUNsYXNzKCdvcGVuJykKCQkJCQkJLnNpYmxpbmdzKCdwJykKCQkJCQkJLnNsaWRlVXAoY29udGV4dC5hbmltYXRpb25EdXJhdGlvbik7CgkJCQl9KQoJCQkJLy8gc3RhbmRhcmQgbG9naW4gbW9kZSBoYXMgYmVlbiBzZWxlY3RlZAoJCQkJLmJpbmQoJ2xvZ2luU2VsZWN0ZWQnLCBmdW5jdGlvbihlLCBkYXRhKSB7CgkJCQkJLy8gc2hvdyB0aGUgaW5saW5lIHByb3ZpZGVyIG9wdGlvbnMKCQkJCQljb250ZXh0LmVsZW1lbnRzLnByb3ZpZGVyT3B0aW9ucy5mYWRlSW4oY29udGV4dC5hbmltYXRpb25EdXJhdGlvbik7CgoJCQkJCS8vIGhpZGUgYWxsIG9hdXRoIHByb3ZpZGVyIHBhbmVscwoJCQkJCSQuZWFjaChjb250ZXh0LnByb3ZpZGVycywgZnVuY3Rpb24obmFtZSwgcHJvdmlkZXIpIHsKCQkJCQkJcHJvdmlkZXIud3JhcHBlci5mYWRlT3V0KGNvbnRleHQuYW5pbWF0aW9uRHVyYXRpb24pOwoJCQkJCX0pOwoKCQkJCQkvLyBoaWRlIHRoZSBvYXV0aCBwcm92aWRlciBvdmVybGF5CgkJCQkJY29udGV4dC5lbGVtZW50cy5sb2dpblByb3ZpZGVycy5hbmltYXRlKHsKCQkJCQkJaGVpZ2h0OiBjb250ZXh0LnByb3ZpZGVyQ29sbGFwc2VkSGVpZ2h0CgkJCQkJfSwgeyBkdXJhdGlvbjogY29udGV4dC5hbmltYXRpb25EdXJhdGlvbiB9KTsKCgkJCQkJLy8gbWFrZSBhbGwgcHJvdmlkZXIgbGlua3MgdW5zZWxlY3RlZAoJCQkJCWNvbnRleHQuZWxlbWVudHMucHJvdmlkZXJMaW5rcy5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsKCgkJCQkJLy8gcmVtb3ZlIGFueSBzZWxlY3RlZCBvYXV0aCBib3JkZXIgY29sb3IKCQkJCQljb250ZXh0LmVsZW1lbnRzLmxvZ2luUHJvdmlkZXJzLmNzcyh7CgkJCQkJCWJvcmRlckNvbG9yOiBjb250ZXh0LmRlZmF1bHRQcm92aWRlckJvcmRlckNvbG9yCgkJCQkJfSk7CgoJCQkJCS8vIHNob3cgdGhlIGFwcHJvcHJpYXRlIGxvZ2luIGxpbmtzIHdoZW4gY2xhc3NpYyBsb2dpbiBpcyBzZWxlY3RlZAoJCQkJCWNvbnRleHQuZWxlbWVudHMubG9naW5TdGFuZGFyZE9wdGlvbnMuaGlkZSgpOwoJCQkJCWNvbnRleHQuZWxlbWVudHMubG9naW5TdGFuZGFyZE9wdGlvbnNTZWxlY3RlZC5zaG93KCk7CgkJCQkJY29udGV4dC5lbGVtZW50cy5sb2dpblN0YW5kYXJkRmllbGRzLnJlbW92ZUNsYXNzKCdpbmFjdGl2ZScpOwoJCQkJfSkKCQkJCS8vIGEgbG9naW4gcmVxdWVzdCBpcyBhYm91dCB0byBiZSBzdWJtaXR0ZWQKCQkJCS5iaW5kKCdsb2dpbicsIGZ1bmN0aW9uKGUsIGRhdGEpIHsKCQkJCX0pOwoKCQkJCS8vIHNldCB1cCBkZWZhdWx0IGZvY3VzIGV4Y2VwdCBmb3IgdXNlciBjcmVhdGlvbiBwYWdlCiAgICAgICAgICAgICAgICBpZiAoY29udGV4dC5tb2RlID09ICdsb2dpbicpCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5pbnB1dHMudXNlcm5hbWUuZm9jdXMoKTsKICAgICAgICAgICAgICAgIGVsc2UKICAgIAkJCQljb250ZXh0LndyYXBwZXIuZmluZCgnLnBhZ2U6bm90KC5qb2luLW1hbnVhbCkgaW5wdXRbdHlwZSE9aGlkZGVuXTpmaXJzdCcpLmZvY3VzKCk7CgkJCQkvLyBlbnRlciBrZXkgb24gbG9naW4gYW5kIGpvaW4gaW5wdXRzIHNob3VsZCBhdHRlbXB0IHRvIGxvZ2luL2pvaW4KCQkJCWNvbnRleHQud3JhcHBlci5iaW5kKCdrZXlwcmVzcycsIGZ1bmN0aW9uKGUpewoJCQkJCS8vIGlmIGVudGVyIHdhcyBwcmVzc2VkLCB0cmlnZ2VyIGEgY2xpY2sgb24gdGhlIGxvZ2luIG9yIGpvaW4gbGluayAoaWYgdGhleSBleGlzdCkKCQkJCQlpZiAoZS5rZXlDb2RlID09PSAxMykgewoJCQkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkJCWNvbnRleHQuZWxlbWVudHMubG9naW5MaW5rLmNsaWNrKCk7CgkJCQkJCWNvbnRleHQuZWxlbWVudHMuY3JlYXRlQWNjb3VudExpbmsuY2xpY2soKTsKCQkJCQl9CgkJCQl9KTsKCQl9OwoKCXZhciBhcGkgPSB7CgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKCQkJdmFyIGNvbnRleHQgPSAkLmV4dGVuZCh7fSwgYXBpLmRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTsKCQkJLy8gc2hhbGxvdy1jb3B5IGVsZW1lbnRzIHRvIGF2b2lkIHNoYXJlZCBzdGF0ZSBpZiBvdGhlciB3aWRnZXRzIGFyZSByZW5kZXJlZAoJCQljb250ZXh0LmVsZW1lbnRzID0gJC5leHRlbmQoe30sIGNvbnRleHQuZWxlbWVudHMpOwoJCQkvLyBzaGFsbG93LWNvcHkgcmVzb3VyY2VzIHRvIGF2b2lkIHNoYXJlZCBzdGF0ZSBpZiBvdGhlciB3aWRnZXRzIGFyZSByZW5kZXJlZAoJCQljb250ZXh0LnJlc291cmNlcyA9ICQuZXh0ZW5kKHt9LCBjb250ZXh0LnJlc291cmNlcyk7CgoJCQkvLyBlbnN1cmUgY2VydGFpbiBlbGVtZW50cyBhcmUgYWxyZWFkeSBqcXVlcnkgc2VsZWN0aW9ucwoJCQljb250ZXh0LndyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlcik7CgoJCQkvLyBwcmUtZ3JhYiBhbGwgdGhlIHBpZWNlcyBvZiB0aGUgdWkgc28gbWluaXplIHNlbGVjdGlvbnMKCQkJc2NyYXBlRWxlbWVudHMoY29udGV4dCk7CgkJCS8vIHdpcmUgdXAgdGhlIHdpZGdldCdzIHVpIHRvIHJlc3BvbmQgdG8gaXRzIGZ1bmN0aW9uYWxpdHkKCQkJd2lyZVVpKGNvbnRleHQpOwoJCQkvLyB3aXJlIHVwIHRoZSB3aWRnZXQncyBjbGllbnQgZnVuY3Rpb25hbGl0eQoJCQl3aXJlRXZlbnRzKGNvbnRleHQpOwoJCX0KCX07CgkkLmV4dGVuZChhcGksIHsKCQlkZWZhdWx0czogewoJCQl3cmFwcGVyOiBudWxsLCAvLyB3cmFwcGVyIHNlbGVjdG9yCiAgICAgICAgICAgIG1vZGU6IG51bGwsCgkJCXByb3ZpZGVyRXhwYW5kZWRIZWlnaHQ6IDI0NywKCQkJcHJvdmlkZXJDb2xsYXBzZWRIZWlnaHQ6IDE4LAoJCQlhbmltYXRpb25EdXJhdGlvbjogMjAwLAoJCQlkZWZhdWx0UHJvdmlkZXJCb3JkZXJDb2xvcjogJyM4ODgnLAoJCQlkeW5hbWljRmllbGRzRm9ybTogJ2Zvcm0nLAoJCQkvLyB0aGVzZSBzaG91bGQgYmUgb3ZlcnJpZGVuIHdpdGggYWN0dWFsIGlucHV0IHNlbGVjdG9ycyB2YWx1ZXMgd2hlbiByZWdpc3RlcmVkCgkJCWlucHV0czogewoJCQkJYWN0aW9uOiAnI2FjdGlvbicsCgkJCQlwcm92aWRlcjogJyNwcm92aWRlcicsCgkJCQlwcm9maWxlRmllbGRzOiAnI3Byb2ZpbGVGaWVsZHMnLAoJCQkJdXNlcm5hbWU6ICcjdXNlcm5hbWUnLAoJCQkJcGFzc3dvcmQ6ICcjcGFzc3dvcmQnLAoJCQkJcGFzc3dvcmQyOiAnI3Bhc3N3b3JkMicsCgkJCQllbWFpbDogJyNlbWFpbCcsCgkJCQlhY2NlcHRBZ3JlZW1lbnQ6ICcjYWNjZXB0QWdyZWVtZW50JywKCQkJCWNhcHRjaGE6ICcjY19JZCcKCQkJfSwKCQkJLy8gdGhlc2Ugc2hvdWxkIGJlIG92ZXJyaWRlbiB3aXRoIGFjdHVhbCByZXNvdXJjZSB2YWx1ZXMgd2hlbiByZWdpc3RlcmVkCgkJCXJlc291cmNlczogewoJCQkJdXNlcm5hbWVJbnZhbGlkVXNlck5hbWU6ICdDcmVhdGVOZXdBY2NvdW50X0NyZWF0ZVVzZXJTdGF0dXNfSW52YWxpZFVzZXJOYW1lJywKCQkJCXVzZXJuYW1lRHVwbGljYXRlVXNlck5hbWU6ICdDcmVhdGVOZXdBY2NvdW50X0NyZWF0ZVVzZXJTdGF0dXNfRHVwbGljYXRlVXNlcm5hbWUnLAoJCQkJcGFzc3dvcmRFcnJvcjogJ0NyZWF0ZU5ld0FjY291bnRfUGFzc3dvcmRSZWdFeFZhbGlkYXRvcicsCgkJCQlwYXNzd29yZExpbWl0czogJ0NyZWF0ZU5ld0FjY291bnRfUGFzc3dvcmRMaW1pdHMnLAoJCQkJcGFzc3dvcmRNYXRjaDogJ0NyZWF0ZU5ld0FjY291bnRfUGFzc3dvcmROb01hdGNoJywKCQkJCWVtYWlsSW52YWxpZDogJ0NyZWF0ZU5ld0FjY291bnRfQ3JlYXRlVXNlclN0YXR1c19JbnZhbGlkRW1haWwnLAoJCQkJZW1haWxEdXBsaWNhdGU6ICdDcmVhdGVOZXdBY2NvdW50X0NyZWF0ZVVzZXJTdGF0dXNfRHVwbGljYXRlRW1haWxBZGRyZXNzJywKCQkJCXRvc011c3RBZ3JlZTogJ0NyZWF0ZU5ld0FjY291bnRfVGVybXNPZlNlcnZpY2VfTXVzdEFncmVlJwogICAgICAgICAgICB9LAogICAgICAgICAgICBjYXB0Y2hhRW5hYmxlZDpmYWxzZSwKCQkJLy8gbGVuZ3RocyBzaG91bGQgYmUgb3ZlcnJpZGVuIHdoZW4gcmVnaXN0ZXJlZAoJCQl1c2VybmFtZU1pbkxlbmd0aDogMywKCQkJdXNlcm5hbWVNYXhMZW5ndGg6IDY0LAoJCQlwYXNzd29yZE1pbkxlbmd0aDogNSwKCQkJLy8gc2VsZWN0b3JzIHJlbGF0aXZlIHRvIHRoZSB3cmFwcGVyIC0gcmFyZWx5IG5lZWQgdG8gYmUgb3ZlcnJpZGVuCgkJCWVsZW1lbnRzOiB7CgkJCQlsb2dpbkxpbms6ICdhLmxvZ2luJywKCQkJCXByb3ZpZGVyTGlua3M6ICdhLnByb3ZpZGVyJywKCQkJCWNyZWRlbnRpYWxMaW5rczogJ2EuY3JlZGVudGlhbCcsCgkJCQlwcml2YWN5TGlua3M6ICdhLmxvZ2luLXByb3ZpZGVyLXByaXZhY3ktbGluaycsCgkJCQljb2xsZWN0RW1haWxMaW5rOiAnYS5jb2xsZWN0ZW1haWwnLAoJCQkJY3JlYXRlQWNjb3VudExpbms6ICdhLmNyZWF0ZS1hY2NvdW50JywKCQkJCWF1dGhQcm92aWRlcnM6ICcubG9naW4tcHJvdmlkZXInLAoJCQkJbG9naW5Qcm92aWRlcnM6ICdkaXYubG9naW4tcHJvdmlkZXJzJywKCQkJCXByb3ZpZGVyT3B0aW9uczogJ2Rpdi5wcm92aWRlci1vcHRpb25zJywKCQkJCWxvZ2luU3RhbmRhcmRPcHRpb25zOiAnZGl2LmxvZ2luLXN0YW5kYXJkLW9wdGlvbnMnLAoJCQkJbG9naW5TdGFuZGFyZE9wdGlvbnNTZWxlY3RlZDogJ2Rpdi5sb2dpbi1zdGFuZGFyZC1vcHRpb25zLXNlbGVjdGVkJywKCQkJCWxvZ2luU3RhbmRhcmRGaWVsZHM6ICdmaWVsZHNldC5maWVsZC1saXN0LmxvZ2luJwoJCQl9CgkJfQoJfSk7CgoJLy8gZXhwb3NlIGFwaSBpbiBhIHB1YmxpYyBuYW1lc3BhY2UKCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMudXNlckxvZ2luQW5kQ3JlYXRlID0gYXBpOwoKfSkoalF1ZXJ5KTs=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_Logout_Name}" version="7.5.0.32466" description="${resource:Core_Logout_Description}" instanceIdentifier="df3486cdf75244e6b4f4bc4b269832da" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="logout">
		<contentScript>

#if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	#set ($waitForOAuthSignOut = false)
	#set ($loggedInOAuthClientType = $core_v2_authentication.GetLastLoginType())
	#if ($loggedInOAuthClientType &amp;&amp; $loggedInOAuthClientType.length &gt; 0)
		#set ($oAuthProvider = false)
		#set ($oAuthProvider = $core_v2_authentication.GetOAuthProvider($loggedInOAuthClientType))
		#if ($oAuthProvider &amp;&amp; $oAuthProvider.ClientLogoutScript &amp;&amp; $oAuthProvider.ClientLogoutScript.length &gt; 0)
			$oAuthProvider.ClientLogoutScript
			#set ($waitForOAuthSignOut = true)
		#end
	#end

	## log out via ajax post to avoid CSRF-based logouts
	#if (!$core_v2_widget.IsInWidgetPreviewMode)
		#registerEndOfPageHtml()
			&lt;script type="text/javascript"&gt;
			var shouldWaitForOAuthSignOut = #if ($waitForOAuthSignOut) true #else false #end;
			jQuery(document).ready(function(j){
				var signOut = function() {
					// raise a clientside logout event for any helpful client cleanup
					// wait for it to potentially be raised after sockets have connected
					var logoutEventRaised = false;
					j.telligent.evolution.messaging.subscribe('socket.connected', function() {
						j.telligent.evolution.messaging.publish('user.logout');
						logoutEventRaised = true;
					});
					setTimeout(function(){
						// otherwise raise it immediately before logout
						if(!logoutEventRaised) {
							j.telligent.evolution.messaging.publish('user.logout');
						}
						j.telligent.evolution.post({
							url: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('logout.vm'))",
							success: function(response) {
								if(response.redirectUrl.length &gt; 0) {
									window.location.href = response.redirectUrl;
								} else {
									window.location.reload(true);
								}
							}
						});
					}, 1500);
				};
				if (shouldWaitForOAuthSignOut) {
					var oAuthLogoutTimeout = setTimeout(function(){
						signOut();
					}, 15000);
					j(document).bind('oauthsignout',function(){
						clearTimeout(oAuthLogoutTimeout);
						signOut();
					});
				} else {
					signOut();
				}

			});
			&lt;/script&gt;
		#end
	#end

	## show being-logged-out message during ajax post logout
	&lt;div class="page-header"&gt;&lt;/div&gt;
	&lt;div class="page"&gt;
		&lt;div class="page-name"&gt;$core_v2_language.GetResource('Logout_Title')&lt;/div&gt;
		&lt;div class="page-content"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('LoggingOut_Status'), $core_v2_infoResult.Get().SiteName)&lt;/div&gt;
	&lt;/div&gt;
	&lt;div class="page-footer"&gt;&lt;/div&gt;

#else
	## show logged out message when logged out
	&lt;div class="page-header"&gt;&lt;/div&gt;
	&lt;div class="page"&gt;
		&lt;div class="page-name"&gt;$core_v2_language.GetResource('Logout_Title')&lt;/div&gt;
		&lt;div class="page-content"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('Logout_Status'), $core_v2_infoResult.Get().SiteName)&lt;/div&gt;
	&lt;/div&gt;
	&lt;div class="page-footer"&gt;&lt;/div&gt;

	&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
	&lt;ul class="navigation-list"&gt;
		#set ($returnToCurrentUrl = false)
		#set ($loginUrl = $core_v2_urls.LogIn("%{ ReturnToCurrentUrl = $returnToCurrentUrl }"))
		#if ($loginUrl)
			&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($loginUrl)"&gt;$core_v2_language.GetResource('login')&lt;/a&gt;&lt;/li&gt;
		#end
		#set ($homeUrl = $core_v2_urls.Home())
		#if ($homeUrl)
			&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($homeUrl)"&gt;$core_v2_language.GetResource('Logout_ReturnHome')&lt;/a&gt;&lt;/li&gt;
		#end
	&lt;/ul&gt;
	&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
#end



		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_Logout_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_Logout_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Core_Logout_Name">User - Logged Out</resource><resource name="Core_Logout_Description">Displays message that user has been logged out.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Logout_Title">Sign out</resource><resource name="LoggingOut_Status">Signing out of {0}...</resource><resource name="Logout_Status">You have been signed out of {0}.</resource><resource name="login">Sign in</resource><resource name="Logout_ReturnHome">Return home</resource></language></languageResources>
		<files>
			<file name="logout.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQoJI3NldCAoJGZhbHNlVmFsdWUgPSBmYWxzZSkKCSNzZXQgKCRpZ25vcmUgPSAjJGNvcmVfdjJfdXNlclByZXNlbmNlLlVwZGF0ZSgkZmFsc2VWYWx1ZSwgIiV7VXNlcklkPSRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nLklkfSIpKQoJI3NldCAoJHJldHVyblVybCA9ICcnKQoJI3NldCAoJHJldHVyblVybCA9ICRjb3JlX3YyX2F1dGhlbnRpY2F0aW9uLkxvZ291dCgpKQoJeyJyZWRpcmVjdFVybCI6IiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHJldHVyblVybCkifQojZW5k</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_MediaGalleryBanner_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_MediaGalleryBanner_Description}" instanceIdentifier="d18ce162103041e6b2c60f4f25c90c5d" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="media-gallery-banner">
		<contentScript>
#set ($gallery = $core_v2_gallery.Current)
#set ($user = $core_v2_user.Accessing)

&lt;div class="application-banner-header"&gt;&lt;/div&gt;
&lt;div class="application-banner"&gt;
	&lt;h3 class="application-name"&gt;$gallery.Name&lt;/h3&gt;
	&lt;div class="application-description"&gt;

	&lt;/div&gt;
	&lt;div class="application-banner-actions"&gt;
		&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
		&lt;ul class="navigation-list"&gt;
			#if ($gallery &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_gallery.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($gallery.ContentId, $core_v2_gallery.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($gallery.ContentId, $core_v2_gallery.ContentTypeId))
				&lt;li class="navigation-item favorite-on"&gt;$core_v2_ui.Bookmark($gallery.ContentId, $core_v2_gallery.ContentTypeId)&lt;/li&gt;
			#end

			#set ($rssUrl = $core_v2_mediaUrls.Rss($gallery.Id))
			#if ($rssUrl)
				&lt;li class="navigation-item rss"&gt;
					&lt;a class="internal-link rss" href="$core_v2_encoding.HtmlAttributeEncode($rssUrl)"&gt;
						&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Subscribe')
					&lt;/a&gt;
				&lt;/li&gt;
			#end

			#set ($newPostUrl = $core_v2_mediaUrls.AddMedia($gallery.Id))
			#if ($newPostUrl)
				&lt;li class="navigation-item add-post"&gt;
					&lt;a class="internal-link add-post" href="$core_v2_encoding.HtmlAttributeEncode($newPostUrl)"&gt;
						&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('NewPost')
					&lt;/a&gt;
				&lt;/li&gt;
			#end
		&lt;/ul&gt;
		&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="application-banner-footer"&gt;&lt;/div&gt;

			</contentScript>
		<headerScript>
$core_v2_language.GetResource('MediaGalleries_MediaGalleryBanner_Name')
			</headerScript>
		<languageResources><language key="en-us"><resource name="MediaGalleries_MediaGalleryBanner_Name">Media Gallery - Media Gallery Banner</resource><resource name="MediaGalleries_MediaGalleryBanner_Description">Header banner for a media gallery.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Subscribe">Subscribe</resource><resource name="NewPost">New Post</resource></language></languageResources>
		<requiredContext>
			<context id="a51614fd19f7416ca89453788ac15794" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_MediaGalleryBreadCrumbs_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_MediaGalleryBreadCrumbs_Description}" instanceIdentifier="833ac88407494adb9c21af2344c58716" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="media-gallery-bread-crumbs">
		<contentScript>
#set($page = $core_v2_mediaUrls.Current)
&lt;div class="breadcrumb-list-header"&gt;&lt;/div&gt;
&lt;div class="breadcrumb-list"&gt;
	&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Home())" class="internal-link view-home"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Home")&lt;/a&gt;&lt;/span&gt;
	#foreach($group in $core_v2_group.CurrentGroupPath)
	#each
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($group.Url)" class="internal-link view-group"&gt;&lt;span&gt;&lt;/span&gt;$group.Name&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($core_v2_gallery.Current)
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_gallery.Current.Url)"&gt;$core_v2_gallery.Current.Name&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($page == "Tags")
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.Tags($core_v2_gallery.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("TagBreadCrumb_Root")&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_tags.Current &amp;&amp; $core_v2_tags.Current.Count &gt; 0)
			#set($index = 0)
			#foreach($tag in $core_v2_tags.Current)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.Tags($core_v2_gallery.Current.Id, $core_v2_utility.Slice($core_v2_tags.Current, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$tag&lt;/a&gt;&lt;/span&gt;
			#end
		#end
	#elseif ($page == 'GroupAggregateTags')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.GroupAggregateTags($core_v2_group.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("TagBreadCrumb_Root")&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_tags.Current &amp;&amp; $core_v2_tags.Current.Count &gt; 0)
			#set($index = 0)
			#foreach($tag in $core_v2_tags.Current)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.GroupAggregateTags($core_v2_group.Current.Id, $core_v2_utility.Slice($core_v2_tags.Current, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$tag&lt;/a&gt;&lt;/span&gt;
			#end
		#end
	#elseif ($page == 'Slideshow')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.Slideshow($core_v2_gallery.Current.Id))"&gt;$core_v2_language.GetResource('Slideshow')&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == 'Media')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_media.Current.Url)"&gt;$core_v2_media.Current.Title&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == 'DownloadMedia')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.DownloadMedia($core_v2_media.Current.Id))"&gt;$core_v2_language.GetResource('Download')&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == 'DeleteMedia')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.DeleteMedia($core_v2_media.Current.Id))"&gt;$core_v2_language.GetResource('Delete')&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == 'AddMedia')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.AddMedia($core_v2_gallery.Current.Id))"&gt;$core_v2_language.GetResource('UploadAttachment_File')&lt;/a&gt;&lt;/span&gt;
	#elseif($page == 'EditMedia')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.EditMedia($core_v2_media.Current.Id))"&gt;$core_v2_language.GetResource('MediaGallery_EditFile')&lt;/a&gt;&lt;/span&gt;
	#end
&lt;/div&gt;
&lt;div class="breadcrumb-list-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_MediaGalleryBreadCrumbs_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_MediaGalleryBreadCrumbs_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_MediaGalleryBreadCrumbs_Name">Media Gallery - Breadcrumbs</resource><resource name="MediaGalleries_MediaGalleryBreadCrumbs_Description">Displays breadcrumb links for media gallery pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Home">Home</resource><resource name="BreadCrumb_Seperator"> &amp;raquo; </resource><resource name="TagBreadCrumb_Root">All Tags</resource><resource name="Slideshow">Slideshow</resource><resource name="Download">Download file</resource><resource name="Delete">Delete</resource><resource name="UploadAttachment_File">Upload File</resource><resource name="MediaGallery_EditFile">Edit File</resource></language></languageResources>
		<requiredContext>
			<context id="e3fab96c901442a2abdf5cca5dd68f73" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_MediaGalleryLinks_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_MediaGalleryLinks_Description}" instanceIdentifier="1d1c8dd2813e43689cf58562dc698b08" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="media-gallery-links">
		<contentScript>
#set($links = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('links','Link=mediaGalleryCreate&amp;amp;Link=mediaGalleryEdit&amp;amp;Link=mediaGalleryManage&amp;amp;Link=mediaGalleryPostEdit&amp;amp;Link=mediaGalleryPostDelete&amp;amp;Link=mediaGalleryFiles&amp;amp;Link=mediaGallerySlideshow&amp;amp;Link=mediaGalleryPostDownload&amp;amp;Link=mediaGalleryFavorites')))
#set($hasLinks = false)
#set($currentMedia = $core_v2_media.Current)
#set($currentGallery = $core_v2_gallery.Current)
&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#foreach($link in $links.Values('Link'))
		#set($url = false)
		#if ($link == 'mediaGalleryPostDownload')
			#if ($currentMedia)
				#set($url = $core_v2_mediaUrls.DownloadMedia($currentMedia.Id))
				#if ($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Download')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'mediaGalleryCreate')
			#set($url = $core_v2_mediaUrls.AddGallery($core_v2_group.Current.Id))
			#if($url)
				&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link add-application"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_CreateMediaGallery')&lt;/a&gt;&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'mediaGalleryManage')
			#if ($currentGallery)
				#set($url = $core_v2_mediaUrls.ManageGallery($currentGallery.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link manage-application"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_ManageMediaGallery')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'mediaGalleryEdit')
			#if ($currentGallery)
				#set($url = $core_v2_mediaUrls.EditGallery($currentGallery.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-application"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_EditMediaGallery')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'mediaGalleryAddPost')
			#if ($currentGallery)
				#set($url = $core_v2_mediaUrls.AddMedia($currentGallery.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link add-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_MediaGalleryAddPost')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'mediaGalleryRss')
			#if($currentGallery)
				#set($url = $core_v2_mediaUrls.Rss($currentGallery.Id))
			#else
				#set($url = $core_v2_mediaUrls.GroupAggregateRss($core_v2_group.Current.Id))
			#end
			#if($url)
				&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Rss')&lt;/a&gt;&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'mediaGallerySlideshow')
			#if($currentGallery)
				#set($url = $core_v2_mediaUrls.Slideshow($currentGallery.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-slideshow"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('MediaGallery_ViewSlideshow')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'mediaGalleryFiles')
			#if($currentGallery)
				#set($url = $core_v2_mediaUrls.Gallery($currentGallery.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-application"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('MediaGallery_ViewFiles')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'mediaGalleryViewNextPost')
			#if ($currentMedia)
				#set($url = $core_v2_mediaUrls.NextMedia($currentMedia.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-next-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Button_NextTopic')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'mediaGalleryViewPreviousPost')
			#if ($currentMedia)
				#set($url = $core_v2_mediaUrls.PreviousMedia($currentMedia.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-previous-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Button_PreviousTopic')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'mediaGalleryPostEdit')
			#if ($currentMedia)
				#set($url = $core_v2_mediaUrls.EditMedia($currentMedia.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Edit')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'mediaGalleryPostDelete')
			#if ($currentMedia &amp;&amp; $core_v2_nodePermission.Get('mediagalleries', $currentMedia.MediaGalleryId, 'MediaGallery_DeletePost', "%{PostType='posts',PostId=$currentMedia.Id}").IsAllowed)
				&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('deletepost')" class="internal-link delete-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Delete')&lt;/a&gt;&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					//&lt;![CDATA[
					jQuery(document).ready(function(){
						jQuery('#$core_v2_widget.UniqueId('deletepost')').click(function() {
							if (window.confirm('$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleries_MediaGalleryLinks_DeletePostConfirmation'))'))
							{
								jQuery.telligent.evolution.del({
									url: jQuery.telligent.evolution.site.getBaseUrl() + 'api.ashx/v2/media/{MediaGalleryId}/files/{FileId}.json',
									data: {
										MediaGalleryId: $currentMedia.MediaGalleryId,
										FileId: $currentMedia.Id
									},
									success: function(response) {
										window.location = '$core_v2_encoding.JavascriptEncode($core_v2_mediaUrls.Gallery($currentMedia.MediaGalleryId))';
									},
									defaultErrorMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleries_MediaGalleryLinks_DeletePostError'))'
								});
							}
							return false;
						});
					});
					//]]&gt;
					&lt;/script&gt;
				#end				
				#set($hasLinks = true)
			#end
		#elseif($link == 'mediaGalleryFavorites')
			#if ($currentGallery &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_gallery.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($currentGallery.ContentId, $core_v2_gallery.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($currentGallery.ContentId, $core_v2_gallery.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($currentGallery.ContentId, $core_v2_gallery.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'mediaGalleryFavoritePost')
			#if ($currentMedia &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_media.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($currentMedia.ContentId, $core_v2_media.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($currentMedia.ContentId, $core_v2_media.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($currentMedia.ContentId, $core_v2_media.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'mediaGalleryPostSubscription')
			#if ($currentMedia &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
				&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('mediaSubscribe')" href="javascript:void(0)"&gt;&lt;/a&gt;&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					//&lt;![CDATA[
					jQuery(function(){
						jQuery('#$core_v2_widget.UniqueId('mediaSubscribe')').evolutionToggleLink({
							onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_MediaGalleryPostSubscriptionOn'))',
							offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_MediaGalleryPostSubscriptionOff'))',
							processingHtml: '&lt;span&gt;&lt;/span&gt;...',
							changeState: function(val) {
								jQuery.telligent.evolution.post({
									url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
									data: {type:'media',subscribe:val,mediaId:$currentMedia.Id},
									dataType: 'json',
									success: function(response) { jQuery('#$core_v2_widget.UniqueId('mediaSubscribe')').evolutionToggleLink('val', response.subscribe); if (response.warnings &amp;&amp; response.warnings.length &gt; 0) { jQuery.telligent.evolution.notifications.show(response.warnings[0], { type: 'warning' }); } },
									error: function(xhr, desc, ex) { jQuery('#$core_v2_widget.UniqueId('mediaSubscribe')').evolutionToggleLink('val', !val); }
								});
							},
							onCssClass: 'internal-link subscription-on',
							offCssClass: 'internal-link subscription-off',
							processingCssClass: 'internal-link processing',
							val: #if($core_v2_media.IsSubscribed($currentMedia.Id)) true#else false#end
						});
					});
					//]]&gt;
					&lt;/script&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'mediaGalleryPostShare')
			#if ($currentMedia)
				#set($url = $core_v2_mediaUrls.ShareMedia($currentMedia.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="#" onclick="Telligent_Modal.Open('$core_v2_encoding.HtmlEncode($core_v2_encoding.JavaScriptEncode($url))',550,300,null); return false;" class="internal-link email-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_MediaGalleryPostShare')&lt;/a&gt;&lt;/li&gt;
				#else
					&lt;li class="navigation-item"&gt;&lt;a href="mailto:?subject=$currentMedia.Title&amp;body=$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AbsoluteUrl($currentMedia.Url))" class="internal-link email-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_MediaGalleryPostShare')&lt;/a&gt;&lt;/li&gt;
				#end
				#set($hasLinks = true)
			#end
		#end
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;

#if($hasLinks == false)
	$core_v2_widget.Hide()
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_MediaGalleryLinks_Title_Options}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_MediaGalleryLinks_Title_Options}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="links" resourceName="MediaGalleries_MediaGalleryLinks_Links" dataType="custom" defaultValue="Link=mediaGalleryCreate&amp;amp;Link=mediaGalleryEdit&amp;amp;Link=mediaGalleryManage&amp;amp;Link=mediaGalleryPostEdit&amp;amp;Link=mediaGalleryPostDelete&amp;amp;Link=mediaGalleryFiles&amp;amp;Link=mediaGallerySlideshow&amp;amp;Link=mediaGalleryPostDownload&amp;amp;Link=mediaGalleryFavorites" controlType="Telligent.Evolution.Controls.SortableListControl, Telligent.Evolution.Controls" height="275" key="Link" &gt;
		&lt;propertyValue value="mediaGalleryPostDownload" resourceName="CF_MediaGalleryDownload" /&gt;
		&lt;propertyValue value="mediaGalleryCreate" resourceName="CF_CreateMediaGallery" /&gt;
		&lt;propertyValue value="mediaGalleryManage" resourceName="CF_ManageMediaGallery" /&gt;
		&lt;propertyValue value="mediaGalleryEdit" resourceName="CF_EditMediaGallery" /&gt;
		&lt;propertyValue value="mediaGalleryAddPost" resourceName="CF_MediaGalleryAddPost" /&gt;
		&lt;propertyValue value="mediaGalleryRss" resourceName="Rss" /&gt;
		&lt;propertyValue value="mediaGallerySlideshow" resourceName="MediaGallery_ViewSlideshow" /&gt;
		&lt;propertyValue value="mediaGalleryFiles" resourceName="MediaGallery_ViewFiles" /&gt;
		&lt;propertyValue value="mediaGalleryViewNextPost" resourceName="Button_NextTopic" /&gt;
		&lt;propertyValue value="mediaGalleryViewPreviousPost" resourceName="Button_PreviousTopic" /&gt;
		&lt;propertyValue value="mediaGalleryPostEdit" resourceName="CF_MediaGalleryEdit" /&gt;
		&lt;propertyValue value="mediaGalleryPostDelete" resourceName="CF_MediaGalleryDelete" /&gt;
		&lt;propertyValue value="mediaGalleryFavorites" resourceName="CF_MediaGalleryFavorites" /&gt;
		&lt;propertyValue value="mediaGalleryFavoritePost" resourceName="CF_MediaGalleryFavoritePost" /&gt;
		&lt;propertyValue value="mediaGalleryPostSubscription" resourceName="CF_MediaGalleryPostSubscription" /&gt;
		&lt;propertyValue value="mediaGalleryPostShare" resourceName="CF_MediaGalleryPostShareLink" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_MediaGalleryLinks_Name">Media Gallery - Links</resource><resource name="MediaGalleries_MediaGalleryLinks_Description">Displays links related to an individual media gallery.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="MediaGalleries_MediaGalleryLinks_Links">Select, rearrange, and enable the links to be displayed</resource><resource name="CF_MediaGalleryDownload">Download Post Link</resource><resource name="CF_CreateMediaGallery">Create new media gallery</resource><resource name="CF_ManageMediaGallery">Manage media gallery</resource><resource name="CF_EditMediaGallery">Media gallery settings</resource><resource name="CF_MediaGalleryAddPost">New post</resource><resource name="Rss">RSS</resource><resource name="MediaGallery_ViewSlideshow">View slideshow</resource><resource name="MediaGallery_ViewFiles">View all files</resource><resource name="Button_NextTopic">Next</resource><resource name="Button_PreviousTopic">Previous</resource><resource name="CF_MediaGalleryEdit">Edit post link</resource><resource name="CF_MediaGalleryDelete">Delete post link</resource><resource name="CF_MediaGalleryFavorites">Bookmark this gallery link</resource><resource name="CF_MediaGalleryFavoritePost">Bookmark this file link</resource><resource name="CF_MediaGalleryPostSubscription">Subscription link</resource><resource name="CF_MediaGalleryPostShareLink">Share by email link</resource><resource name="Download">Download file</resource><resource name="Edit">Edit file</resource><resource name="Delete">Delete file</resource><resource name="MediaGalleries_MediaGalleryLinks_DeletePostConfirmation">Are you sure you want to delete this file?</resource><resource name="MediaGalleries_MediaGalleryLinks_DeletePostError">An error occurred while attempting to delete this file.</resource><resource name="CF_MediaGalleryPostSubscriptionOn">Comment notifications are on</resource><resource name="CF_MediaGalleryPostSubscriptionOff">Comment notifications are off</resource><resource name="CF_MediaGalleryPostShare">Share this</resource><resource name="MediaGalleries_MediaGalleryTitle_Name">Media Gallery - Title</resource><resource name="MediaGalleries_MediaGalleryLinks_Title_Options">Options</resource></language></languageResources>
		<files>
			<file name="subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCR0eXBlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3R5cGUnKSkNCgkjc2V0KCRzdWJzY3JpYmUgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlQm9vbCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnc3Vic2NyaWJlJykpKQ0KCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQ0KCSNzZXQoJHJlc3BvbnNlID0gZmFsc2UpDQoNCgkjaWYgKCR0eXBlID09ICdtZWRpYScpDQoJCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfbWVkaWEuU2V0U3Vic2NyaWJlZCgkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdtZWRpYUlkJykpLCAkc3Vic2NyaWJlKSkNCgkJeyJzdWJzY3JpYmUiOiNpZigkc3Vic2NyaWJlKSB0cnVlI2Vsc2UgZmFsc2UjZW5kLCJ3YXJuaW5ncyI6Ww0KCQkJI2ZvcmVhY2ggKCR3YXJuaW5nIGluICRyZXNwb25zZS5XYXJuaW5ncykNCgkJCQkjZWFjaA0KCQkJCQkiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkd2FybmluZy5NZXNzYWdlKSINCgkJCQkjYmV0d2Vlbg0KCQkJCQksDQoJCQkjZW5kDQoJCV19DQoJI2Vsc2UNCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCdVbnJlY29nbml6ZWQgc3Vic2NyaXB0aW9uIHR5cGUuJykNCgkjZW5kDQojZW5k</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_MediaGalleryPost_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_MediaGalleryPost_Description}" instanceIdentifier="b428807bb6cf4d0095faea813e702dee" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="media-gallery-post">
		<contentScript>
#set ($media = false)
#set ($media = $core_v2_media.Current)
#set ($mediaType = $core_v2_ui.GetMediaType($media.File.FileUrl))
#set ($hasRateMediaPermission = $core_v2_nodePermission.Get("mediagalleries", $media.MediaGalleryId, "MediaGallery_RatePost").IsAllowed)
#set ($accessingUserIsRegistered = $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))

## if there is no current media, redirect to no-post page
#if (!$media)
	$core_v2_widget.Hide()
#end

$core_v2_media.IncrementViewCount($media.Id)

&lt;div class="full-post-header"&gt;&lt;/div&gt;
&lt;div class="full-post"&gt;
&lt;h3 class="post-name"&gt;
	&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.DownloadMedia($media.Id, false))" class="internal-link download-attachment"&gt;&lt;span&gt;&lt;/span&gt;$media.Title&lt;/a&gt;
&lt;/h3&gt;
&lt;div class="post-author"&gt;
	&lt;span class="avatar"&gt;
		#if ($media.Author.ProfileUrl)
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($media.Author.ProfileUrl)"&gt;
				$core_v2_ui.GetResizedImageHtml($media.Author.AvatarUrl, 32, 32, "%{border='0', alt=$media.Author.DisplayName}")
			&lt;/a&gt;
		#else
			$core_v2_ui.GetResizedImageHtml($media.Author.AvatarUrl, 32, 32, "%{border='0', alt=$media.Author.DisplayName}")
		#end
	&lt;/span&gt;
	&lt;span class="user-name"&gt;
		#if ($media.Author.ProfileUrl)
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($media.Author.ProfileUrl)" class="internal-link view-user-profile"&gt;
				&lt;span&gt;&lt;/span&gt;$media.Author.DisplayName
			&lt;/a&gt;
		#else
			&lt;span&gt;&lt;/span&gt;$media.Author.DisplayName
		#end
	&lt;/span&gt;
&lt;/div&gt;

#if ($media.File &amp;&amp; $media.File.FileUrl &amp;&amp; ($mediaType == "Video" || $mediaType == "Presentation"))
	&lt;div class="post-attachment-viewer"&gt;
		$!core_v2_ui.GetViewHtml($media.File.FileUrl)
	&lt;/div&gt;
#elseif ($media.File &amp;&amp; $media.File.FileUrl &amp;&amp; $mediaType == "Audio")
	&lt;div class="post-attachment-viewer"&gt;
		$!core_v2_ui.GetViewHtml($media.File.FileUrl, "%{Width = 500, Height = 400}")
	&lt;/div&gt;
#elseif ($media.File &amp;&amp; $media.File.FileUrl &amp;&amp; $mediaType == "Document")
	&lt;div class="post-attachment-viewer"&gt;
		$!core_v2_ui.GetViewHtml($media.File.FileUrl, "%{Width = 580, Height = 685}")
	&lt;/div&gt;
#elseif ($media.File &amp;&amp; $media.File.FileUrl &amp;&amp; $mediaType == "Image")
	&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.DownloadMedia($media.Id, false))" class="internal-link download-attachment"&gt;
		&lt;div class="post-attachment-viewer"&gt;
			$!core_v2_ui.GetViewHtml($media.File.FileUrl)
		&lt;/div&gt;
	&lt;/a&gt;
#elseif ($media.File &amp;&amp; $media.File.FileUrl)
	&lt;div class="post-preview"&gt;
		$!core_v2_ui.GetPreviewHtml($media.File.FileUrl, "%{Width = 114, Height = 114}")
	&lt;/div&gt;
#end

&lt;div class="post-actions"&gt;
	&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
	&lt;ul class="navigation-list"&gt;
		&lt;li class="navigation-item"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.DownloadMedia($media.Id, false))" class="internal-link download-attachment"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("MediaGalleries_Button_Download")&lt;/a&gt;
		&lt;/li&gt;

		#if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
			&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('mediaSubscribe')" href="javascript:void(0)"&gt;&lt;/a&gt;&lt;/li&gt;
		#end

		&lt;li class="navigation-item"&gt;
			#set($url = false)
			#set($url = $core_v2_mediaUrls.ShareMedia($media.Id))
			#if($url)
				&lt;a href="#" onclick="Telligent_Modal.Open('$core_v2_encoding.HtmlEncode($core_v2_encoding.JavaScriptEncode($url))',550,300,null); return false;" class="internal-link send-email"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('MediaGallery_Share')&lt;/a&gt;
			#else
				&lt;a href="mailto:?subject=$media.Title&amp;body=$core_v2_page.AbsoluteUrl($media.Url)" class="internal-link send-email"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('MediaGallery_Share')&lt;/a&gt;
			#end
		&lt;/li&gt;

		#if ($core_v2_mediaUrls.EditMedia($media.Id))
			&lt;li class="navigation-item"&gt;
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.EditMedia($media.Id))" class="internal-link edit-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("MediaGalleries_Button_Edit")&lt;/a&gt;
			&lt;/li&gt;
		#end

		#if ($core_v2_mediaUrls.DeleteMedia($media.Id))
			&lt;li class="navigation-item"&gt;
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.DeleteMedia($media.Id))" class="internal-link delete-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("MediaGalleries_Button_Delete")&lt;/a&gt;
			&lt;/li&gt;
		#end
	&lt;/ul&gt;
	&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="post-content user-defined-markup"&gt;$!media.Body()&lt;/div&gt;
&lt;div class="post-date"&gt;
	&lt;span class="label"&gt;$core_v2_language.GetResource("Posted"):&lt;/span&gt;
	&lt;span class="value"&gt;$media.Date&lt;/span&gt;
&lt;/div&gt;
#if ($core_v2_bookmark.SupportsBookmarks($core_v2_media.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($media.ContentId, $core_v2_media.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($media.ContentId, $core_v2_media.ContentTypeId))
	&lt;div class="favorite-post fiji-favorite-post evolution2-favorite-post"&gt;$core_v2_ui.Bookmark($media.ContentId, $core_v2_media.ContentTypeId)&lt;/div&gt;
#end

#if ($media.Tags.Count &gt; 0 || $core_v2_tags.CanAddTags($media.ContentId, $core_v2_media.ContentTypeId))
    &lt;div class="post-tags"&gt;
        #set($tagUrlFormat = $core_v2_page.AbsoluteUrl($core_v2_mediaUrls.Tags($media.MediaGalleryId, $core_v2_utility.MakeList('TAGNAME')).Replace('TAGNAME','{tag}')))
        $core_v2_ui.Tag($media.ContentId, $core_v2_media.ContentTypeId, "%{UrlFormat=$tagUrlFormat}")
    &lt;/div&gt;
#end

#if ($accessingUserIsRegistered)
	#set ($likeFormat = '{toggle} &lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;{count}&lt;/span&gt;')
#else
	#set ($likeFormat = '&lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;{count}&lt;/span&gt;')
#end
&lt;div class="post-like"&gt;
    $core_v2_ui.Like($media.ContentId, $core_v2_media.ContentTypeId, "%{ Format = $likeFormat }")
&lt;/div&gt;
#if ($core_v2_media.AreRatingsEnabled($media.Id))
&lt;div class="post-rating"&gt;
	$core_v2_language.GetResource("RateThis")
	$core_v2_ui.Rate($media.ContentId, $core_v2_media.ContentTypeId)
&lt;/div&gt;
#end
&lt;div class="post-moderate"&gt;
    #if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
        $core_v2_ui.Moderate($media.ContentId, $core_v2_media.ContentTypeId, "%{ CssClass = 'expanded' }")
    #end
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="full-post-footer"&gt;&lt;/div&gt;
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(function(){
	#if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
		jQuery('#$core_v2_widget.UniqueId('mediaSubscribe')').evolutionToggleLink({
			onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('StopEmailingReplies'))',
			offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('EmailReplies'))',
			processingHtml: '&lt;span&gt;&lt;/span&gt;...',
			changeState: function(val) {
				jQuery.telligent.evolution.post({
					url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
					data: {type:'media',subscribe:val,mediaId:$media.Id},
					dataType: 'json',
					success: function(response) { jQuery('#$core_v2_widget.UniqueId('mediaSubscribe')').evolutionToggleLink('val', response.subscribe); },
					error: function(xhr, desc, ex) { jQuery('#$core_v2_widget.UniqueId('mediaSubscribe')').evolutionToggleLink('val', !val); }
				});
			},
			onCssClass: 'internal-link subscription-on',
			offCssClass: 'internal-link subscription-off',
			processingCssClass: 'internal-link processing',
			val: #if($core_v2_media.IsSubscribed($media.Id)) true#else false#end
		});
	#end
    });
	//]]&gt;
	&lt;/script&gt;
#end
		</contentScript>
		<headerScript>
#set ($header = $core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_MediaGalleryPost_Name}'))
#if ($core_v2_gallery.Current &amp;&amp; ($header == '' || $header == '${resource:MediaGalleries_MediaGalleryPost_Name}'))
	&lt;a class="internal-link view-application media-gallery" href="$core_v2_encoding.HtmlAttributeEncode($core_v2_mediaUrls.Gallery($core_v2_gallery.Current.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_gallery.Current.Name&lt;/a&gt;
#else
	$core_v2_widget.ApplyTokens($header)
#end
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_MediaGalleryPost_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_MediaGalleryPost_Name">Media Gallery - File</resource><resource name="MediaGalleries_MediaGalleryPost_Description">Displays a file from the media gallery.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="MediaGalleries_Button_Download">Download</resource><resource name="MediaGallery_Share">Share</resource><resource name="MediaGalleries_Button_Edit">Edit</resource><resource name="MediaGalleries_Button_Delete">Delete</resource><resource name="Posted">Posted</resource><resource name="RateThis">Rate This</resource><resource name="StopEmailingReplies">Stop emailing replies</resource><resource name="EmailReplies">Email replies to me</resource><resource name="MediaGalleries_MediaGalleryPost_Title_File">File</resource></language></languageResources>
		<requiredContext>
			<context id="a91f97494d81449ca3c3ec8d6eebaf25" />
		</requiredContext>
		<files>
			<file name="subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCR0eXBlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3R5cGUnKSkNCgkjc2V0KCRzdWJzY3JpYmUgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlQm9vbCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnc3Vic2NyaWJlJykpKQ0KCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQ0KDQoJI2lmICgkdHlwZSA9PSAnbWVkaWEnKQ0KCQkkY29yZV92Ml9tZWRpYS5TZXRTdWJzY3JpYmVkKCRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ21lZGlhSWQnKSksICRzdWJzY3JpYmUpDQoJCXsic3Vic2NyaWJlIjojaWYoJHN1YnNjcmliZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZH0NCgkjZWxzZQ0KCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJ1VucmVjb2duaXplZCBzdWJzY3JpcHRpb24gdHlwZS4nKQ0KCSNlbmQNCiNlbmQ=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_MediaGalleryPostCommentList_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_MediaGalleryPostCommentList_Description}" instanceIdentifier="c59c5a528175400b8eb2cf6fba9f64fe" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="media-gallery-post-comment-list">
		<contentScript>
#set ($galleryId = false)
#set ($galleryId = $core_v2_gallery.Current.Id)
#set ($mediaId = false)
#set ($mediaId = $core_v2_media.Current.Id)

#if (!$galleryId || !$mediaId)
	$core_v2_widget.Hide()
#end

#set ($mediaAuthorId = $core_v2_media.Current.Author.Id)

$core_v2_ui.PagedContent('load.vm')

#registerEndOfPageHtml('telligent.evolution.widgets.mediaGalleryPostCommentList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end

#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.mediaGalleryPostCommentList.register({
			wrapper:jQuery('#$core_v2_ui.PagedContentWrapperElementId'),
			errorText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleries_MediaGalleryPostCommentList_Error'))',
			loadingText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleries_MediaGalleryPostCommentList_Loading'))',
			loadCommentsUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('load.vm'))',
			deleteVerificationText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("MediaGalleries_MediaGalleryPostCommentList_DeleteConfirmation"))',
			baseUrl:'$core_v2_encoding.JavascriptEncode($core_v2_page.Url)',
			galleryId: $galleryId,
			fileId: $mediaId,
			pagedMessage: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PagedContentPagedEvent)',
			pageIndexQueryStringKey: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PageIndexQueryStringKey)'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_MediaGalleryPostCommentList_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="linkArea" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_MediaGalleryPostCommentList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="pageSize" resourceName="CF_Comment_PageSize" dataType="int" defaultValue="15"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_MediaGalleryPostCommentList_Name">Media Gallery - Comment List</resource><resource name="MediaGalleries_MediaGalleryPostCommentList_Description">Displays comments on a media gallery file.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_Comment_PageSize">Number of comments to display per page</resource><resource name="MediaGalleries_MediaGalleryPostCommentList_Error">Error retrieving comments.</resource><resource name="MediaGalleries_MediaGalleryPostCommentList_Loading">Loading...</resource><resource name="MediaGalleries_MediaGalleryPostCommentList_DeleteConfirmation">Are you sure you want to delete this comment?</resource><resource name="Comments">Comments</resource><resource name="Delete">Delete</resource></language></languageResources>
		<requiredContext>
			<context id="a91f97494d81449ca3c3ec8d6eebaf25" />
		</requiredContext>
		<files>
			<file name="load.vm">I3NldCAoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdwYWdlU2l6ZScsIDE1KSkNCiNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91aS5HZXRDdXJyZW50UGFnZUluZGV4KCkpDQojc2V0ICgkZ2FsbGVyeUlkID0gJGNvcmVfdjJfZ2FsbGVyeS5DdXJyZW50LklkKQ0KI3NldCAoJG1lZGlhSWQgPSAkY29yZV92Ml9tZWRpYS5DdXJyZW50LklkKQ0KI3NldCAoJG1lZGlhQXV0aG9ySWQgPSAkY29yZV92Ml9tZWRpYS5DdXJyZW50LkF1dGhvci5JZCkNCiNzZXQgKCRjb21tZW50cyA9ICRjb3JlX3YyX21lZGlhQ29tbWVudC5MaXN0KCRtZWRpYUlkLCAiJXtQYWdlU2l6ZT0kcGFnZVNpemUsUGFnZUluZGV4PSRwYWdlSW5kZXh9IikpDQojc2V0ICgkYWNjZXNzaW5nVXNlcklzUmVnaXN0ZXJlZCA9ICRjb3JlX3YyX3VzZXIuSXNSZWdpc3RlcmVkKCRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nLklkKSkNCg0KI2ZvcmVhY2goJGNvbW1lbnQgaW4gJGNvbW1lbnRzKQ0KI2JlZm9yZWFsbA0KCTxhIG5hbWU9ImNvbW1lbnRzIj48L2E+DQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LW5hbWUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDb21tZW50cyIpPC9kaXY+DQoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2VhY2gNCgkjc2V0KCRJc0Fub255bW91cyA9IHRydWUpDQoJI3NldCgkSXNBbm9ueW1vdXMgPSAhJGNvcmVfdjJfVXNlci5Jc1JlZ2lzdGVyZWQoJGNvbW1lbnQuQXV0aG9yLklkKSkNCgkjaWYgKCRtZWRpYUF1dGhvcklkID09ICRjb21tZW50LkF1dGhvci5JZCkNCgkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gdXNlci1pcy1hdXRob3IiIGRhdGEtY29tbWVudGlkPSIkY29tbWVudC5JZCI+DQoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3Qtb3V0ZXIgZmlqaS1mdWxsLXBvc3Qtb3V0ZXIgZXZvbHV0aW9uMi1mdWxsLXBvc3Qtb3V0ZXIiPg0KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWhlYWRlciB1c2VyLWlzLWF1dGhvciI+DQoJCQkJPGRpdiBjbGFzcz0iciBmaWppLXIgZXZvbHV0aW9uMi1yIj48L2Rpdj4NCgkJCTwvZGl2Pg0KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0IHVzZXItaXMtYXV0aG9yIj4NCgkjZWxzZQ0KCQk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1jb21tZW50aWQ9IiRjb21tZW50LklkIj4NCgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1vdXRlciBmaWppLWZ1bGwtcG9zdC1vdXRlciBldm9sdXRpb24yLWZ1bGwtcG9zdC1vdXRlciI+DQoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyIj4NCgkJCQk8ZGl2IGNsYXNzPSJyIGZpamktciBldm9sdXRpb24yLXIiPjwvZGl2Pg0KCQkJPC9kaXY+DQoJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QiPg0KCSNlbmQNCgkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1pbm5lciBmaWppLWZ1bGwtcG9zdC1pbm5lciBldm9sdXRpb24yLWZ1bGwtcG9zdC1pbm5lciI+DQoJCQkJPGEgbmFtZT0iY29tbWVudC0kY29tbWVudC5JZCI+PC9hPg0KCQkJCTxoMyBjbGFzcz0icG9zdC1uYW1lIj4kY29tbWVudC5TdWJqZWN0PC9oMz4NCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+DQoJCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPg0KCQkJCQkJI2lmICgkY29tbWVudC5BdXRob3IuUHJvZmlsZVVybCkNCgkJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb21tZW50LkF1dGhvci5Qcm9maWxlVXJsKSI+DQoJCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGNvbW1lbnQuQXV0aG9yLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JGNvbW1lbnQuQXV0aG9yLkRpc3BsYXlOYW1lfSIpDQoJCQkJCQkJPC9hPg0KCQkJCQkJI2Vsc2UNCgkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRjb21tZW50LkF1dGhvci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7Ym9yZGVyPScwJywgYWx0PSRjb21tZW50LkF1dGhvci5EaXNwbGF5TmFtZX0iKQ0KCQkJCQkJI2VuZA0KCQkJCQk8L3NwYW4+DQoJCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPg0KCQkJCQkJI2lmICgkY29tbWVudC5BdXRob3IuUHJvZmlsZVVybCkNCgkJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb21tZW50LkF1dGhvci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPg0KCQkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvbW1lbnQuQXV0aG9yLkRpc3BsYXlOYW1lDQoJCQkJCQkJPC9hPg0KCQkJCQkJI2Vsc2UNCgkJCQkJCQk8c3Bhbj48L3NwYW4+JGNvbW1lbnQuQXV0aG9yLkRpc3BsYXlOYW1lDQoJCQkJCQkjZW5kDQoJCQkJCTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LWRhdGUiPg0KCQkJCQk8c3BhbiBjbGFzcz0idmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGVBbmRUaW1lKCRjb21tZW50LkRhdGUpPC9zcGFuPg0KCQkJCTwvZGl2Pg0KCQkJICAgIDxkaXYgY2xhc3M9InBvc3QtbW9kZXJhdGUiPg0KCQkJICAgICAgICAjaWYgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkKQ0KCQkJCQkJI3NldCAoJG1vZGVyYXRlT3B0aW9ucyA9ICIle30iKQ0KCQkJCQkJI2lmKCRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgibWVkaWFnYWxsZXJpZXMiLCAkZ2FsbGVyeUlkLCAiTWVkaWFHYWxsZXJ5X0RlbGV0ZUNvbW1lbnQiKS5Jc0FsbG93ZWQpDQoJCQkJCQkJI3NldCAoJERRID0gJyInKQ0KCQkJCQkJCSRtb2RlcmF0ZU9wdGlvbnMuQWRkKCdBZGRpdGlvbmFsTGlua3MnLCJbeyR7RFF9aHJlZiR7RFF9OiR7RFF9IyR7RFF9LCR7RFF9dGV4dCR7RFF9OiR7RFF9JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdEZWxldGUnKX0ke0RRfSwke0RRfWNsYXNzTmFtZSR7RFF9OiR7RFF9ZGVsZXRlLXBvc3Qke0RRfX1dIikNCgkJCQkJCSNlbmQNCgkJCSAgICAgICAgICAgICRjb3JlX3YyX3VpLk1vZGVyYXRlKCRjb21tZW50LkNvbW1lbnRJZCwgJGNvbW1lbnQuQ29tbWVudENvbnRlbnRUeXBlSWQsICRtb2RlcmF0ZU9wdGlvbnMpDQoJCQkgICAgICAgICNlbmQNCgkJCSAgICA8L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LWNvbnRlbnQgdXNlci1kZWZpbmVkLW1hcmt1cCI+DQoJCQkJCSRjb21tZW50LkJvZHkNCgkJCQk8L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LWFjdGlvbnMiPg0KCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj48L2Rpdj4NCgkJCQkJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPg0KCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0gcG9zdC1saWtlLWNvdW50Ij4NCgkJCQkJCQkjaWYgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkKQ0KCQkJCQkJCQkjc2V0ICgkbGlrZUZvcm1hdCA9ICd7dG9nZ2xlfSA8c3BhbiBjbGFzcz0iY291bnQiPjxzcGFuIGNsYXNzPSJsaWtlLWluZGljYXRvciBpbmxpbmUiPjwvc3Bhbj57Y291bnR9PC9zcGFuPicpDQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJI3NldCAoJGxpa2VGb3JtYXQgPSAnPHNwYW4gY2xhc3M9ImNvdW50Ij48c3BhbiBjbGFzcz0ibGlrZS1pbmRpY2F0b3IgaW5saW5lIj48L3NwYW4+e2NvdW50fTwvc3Bhbj4nKQ0KCQkJCQkJCSNlbmQNCgkJCSAgICAgICAgICAgIAk8c3BhbiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIj4kY29yZV92Ml91aS5MaWtlKCRjb21tZW50LkNvbW1lbnRJZCwgJGNvbW1lbnQuQ29tbWVudENvbnRlbnRUeXBlSWQsICIleyBGb3JtYXQgPSAkbGlrZUZvcm1hdCB9Iik8L3NwYW4+DQoJCQkgICAgICAgICAgICA8L2xpPg0KCQkJCQk8L3VsPg0KCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtZm9vdGVyIj48L2Rpdj4NCgkJCQk8L2Rpdj4NCgkJCTwvZGl2Pg0KCQkJPC9kaXY+DQoJCSNpZiAoJG1lZGlhQXV0aG9ySWQgPT0gJGNvbW1lbnQuQXV0aG9yLklkKQ0KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciB1c2VyLWlzLWF1dGhvciI+DQoJCQkJPGRpdiBjbGFzcz0iciBmaWppLXIgZXZvbHV0aW9uMi1yIj48L2Rpdj4NCgkJCTwvZGl2Pg0KCQkjZWxzZQ0KCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciI+DQoJCQkJPGRpdiBjbGFzcz0iciBmaWppLXIgZXZvbHV0aW9uMi1yIj48L2Rpdj4NCgkJCTwvZGl2Pg0KCQkjZW5kDQoJCTwvZGl2Pg0KCTwvbGk+DQojYWZ0ZXJhbGwNCgk8L3VsPg0KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KI2VuZA0KDQojc2V0KCRiYXNlVXJsID0gJGNvcmVfdjJfcGFnZS5VcmwpDQojc2V0KCRiYXNlVXJsID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2Jhc2VVcmwnKSkNCg0KJCFjb3JlX3YyX3VpLlBhZ2VyKCRjb21tZW50cy5QYWdlSW5kZXgsICRjb21tZW50cy5QYWdlU2l6ZSwgJGNvbW1lbnRzLlRvdGFsQ291bnQsICIle1RhcmdldD0nY29tbWVudHMnLEJhc2VVcmw9JGJhc2VVcmwsUGFnZWRDb250ZW50RmlsZT0nbG9hZC52bScsVHJhbnNpdGlvbj0nbm9uZSd9Iik=</file>
			<file name="ui.js">alF1ZXJ5KGZ1bmN0aW9uKCQpew0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKQ0KICAgICAgICAgICAgJC50ZWxsaWdlbnQgPSB7fTsNCg0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307DQoNCiAgICBpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsNCg0KICAgIHZhciBfZXJyb3JIdG1sID0gJzxkaXYgY2xhc3M9Im1lc3NhZ2UgZXJyb3IiPntFcnJvclRleHR9PC9kaXY+JywNCiAgICAgICAgX2xvYWRpbmdIdG1sID0gJzxkaXYgY2xhc3M9Im1lc3NhZ2UgbG9hZGluZyI+e0xvYWRpbmdUZXh0fTwvZGl2PicsDQogICAgICAgIF9sb2FkID0gZnVuY3Rpb24oY29udGV4dCwgcmViYXNlUGFnZXIpIHsNCiAgICAgICAgICAgIHZhciBkYXRhID0geyB3X2Jhc2VVcmw6IGNvbnRleHQuYmFzZVVybCB9Ow0KICAgICAgICAgICAgaWYocmViYXNlUGFnZXIpIHsNCiAgICAgICAgICAgICAgICBkYXRhW2NvbnRleHQucGFnZUluZGV4UXVlcnlTdHJpbmdLZXldID0gMTsNCg0KICAgICAgICAgICAgICAgIHZhciBoYXNoRGF0YSA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi51cmwuaGFzaERhdGEoKTsNCiAgICAgICAgICAgICAgICBoYXNoRGF0YVtjb250ZXh0LnBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5XSA9IDE7DQogICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5oYXNoRGF0YShoYXNoRGF0YSk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBfc2V0Q29udGVudChjb250ZXh0LCBfbG9hZGluZ0h0bWwucmVwbGFjZSgve0xvYWRpbmdUZXh0fS9nLCBjb250ZXh0LmxvYWRpbmdUZXh0KSk7DQogICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCiAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQubG9hZENvbW1lbnRzVXJsLA0KICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEsDQogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIF9zZXRDb250ZW50KGNvbnRleHQsIHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5lcnJvclRleHQsDQogICAgICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsNCiAgICAgICAgICAgICAgICAgICAgX3NldENvbnRlbnQoY29udGV4dCwgX2Vycm9ySHRtbC5yZXBsYWNlKC97RXJyb3JUZXh0fS9nLCBkZXNjKSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAgIF9hdHRhY2hIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbnRleHQpDQogICAgICAgIHsNCiAgICAgICAgICAgICQoY29udGV4dC53cmFwcGVyKS5iaW5kKCdldm9sdXRpb25Nb2RlcmF0ZUxpbmtDbGlja2VkJyxmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgdmFyIGNvbW1lbnRJZCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jb250ZW50LWl0ZW0nKS5kYXRhKCdjb21tZW50aWQnKTsNCiAgICAgICAgICAgICAgICBfZGVsZXRlTWVkaWFDb21tZW50KGNvbnRleHQsIGNvbnRleHQuZ2FsbGVyeUlkLCBjb250ZXh0LmZpbGVJZCwgY29tbWVudElkLCBlKTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgX3NldENvbnRlbnQgPSBmdW5jdGlvbihjb250ZXh0LCBodG1sKSB7DQogICAgICAgICAgICBjb250ZXh0LndyYXBwZXIuaHRtbChodG1sKS5jc3MoInZpc2liaWxpdHkiLCAidmlzaWJsZSIpOw0KICAgICAgICB9LA0KICAgICAgICBfZGVsZXRlTWVkaWFDb21tZW50ID0gZnVuY3Rpb24oY29udGV4dCwgZ2FsbGVyeUlkLCBmaWxlSWQsIGNvbW1lbnRJZCwgZXZlbnQpIHsNCiAgICAgICAgICAgIGlmKGNvbmZpcm0oY29udGV4dC5kZWxldGVWZXJpZmljYXRpb25UZXh0KSkgew0KICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5kZWwoew0KICAgICAgICAgICAgICAgICAgICB1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9tZWRpYS97R2FsbGVyeUlkfS9maWxlcy97RmlsZUlkfS9jb21tZW50cy97Q29tbWVudElkfS5qc29uJywNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgICAgICAgICAgR2FsbGVyeUlkOiBnYWxsZXJ5SWQsDQogICAgICAgICAgICAgICAgICAgICAgICBGaWxlSWQ6IGZpbGVJZCwNCiAgICAgICAgICAgICAgICAgICAgICAgIENvbW1lbnRJZDogY29tbWVudElkDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9ICQoJ2FbbmFtZT1jb21tZW50LScrY29tbWVudElkKyddJywgY29udGV4dC53cmFwcGVyKS5jbG9zZXN0KCdsaS5jb250ZW50LWl0ZW0nKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZW1haW5pbmdJdGVtcyA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCd1bCcpLmZpbmQoJ2xpLmNvbnRlbnQtaXRlbScpOzsNCiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uc2xpZGVVcChmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGVtLnJlbW92ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlIHdlcmUgbm8gbW9yZSBjb21tZW50cywgaGlkZSB0aGUgY29tbWVudHMgbGlzdCBhbHRvZ2V0aGVyDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29udGV4dC53cmFwcGVyLmZpbmQoJ2xpJykubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQud3JhcHBlci5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkKGNvbnRleHQsIHJlbWFpbmluZ0l0ZW1zLmxlbmd0aCA9PT0gMSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMubWVkaWFHYWxsZXJ5UG9zdENvbW1lbnRMaXN0ID0gew0KICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KDQogICAgICAgICAgICAkKGRvY3VtZW50KS5iaW5kKCd0ZWxsaWdlbnRfbWVkaWFnYWxsZXJpZXNfY29tbWVudHBvc3RlZCcsIGZ1bmN0aW9uKGUsIG1lc3NhZ2UpIHsNCiAgICAgICAgICAgICAgICBfbG9hZChjb250ZXh0KTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfTsNCn0pOw==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_MediaGalleryPostDetails_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_MediaGalleryPostDetails_Description}" instanceIdentifier="9381478411c04f699afcb8102b1d37b3" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="media-gallery-post-details">
		<contentScript>
#set($media = $core_v2_media.Current)
#set($User = $media.Author)
#if (!$media)
	$core_v2_widget.Hide()
#end
&lt;div class="abbreviated-post-header"&gt;&lt;/div&gt;
&lt;div class="abbreviated-post"&gt;
	&lt;div class="post-author"&gt;
		&lt;span class="avatar"&gt;
			#if ($User.ProfileUrl)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($User.ProfileUrl)"&gt;
					$core_v2_ui.GetResizedImageHtml($User.AvatarUrl, 32, 32, "%{border='0', alt=$User.DisplayName}")
				&lt;/a&gt;
			#else
				$core_v2_ui.GetResizedImageHtml($User.AvatarUrl, 32, 32, "%{border='0', alt=$User.DisplayName}")
			#end
		&lt;/span&gt;
		&lt;span class="user-name"&gt;
			$core_v2_language.GetResource("Posted_by")
			#if ($User.ProfileUrl)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($User.ProfileUrl)" class="internal-link view-user-profile"&gt;
					&lt;span&gt;&lt;/span&gt;$User.DisplayName
				&lt;/a&gt;
			#else
				&lt;span&gt;&lt;/span&gt;$User.DisplayName
			#end
		&lt;/span&gt;
	&lt;/div&gt;

	&lt;div class="post-date"&gt;
		&lt;span class="label"&gt;$core_v2_language.GetResource("When"):&lt;/span&gt;
		&lt;span class="value"&gt;$core_v2_language.FormatDate($media.Date)&lt;/span&gt;
	&lt;/div&gt;

	&lt;div class="post-attributes"&gt;
		&lt;ul class="attribute-list"&gt;
			&lt;li class="attribute-item post-attachment-download-count"&gt;
				&lt;span class="attribute-name"&gt;$core_v2_language.GetResource("Downloads"):&lt;/span&gt;
				&lt;span class="attribute-value"&gt;$media.Downloads&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="attribute-item post-attachment-size"&gt;
				&lt;span class="attribute-name"&gt;$core_v2_language.GetResource("MediaGalleries_PostDetails_FileSize"):&lt;/span&gt;
				&lt;span class="attribute-value"&gt;$core_v2_language.FormatDataSize($media.File.FileSize)&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="attribute-item post-view-count"&gt;
				&lt;span class="attribute-name"&gt;$core_v2_language.GetResource("Views"):&lt;/span&gt;
				&lt;span class="attribute-value"&gt;$media.Views&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
		&lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="abbreviated-post-footer"&gt;&lt;/div&gt;
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_MediaGalleryPostDetails_Title_Info}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_MediaGalleryPostDetails_Title_Info}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_MediaGalleryPostDetails_Name">Media Gallery - File Details</resource><resource name="MediaGalleries_MediaGalleryPostDetails_Description">Displays details related to a media gallery file.</resource><resource name="MediaGalleries_MediaGalleryPostDetails_Title_Info">Info</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Posted_by">Posted by</resource><resource name="When">When</resource><resource name="Downloads">Downloads</resource><resource name="MediaGalleries_PostDetails_FileSize">File Size</resource><resource name="Views">Views</resource></language></languageResources>
		<requiredContext>
			<context id="a91f97494d81449ca3c3ec8d6eebaf25" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_MediaGalleryPostList_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_MediaGalleryPostList_Description}" instanceIdentifier="8883c000f76a47938a05d43c71f7307a" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="media-gallery-post-list">
		<contentScript>
#if($core_v2_widget.GetStringValue('viewType','standard') == 'simple')
	$core_v2_widget.ExecuteFile('simple.vm')
#else
	$core_v2_widget.ExecuteFile('standard.vm')
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_MediaGalleryPostList_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_MediaGalleryPostList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="viewType" resourceName="CF_MediaGallery_PostList_ViewType" dataType="string" defaultValue="standard" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls"&gt;
		&lt;propertyValue value="standard" resourceName="CF_MediaGallery_PostList_ViewType_StandardView" propertiesToShow="pageSize" propertiesToHide="simplePageSize" /&gt;
		&lt;propertyValue value="simple" resourceName="CF_MediaGallery_PostList_ViewType_SimpleView" propertiesToShow="simplePageSize" propertiesToHide="pageSize" /&gt;
	&lt;/property&gt;
	&lt;property id="sortBy" resourceName="CF_MediaGallery_PostList_SortBy" dataType="string" defaultValue="PostDate"&gt;
		&lt;propertyValue value="PostDate" resourceName="CF_MediaGallery_PostList_SortBy_Recent" /&gt;
		&lt;propertyValue value="Subject" resourceName="CF_MediaGallery_PostList_SortBy_Subject" /&gt;
		&lt;propertyValue value="Downloads" resourceName="CF_MediaGallery_PostList_SortBy_Downloads" /&gt;
		&lt;propertyValue value="Views" resourceName="CF_MediaGallery_PostList_SortBy_Views" /&gt;
		&lt;propertyValue value="Comments" resourceName="CF_MediaGallery_PostList_SortBy_Comments" /&gt;
		&lt;propertyValue value="Rating" resourceName="CF_MediaGallery_PostList_SortBy_Rating" /&gt;
	&lt;/property&gt;
	&lt;property id="selectedMediaGalleryOrGroup" resourceName="CF_MediaGallery_SelectGroupAndGallery" dataType="Custom" defaultValue="" controlType="Telligent.Evolution.MediaGalleries.Controls.MediaGallerySelectionControl, Telligent.Evolution.MediaGalleries" width="95%" /&gt;
	&lt;property id="pageSize" resourceName="CF_MediaGallery_PostList_PageSize" dataType="int" defaultValue="20"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="simplePageSize" resourceName="CF_MediaGallery_PostList_SimplePageSize" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_MediaGalleryPostList_Name">Media Gallery - File List</resource><resource name="MediaGalleries_MediaGalleryPostList_Description">Displays a filterable list of media gallery files.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_MediaGallery_PostList_ViewType">View Type</resource><resource name="CF_MediaGallery_PostList_ViewType_StandardView">Detailed List</resource><resource name="CF_MediaGallery_PostList_ViewType_SimpleView">Simple List</resource><resource name="CF_MediaGallery_PostList_SortBy">Sort By</resource><resource name="CF_MediaGallery_PostList_SortBy_Recent">Date/Time posted</resource><resource name="CF_MediaGallery_PostList_SortBy_Subject">Name (alphabetical)</resource><resource name="CF_MediaGallery_PostList_SortBy_Downloads">Number of downloads</resource><resource name="CF_MediaGallery_PostList_SortBy_Views">Number of views</resource><resource name="CF_MediaGallery_PostList_SortBy_Comments">Number of comments</resource><resource name="CF_MediaGallery_PostList_SortBy_Rating">Rating</resource><resource name="CF_MediaGallery_SelectGroupAndGallery">Select group/media gallery to pull content from</resource><resource name="CF_MediaGallery_PostList_PageSize">Number of files to display per page</resource><resource name="CF_MediaGallery_PostList_SimplePageSize">Number of files to display</resource><resource name="postedby">posted by</resource><resource name="MediaGalleryViewType_Thumbnail_Link">&lt;span&gt;&lt;/span&gt;Thumbnail View</resource><resource name="MediaGalleryViewType_List_Link">&lt;span&gt;&lt;/span&gt;List View</resource><resource name="MediaGalleries_FileList_Type">Type</resource><resource name="MediaGalleries_FileList_Title">Title</resource><resource name="MediaGalleries_FileList_Date">Date</resource><resource name="MediaGalleries_FileList_Downloads">Downloads</resource><resource name="MediaGalleries_FileList_Rating">Rating</resource><resource name="Postedto">Posted to</resource><resource name="by">by</resource><resource name="NoRecords">No files have been uploaded to this gallery.</resource><resource name="Sortby">Sort by</resource><resource name="Recent">Recent</resource><resource name="Name">Name</resource><resource name="Downloads">Downloads</resource><resource name="Views">Views</resource><resource name="Comments">Comments</resource><resource name="Rating">Rating</resource><resource name="MediaGalleries_MediaGalleryPostList_Title_Files">Files</resource><resource name="MediaGalleries_MediaGalleryPostList_Title_MediaGallery">Media Gallery</resource></language></languageResources>
		<files>
			<file name="simple.vm">I3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ3NpbXBsZVBhZ2VTaXplJyw1KSkNCiNzZXQoJG1lZGlhcyA9IGZhbHNlKQ0KI3NldCgkY29uZmlnID0gJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3dpZGdldC5HZXRDdXN0b21WYWx1ZSgnc2VsZWN0ZWRNZWRpYUdhbGxlcnlPckdyb3VwJywnJykpKQ0KI2lmICgkY29uZmlnLlZhbHVlcygnTWVkaWFHYWxsZXJ5JykuQ291bnQgPiAwKQ0KICAgICNzZXQoJGdhbGxlcnlMaXN0ID0gZmFsc2UpDQogICAgI2ZvcmVhY2goJGdhbGxlcnlJZCBpbiAkY29uZmlnLlZhbHVlcygnTWVkaWFHYWxsZXJ5JykpDQogICAgICAgICNpZigkZ2FsbGVyeUlkID09ICcwJykNCiAgICAgICAgICAgICNzZXQoJGdhbGxlcnlJZCA9ICRjb3JlX3YyX2dhbGxlcnkuQ3VycmVudC5JZCkNCiAgICAgICAgI2VuZA0KICAgICAgICAjaWYoJGdhbGxlcnlJZCA+IDApDQogICAgICAgICAgICAjaWYoISRnYWxsZXJ5TGlzdCkNCiAgICAgICAgICAgICAgICAjc2V0KCRnYWxsZXJ5TGlzdCA9ICIkZ2FsbGVyeUlkIikNCiAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgI3NldCgkZ2FsbGVyeUxpc3QgPSAiJGdhbGxlcnlMaXN0LCRnYWxsZXJ5SWQiKQ0KICAgICAgICAgICAgI2VuZA0KICAgICAgICAjZW5kDQogICAgI2VuZA0KICAgICNzZXQoJG1lZGlhcyA9ICRjb3JlX3YyX21lZGlhLkxpc3QoIiV7R2FsbGVyeUlkcz0kZ2FsbGVyeUxpc3QsUGFnZVNpemU9JHBhZ2VTaXplLFBhZ2VJbmRleD0wLFNvcnRPcmRlcj0nRGVzY2VuZGluZycsU29ydEJ5PSdQb3N0RGF0ZSd9IikpDQojZWxzZWlmICgkY29uZmlnLlZhbHVlKCdHcm91cCcpKQ0KICAgICNzZXQoJGdyb3VwID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29uZmlnLlZhbHVlKCdHcm91cCcpKSkNCiAgICAjaWYgKCRncm91cCA8PSAwKQ0KICAgICAgICAjc2V0KCRncm91cCA9ICRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQpDQogICAgI2VuZA0KICAgICNpZigkZ3JvdXAgPiAwKQ0KICAgICAgICAjc2V0KCRtZWRpYXMgPSAkY29yZV92Ml9tZWRpYS5MaXN0KCIle0dyb3VwSWQ9JGdyb3VwLFBhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9MCxJbmNsdWRlU3ViR3JvdXBzPSRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb25maWcuVmFsdWUoJ0luY2x1ZGVTdWJHcm91cHMnKSksU29ydE9yZGVyPSdEZXNjZW5kaW5nJyxTb3J0Qnk9J1Bvc3REYXRlJ30iKSkNCiAgICAjZW5kDQojZWxzZQ0KICAgICNpZiAoJGNvcmVfdjJfZ2FsbGVyeS5DdXJyZW50KQ0KICAgICAgICAjc2V0KCRtZWRpYXMgPSAkY29yZV92Ml9tZWRpYS5MaXN0KCIle0dhbGxlcnlJZD0kY29yZV92Ml9nYWxsZXJ5LkN1cnJlbnQuSWQsUGFnZVNpemU9JHBhZ2VTaXplLFBhZ2VJbmRleD0wLFNvcnRPcmRlcj0nRGVzY2VuZGluZycsU29ydEJ5PSdQb3N0RGF0ZSd9IikpDQogICAgI2Vsc2UNCiAgICAgICAgI3NldCgkbWVkaWFzID0gJGNvcmVfdjJfbWVkaWEuTGlzdCgiJXtHcm91cElkPSRjb3JlX3YyX2dyb3VwLkN1cnJlbnQuSWQsUGFnZVNpemU9JHBhZ2VTaXplLFBhZ2VJbmRleD0kcGFnZUluZGV4LFNvcnRPcmRlcj0nRGVzY2VuZGluZycsU29ydEJ5PSdQb3N0RGF0ZSd9IikpDQogICAgI2VuZA0KI2VuZA0KDQojaWYoISRtZWRpYXMpDQogICAgJGNvcmVfdjJfd2lkZ2V0LkhpZGUoKQ0KI2VuZA0KDQojZm9yZWFjaCgkbWVkaWEgaW4gJG1lZGlhcykNCiNiZWZvcmVhbGwNCiAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIHNpbXBsZSI+PC9kaXY+DQogICAgPHVsIGNsYXNzPSJjb250ZW50LWxpc3Qgc2ltcGxlIj4NCiNlYWNoDQogICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gc2ltcGxlIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIj48L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QiPg0KICAgICAgICAgICAgICAgIDxoNCBjbGFzcz0icG9zdC1uYW1lIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRtZWRpYS5VcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXBvc3QiPjxzcGFuPjwvc3Bhbj4kbWVkaWEuVGl0bGU8L2E+PC9oND4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+DQogICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdwb3N0ZWRieScpDQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkbWVkaWEuQXV0aG9yLlByb2ZpbGVVcmwpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVkaWEuQXV0aG9yLlByb2ZpbGVVcmwpIj4kY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkbWVkaWEuQXV0aG9yLkRpc3BsYXlOYW1lLCAxNSwgJy4uLicpPC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkbWVkaWEuQXV0aG9yLkRpc3BsYXlOYW1lLCAxNSwgJy4uLicpDQogICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCg0KICAgICAgICAgICAgICAgICNzZXQgKCRsaWtlcyA9IGZhbHNlKQ0KICAgICAgICAgICAgICAgICNzZXQgKCRsaWtlcyA9ICRjb3JlX3YyX2xpa2UuTGlzdCgiJXsgQ29udGVudElkID0gJG1lZGlhLkNvbnRlbnRJZCwgQ29udGVudFR5cGVJZCA9ICRjb3JlX3YyX21lZGlhLkNvbnRlbnRUeXBlSWQsIFBhZ2VTaXplID0gMSB9IikpDQogICAgICAgICAgICAgICAgI2lmICgkbWVkaWEuQ29tbWVudENvdW50ID4gMCB8fCAoJGxpa2VzICYmICRsaWtlcy5Ub3RhbENvdW50ID4gMCkpDQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJwb3N0LWNvdW50cyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRtZWRpYS5VcmwpI2NvbW1lbnRzIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRtZWRpYS5Db21tZW50Q291bnQgPiAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY291bnQgcmVwbHktY291bnQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF2YXRhciI+PC9zcGFuPiRtZWRpYS5Db21tZW50Q291bnQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRsaWtlcyAmJiAkbGlrZXMuVG90YWxDb3VudCA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJjb3VudCBsaWtlLWNvdW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPjwvc3Bhbj4kY29yZV92Ml91aS5MaWtlKCRtZWRpYS5Db250ZW50SWQsICRjb3JlX3YyX21lZGlhLkNvbnRlbnRUeXBlSWQsICIleyBGb3JtYXQgPSAne2NvdW50fScgfSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICAjZW5kDQoNCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIiPjwvZGl2Pg0KICAgICAgICA8L2xpPg0KI2FmdGVyYWxsDQogICAgPC91bD4NCiAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIHNpbXBsZSI+PC9kaXY+DQojbm9kYXRhDQogICAgJGNvcmVfdjJfd2lkZ2V0LkhpZGUoKQ0KI2VuZA==</file>
			<file name="standard-detail.vm">I2lmKCRzb3J0T3JkZXIgPT0gJ0FzY2VuZGluZycpDQogICAgI3NldCgkYWx0ZXJuYXRlU29ydE9yZGVyID0gJ0Rlc2NlbmRpbmcnKQ0KI2Vsc2UNCiAgICAjc2V0KCRhbHRlcm5hdGVTb3J0T3JkZXIgPSAnQXNjZW5kaW5nJykNCiNlbmQNCg0KPGRpdiBjbGFzcz0iZmlsdGVyIGRldGFpbCI+DQogICAgPGRpdiBjbGFzcz0idmlldy10eXBlIj4NCiAgICAgICAgPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24jaWYoJHZpZXdUeXBlPT0nVGh1bWJuYWlsJykgc2VsZWN0ZWQjZW5kIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICdHYWxsZXJ5Vmlld1R5cGU9VGh1bWJuYWlsJykpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXRodW1ibmFpbC1saXN0Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTWVkaWFHYWxsZXJ5Vmlld1R5cGVfVGh1bWJuYWlsX0xpbmsnKTwvYT48L3NwYW4+DQogICAgICAgIDxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uI2lmKCR2aWV3VHlwZT09J0xpc3QnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgJ0dhbGxlcnlWaWV3VHlwZT1MaXN0JykpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LWRldGFpbC1saXN0Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTWVkaWFHYWxsZXJ5Vmlld1R5cGVfTGlzdF9MaW5rJyk8L2E+PC9zcGFuPg0KICAgIDwvZGl2Pg0KPC9kaXY+DQoNCiNmb3JlYWNoKCRtZWRpYSBpbiAkbWVkaWFzKQ0KI2JlZm9yZWFsbA0KICAgIDxkaXYgY2xhc3M9InRhYmxlLWxpc3QtaGVhZGVyIj48L2Rpdj4NCiAgICA8dGFibGUgY2xhc3M9InRhYmxlLWxpc3QiPg0KICAgICAgICA8dGhlYWQ+DQogICAgICAgICAgICA8dHIgY2xhc3M9InRhYmxlLWhlYWRlciI+DQogICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIHBvc3QtdHlwZSI+PGEgbmFtZT0icG9zdC10eXBlIiBjbGFzcz0iaW50ZXJuYWwtbGluayBzb3J0LWFzY2VuZGluZyBzZWxlY3RlZCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ01lZGlhR2FsbGVyaWVzX0ZpbGVMaXN0X1R5cGUnKTwvYT48L3RoPg0KICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBwb3N0LW5hbWUiPjxhIGNsYXNzPSJpbnRlcm5hbC1saW5rI2lmKCRzb3J0Qnk9PSdTdWJqZWN0JyAmJiAkc29ydE9yZGVyPT0nQXNjZW5kaW5nJykgc29ydC1hc2NlbmRpbmcjZWxzZSBzb3J0LWRlc2NlbmRpbmcjZW5kI2lmKCRzb3J0Qnk9PSdTdWJqZWN0Jykgc2VsZWN0ZWQjZW5kIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJHYWxsZXJ5UG9zdFNvcnQ9U3ViamVjdCZQYWdlSW5kZXg9MSZTb3J0T3JkZXI9JGFsdGVybmF0ZVNvcnRPcmRlciIpKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdNZWRpYUdhbGxlcmllc19GaWxlTGlzdF9UaXRsZScpPC9hPjwvc3Bhbj48L3RoPg0KICAgICAgICAgICAgICAgIDx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBwb3N0LWRhdGUiPjxhIGNsYXNzPSJpbnRlcm5hbC1saW5rI2lmKCRzb3J0Qnk9PSdQb3N0RGF0ZScgJiYgJHNvcnRPcmRlcj09J0FzY2VuZGluZycpIHNvcnQtYXNjZW5kaW5nI2Vsc2Ugc29ydC1kZXNjZW5kaW5nI2VuZCNpZigkc29ydEJ5PT0nUG9zdERhdGUnKSBzZWxlY3RlZCNlbmQiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIkdhbGxlcnlQb3N0U29ydD1Qb3N0RGF0ZSZQYWdlSW5kZXg9MSZTb3J0T3JkZXI9JGFsdGVybmF0ZVNvcnRPcmRlciIpKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdNZWRpYUdhbGxlcmllc19GaWxlTGlzdF9EYXRlJyk8L2E+PC9zcGFuPjwvdGg+DQogICAgICAgICAgICAgICAgPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIHBvc3QtZG93bmxvYWRzIj48YSBjbGFzcz0iaW50ZXJuYWwtbGluayNpZigkc29ydEJ5PT0nRG93bmxvYWRzJyAmJiAkc29ydE9yZGVyPT0nQXNjZW5kaW5nJykgc29ydC1hc2NlbmRpbmcjZWxzZSBzb3J0LWRlc2NlbmRpbmcjZW5kI2lmKCRzb3J0Qnk9PSdEb3dubG9hZHMnKSBzZWxlY3RlZCNlbmQiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIkdhbGxlcnlQb3N0U29ydD1Eb3dubG9hZHMmUGFnZUluZGV4PTEmU29ydE9yZGVyPSRhbHRlcm5hdGVTb3J0T3JkZXIiKSkiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTWVkaWFHYWxsZXJpZXNfRmlsZUxpc3RfRG93bmxvYWRzJyk8L2E+PC9zcGFuPjwvdGg+DQogICAgICAgICAgICAgICAgI2lmKCRzaG93U29ydEJ5UmF0aW5nKTx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBwb3N0LXJhdGluZyI+PGEgY2xhc3M9ImludGVybmFsLWxpbmsjaWYoJHNvcnRCeT09J1JhdGluZycgJiYgJHNvcnRPcmRlcj09J0FzY2VuZGluZycpIHNvcnQtYXNjZW5kaW5nI2Vsc2Ugc29ydC1kZXNjZW5kaW5nI2VuZCNpZigkc29ydEJ5PT0nUmF0aW5nJykgc2VsZWN0ZWQjZW5kIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJHYWxsZXJ5UG9zdFNvcnQ9UmF0aW5nJlBhZ2VJbmRleD0xJlNvcnRPcmRlcj0kYWx0ZXJuYXRlU29ydE9yZGVyIikpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ01lZGlhR2FsbGVyaWVzX0ZpbGVMaXN0X1JhdGluZycpPC9hPjwvc3Bhbj48L3RoPiNlbmQNCiAgICAgICAgICAgICAgICA8dGg+PC90aD4NCiAgICAgICAgICAgIDwvdHI+DQogICAgICAgIDwvdGhlYWQ+DQogICAgICAgIDx0Ym9keT4NCiNlYWNoDQogICAgPHRyIGNsYXNzPSJ0YWJsZS1pdGVtIj4NCiAgICAgICAgPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4iPg0KICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVkaWEuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0Ij48c3Bhbj48L3NwYW4+PGRpdiBjbGFzcz0icG9zdC1wcmV2aWV3Ij4kIWNvcmVfdjJfdWkuR2V0UHJldmlld0h0bWwoJG1lZGlhLkZpbGUuRmlsZVVybCwgIiV7d2lkdGg9MzIsaGVpZ2h0PTMyfSIpPC9kaXY+PC9hPg0KICAgICAgICA8L3RkPg0KICAgICAgICA8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciI+PC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0Ij4NCiAgICAgICAgICAgICAgICA8aDQgY2xhc3M9InBvc3QtbmFtZSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVkaWEuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0Ij48c3Bhbj48L3NwYW4+JG1lZGlhLlRpdGxlPC9hPjwvaDQ+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXZhdGFyIj4kY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRtZWRpYS5BdXRob3IuQXZhdGFyVXJsLDMyLDMyLCIle2FsdD0kbWVkaWEuQXV0aG9yLkRpc3BsYXlOYW1lfSIpPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJG1lZGlhLkF1dGhvci5Qcm9maWxlVXJsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG1lZGlhLkF1dGhvci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWVkaWEuQXV0aG9yLkRpc3BsYXlOYW1lDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbWVkaWEuQXV0aG9yLkRpc3BsYXlOYW1lDQogICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LXRodW1ibmFpbCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVkaWEuVXJsKSI+JGNvcmVfdjJfdWkuR2V0UHJldmlld0h0bWwoJG1lZGlhLkZpbGUuRmlsZVVybCwgIiV7d2lkdGg9MTE0LGhlaWdodD0xMTR9Iik8L2E+PC9kaXY+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1zdW1tYXJ5Ij4kY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkbWVkaWEuQm9keSgpLCAxMDAsICcuLi4nKTwvZGl2Pg0KCQkJCSNpZigkY29yZV92Ml9nYWxsZXJ5LkN1cnJlbnQpDQoJCQkJCSNzZXQoJGdhbGxlcnkgPSAkY29yZV92Ml9nYWxsZXJ5LkN1cnJlbnQpDQoJCQkJI2Vsc2UNCgkJCQkJI3NldCgkZ2FsbGVyeSA9ICRjb3JlX3YyX2dhbGxlcnkuR2V0KCIle0lkPSRtZWRpYS5NZWRpYUdhbGxlcnlJZH0iKSkNCgkJCQkjZW5kDQogICAgICAgICAgICAgICAgI2ZvcmVhY2goJHRhZyBpbiAkbWVkaWEuVGFncykNCiAgICAgICAgICAgICAgICAjYmVmb3JlYWxsDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtdGFncyI+DQogICAgICAgICAgICAgICAgI2VhY2gNCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9tZWRpYVVybHMuVGFncygkZ2FsbGVyeS5JZCwgJGNvcmVfdjJfdXRpbGl0eS5NYWtlTGlzdCgkdGFnKSkpIiByZWw9InRhZyI+JHRhZzwvYT4NCiAgICAgICAgICAgICAgICAjYWZ0ZXJhbGwNCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtYXBwbGljYXRpb24iPg0KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibGFiZWwiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdQb3N0ZWR0bycpOjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InZhbHVlIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRnYWxsZXJ5LlVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctYXBwbGljYXRpb24iPjxzcGFuPjwvc3Bhbj4kZ2FsbGVyeS5OYW1lPC9hPjwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIiPjwvZGl2Pg0KICAgICAgICA8L3RkPg0KICAgICAgICA8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiI+DQogICAgICAgICAgICA8c3BhbiBjbGFzcz0icG9zdC1kYXRlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRtZWRpYS5EYXRlKTwvc3Bhbj4NCg0KICAgICAgICAgICAgPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+DQogICAgICAgICAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ2J5JykgI2lmICgkbWVkaWEuQXV0aG9yLlByb2ZpbGVVcmwpDQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJG1lZGlhLkF1dGhvci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPiRtZWRpYS5BdXRob3IuRGlzcGxheU5hbWUNCiAgICAgICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj4kbWVkaWEuQXV0aG9yLkRpc3BsYXlOYW1lDQogICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICA8L3RkPg0KICAgICAgICA8dGQgY2xhc3M9InRhYmxlLWNvbHVtbiBwb3N0LWF0dGFjaG1lbnQtZG93bmxvYWQtY291bnQiPg0KICAgICAgICAgICAgPHNwYW4gY2xhc3M9InBvc3QtYXR0YWNobWVudC1kb3dubG9hZC1jb3VudCI+JCFtZWRpYS5Eb3dubG9hZHM8L3NwYW4+DQogICAgICAgIDwvdGQ+DQogICAgICAgIDx0ZCBjbGFzcz0idGFibGUtY29sdW1uIHBvc3QtcmF0aW5nIj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtcmF0aW5nIHNtYWxsIj4NCiAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5SYXRlKCRtZWRpYS5Db250ZW50SWQsICRjb3JlX3YyX21lZGlhLkNvbnRlbnRUeXBlSWQsICIle1JlYWRPbmx5PSd0cnVlJyxDc3NDbGFzcz0nc21hbGwnfSIpDQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC90ZD4NCiAgICAgICAgPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4iPg0KICAgICAgICAgICAgI3NldCAoJGxpa2VzID0gZmFsc2UpDQogICAgICAgICAgICAjc2V0ICgkbGlrZXMgPSAkY29yZV92Ml9saWtlLkxpc3QoIiV7IENvbnRlbnRJZCA9ICRtZWRpYS5Db250ZW50SWQsIENvbnRlbnRUeXBlSWQgPSAkY29yZV92Ml9tZWRpYS5Db250ZW50VHlwZUlkLCBQYWdlU2l6ZSA9IDEgfSIpKQ0KICAgICAgICAgICAgI2lmICgkbWVkaWEuQ29tbWVudENvdW50ID4gMCB8fCAoJGxpa2VzICYmICRsaWtlcy5Ub3RhbENvdW50ID4gMCkpDQoJICAgICAgICAgICAgPGRpdiBjbGFzcz0iYXR0cmlidXRlLWxpc3QtaGVhZGVyIj48L2Rpdj4NCgkgICAgICAgICAgICA8dWwgY2xhc3M9ImF0dHJpYnV0ZS1saXN0Ij4NCiAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSBjb3VudHMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVkaWEuVXJsKSNjb21tZW50cyI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkbWVkaWEuQ29tbWVudENvdW50ID4gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSByZXBseS1jb3VudCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iYXZhdGFyIj48L3NwYW4+JG1lZGlhLkNvbW1lbnRDb3VudA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJGxpa2VzICYmICRsaWtlcy5Ub3RhbENvdW50ID4gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSBsaWtlLWNvdW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPjwvc3Bhbj4kY29yZV92Ml91aS5MaWtlKCRtZWRpYS5Db250ZW50SWQsICRjb3JlX3YyX21lZGlhLkNvbnRlbnRUeXBlSWQsICIleyBGb3JtYXQgPSAne2NvdW50fScgfSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1mb290ZXIiPjwvZGl2Pg0KICAgICAgICAgICAgI2VuZA0KICAgICAgICA8L3RkPg0KICAgIDwvdHI+DQojbm9kYXRhDQogICAgPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOb1JlY29yZHMnKTwvZGl2Pg0KI2FmdGVyYWxsDQogICAgICAgIDwvdGJvZHk+DQogICAgICAgIDwvdGFibGU+DQogICAgICAgIDxkaXYgY2xhc3M9InRhYmxlLWxpc3QtZm9vdGVyIj48L2Rpdj4NCiNlbmQ=</file>
			<file name="standard-thumbnail.vm">PGRpdiBjbGFzcz0iZmlsdGVyIHRodW1ibmFpbCI+DQoJPGRpdiBjbGFzcz0idmlldy10eXBlIj4NCgkJPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24jaWYoJHZpZXdUeXBlPT0nVGh1bWJuYWlsJykgc2VsZWN0ZWQjZW5kIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICdHYWxsZXJ5Vmlld1R5cGU9VGh1bWJuYWlsJykpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXRodW1ibmFpbC1saXN0Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTWVkaWFHYWxsZXJ5Vmlld1R5cGVfVGh1bWJuYWlsX0xpbmsnKTwvYT48L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uI2lmKCR2aWV3VHlwZT09J0xpc3QnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgJ0dhbGxlcnlWaWV3VHlwZT1MaXN0JykpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LWRldGFpbC1saXN0Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTWVkaWFHYWxsZXJ5Vmlld1R5cGVfTGlzdF9MaW5rJyk8L2E+PC9zcGFuPg0KCTwvZGl2Pg0KCTxkaXYgY2xhc3M9InF1ZXJ5LWZpbHRlciI+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItbGFiZWwiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTb3J0YnknKTo8L3NwYW4+DQoJCTxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uI2lmKCRzb3J0Qnk9PSdQb3N0RGF0ZScpIHNlbGVjdGVkI2VuZCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAnR2FsbGVyeVBvc3RTb3J0PVBvc3REYXRlJlBhZ2VJbmRleD0xJykpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnUmVjZW50Jyk8L2E+PC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiNpZigkc29ydEJ5PT0nU3ViamVjdCcpIHNlbGVjdGVkI2VuZCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAnR2FsbGVyeVBvc3RTb3J0PVN1YmplY3QmUGFnZUluZGV4PTEnKSkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdOYW1lJyk8L2E+PC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiNpZigkc29ydEJ5PT0nRG93bmxvYWRzJykgc2VsZWN0ZWQjZW5kIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICdHYWxsZXJ5UG9zdFNvcnQ9RG93bmxvYWRzJlBhZ2VJbmRleD0xJykpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRG93bmxvYWRzJyk8L2E+PC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiNpZigkc29ydEJ5PT0nVmlld3MnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgJ0dhbGxlcnlQb3N0U29ydD1WaWV3cyZQYWdlSW5kZXg9MScpKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1ZpZXdzJyk8L2E+PC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiNpZigkc29ydEJ5PT0nQ29tbWVudHMnKSBzZWxlY3RlZCNlbmQiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgJ0dhbGxlcnlQb3N0U29ydD1Db21tZW50cyZQYWdlSW5kZXg9MScpKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbW1lbnRzJyk8L2E+PC9zcGFuPg0KCQkjaWYoJHNob3dTb3J0QnlSYXRpbmcpPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24jaWYoJHNvcnRCeT09J1JhdGluZycpIHNlbGVjdGVkI2VuZCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAnR2FsbGVyeVBvc3RTb3J0PVJhdGluZyZQYWdlSW5kZXg9MScpKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1JhdGluZycpPC9hPjwvc3Bhbj4jZW5kDQoJPC9kaXY+DQo8L2Rpdj4NCg0KI2ZvcmVhY2goJG1lZGlhIGluICRtZWRpYXMpDQojYmVmb3JlYWxsDQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciBmaWxlLXRodW1ibmFpbC1saXN0Ij48L2Rpdj4NCgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCBmaWxlLXRodW1ibmFpbC1saXN0Ij4NCiNlYWNoDQoJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gZmlsZS10aHVtYm5haWwtbGlzdCI+DQoJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIj48L2Rpdj4NCgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCI+DQoJCQk8ZGl2IGNsYXNzPSJwb3N0LXRodW1ibmFpbCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVkaWEuVXJsKSI+JCFjb3JlX3YyX3VpLkdldFByZXZpZXdIdG1sKCRtZWRpYS5GaWxlLkZpbGVVcmwsICIle3dpZHRoPTEwMyxoZWlnaHQ9OTJ9Iik8L2E+PC9kaXY+DQoJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+DQoJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+JGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkbWVkaWEuQXV0aG9yLkF2YXRhclVybCwzMiwzMiwiJXthbHQ9JG1lZGlhLkF1dGhvci5EaXNwbGF5TmFtZX0iKTwvc3Bhbj4NCgkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4NCgkJCQkJI2lmICgkbWVkaWEuQXV0aG9yLlByb2ZpbGVVcmwpDQoJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRtZWRpYS5BdXRob3IuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4kbWVkaWEuQXV0aG9yLkRpc3BsYXlOYW1lPC9hPg0KCQkJCQkjZWxzZQ0KCQkJCQkJJG1lZGlhLkF1dGhvci5EaXNwbGF5TmFtZQ0KCQkJCQkjZW5kDQoJCQkJPC9zcGFuPg0KCQkJPC9kaXY+DQoJCQk8aDQgY2xhc3M9InBvc3QtbmFtZSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVkaWEuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0Ij48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJG1lZGlhLlRpdGxlLCAxNSwgIi4uLiIpDQogICAgICA8L2E+PC9oND4NCgkJCTxkaXYgY2xhc3M9InBvc3QtcmF0aW5nIHNtYWxsIj4NCgkJCQkkY29yZV92Ml91aS5SYXRlKCRtZWRpYS5Db250ZW50SWQsICRjb3JlX3YyX21lZGlhLkNvbnRlbnRUeXBlSWQsICIle1JlYWRPbmx5PSd0cnVlJyxDc3NDbGFzcz0nc21hbGwnfSIpDQoJCQk8L2Rpdj4NCgkJPC9kaXY+DQoJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtZm9vdGVyIj48L2Rpdj4NCgk8L2xpPg0KI25vZGF0YQ0KCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTm9SZWNvcmRzJyk8L2Rpdj4NCiNhZnRlcmFsbA0KCTwvdWw+DQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciBmaWxlLXRodW1ibmFpbC1saXN0Ij48L2Rpdj4NCiNlbmQ=</file>
			<file name="standard.vm">I3NldCgkdmlld1R5cGUgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ0dhbGxlcnlWaWV3VHlwZScpKQ0KI2lmICgkdmlld1R5cGUpDQoJI3NldCgkY29yZV92Ml9tZWRpYS5DdXJyZW50Vmlld1R5cGUgPSAkdmlld1R5cGUpDQojZWxzZQ0KCSNzZXQoJHZpZXdUeXBlID0gJGNvcmVfdjJfbWVkaWEuQ3VycmVudFZpZXdUeXBlKQ0KI2VuZA0KI3NldCgkc29ydEJ5ID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdHYWxsZXJ5UG9zdFNvcnQnKSkNCiNpZiAoISRzb3J0QnkgfHwgJHNvcnRCeSA9PSAnJykNCgkjc2V0KCRzb3J0QnkgPSAkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoJ3NvcnRCeScsICdQb3N0RGF0ZScpKQ0KI2VuZA0KI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ3BhZ2VTaXplJyw1KSkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3VpLkdldEN1cnJlbnRQYWdlSW5kZXgoKSkNCiNzZXQoJHNvcnRPcmRlciA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnU29ydE9yZGVyJykpDQojaWYgKCEkc29ydE9yZGVyIHx8ICRzb3J0T3JkZXIgPT0gJycpDQoJI2lmICgkc29ydEJ5ID09ICdTdWJqZWN0JykNCgkJI3NldCgkc29ydE9yZGVyID0gJ0FzY2VuZGluZycpDQoJI2Vsc2UNCgkJI3NldCgkc29ydE9yZGVyID0gJ0Rlc2NlbmRpbmcnKQ0KCSNlbmQNCiNlbmQNCiNpZiAoJHZpZXdUeXBlID09ICdUaHVtYm5haWwnICYmICRzb3J0QnkgPT0gJ1N1YmplY3QnKQ0KCSNzZXQoJHNvcnRPcmRlciA9ICdBc2NlbmRpbmcnKQ0KI2VuZA0KI3NldCgkbWVkaWFzID0gZmFsc2UpDQojc2V0KCRzaG93U29ydEJ5UmF0aW5nID0gZmFsc2UpDQojc2V0KCRjb25maWcgPSAkY29yZV92Ml9wYWdlLlBhcnNlUXVlcnlTdHJpbmcoJGNvcmVfdjJfd2lkZ2V0LkdldEN1c3RvbVZhbHVlKCdzZWxlY3RlZE1lZGlhR2FsbGVyeU9yR3JvdXAnLCcnKSkpDQoNCiNpZiAoJGNvbmZpZy5WYWx1ZXMoJ01lZGlhR2FsbGVyeScpLkNvdW50ID4gMCkNCgkjc2V0KCRnYWxsZXJ5TGlzdCA9IGZhbHNlKQ0KCSNmb3JlYWNoKCRnYWxsZXJ5SWQgaW4gJGNvbmZpZy5WYWx1ZXMoJ01lZGlhR2FsbGVyeScpKQ0KCQkjaWYoJGdhbGxlcnlJZCA9PSAnMCcpDQoJCQkjc2V0KCRnYWxsZXJ5SWQgPSAkY29yZV92Ml9nYWxsZXJ5LkN1cnJlbnQuSWQpDQoJCSNlbmQNCgkJI2lmKCRnYWxsZXJ5SWQgPiAwKQ0KCQkJI2lmICghJHNob3dTb3J0QnlSYXRpbmcpDQoJCQkJI3NldCgkdG1wR2FsbGVyeSA9ICRjb3JlX3YyX2dhbGxlcnkuR2V0KCIle0lkPSRnYWxsZXJ5SWR9IikpDQoJCQkJI2lmICgkdG1wR2FsbGVyeSkNCgkJCQkJI3NldCgkc2hvd1NvcnRCeVJhdGluZyA9ICR0bXBHYWxsZXJ5LkVuYWJsZVJhdGluZ3MpDQoJCQkJI2VuZA0KCQkJI2VuZA0KCQkJI2lmKCEkZ2FsbGVyeUxpc3QpDQoJCQkJI3NldCgkZ2FsbGVyeUxpc3QgPSAiJGdhbGxlcnlJZCIpDQoJCQkjZWxzZQ0KCQkJCSNzZXQoJGdhbGxlcnlMaXN0ID0gIiRnYWxsZXJ5TGlzdCwkZ2FsbGVyeUlkIikNCgkJCSNlbmQNCgkJI2VuZA0KCSNlbmQNCgkjc2V0KCRtZWRpYXMgPSAkY29yZV92Ml9tZWRpYS5MaXN0KCIle0dhbGxlcnlJZHM9JGdhbGxlcnlMaXN0LFBhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleCxTb3J0T3JkZXI9JHNvcnRPcmRlcixTb3J0Qnk9JHNvcnRCeX0iKSkNCiNlbHNlaWYgKCRjb25maWcuVmFsdWUoJ0dyb3VwJykpDQoJI3NldCgkZ3JvdXAgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb25maWcuVmFsdWUoJ0dyb3VwJykpKQ0KCSNpZiAoJGdyb3VwIDw9IDApDQoJCSNzZXQoJGdyb3VwID0gJGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCkNCgkjZW5kDQoJI2lmKCRncm91cCA+IDApDQoJCSNmb3JlYWNoKCR0bXBHYWxsZXJ5IGluICRjb3JlX3YyX2dhbGxlcnkuTGlzdCgiJXtHcm91cElkPSRncm91cH0iKSkNCgkJCSNpZiAoISRzaG93U29ydEJ5UmF0aW5nKQ0KCQkJCSNzZXQoJHNob3dTb3J0QnlSYXRpbmcgPSAkdG1wR2FsbGVyeS5FbmFibGVSYXRpbmdzKQ0KCQkJI2VuZA0KCQkjZW5kDQoJCSNzZXQoJG1lZGlhcyA9ICRjb3JlX3YyX21lZGlhLkxpc3QoIiV7R3JvdXBJZD0kZ3JvdXAsUGFnZVNpemU9JHBhZ2VTaXplLFBhZ2VJbmRleD0kcGFnZUluZGV4LEluY2x1ZGVTdWJHcm91cHM9JGNvcmVfdjJfdXRpbGl0eS5QYXJzZUJvb2woJGNvbmZpZy5WYWx1ZSgnSW5jbHVkZVN1Ykdyb3VwcycpKSxTb3J0T3JkZXI9JHNvcnRPcmRlcixTb3J0Qnk9JHNvcnRCeX0iKSkNCgkjZW5kDQojZWxzZQ0KCSNpZiAoJGNvcmVfdjJfZ2FsbGVyeS5DdXJyZW50KQ0KCQkjc2V0KCRzaG93U29ydEJ5UmF0aW5nID0gJGNvcmVfdjJfZ2FsbGVyeS5DdXJyZW50LkVuYWJsZVJhdGluZ3MpDQoJCSNzZXQoJG1lZGlhcyA9ICRjb3JlX3YyX21lZGlhLkxpc3QoIiV7R2FsbGVyeUlkPSRjb3JlX3YyX2dhbGxlcnkuQ3VycmVudC5JZCxQYWdlU2l6ZT0kcGFnZVNpemUsUGFnZUluZGV4PSRwYWdlSW5kZXgsU29ydE9yZGVyPSRzb3J0T3JkZXIsU29ydEJ5PSRzb3J0Qnl9IikpDQoJI2Vsc2UNCgkJI2ZvcmVhY2goJHRtcEdhbGxlcnkgaW4gJGNvcmVfdjJfZ2FsbGVyeS5MaXN0KCIle0dyb3VwSWQ9JGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZH0iKSkNCgkJCSNpZiAoISRzaG93U29ydEJ5UmF0aW5nKQ0KCQkJCSNzZXQoJHNob3dTb3J0QnlSYXRpbmcgPSAkdG1wR2FsbGVyeS5FbmFibGVSYXRpbmdzKQ0KCQkJI2VuZA0KCQkjZW5kDQoJCSNzZXQoJG1lZGlhcyA9ICRjb3JlX3YyX21lZGlhLkxpc3QoIiV7R3JvdXBJZD0kY29yZV92Ml9ncm91cC5DdXJyZW50LklkLFBhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleCxTb3J0T3JkZXI9JHNvcnRPcmRlcixTb3J0Qnk9JHNvcnRCeX0iKSkNCgkjZW5kDQojZW5kDQoNCiNpZigkdmlld1R5cGUgPT0gJ1RodW1ibmFpbCcpDQoJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzdGFuZGFyZC10aHVtYm5haWwudm0nKQ0KI2Vsc2UNCgkkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ3N0YW5kYXJkLWRldGFpbC52bScpDQojZW5kDQoNCiRjb3JlX3YyX3VpLlBhZ2VyKCRtZWRpYXMuUGFnZUluZGV4LCAkbWVkaWFzLlBhZ2VTaXplLCAkbWVkaWFzLlRvdGFsQ291bnQpDQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_MediaGallerySlideshow_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_MediaGallerySlideshow_Description}" instanceIdentifier="82156261057d45bfa7ccef017709ead7" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="media-gallery-slideshow">
		<contentScript>
#set ($gallery = false)
#set ($gallery = $core_v2_gallery.Current)
#if (!$gallery)
    $core_v2_widget.Hide()
#end
#if ($gallery.PostCount == 0)
    &lt;div class="message norecords"&gt;$core_v2_language.GetResource('MediaGallery_NoMedia')&lt;/div&gt;
#else
    &lt;div style="background-color:#eee;padding:8px;border:solid 1px #ddd"&gt;
        &lt;div id="$core_v2_widget.UniqueId('currentmedia')"&gt;
            $core_v2_widget.ExecuteFile('view.vm')
        &lt;/div&gt;
        &lt;div style="text-align:center;background-color:#eee;padding:8px 0;color:#999"&gt;
            &lt;a href="#" id="$core_v2_widget.UniqueId('play')" class="slideshow-playing"&gt;$core_v2_language.GetResource('MediaGallery_SlideShow_Playing')&lt;/a&gt;
        &lt;/div&gt;
        &lt;div&gt;
            &lt;div style="float:left;margin-top:24px;"&gt;
                &lt;a href="#" id="$core_v2_widget.UniqueId('previous')"&gt;&lt;img alt="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Previous'))" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('previous_disabled.gif'))" border="0" /&gt;&lt;/a&gt;
            &lt;/div&gt;
            &lt;div style="float:right;margin-top:24px;"&gt;
                &lt;a href="#" id="$core_v2_widget.UniqueId('next')"&gt;&lt;img alt="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Next'))" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('next.gif'))" border="0" /&gt;&lt;/a&gt;
            &lt;/div&gt;
            &lt;div style="border:solid 1px #ddd;padding:4px;margin:0 20px;background-color:#fff;"&gt;
                &lt;div style="width:100%;height:58px;overflow:hidden;position:relative"&gt;
                    &lt;div style="position:absolute;top:0;left:0" id="$core_v2_widget.UniqueId('allmedia')"&gt;
                        $core_v2_widget.ExecuteFile('page.vm')
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
            &lt;div style="clear:both;"&gt;&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
#end

#registerEndOfPageHtml('telligent.evolution.widgets.MediaGallerySlideshow')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
&lt;script type="text/javascript"&gt;
//&lt;![CDATA[
jQuery(document).ready(function(j)
{
    j.telligent.evolution.widgets.mediaGallerySlideshow.register({
        currentMedia:j('#$core_v2_widget.UniqueId('currentmedia')'),
        allMedia:j('#$core_v2_widget.UniqueId('allmedia')'),
        next:j('#$core_v2_widget.UniqueId('next')'),
        previous:j('#$core_v2_widget.UniqueId('previous')'),
        play:j('#$core_v2_widget.UniqueId('play')'),
        itemWidth:90,
        itemsPerPage:10,
        itemDuration:9999,
        totalItems:#if($medias) $medias.TotalCount #else 0 #end,
        pageUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('page.vm'))',
        viewUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('view.vm'))',
        nextImageUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('next.gif'))',
        nextDisabledImageUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('next_disabled.gif'))',
        previousImageUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('previous.gif'))',
        previousDisabledImageUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('previous_disabled.gif'))',
        playingText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGallery_SlideShow_Playing'))',
        pausedText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGallery_SlideShow_Paused'))'
    });
});
    //]]&gt;
    &lt;/script&gt;
#end
            </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_MediaGallerySlideshow_Name}'))
            </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_MediaGallerySlideshow_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
            </configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_MediaGallerySlideshow_Name">Media Gallery - Slideshow</resource><resource name="MediaGalleries_MediaGallerySlideshow_Description">Displays the slideshow of media gallery files.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="MediaGallery_SlideShow_Playing">&lt;span&gt;&lt;/span&gt;Slideshow Playing</resource><resource name="MediaGallery_SlideShow_Paused">&lt;span&gt;&lt;/span&gt;Slideshow Paused</resource><resource name="MediaGallery_FileNotViewableNoDownload">This file cannot be viewed.</resource><resource name="MediaGalleries_MediaGallerySlideshow_Title_Slideshow">Slideshow</resource><resource name="Next">Next</resource><resource name="Previous">Previous</resource><resource name="MediaGallery_NoMedia">No files have been uploaded to this gallery.</resource></language></languageResources>
		<requiredContext>
			<context id="a51614fd19f7416ca89453788ac15794" />
		</requiredContext>
		<files>
			<file name="next.gif">R0lGODlhFAAUAOYAADN8LwqtAQyuAg6uAxKvBRewBxmxCByyCR2yCh6yCyKzDCa0Die0Dyu1EC+2EjC2EjW3FTu4GDaFMTqENTuINTimMUa2HUW6HEa6HUi7HUOUOUebPVK9Ili+JFm+JVq+Jlu/Jl+7KV+9KUSsOWK/LmW/LGfBLWvCLmzCL2/DNHHENnTFO06LSk6OSlCnQ1iwRmCrV2G4V2+9V2SRYWqjZmy2Z32reXfHQG7GV3fAXXPNXoC1e4S8fYDLT4LMU4fNVobOW4vNao7SZ5DRY5HTa4bVfojVepXVc5TWdpfWd5jXd43Pi4rch43Si43Ui43Yi43Zi43ci5XJkZXSkaDagqbcjKzdiavfmJzhma3gmLXhl7LGr7HkprblqMLPv8Liv8Lnv8HqvsHrvtHsvs3ty83uy9Luy9Lvzdrp19zy1N7z1dzx1uLz1+P02OXq4eXt4fT38PT48Pb78vn59fj69fv7+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAAHcALAAAAAAUABQAAAjNAO8IHEiwoMGDCBMKLBMFyhMwCgeKwbKmCpEeJHBMUcjkTBYlQFagGCkiBsIwZqgIGall5MgSNQ4WOeJDBYoxdtq4PJEDTUEyV264/CEnJwoTIDrwKOgkhcuRVuzYYYOCA4YNBZugGCK1a1c1FyK4KLhkq1evXSA80FDwS4iRGTJ8SCKVC4QGCWgYlHEURAYkdR0oQDBii0EpQTxYTWOHC4MEBga0QAjDQlgdRhQcIBBAgsIdLx4sQFBAQAUWEQXaoDABwAwvqWPLnh07IAA7</file>
			<file name="next_disabled.gif">R0lGODlhFAAUAPcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAUABQAAAgiAP8JHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3GgxIAA7</file>
			<file name="page.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJG9mZnNldCA9IDApDQojc2V0KCRvZmZzZXQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19vZmZzZXQnKSkpDQojaWYoJG9mZnNldCA8IDApDQoJI3NldCgkb2Zmc2V0ID0gMCkNCiNlbmQNCg0KI3NldCgkZ2FsbGVyeSA9ICRjb3JlX3YyX2dhbGxlcnkuQ3VycmVudCkNCg0KI3NldCgkbWVkaWFzID0gJGNvcmVfdjJfbWVkaWEuTGlzdCgiJXtHYWxsZXJ5SWQ9JGdhbGxlcnkuSWQsU29ydEJ5PSdQb3N0RGF0ZScsU29ydE9yZGVyPSdEZXNjZW5kaW5nJyxQYWdlU2l6ZT0xMCxQYWdlSW5kZXg9JHBhZ2VJbmRleH0iKSkNCiNpZigkcGFnZUluZGV4ID09ICRtZWRpYXMuUGFnZUluZGV4KQ0KCSNmb3JlYWNoKCRtZWRpYSBpbiAkbWVkaWFzKQ0KCQk8ZGl2IGNsYXNzPSJzbGlkZXNob3ctaXRlbSIgc3R5bGU9IndpZHRoOjkwcHg7aGVpZ2h0OjU4cHg7cG9zaXRpb246YWJzb2x1dGU7b3ZlcmZsb3c6aGlkZGVuO3RvcDowcHg7bGVmdDoke29mZnNldH1weCI+DQoJCQk8ZGl2IHN0eWxlPSJ3aWR0aDo2NHB4O2hlaWdodDo0OHB4O21hcmdpbjowIDhweDtwYWRkaW5nOjRweDtib3JkZXI6c29saWQgMXB4ICNlZWU7b3ZlcmZsb3c6aGlkZGVuO3RleHQtYWxpZ246Y2VudGVyO2N1cnNvcjpwb2ludGVyIj4NCgkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iJG1lZGlhLklkIiAvPg0KCQkJCTxkaXYgc3R5bGU9IndpZHRoOjY0cHg7aGVpZ2h0OjMycHg7b3ZlcmZsb3c6aGlkZGVuO21hcmdpbjowIGF1dG87dGV4dC1hbGlnbjpjZW50ZXI7Ij4NCgkJCQkJJGNvcmVfdjJfdWkuR2V0UHJldmlld0h0bWwoJG1lZGlhLkZpbGUuRmlsZVVybCwgIiV7V2lkdGg9NjQsSGVpZ2h0PTMyfSIpDQoJCQkJPC9kaXY+DQoJCQkJPGRpdiBzdHlsZT0id2hpdGUtc3BhY2U6bm93cmFwO2ZvbnQtc2l6ZTo4NSUiPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRtZWRpYS5UaXRsZSwgMTAsICcuLi4nKTwvZGl2Pg0KCQkJPC9kaXY+DQoJCTwvZGl2Pg0KCQkjc2V0KCRvZmZzZXQgPSAkb2Zmc2V0ICsgOTApDQoJI2VuZA0KI2VuZA==</file>
			<file name="previous.gif">R0lGODlhFAAUAPcAADN8LwqtAQyuAg6uAxKvBRewBxmxCByyCR2yCh6yCyKzDCa0Die0Dyu1EC+2Ei63GzC2EjG2EzK2FDW3FTm4Fju4GDaFMTqENTuINTimMUa2HUS6G0W6HEa6HUi7HUOUOUebPVK9Ili+JFm+JVu/Jl+7KV+9KUSsOWK/LmW/LFPDPWfBLWvCLmzCL2/DNHHENnTFO3XGPE6LSk6OSlCnQ1iwRmCrV2G4V2+9V2WRYWujZm22Z32reXfHQHrIRX/KSW7GV3fAXYC1e4S8fYDLT4LMU4bOW4vNao7SZ5HTa4jTcIbVfpXVc5XWd5jXd6HZfaPZfY3Pi4rch43Si43Ui43Yi43Zi43ci53ci5XJkZXSkaDagqTagKLdjaPdjqbcjKzdiazfkqvfmJzhmavgmq3gmLHglbXhl7LHr77kpL/mrL7otcLPv8Liv8Lnv8HqvsHrvs/tzM/uzNLuy9Lvzdvq2Nzx1uP02OXq4eXt4fT38PT48PX78fb78vn59fn69f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAAIEALAAAAAAUABQAAAjYAAMJHEiwoMGDCBMKlHPFShU3CgfCGWPnSxIiKIBoUSiFThknRmC0GGniBsI3c7Yg8cGlD5iRLVLsOLiESZEXUAABSgOTRZA6BeOI6dEiJ6A7MUauICFiSEEqLorq3HnmjJkwITqAKDilxY+pYHVyqECjYJSRRvmECeOlC5YJED4UbFNi5BOdajxsoBChQQIdBnG0WNpEJxkJDhQgOIHGYJYjI7IqAbSGQQIDA2YgtKFhbAQVDw4QCGABT0IhNSAsQFBAQAYZphXm4YHhAoAcbCLq3s27t8CAADs=</file>
			<file name="previous_disabled.gif">R0lGODlhFAAUAPcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAUABQAAAgiAP8JHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3GgxIAA7</file>
			<file name="ui.js">KGZ1bmN0aW9uKGosIGdsb2JhbCl7DQoNCglpZiAodHlwZW9mIGoudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgew0KCQlqLnRlbGxpZ2VudCA9IHt9Ow0KCX0NCg0KCWlmICh0eXBlb2Ygai50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgew0KCQlqLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCgl9DQoNCglpZiAodHlwZW9mIGoudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgew0KCQlqLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KCX0NCg0KCXZhciBfcHJvY2Vzc1BhZ2UgPSBmdW5jdGlvbihjb250ZXh0LCBqUSkNCgkJew0KCQkJalEuZmlsdGVyKCcuc2xpZGVzaG93LWl0ZW0nKQ0KCQkJCS5lYWNoKGZ1bmN0aW9uKCkgew0KCQkJCQl2YXIgdCA9IGoodGhpcyk7DQoJCQkJCXQuZGF0YSgnbWVkaWFHYWxsZXJ5U2xpZGVzaG93JywgeyBtZWRpYUlkOiB0LmZpbmQoJ2lucHV0JykudmFsKCksIGluZGV4OiBjb250ZXh0Ll9tZWRpYS5sZW5ndGh9KTsNCgkJCQkJY29udGV4dC5fbWVkaWFbY29udGV4dC5fbWVkaWEubGVuZ3RoXSA9IHQ7DQoNCgkJCQkJdA0KCQkJCQkJLmJpbmQoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkgew0KCQkJCQkJCWlmIChqKHRoaXMpLmRhdGEoJ21lZGlhR2FsbGVyeVNsaWRlc2hvdycpLmluZGV4ICE9PSBjb250ZXh0Ll9jdXJyZW50SW5kZXgpIHsNCgkJCQkJCQkJaih0aGlzKS5jaGlsZHJlbigpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjZWVlJyk7DQoJCQkJCQkJfQ0KCQkJCQkJfSkNCgkJCQkJCS5iaW5kKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkgew0KCQkJCQkJCWlmIChqKHRoaXMpLmRhdGEoJ21lZGlhR2FsbGVyeVNsaWRlc2hvdycpLmluZGV4ID09PSBjb250ZXh0Ll9jdXJyZW50SW5kZXgpIHsNCgkJCQkJCQkJaih0aGlzKS5jaGlsZHJlbigpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjY2NjJyk7DQoJCQkJCQkJfSBlbHNlIHsNCgkJCQkJCQkJaih0aGlzKS5jaGlsZHJlbigpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsJycpOw0KCQkJCQkJCX0NCgkJCQkJCX0pDQoJCQkJCQkuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHsNCgkJCQkJCQlfc2hvd0l0ZW0oY29udGV4dCwgaih0aGlzKS5kYXRhKCdtZWRpYUdhbGxlcnlTbGlkZXNob3cnKS5pbmRleCk7DQoJCQkJCQl9KTsNCgkJCQl9KTsNCgkJfSwNCgkJX3Nob3dJdGVtID0gZnVuY3Rpb24oY29udGV4dCwgaW5kZXgpDQoJCXsNCgkJCWlmIChjb250ZXh0Ll9jdXJyZW50SW5kZXggPT09IGluZGV4IHx8IGluZGV4ID49IGNvbnRleHQuX21lZGlhLmxlbmd0aCB8fCBpbmRleCA8IDApIHsNCgkJCQlyZXR1cm47DQoJCQl9DQoNCgkJCWNvbnRleHQuX21lZGlhW2NvbnRleHQuX2N1cnJlbnRJbmRleF0uY2hpbGRyZW4oKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnJyk7DQoJCQljb250ZXh0Ll9jdXJyZW50SW5kZXggPSBpbmRleDsNCgkJCWNvbnRleHQuX21lZGlhW2luZGV4XS5jaGlsZHJlbigpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjY2NjJyk7DQoNCgkJCWoudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KCQkJCQl1cmw6IGNvbnRleHQudmlld1VybCwNCgkJCQkJZGF0YTogeyB3X21lZGlhSWQ6IGNvbnRleHQuX21lZGlhW2luZGV4XS5kYXRhKCdtZWRpYUdhbGxlcnlTbGlkZXNob3cnKS5tZWRpYUlkIH0sDQoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCQl7DQoJCQkJCQljb250ZXh0LmN1cnJlbnRNZWRpYS5odG1sKHJlc3BvbnNlKTsNCgkJCQkJCWlmIChjb250ZXh0Ll9wbGF5aW5nKQ0KCQkJCQkJew0KCQkJCQkJCWdsb2JhbC5jbGVhclRpbWVvdXQoY29udGV4dC5fcGxheUhhbmRsZSk7DQoJCQkJCQkJY29udGV4dC5fcGxheUhhbmRsZSA9IGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBfbW92ZU5leHQoY29udGV4dCk7IH0sIGNvbnRleHQuaXRlbUR1cmF0aW9uKTsNCgkJCQkJCX0NCgkJCQkJfSwNCgkJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYykNCgkJCQkJew0KCQkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTsNCgkJCQkJCWlmIChjb250ZXh0Ll9wbGF5aW5nKQ0KCQkJCQkJew0KCQkJCQkJCWdsb2JhbC5jbGVhclRpbWVvdXQoY29udGV4dC5fcGxheUhhbmRsZSk7DQoJCQkJCQkJY29udGV4dC5fcGxheUhhbmRsZSA9IGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBfbW92ZU5leHQoY29udGV4dCk7IH0sIGNvbnRleHQuaXRlbUR1cmF0aW9uKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0pOw0KDQoJCQl2YXIgc2Nyb2xsSW5kZXggPSAoaW5kZXggLSBNYXRoLmZsb29yKChjb250ZXh0LmFsbE1lZGlhLnBhcmVudCgpLndpZHRoKCkgLyAoY29udGV4dC5pdGVtV2lkdGggKiAyKSkgLSAwLjUpKSAqIC1jb250ZXh0Lml0ZW1XaWR0aDsNCgkJCWlmIChzY3JvbGxJbmRleCA+IDApIHsNCgkJCQlzY3JvbGxJbmRleCA9IDA7DQoJCQl9DQoNCgkJCWNvbnRleHQuYWxsTWVkaWEuYW5pbWF0ZSh7IGxlZnQ6IHNjcm9sbEluZGV4ICsgJ3B4JyB9LCA0OTksIGZ1bmN0aW9uKCkgeyBfdmFsaWRhdGVQYWdlTG9hZGVkKGNvbnRleHQpOyB9KTsNCg0KCQkJaWYgKGluZGV4ID4gMCkgew0KCQkJCWNvbnRleHQucHJldmlvdXMuZmluZCgnaW1nJykuYXR0cignc3JjJywgY29udGV4dC5wcmV2aW91c0ltYWdlVXJsKTsNCgkJCX0gZWxzZSB7DQoJCQkJY29udGV4dC5wcmV2aW91cy5maW5kKCdpbWcnKS5hdHRyKCdzcmMnLCBjb250ZXh0LnByZXZpb3VzRGlzYWJsZWRJbWFnZVVybCk7DQoJCQl9DQoNCgkJCWlmIChpbmRleCArIDEgPCBjb250ZXh0LnRvdGFsSXRlbXMpIHsNCgkJCQljb250ZXh0Lm5leHQuZmluZCgnaW1nJykuYXR0cignc3JjJywgY29udGV4dC5uZXh0SW1hZ2VVcmwpOw0KCQkJfSBlbHNlIHsNCgkJCQljb250ZXh0Lm5leHQuZmluZCgnaW1nJykuYXR0cignc3JjJywgY29udGV4dC5uZXh0RGlzYWJsZWRJbWFnZVVybCk7DQoJCQl9DQoNCgkJCV92YWxpZGF0ZVBhZ2VMb2FkZWQoY29udGV4dCk7DQoJCX0sDQoJCV92YWxpZGF0ZVBhZ2VMb2FkZWQgPSBmdW5jdGlvbihjb250ZXh0KQ0KCQl7DQoJCQlpZiAoY29udGV4dC5fY3VycmVudEluZGV4ICsgMSArIE1hdGguY2VpbChjb250ZXh0LmFsbE1lZGlhLnBhcmVudCgpLndpZHRoKCkgLyBjb250ZXh0Lml0ZW1XaWR0aCkgPiBjb250ZXh0Ll9tZWRpYS5sZW5ndGggJiYgY29udGV4dC5fbWVkaWEubGVuZ3RoICE9PSBjb250ZXh0LnRvdGFsSXRlbXMpDQoJCQl7DQoJCQkJdmFyIHBhZ2VUb0xvYWQgPSBNYXRoLmNlaWwoY29udGV4dC5fbWVkaWEubGVuZ3RoIC8gY29udGV4dC5pdGVtc1BlclBhZ2UpOw0KCQkJCWlmIChwYWdlVG9Mb2FkID4gY29udGV4dC5fbGFzdFBhZ2VMb2FkZWQpDQoJCQkJew0KCQkJCQljb250ZXh0Ll9sYXN0UGFnZUxvYWRlZCA9IHBhZ2VUb0xvYWQ7DQoJCQkJCWoudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KCQkJCQkJdXJsOiBjb250ZXh0LnBhZ2VVcmwsDQoJCQkJCQlkYXRhOiB7IHdfcGFnZUluZGV4OiBwYWdlVG9Mb2FkLCB3X29mZnNldDogKGNvbnRleHQuX21lZGlhLmxlbmd0aCAqIGNvbnRleHQuaXRlbVdpZHRoKSB9LA0KCQkJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJCQl7DQoJCQkJCQkJdmFyIHAgPSBqKHJlc3BvbnNlKTsNCgkJCQkJCQlfcHJvY2Vzc1BhZ2UoY29udGV4dCwgcCk7DQoJCQkJCQkJY29udGV4dC5hbGxNZWRpYS5hcHBlbmQocCk7DQoJCQkJCQl9LA0KCQkJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYykNCgkJCQkJCXsNCgkJCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2Mse3R5cGU6J2Vycm9yJ30pOw0KCQkJCQkJCWNvbnRleHQuX2xhc3RQYWdlTG9hZGVkID0gcGFnZVRvTG9hZCAtIDE7DQoJCQkJCQl9DQoJCQkJCX0pOw0KCQkJCX0NCgkJCX0NCgkJfSwNCgkJX21vdmVOZXh0ID0gZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJaWYgKGNvbnRleHQuX2N1cnJlbnRJbmRleCArIDEgPCBjb250ZXh0LnRvdGFsSXRlbXMpIHsNCgkJCQlfc2hvd0l0ZW0oY29udGV4dCwgY29udGV4dC5fY3VycmVudEluZGV4ICsgMSk7DQoJCQl9IGVsc2Ugew0KCQkJCV9zaG93SXRlbShjb250ZXh0LCAwKTsNCgkJCX0NCgkJfSwNCgkJX21vdmVQcmV2aW91cyA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJCXsNCgkJCWlmIChjb250ZXh0Ll9jdXJyZW50SW5kZXggPiAwKSB7DQoJCQkJX3Nob3dJdGVtKGNvbnRleHQsIGNvbnRleHQuX2N1cnJlbnRJbmRleCAtIDEpOw0KCQkJfQ0KCQl9LA0KCQlfdG9nZ2xlUGxheSA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJCXsNCgkJCWlmIChjb250ZXh0Ll9wbGF5aW5nKQ0KCQkJew0KCQkJCWNvbnRleHQuX3BsYXlpbmcgPSBmYWxzZTsNCgkJCQlnbG9iYWwuY2xlYXJUaW1lb3V0KGNvbnRleHQuX3BsYXlIYW5kbGUpOw0KCQkJCWNvbnRleHQucGxheS5odG1sKGNvbnRleHQucGF1c2VkVGV4dCkNCgkJCQkJLnJlbW92ZUNsYXNzKCdzbGlkZXNob3ctcGxheWluZycpDQoJCQkJCS5hZGRDbGFzcygnc2xpZGVzaG93LXBhdXNlZCcpOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCWNvbnRleHQuX3BsYXlpbmcgPSB0cnVlOw0KCQkJCWNvbnRleHQuX3BsYXlIYW5kbGUgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHsgX21vdmVOZXh0KGNvbnRleHQpOyB9LCBjb250ZXh0Lml0ZW1EdXJhdGlvbik7DQoJCQkJY29udGV4dC5wbGF5Lmh0bWwoY29udGV4dC5wbGF5aW5nVGV4dCkNCgkJCQkJLnJlbW92ZUNsYXNzKCdzbGlkZXNob3ctcGF1c2VkJykNCgkJCQkJLmFkZENsYXNzKCdzbGlkZXNob3ctcGxheWluZycpOw0KCQkJfQ0KCQl9Ow0KDQoJai50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMubWVkaWFHYWxsZXJ5U2xpZGVzaG93ID0gew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KCQkJY29udGV4dC5fbWVkaWEgPSBbXTsNCgkJCV9wcm9jZXNzUGFnZShjb250ZXh0LCBjb250ZXh0LmFsbE1lZGlhLmNoaWxkcmVuKCkpOw0KCQkJY29udGV4dC5fY3VycmVudEluZGV4ID0gMDsNCgkJCWNvbnRleHQuX3BsYXlpbmcgPSB0cnVlOw0KCQkJY29udGV4dC5fbGFzdFBhZ2VMb2FkZWQgPSAwOw0KCQkJY29udGV4dC5fcGxheUhhbmRsZSA9IGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBfbW92ZU5leHQoY29udGV4dCk7IH0sIGNvbnRleHQuaXRlbUR1cmF0aW9uKTsNCgkJCWNvbnRleHQucGxheS5jbGljayhmdW5jdGlvbigpIHsgX3RvZ2dsZVBsYXkoY29udGV4dCk7IHJldHVybiBmYWxzZTsgfSk7DQoJCQljb250ZXh0Lm5leHQuY2xpY2soZnVuY3Rpb24oKSB7IF9tb3ZlTmV4dChjb250ZXh0KTsgcmV0dXJuIGZhbHNlOyB9KTsNCgkJCWNvbnRleHQucHJldmlvdXMuY2xpY2soZnVuY3Rpb24oKSB7IF9tb3ZlUHJldmlvdXMoY29udGV4dCk7IHJldHVybiBmYWxzZTsgfSk7DQoNCgkJCWlmIChjb250ZXh0Ll9tZWRpYS5sZW5ndGggPiAwKSB7DQoJCQkJY29udGV4dC5fbWVkaWFbMF0uY2hpbGRyZW4oKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI2NjYycpOw0KCQkJfQ0KDQoJCQlpZiAoY29udGV4dC50b3RhbEl0ZW1zIDw9IDEpIHsNCgkJCQljb250ZXh0Lm5leHQuZmluZCgnaW1nJykuYXR0cignc3JjJywgY29udGV4dC5uZXh0RGlzYWJsZWRJbWFnZVVybCk7DQoJCQl9DQoJCX0NCgl9Ow0KDQp9KShqUXVlcnksIHdpbmRvdyk7DQo=</file>
			<file name="view.vm">I3NldCgkbWVkaWFJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X21lZGlhSWQnKSkpDQojc2V0KCRtZWRpYSA9IGZhbHNlKQ0KI2lmICgkbWVkaWFJZCA+IDApDQoJI3NldCgkbWVkaWEgPSAkY29yZV92Ml9tZWRpYS5HZXQoJGNvcmVfdjJfZ2FsbGVyeS5DdXJyZW50LklkLCAkbWVkaWFJZCkpDQojZWxzZQ0KCSNmb3JlYWNoKCRtIGluICRjb3JlX3YyX21lZGlhLkxpc3QoIiV7R2FsbGVyeUlkPSRjb3JlX3YyX2dhbGxlcnkuQ3VycmVudC5JZCxTb3J0Qnk9J1Bvc3REYXRlJyxTb3J0T3JkZXI9J0Rlc2NlbmRpbmcnLFBhZ2VTaXplPTEsUGFnZUluZGV4PTB9IikpDQoJCSNzZXQoJG1lZGlhID0gJG0pDQoJI2VuZA0KI2VuZA0KDQojaWYoJG1lZGlhKQ0KCTxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyI+DQoJCTxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEwMCU7cGFkZGluZzo4cHggMCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVkaWEuVXJsKSI+JG1lZGlhLlRpdGxlPC9hPjwvZGl2Pg0KCQk8ZGl2IHN0eWxlPSJ3aWR0aDo0MDBweDttaW4taGVpZ2h0OjMwMHB4O2JhY2tncm91bmQtY29sb3I6IzAwMDtjb2xvcjojZmZmO21hcmdpbjowIGF1dG87cGFkZGluZzoycHg7Ij4NCgkJCTx0YWJsZSBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIGJvcmRlcj0iMCIgc3R5bGU9IndpZHRoOjQwMHB4O2hlaWdodDozMDBweDsiPjx0cj48dGQgdmFsaWduPSJtaWRkbGUiPjx0ZCBhbGlnbj0iY2VudGVyIj4NCgkJCQkjc2V0KCR2aWV3SHRtbCA9IGZhbHNlKQ0KCQkJCSNzZXQoJHZpZXdIdG1sID0gJGNvcmVfdjJfdWkuR2V0Vmlld0h0bWwoJG1lZGlhLkZpbGUuRmlsZVVybCwgIiV7V2lkdGg9NDAwLEhlaWdodD0zMDB9IikpDQoJCQkJI2lmKCR2aWV3SHRtbCAmJiAkdmlld0h0bWwuTGVuZ3RoID4gMCkNCgkJCQkJJHZpZXdIdG1sDQoJCQkJI2Vsc2UNCgkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ01lZGlhR2FsbGVyeV9GaWxlTm90Vmlld2FibGVOb0Rvd25sb2FkJykNCgkJCQkjZW5kDQoJCQk8L3RkPjwvdHI+PC90YWJsZT4NCgkJPC9kaXY+DQoJPC9kaXY+DQojZWxzZQ0KCTxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyI+DQoJCTxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEwMCU7cGFkZGluZzo4cHggMCI+Jm5ic3A7PC9kaXY+DQoJCTxkaXYgc3R5bGU9IndpZHRoOjQwMHB4O21pbi1oZWlnaHQ6MzAwcHg7YmFja2dyb3VuZC1jb2xvcjojMDAwO2NvbG9yOiNmZmY7bWFyZ2luOjAgYXV0bztwYWRkaW5nOjJweDsiPg0KCQkJPHRhYmxlIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYm9yZGVyPSIwIiBzdHlsZT0id2lkdGg6NDAwcHg7aGVpZ2h0OjMwMHB4OyI+PHRyPjx0ZCB2YWxpZ249Im1pZGRsZSI+PHRkIGFsaWduPSJjZW50ZXIiPg0KCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdNZWRpYUdhbGxlcnlfRmlsZU5vdFZpZXdhYmxlTm9Eb3dubG9hZCcpDQoJCQk8L3RkPjwvdHI+PC90YWJsZT4NCgkJPC9kaXY+DQoJPC9kaXY+DQojZW5k</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_MediaGalleryTitle_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_MediaGalleryTitle_Description}" instanceIdentifier="67c5692c89014492ad521eaeb0bddc11" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="media-gallery-title">
		<contentScript>
#set($page = $core_v2_mediaUrls.Current)
#if ($page == 'Tags' || $page == 'GroupAggregateTags')
	#set($title = $core_v2_language.GetResource('TagBrowser_Title'))
#elseif ($page == 'Slideshow')
	#set($title = "$core_v2_gallery.Current.Name $core_v2_language.GetResource('Slideshow')")
#elseif ($page == 'Media')
	#set($title = $core_v2_media.Current.Title)
#elseif ($page == 'DownloadMedia')
	#set($title = "$core_v2_media.Current.Title $core_v2_language.GetResource('MediaGalleries_Disclaimer_Title')")
#elseif ($page == 'DeleteMedia')
	#set($title = "$core_v2_language.GetResource('Delete') $core_v2_media.Current.Title")
#elseif ($page == 'AddMedia')
	#set($title = $core_v2_language.GetResource('MediaGalleries_UploadFile'))
#elseif($page == 'EditMedia')
	#set($title = $core_v2_language.FormatString($core_v2_language.GetResource('MediaGalleries_AddComment_EditFormatString'), $core_v2_media.Current.Title))
#end
#if ($page == 'Gallery')
	$core_v2_page.SetTitle('', true, true)
	&lt;h1 class="title"&gt;$core_v2_gallery.Current.Name&lt;/h1&gt;
#elseif ($title)
	$core_v2_page.SetTitle($title, true, true)
	&lt;h1 class="title"&gt;$title&lt;/h1&gt;
#else
	$core_v2_page.SetTitle($core_v2_language.GetResource('files'), true, true)
	&lt;h1 class="title"&gt;$core_v2_language.GetResource('files')&lt;/h1&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_MediaGalleryTitle_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_MediaGalleryTitle_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_MediaGalleryTitle_Name">Media Gallery - Title</resource><resource name="MediaGalleries_MediaGalleryTitle_Description">Displays the title for media gallery pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="TagBrowser_Title">Browse by Tags</resource><resource name="Slideshow">Slideshow</resource><resource name="MediaGalleries_Disclaimer_Title">Download Agreement</resource><resource name="Delete">Delete</resource><resource name="MediaGalleries_UploadFile">Upload File</resource><resource name="MediaGalleries_AddComment_EditFormatString">Edit {0}</resource><resource name="files">Files</resource></language></languageResources>
		<requiredContext>
			<context id="e3fab96c901442a2abdf5cca5dd68f73" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_Message_Name}" version="7.5.0.32466" description="${resource:Core_Message_Description}" instanceIdentifier="4532f631b5944ff3ab105bda9569ee99" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="message">
		<contentScript>
#set($message = $core_v2_message.Current)
#set($user = $core_v2_user.Accessing)
#set($dq = '"')

#if ($message.Id == 9 || $message.Id == 6 || $message.Id == 14 || $message.Id == 33 || $message.Id == 33 || $message.Id == 34 || $message.Id == 57 || $message.Id ==  5 || $message.Id == 18 || $message.Id == 20 || $message.Id == 20 || $message.Id == 21 || $message.Id == 45 || $message.Id == 53 || $message.Id == 104)
	$core_v2_page.SetStatusCode(404)
#end

&lt;div class="page-header"&gt;&lt;/div&gt;
&lt;div class="page"&gt;
	&lt;div class="page-name"&gt;
		$message.Name
	&lt;/div&gt;
	#if ($message.Id == 24)
		#set($homeAnchor = "&lt;a href=${dq}${core_v2_urls.Home()}${dq}&gt;&lt;span&gt;&lt;/span&gt;${core_v2_language.GetResource('CreateNewAccount_NewUserMessage_Home')}&lt;/a&gt;")
		#set($editProfileAnchor = "&lt;a href=${dq}${core_v2_editableGroup.GetEditUrl('User', ${core_v2_urls.User(${user.Id})})}${dq} class=${dq}internal-link edit-user-profile${dq}&gt;&lt;span&gt;&lt;/span&gt;${core_v2_language.GetResource('CreateNewAccount_EditProfileLink')}&lt;/a&gt;")
		#set($returnUrl = false)
		#set($returnUrl = $core_v2_page.ReturnUrl)
		&lt;div class="page-content user-welcome-message"&gt;
			&lt;span class="avatar"&gt;
				#if ($user.ProfileUrl)
					&lt;a href="$core_v2_encoding.HtmlAttributeEncode($user.ProfileUrl)" class="internal-link view-user-profile"&gt;
						$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 80, 80, "%{border='0', alt=$user.DisplayName}")
					&lt;/a&gt;
				#else
					$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 80, 80, "%{border='0', alt=$user.DisplayName}")
				#end
			&lt;/span&gt;
			&lt;span class="user-name"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode(${core_v2_editableGroup.GetEditUrl('User', ${core_v2_urls.User(${user.Id})})})" class="internal-link edit-user-profile"&gt;$core_v2_language.GetResource("EditProfile_ChangeAvatar")&lt;/a&gt;&lt;/span&gt;
			$core_v2_language.FormatString($core_v2_language.GetResource("CreateNewAccount_NewUserMessage"), $message.Body, $homeAnchor, $editProfileAnchor)
			#if ($returnUrl &amp;&amp; $returnUrl != '')
				&lt;p class="goback-message"&gt;
					&lt;a href="$core_v2_encoding.HtmlAttributeEncode($returnUrl)" class="internal-link return-url"&gt;$core_v2_language.GetResource('CreateNewAccount_NewUserMessage_ReturnUrl')&lt;/a&gt;
				&lt;/p&gt;
			#end
		&lt;/div&gt;
	#elseif ($message.Id == 14)
		#set($userSearchAnchor = "&lt;a href='${core_v2_urls.Search()}' class='internal-link view-user-search'&gt;&lt;span&gt;&lt;/span&gt;${core_v2_language.GetResource('UserNotFound_Message_Here')}&lt;/a&gt;")
		&lt;div class="page-content"&gt;
			$core_v2_language.FormatString($core_v2_language.GetResource("UserNotFound_Message"), $message.Body, $userSearchAnchor)
		&lt;/div&gt;
	#elseif ($message.Id == 26)
		&lt;div class="page-content"&gt;
			$message.Body
			#if ($core_v2_page.GetQueryStringValue("BanReason"))
				&lt;div class="message"&gt;
					$core_v2_language.GetResource("Reason"):$core_v2_encoding.HtmlEncode($core_v2_page.GetQueryStringValue("BanReason"))
				&lt;/div&gt;
			#end
			#if ($core_v2_page.GetQueryStringValue("BanExpiration"))
				&lt;div class="message"&gt;
					$core_v2_language.GetResource("EditProfile_BanedUntilDate"):$core_v2_encoding.HtmlEncode($core_v2_page.GetQueryStringValue("BanExpiration"))
				&lt;/div&gt;
			#end
		&lt;/div&gt;
	#elseif ($message.Id == 9 || $message.Id == 104)
		&lt;div class="page-content"&gt;
			$message.Body
			&lt;div class="field-list-header"&gt;&lt;/div&gt;
			&lt;fieldset class="field-list"&gt;
				&lt;ul class="field-list"&gt;
					&lt;li class="field-item search"&gt;
						&lt;span class="field-item-input"&gt;
							&lt;input type="text" size="45" maxlength="128" id="$core_v2_widget.UniqueId('searchInput')" value="$core_v2_language.GetResource("CF_Search_SearchSite")" /&gt;
						&lt;/span&gt;
						&lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
					&lt;/li&gt;
					&lt;li class="field-item"&gt;
						&lt;span class="field-item-input"&gt;
							&lt;input type="button" id="$core_v2_widget.UniqueId('searchButton')" value="$core_v2_language.GetResource("Search")" /&gt;
						&lt;/span&gt;
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/fieldset&gt;
			&lt;div class="field-list-footer"&gt;&lt;/div&gt;

			#registerEndOfPageHtml('telligent.evolution.widgets.message')
				&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
			#end
			#registerEndOfPageHtml()
				&lt;script type="text/javascript"&gt;
					jQuery(function(){
						jQuery.telligent.evolution.widgets.message.register({
							wrapperId : '$core_v2_widget.WrapperElementId',
							searchButton : jQuery('#$core_v2_widget.UniqueId('searchButton')'),
							searchInput : jQuery('#$core_v2_widget.UniqueId('searchInput')'),
							searchInputText : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("CF_Search_SearchSite"))',
							searchInputRequiredText : '*',
							searchUrlTemplate : '$core_v2_urls.Search("%{ QueryString = 'q={SearchQuery}' }")'
						});
					});
				&lt;/script&gt;
			#end
		&lt;/div&gt;
	#else
		&lt;div class="page-content"&gt;
			$message.Body
		&lt;/div&gt;
	#end
&lt;/div&gt;
&lt;div class="page-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_Message_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_Message_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_Message_Name">Core - Message</resource><resource name="Core_Message_Description">Used for displaying common site messages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="EditProfile_ChangeAvatar">Change avatar</resource><resource name="CreateNewAccount_NewUserMessage">{0} While browsing the community, don't forget to visit your {1}, which you can customize to include the information that is most important to you. Be sure to {2} to introduce yourself to the community.&lt;br/&gt;&lt;br/&gt;Happy connecting!</resource><resource name="CreateNewAccount_NewUserMessage_ReturnUrl">Take me back to where I was.</resource><resource name="UserNotFound_Message">{0} You can try searching for users {1}.</resource><resource name="Reason">Reason</resource><resource name="EditProfile_BanedUntilDate">Expiration Date</resource><resource name="CF_Search_SearchSite">Search...</resource><resource name="Search">Search</resource><resource name="Core_Message_Title_Message">Message</resource><resource name="CreateNewAccount_NewUserMessage_Home">home page</resource><resource name="CreateNewAccount_EditProfileLink">edit your profile</resource><resource name="UserNotFound_Message_Here">here</resource></language></languageResources>
		<requiredContext>
			<context id="48e0297561ad46b98fdcbcd01e8857a3" />
		</requiredContext>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICAgICAkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJdmFyIHNlYXJjaENsaWNrID0gZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJd2luZG93LmxvY2F0aW9uID0gY29udGV4dC5zZWFyY2hVcmxUZW1wbGF0ZS5yZXBsYWNlKC9ce1NlYXJjaFF1ZXJ5XH0vZywgZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRleHQuc2VhcmNoSW5wdXQudmFsKCkpKTsNCgkJfTsNCg0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLm1lc3NhZ2UgPSANCgl7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSANCgkJew0KCQkJLy8gY29udGV4dCA9IHsgd3JhcHBlcklkLCBzZWFyY2hCdXR0b24sIHNlYXJjaElucHV0LCBzZWFyY2hJbnB1dFRleHQsIHNlYXJjaFVybFRlbXBsYXRlIH0NCgkJCWNvbnRleHQuc2VhcmNoQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oDQoJCQl7DQoJCQkJdmFsaWRhdGVPbkxvYWQ6IGZhbHNlLA0KCQkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSANCgkJCQl7IA0KCQkJCQlpZiAoaXNWYWxpZCkgDQoJCQkJCQljb250ZXh0LnNlYXJjaEJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsgDQoJCQkJCWVsc2UNCgkJCQkJCWNvbnRleHQuc2VhcmNoQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCX0sDQoJCQkJb25TdWNjZXNzZnVsQ2xpY2s6IGZ1bmN0aW9uKGUpIA0KCQkJCXsNCgkJCQkJY29udGV4dC5zZWFyY2hCdXR0b24uYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCXNlYXJjaENsaWNrKGNvbnRleHQpOw0KCQkJCX0NCgkJCX0pOw0KDQoJCQl2YXIgZiA9IGNvbnRleHQuc2VhcmNoQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEN1c3RvbVZhbGlkYXRpb24nLCAnc2VhcmNodGV4dCcsIGZ1bmN0aW9uKCkgDQoJCQl7DQoJCQkJcmV0dXJuIGNvbnRleHQuc2VhcmNoSW5wdXQudmFsKCkubGVuZ3RoID4gMCAmJiBjb250ZXh0LnNlYXJjaElucHV0LnZhbCgpICE9IGNvbnRleHQuc2VhcmNoSW5wdXRUZXh0OyANCgkJCX0sIGNvbnRleHQuc2VhcmNoSW5wdXRSZXF1aXJlZFRleHQsICcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5zZWFyY2ggLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsIG51bGwpOw0KCQkJDQoJCQljb250ZXh0LnNlYXJjaElucHV0LmtleXByZXNzKGZ1bmN0aW9uKGUpDQoJCQl7DQoJCQkJaWYgKChlLmtleUNvZGUgfHwgZS53aGljaCkgPT0gMTMpDQoJCQkJew0KCQkJCQlpZiAoY29udGV4dC5zZWFyY2hCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbigndmFsaWRhdGUnKSkNCgkJCQkJCXNlYXJjaENsaWNrKGNvbnRleHQpOw0KCQkJCQkNCgkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0NCgkJCX0pOw0KCQkJDQoJCQljb250ZXh0LnNlYXJjaElucHV0LmZvY3VzKGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlpZiAoY29udGV4dC5zZWFyY2hJbnB1dC52YWwoKSA9PSBjb250ZXh0LnNlYXJjaElucHV0VGV4dCkNCgkJCQkJY29udGV4dC5zZWFyY2hJbnB1dC52YWwoJycpOw0KCQkJfSk7DQoJCQkNCgkJCWNvbnRleHQuc2VhcmNoSW5wdXQuYmx1cihmdW5jdGlvbigpDQoJCQl7DQoJCQkJaWYgKGNvbnRleHQuc2VhcmNoSW5wdXQudmFsKCkubGVuZ3RoID09IDApDQoJCQkJCWNvbnRleHQuc2VhcmNoSW5wdXQudmFsKGNvbnRleHQuc2VhcmNoSW5wdXRUZXh0KTsNCgkJCX0pOw0KCQl9DQoJfTsNCn0pKGpRdWVyeSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_NavigationCustom_Name}" version="7.5.0.32466" description="${resource:Core_NavigationCustom_Description}" instanceIdentifier="8f6b41a33bb44c47b2edcaabd3cbe63c" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="navigation-group">
		<contentScript>
&lt;div id="$core_v2_widget.UniqueId('parentGroupListContainer')" class="parent-container" style="width:100%;"&gt;
	&lt;div class="parent-sub-container"&gt;
		&lt;div class="navigation-list-header parent"&gt;&lt;/div&gt;
		&lt;ul class="navigation-list parent"&gt;
			&lt;li class="navigation-item" style="display:none;"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Home())"&gt;$core_v2_language.GetResource('Home')&lt;/a&gt;&lt;/li&gt;
			#set($items = $core_v2_customNavigation.Deserialize($core_v2_widget.GetCustomValue('navigation', '')))
			#foreach($item in $items)
				&lt;li class="navigation-item#if($item.IsSelected) selected#end#if($item.Children &amp;&amp; $item.Children.Count &gt; 0) with-children#end entry" style="display:none;"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($item.Url)" class="internal-link view-group" id="Group_$item.UniqueId"&gt;&lt;span&gt;&lt;/span&gt;$!item.Label&lt;/a&gt;&lt;/li&gt;
			#end
			&lt;li class="navigation-item last" style="display:none;"&gt;&lt;a class="internal-link view-more" href="#" id="Group_More"&gt;$core_v2_language.GetResource('Groups_GroupNavigation_More')&lt;/a&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;div class="navigation-list-footer parent"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.navigationCustom')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.navigationCustom.register({
				parentList: jQuery('#$core_v2_widget.UniqueId('parentGroupListContainer')'),
				childrenUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('get-children.vm'))',
				error: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Core_NavigationCustom_AjaxError'))'
			});
		});
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_NavigationCustom_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_NavigationCustom_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="navigation" dataType="custom" controlType="Telligent.Evolution.Controls.CustomNavigationCustomControl, Telligent.Evolution.Controls" maximumDepth="3" resourceName="Core_NavigationCustom_CustomNavigation_Title" descriptionResourceName="Core_NavigationCustom_CustomNavigation_Description" navigationType="site" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Core_NavigationCustom_Name">Navigation - Custom</resource><resource name="Core_NavigationCustom_Description">Renders navigation links based on a custom navigation hierarchy.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Core_NavigationCustom_CustomNavigation_Title">Custom Navigation Items</resource><resource name="Core_NavigationCustom_CustomNavigation_Description">Add, edit, delete, and reorder custom navigation items. Items can be nested up to three deep.</resource><resource name="Home">Home</resource><resource name="Groups_GroupNavigation_More">More ...</resource><resource name="Core_NavigationCustom_AjaxError">An error occurred while loading navigation information.</resource></language></languageResources>
		<files>
			<file name="get-children.vm">I3NldCgkdW5pcXVlSWQgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfdW5pcXVlSWQnKSkNCiNzZXQoJHBhcmVudCA9IGZhbHNlKQ0KI3NldCgkcGFyZW50ID0gJGNvcmVfdjJfY3VzdG9tTmF2aWdhdGlvbi5EZXNlcmlhbGl6ZSgkY29yZV92Ml93aWRnZXQuR2V0Q3VzdG9tVmFsdWUoJ25hdmlnYXRpb24nLCAnJyksICR1bmlxdWVJZCkpDQojaWYgKCRwYXJlbnQpDQoJI3NldCgkaXRlbXMgPSBmYWxzZSkNCgkjc2V0KCRpdGVtcyA9ICRwYXJlbnQuQ2hpbGRyZW4pDQoNCgk8ZGl2IGNsYXNzPSJtdWx0aXBsZS1jb2x1bW4tbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCTxkaXYgY2xhc3M9Im11bHRpcGxlLWNvbHVtbi1saXN0IGNvbHVtbnMtVE9UQUwiPg0KCQk8ZGl2IGNsYXNzPSJtdWx0aXBsZS1jb2x1bW4taXRlbSBjb2x1bW4tMSI+DQoJCQkjc2V0KCRjdXJyZW50Q29sdW1uID0gMSkNCgkJCSNzZXQoJGN1cnJlbnRJdGVtcyA9IDApDQoJCQkjZm9yZWFjaCgkaXRlbSBpbiAkaXRlbXMpDQoJCQkjZWFjaA0KCQkJCSNpZiAoJGN1cnJlbnRJdGVtcyArICRpdGVtLkNoaWxkcmVuLkNvdW50ICsgMiA+IDE1KQ0KCQkJCQkjc2V0KCRjdXJyZW50Q29sdW1uID0gJGN1cnJlbnRDb2x1bW4gKyAxKQ0KCQkJCQk8L2Rpdj4NCgkJCQkJI2lmICgkY3VycmVudENvbHVtbiA8IDQpDQoJCQkJCQk8ZGl2IGNsYXNzPSJtdWx0aXBsZS1jb2x1bW4taXRlbSBjb2x1bW4tJGN1cnJlbnRDb2x1bW4iPg0KCQkJCQkJI3NldCgkY3VycmVudEl0ZW1zID0gMCkNCgkJCQkJI2VuZA0KCQkJCSNlbmQNCgkJCQkjaWYgKCRjdXJyZW50Q29sdW1uIDwgNCkNCgkJCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQkJCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1uYW1lIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRpdGVtLlVybCkiPiRpdGVtLkxhYmVsPC9hPjwvZGl2Pg0KCQkJCQk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+DQoJCQkJCSNmb3JlYWNoKCRzdWJJdGVtIGluICRpdGVtLkNoaWxkcmVuKQ0KCQkJCQkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHN1Ykl0ZW0uVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsiPiRzdWJJdGVtLkxhYmVsPC9hPjwvbGk+DQoJCQkJCSNlbmQNCgkJCQkJPC91bD4NCgkJCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+DQoJCQkJCSNzZXQoJGN1cnJlbnRJdGVtcyA9ICRjdXJyZW50SXRlbXMgKyAyICsgJGl0ZW0uQ2hpbGRyZW4uQ291bnQpDQoJCQkJI2VuZA0KCQkJI2VuZA0KCQk8L2Rpdj4NCgk8L2Rpdj4NCgk8ZGl2IGNsYXNzPSJtdWx0aXBsZS1jb2x1bW4tbGlzdC1mb290ZXIiPjwvZGl2Pg0KI2VuZA0KDQo=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciByZWZyZXNoTGlzdCA9IGZ1bmN0aW9uKGNvbnRleHQsIGxpc3QsIGlzUGFyZW50KQ0KCXsNCgkJdmFyIG1vcmVIdG1sID0gJCgnPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+PHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPjwvdWw+PGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+Jyk7DQoNCgkJdmFyIGl0ZW1zID0gJCgnLm5hdmlnYXRpb24taXRlbS5lbnRyeScsIGxpc3QpOw0KCQl2YXIgdmlld01vcmUgPSAkKCcuaW50ZXJuYWwtbGluay52aWV3LW1vcmUnLCBsaXN0KTsNCgkJdmFyIHRvdGFsSXRlbXMgPSBpdGVtcy5sZW5ndGg7DQoJCXZhciBpdGVtQ291bnQgPSAwOw0KDQoJCWl0ZW1zLmhpZGUoKS51bmJpbmQoKS5kYXRhKCduYXZpZ2F0aW9uLWN1c3RvbS1tYW5hZ2VkJywgJ3RydWUnKTsNCgkJdmlld01vcmUudW5iaW5kKCkucGFyZW50KCkuaGlkZSgpLmRhdGEoJ25hdmlnYXRpb24tY3VzdG9tLW1hbmFnZWQnLCAndHJ1ZScpOw0KDQoJCXZhciB0b3RhbFdpZHRoID0gbGlzdC53aWR0aCgpIC0gdmlld01vcmUucGFyZW50KCkub3V0ZXJXaWR0aCh0cnVlKTsNCgkJJCgnbGk6bm90KFtuYXZpZ2F0aW9uLWN1c3RvbS1tYW5hZ2VkPSJ0cnVlIl0pJywgbGlzdCkuZWFjaChmdW5jdGlvbigpDQoJCXsNCgkJCWlmICgkKHRoaXMpLmNzcygnZGlzcGxheScpICE9ICdub25lJykgew0KCQkJCXRvdGFsV2lkdGggLT0gJCh0aGlzKS5vdXRlcldpZHRoKHRydWUpOw0KCQkJfQ0KCQl9KTsNCg0KCQl2YXIgY3VycmVudFdpZHRoID0gMDsNCgkJdmFyIGhhc01vcmUgPSBmYWxzZTsNCgkJaXRlbXMuZWFjaChmdW5jdGlvbigpDQoJCXsNCgkJCWl0ZW1Db3VudCsrOw0KCQkJdmFyIHRoaXNXaWR0aCA9ICQodGhpcykub3V0ZXJXaWR0aCh0cnVlKTsNCg0KCQkJaWYgKChjdXJyZW50V2lkdGggKyB0aGlzV2lkdGggPCB0b3RhbFdpZHRoKSAmJiBoYXNNb3JlID09PSBmYWxzZSkNCgkJCXsNCgkJCQkkKHRoaXMpLnNob3coKTsNCgkJCQljdXJyZW50V2lkdGggPSBjdXJyZW50V2lkdGggKyB0aGlzV2lkdGg7DQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJaGFzTW9yZSA9IHRydWU7DQoJCQkJdmFyIGUgPSAkKHRoaXMpLmNsb25lKCk7DQoJCQkJaWYgKGl0ZW1Db3VudCA9PT0gdG90YWxJdGVtcykNCgkJCQl7DQoJCQkJCWUuYWRkQ2xhc3MoImxhc3QiKTsNCgkJCQl9DQoNCgkJCQltb3JlSHRtbC5maWx0ZXIoJ3VsLmNvbnRlbnQtbGlzdCcpLmFwcGVuZChlLnNob3coKSk7DQoJCQl9DQoJCX0pOw0KDQoJCWlmIChoYXNNb3JlKSB7DQoJCQl2aWV3TW9yZS5wYXJlbnQoKS5zaG93KCk7DQoJCX0NCgkJZWxzZQ0KCQl7DQoJCQl2aWV3TW9yZS5wYXJlbnQoKS5oaWRlKCk7DQoJCX0NCg0KCQlhdHRhY2hIYW5kbGVyc1RvTGlzdChjb250ZXh0LCBsaXN0LCBtb3JlSHRtbCk7DQoJfSwNCglhdHRhY2hIYW5kbGVyc1RvTGlzdCA9IGZ1bmN0aW9uKGNvbnRleHQsIGxpc3QsIG1vcmVIdG1sKQ0KCXsNCgkJJCgnLm5hdmlnYXRpb24taXRlbS5lbnRyeS53aXRoLWNoaWxkcmVuIGEuaW50ZXJuYWwtbGluay52aWV3LWdyb3VwLCAubmF2aWdhdGlvbi1pdGVtLmxhc3QgYS5pbnRlcm5hbC1saW5rLnZpZXctbW9yZScsIGxpc3QpDQoJCQkubW91c2VvdmVyKGZ1bmN0aW9uKCkgew0KCQkJCWlmIChjb250ZXh0LmN1cnJlbnRQb3B1cEVsZW1lbnQgPT09IHRoaXMpDQoJCQkJew0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KDQoJCQkJaGlkZVBvcHVwKGNvbnRleHQpOw0KCQkJCWNvbnRleHQuY3VycmVudFBvcHVwRWxlbWVudCA9IHRoaXM7DQoJCQkJdmFyIGVsZW1lbnQgPSB0aGlzOw0KCQkJCXZhciB1bmlxdWVJZCA9ICQodGhpcykuYXR0cignaWQnKS5zcGxpdCgnXycpWzFdOw0KDQoJCQkJY29udGV4dC5wb3B1cFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBzaG93TmF2aWdhdGlvbihjb250ZXh0LCBlbGVtZW50LCB1bmlxdWVJZCwgbW9yZUh0bWwpOyB9LCA0OTkpOw0KCQkJfSkNCgkJCS5tb3VzZW91dChmdW5jdGlvbigpIHsNCgkJCQlpZiAoY29udGV4dC5jdXJyZW50UG9wdXBFbGVtZW50ID09PSB0aGlzKQ0KCQkJCXsNCgkJCQkJY2xlYXJUaW1lb3V0KGNvbnRleHQucG9wdXBUaW1lb3V0KTsNCgkJCQkJY2xlYXJUaW1lb3V0KGNvbnRleHQucG9wdXBIaWRlVGltZW91dCk7DQoJCQkJCWNvbnRleHQucG9wdXBIaWRlVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBoaWRlUG9wdXAoY29udGV4dCk7IH0sIDE0OSk7DQoJCQkJfQ0KCQkJfSk7DQoJfSwNCglzaG93TmF2aWdhdGlvbiA9IGZ1bmN0aW9uKGNvbnRleHQsIGVsZW1lbnQsIHVuaXF1ZUlkLCBtb3JlSHRtbCkNCgl7DQoJCWlmICh1bmlxdWVJZCA9PT0gJ01vcmUnKQ0KCQl7DQoJCQkkKGVsZW1lbnQpLnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKTsNCgkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2h0bWwnLCBtb3JlSHRtbCk7DQoJCQljb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdzaG93JywgJChlbGVtZW50KS5wYXJlbnQoKSk7DQoJCX0NCgkJZWxzZQ0KCQl7DQoJCQlpZiAoY29udGV4dC5jaGlsZENhY2hlW3VuaXF1ZUlkXSkNCgkJCXsNCgkJCQkkKGVsZW1lbnQpLnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKTsNCgkJCQljb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdodG1sJywgY29udGV4dC5jaGlsZENhY2hlW3VuaXF1ZUlkXSk7DQoJCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnc2hvdycsICQoZWxlbWVudCkucGFyZW50KCkpOw0KCQkJCXJldHVybjsNCgkJCX0NCg0KCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJdXJsOiBjb250ZXh0LmNoaWxkcmVuVXJsLA0KCQkJCWRhdGE6IHsgd191bmlxdWVJZDogdW5pcXVlSWQgfSwNCgkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCgkJCQl7DQoJCQkJCWlmIChjb250ZXh0LmN1cnJlbnRQb3B1cEVsZW1lbnQgPT09IGVsZW1lbnQpDQoJCQkJCXsNCgkJCQkJCSQoZWxlbWVudCkucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpOw0KDQoJCQkJCQl2YXIganEgPSAkKHJlc3BvbnNlKTsNCgkJCQkJCXZhciBjb2x1bW5zQ291bnQgPSBqcS5maW5kKCcubXVsdGlwbGUtY29sdW1uLWl0ZW0nKS5sZW5ndGg7DQoJCQkJCQl2YXIgY29sdW1ucyA9IGpxLmZpbHRlcignLm11bHRpcGxlLWNvbHVtbi1saXN0Jyk7DQoJCQkJCQlpZiAoY29sdW1ucy5sZW5ndGggPiAwKQ0KCQkJCQkJew0KCQkJCQkJCWNvbHVtbnMuYXR0cignY2xhc3MnLCBjb2x1bW5zLmF0dHIoJ2NsYXNzJykucmVwbGFjZSgvVE9UQUwvZywgY29sdW1uc0NvdW50KSk7DQoJCQkJCQl9DQoNCgkJCQkJCWNvbnRleHQuY2hpbGRDYWNoZVt1bmlxdWVJZF0gPSBqcTsNCgkJCQkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2h0bWwnLCBqcSk7DQoJCQkJCQljb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdzaG93JywgJChlbGVtZW50KS5wYXJlbnQoKSk7DQoJCQkJCX0NCgkJCQl9LA0KCQkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQuZXJyb3IsDQoJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQoJCQkJew0KCQkJCQlpZiAoY29udGV4dC5jdXJyZW50UG9wdXBFbGVtZW50ID09PSBlbGVtZW50KQ0KCQkJCQl7DQoJCQkJCQljb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdodG1sJywgJzxkaXYgY2xhc3M9Im1lc3NhZ2UgZXJyb3IgZXJyb3JfX21lc3NhZ2UiPicgKyBkZXNjICsgJzwvZGl2PicpOw0KCQkJCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnc2hvdycsICQoZWxlbWVudCkucGFyZW50KCkpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfSk7DQoJCX0NCgl9LA0KCWhpZGVQb3B1cCA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJew0KCQlpZiAoY29udGV4dC5jdXJyZW50UG9wdXBFbGVtZW50KQ0KCQl7DQoJCQkkKGNvbnRleHQuY3VycmVudFBvcHVwRWxlbWVudCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOw0KCQl9DQoNCgkJY2xlYXJUaW1lb3V0KGNvbnRleHQucG9wdXBIaWRlVGltZW91dCk7DQoJCWNsZWFyVGltZW91dChjb250ZXh0LnBvcHVwVGltZW91dCk7DQoJCWNvbnRleHQuY3VycmVudFBvcHVwRWxlbWVudCA9IG51bGw7DQoJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2hpZGUnKTsNCgl9Ow0KDQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMubmF2aWdhdGlvbkN1c3RvbSA9IHsNCgkJcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCg0KCQkJY29udGV4dC5jaGlsZENhY2hlID0ge307DQoNCgkJCWNvbnRleHQucG9wdXAgPSAkKCc8ZGl2PjwvZGl2PicpLmdsb3dQb3BVcFBhbmVsKHsNCgkJCQljc3NDbGFzczogJ21lbnUgZ3JvdXAtbmF2aWdhdGlvbi1jb250ZW50IGdyb3VwLW5hdmlnYXRpb24tY29udGVudF9fbWVudScsDQoJCQkJcG9zaXRpb246ICdkb3duJywNCgkJCQl6SW5kZXg6IDEwMDAsDQoJCQkJaGlkZU9uRG9jdW1lbnRDbGljazogZmFsc2UNCgkJCX0pDQoJCQkJLmJpbmQoJ2dsb3dQb3BVcFBhbmVsTW91c2VPdmVyJywgZnVuY3Rpb24oKSB7IGNsZWFyVGltZW91dChjb250ZXh0LnBvcHVwSGlkZVRpbWVvdXQpOyB9KQ0KCQkJCS5iaW5kKCdnbG93UG9wVXBQYW5lbE1vdXNlT3V0JywgZnVuY3Rpb24oKQ0KCQkJCSB7DQoJCQkJCWNsZWFyVGltZW91dChjb250ZXh0LnBvcHVwSGlkZVRpbWVvdXQpOw0KCQkJCQljb250ZXh0LnBvcHVwSGlkZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsgaGlkZVBvcHVwKGNvbnRleHQpOyB9LCAxNDkpOw0KCQkJCSB9KQ0KCQkJCS5nbG93UG9wVXBQYW5lbCgnaHRtbCcsICcnKTsNCg0KCQkJJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKQ0KCQkJew0KCQkJCXJlZnJlc2hMaXN0KGNvbnRleHQsIGNvbnRleHQucGFyZW50TGlzdCwgdHJ1ZSk7DQoJCQl9KTsNCg0KCQkJJCh3aW5kb3cpLnJlc2l6ZShmdW5jdGlvbigpDQoJCQl7DQoJCQkJdmFyIHcgPSAkKHdpbmRvdykud2lkdGgoKTsNCgkJCQlpZiAoIWNvbnRleHQubGFzdFdpbmRvd1dpZHRoIHx8IGNvbnRleHQubGFzdFdpbmRvd1dpZHRoICE9PSB3KQ0KCQkJCXsNCgkJCQkJY29udGV4dC5sYXN0V2luZG93V2lkdGggPSB3Ow0KCQkJCQlyZWZyZXNoTGlzdChjb250ZXh0LCBjb250ZXh0LnBhcmVudExpc3QsIHRydWUpOw0KCQkJCX0NCgkJCX0pOw0KCQl9DQoJfTsNCn0oalF1ZXJ5KSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_NavigationGroup_Name}" version="7.5.0.32466" description="${resource:Core_NavigationGroup_Description}" instanceIdentifier="bcc2cc36aa40421c8b51193c75031694" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="navigation-group">
		<contentScript>
#set($navigationType = $core_v2_widget.GetStringValue('navigation', 'onebarDropdown'))
#set($currentGroup = $core_v2_group.Current)
#set($rootGroup = $core_v2_group.Root)
#set($groupPath = $core_v2_group.CurrentGroupPath)

#if ($navigationType != 'singleBar')
	&lt;div id="$core_v2_widget.UniqueId('parentGroupListContainer')" class="parent-container" style="width:100%;"&gt;
		&lt;div class="parent-sub-container"&gt;
			&lt;div class="navigation-list-header parent"&gt;&lt;/div&gt;
			&lt;ul class="navigation-list parent"&gt;
				&lt;li class="navigation-item" style="display:none;"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Home())"&gt;$core_v2_language.GetResource('Home')&lt;/a&gt;&lt;/li&gt;
				#set($groups = $core_v2_group.List("%{ParentGroupId=$rootGroup.Id,PageSize=20,SortBy='SortOrder'}"))
				#foreach($group in $groups)
					&lt;li class="navigation-item#if($groupPath.Count &gt;= 1 &amp;&amp; $groupPath.ToArray().get(0).Id == $group.Id) selected#end#if($group.HasGroups &amp;&amp; $navigationType == 'onebarDropdown') with-children#end entry" style="display:none;"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($group.Url)" class="internal-link view-group" id="Group-$group.Id"&gt;&lt;span&gt;&lt;/span&gt;$group.Name&lt;/a&gt;&lt;/li&gt;
				#end
				#if ($groups.TotalCount - 20 &gt; 0)
					#set($remainder = $groups.TotalCount - 20)
					&lt;li class="navigation-item entry" style="display:none;"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_groupUrls.Home())"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('GroupNavigation_AndMore'), $remainder.ToString())&lt;/a&gt;&lt;/li&gt;
				#end
				&lt;li class="navigation-item last" style="display:none;"&gt;&lt;a class="internal-link view-more" href="#" id="Group-More"&gt;$core_v2_language.GetResource('Groups_GroupNavigation_More')&lt;/a&gt;&lt;/li&gt;
			&lt;/ul&gt;
			&lt;div class="navigation-list-footer parent"&gt;&lt;/div&gt;
		&lt;/div&gt;
	&lt;/div&gt;
#end

#if ($navigationType != 'onebarDropdown' &amp;&amp; ($navigationType == 'singleBar' || $currentGroup.Id != $rootGroup.Id))
	&lt;div id="$core_v2_widget.UniqueId('childGroupListContainer')" class="child-container"&gt;
		&lt;div class="navigation-list-header#if($navigationType == 'singleBar') parent#else child#end"&gt;&lt;/div&gt;
		&lt;ul class="navigation-list#if($navigationType == 'singleBar') parent#else child#end"&gt;
		#if($currentGroup.Id != $rootGroup.Id)
			&lt;li class="navigation-item back-to-parent"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_group.Get("%{Id=$currentGroup.ParentGroupId}").Url)"&gt;&amp;nbsp;&lt;/a&gt;&lt;/li&gt;
			#if ($groupPath.Count &gt; 1 &amp;&amp; $navigationType != 'singleBar' )
				&lt;li class="navigation-item leading-child"&gt;$currentGroup.Name&lt;/li&gt;
			#end
		#end
		#set($groups = false)
		#set($groups = $core_v2_group.List("%{ParentGroupId=$currentGroup.Id,PageSize=20,SortBy='SortOrder'}"))
		#foreach($group in $groups)
			&lt;li class="navigation-item entry" style="display:none;"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($group.Url)" class="internal-link view-group"&gt;$group.Name&lt;/a&gt;&lt;/li&gt;
		#end
		#if ($groups.TotalCount - 20 &gt; 0)
			#set($remainder = $groups.TotalCount - 20)
			&lt;li class="navigation-item entry" style="display:none;"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($group.Url)"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('GroupNavigation_AndMore'), $remainder.ToString())&lt;/a&gt;&lt;/li&gt;
		#end
				&lt;li class="navigation-item last" style="display:none;"&gt;&lt;a class="internal-link view-more" href="#" id="Group-More"&gt;$core_v2_language.GetResource('Groups_GroupNavigation_More')&lt;/a&gt;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;div class="navigation-list-footer#if($navigationType == 'singleBar') parent#else child#end"&gt;&lt;/div&gt;
	&lt;/div&gt;
#end

#registerEndOfPageHtml('telligent.evolution.widgets.navigationGroup')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.navigationGroup.register({
				parentList: jQuery('#$core_v2_widget.UniqueId('parentGroupListContainer')'),
				childList: jQuery('#$core_v2_widget.UniqueId('childGroupListContainer')'),
				childGroupsUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('child-groups.vm'))',
				error: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('GroupNavigation_AjaxError'))'
			});
		});
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_NavigationGroup_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_NavigationGroup_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="navigation" dataType="string" defaultValue="onebarDropdown" resourceName="Core_NavigationGroup_Navigation"&gt;
		&lt;propertyValue value="onebarDropdown" resourceName="Core_NavigationGroup_Navigation_OneBarDropdown" /&gt;
		&lt;propertyValue value="dualBar" resourceName="Core_NavigationGroup_Navigation_DualBar" /&gt;
		&lt;propertyValue value="singleBar" resourceName="Core_NavigationGroup_Navigation_SingleBar" /&gt;
	  &lt;/property&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Core_NavigationGroup_Name">Navigation - Groups</resource><resource name="Core_NavigationGroup_Description">Renders navigation links based on the site's group hierarchy.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Core_NavigationGroup_Navigation">Navigation</resource><resource name="Core_NavigationGroup_Navigation_OneBarDropdown">Single-bar static w/ Dropdown</resource><resource name="Core_NavigationGroup_Navigation_DualBar">Dual-bar Drilldown</resource><resource name="Core_NavigationGroup_Navigation_SingleBar">Single-bar Drilldown</resource><resource name="Home">Home</resource><resource name="GroupNavigation_AndMore">and {0:#,###} more...</resource><resource name="Groups_GroupNavigation_More">More ...</resource><resource name="GroupNavigation_AjaxError">An error occurred while attempting to load groups.</resource></language></languageResources>
		<files>
			<file name="child-groups.vm">I3NldCgkZ3JvdXBJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2dyb3VwSWQnKSkpDQojc2V0KCRwYXJlbnRHcm91cCA9ICRjb3JlX3YyX2dyb3VwLkdldCgiJXtJZD0kZ3JvdXBJZH0iKSkNCg0KPGRpdiBjbGFzcz0ibXVsdGlwbGUtY29sdW1uLWxpc3QtaGVhZGVyIj48L2Rpdj4NCjxkaXYgY2xhc3M9Im11bHRpcGxlLWNvbHVtbi1saXN0IGNvbHVtbnMtVE9UQUwiPg0KCTxkaXYgY2xhc3M9Im11bHRpcGxlLWNvbHVtbi1pdGVtIGNvbHVtbi0xIj4NCgkJI3NldCgkY3VycmVudENvbHVtbiA9IDEpDQoJCSNzZXQoJGN1cnJlbnRJdGVtcyA9IDApDQoJCSNzZXQoJGdyb3VwcyA9ICRjb3JlX3YyX2dyb3VwLkxpc3QoIiV7UGFyZW50R3JvdXBJZD0kcGFyZW50R3JvdXAuSWQsUGFnZVNpemU9MTUsU29ydEJ5PSdTb3J0T3JkZXInfSIpKQ0KCQkjZm9yZWFjaCgkZ3JvdXAgaW4gJGdyb3VwcykNCgkJI2VhY2gNCgkJCSNzZXQoJHN1Ykdyb3VwcyA9ICRjb3JlX3YyX2dyb3VwLkxpc3QoIiV7UGFyZW50R3JvdXBJZD0kZ3JvdXAuSWQsUGFnZVNpemU9NixTb3J0Qnk9J1NvcnRPcmRlcid9IikpDQoJCQkjaWYgKCRjdXJyZW50SXRlbXMgKyAkc3ViR3JvdXBzLkNvdW50ICsgMiA+IDE1KQ0KCQkJCSNzZXQoJGN1cnJlbnRDb2x1bW4gPSAkY3VycmVudENvbHVtbiArIDEpDQoJCQkJPC9kaXY+DQoJCQkJI2lmICgkY3VycmVudENvbHVtbiA8IDQpDQoJCQkJCTxkaXYgY2xhc3M9Im11bHRpcGxlLWNvbHVtbi1pdGVtIGNvbHVtbi0kY3VycmVudENvbHVtbiI+DQoJCQkJCSNzZXQoJGN1cnJlbnRJdGVtcyA9IDApDQoJCQkJI2VuZA0KCQkJI2VuZA0KCQkJI2lmICgkY3VycmVudENvbHVtbiA8IDQpDQoJCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LW5hbWUiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGdyb3VwLlVybCkiPiRncm91cC5OYW1lPC9hPjwvZGl2Pg0KCQkJCTx1bCBjbGFzcz0iY29udGVudC1saXN0Ij4NCgkJCQkjZm9yZWFjaCgkc3ViR3JvdXAgaW4gJHN1Ykdyb3VwcykNCgkJCQkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHN1Ykdyb3VwLlVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIj4kc3ViR3JvdXAuTmFtZTwvYT48L2xpPg0KCQkJCSNlbmQNCgkJCQkjaWYgKCRzdWJHcm91cHMuVG90YWxDb3VudCA+IDYpDQoJCQkJCSNzZXQoJHJlbWFpbmluZ0l0ZW1zID0gJHN1Ykdyb3Vwcy5Ub3RhbENvdW50IC0gNikNCgkJCQkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGdyb3VwLlVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctbW9yZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cE5hdmlnYXRpb25fQW5kTW9yZScpLCAkcmVtYWluaW5nSXRlbXMuVG9TdHJpbmcoKSk8L2E+PC9saT4NCgkJCQkJI3NldCgkY3VycmVudEl0ZW1zID0gJGN1cnJlbnRJdGVtcyArIDEpDQoJCQkJI2VuZA0KCQkJCTwvdWw+DQoJCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+DQoJCQkJI3NldCgkY3VycmVudEl0ZW1zID0gJGN1cnJlbnRJdGVtcyArIDIgKyAkc3ViR3JvdXBzLkNvdW50KQ0KCQkJI2VuZA0KCQkjZW5kDQoJCSNpZiAoJGdyb3Vwcy5Ub3RhbENvdW50ID4gMTUpDQoJCQkjc2V0KCRyZW1haW5pbmdJdGVtcyA9ICRncm91cHMuVG90YWxDb3VudCAtIDE1KQ0KCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtbmFtZSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcGFyZW50R3JvdXAuVXJsKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdHcm91cE5hdmlnYXRpb25fQW5kTW9yZScpLCAkcmVtYWluaW5nSXRlbXMuVG9TdHJpbmcoKSk8L2E+PC9kaXY+DQoJCQk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+DQoJCQk8L3VsPg0KCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+DQoJCSNlbmQNCgk8L2Rpdj4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0ibXVsdGlwbGUtY29sdW1uLWxpc3QtZm9vdGVyIj48L2Rpdj4NCg0KDQo=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciByZWZyZXNoTGlzdCA9IGZ1bmN0aW9uKGNvbnRleHQsIGxpc3QsIGlzUGFyZW50KQ0KCXsNCgkJdmFyIG1vcmVIdG1sID0gJCgnPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+PHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPjwvdWw+PGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+Jyk7DQoNCgkJdmFyIGl0ZW1zID0gJCgnLm5hdmlnYXRpb24taXRlbS5lbnRyeScsIGxpc3QpOw0KCQl2YXIgdmlld01vcmUgPSAkKCcuaW50ZXJuYWwtbGluay52aWV3LW1vcmUnLCBsaXN0KTsNCgkJdmFyIHRvdGFsSXRlbXMgPSBpdGVtcy5sZW5ndGg7DQoJCXZhciBpdGVtQ291bnQgPSAwOw0KDQoJCWl0ZW1zLmhpZGUoKS51bmJpbmQoKS5kYXRhKCduYXZpZ2F0aW9uLWdyb3Vwcy1tYW5hZ2VkJywgJ3RydWUnKTsNCgkJdmlld01vcmUudW5iaW5kKCkucGFyZW50KCkuaGlkZSgpLmRhdGEoJ25hdmlnYXRpb24tZ3JvdXBzLW1hbmFnZWQnLCAndHJ1ZScpOw0KDQoJICAgIGNvbnRleHQudmlld01vcmVXaWR0aCA9IGNvbnRleHQudmlld01vcmVXaWR0aCB8fCAoZnVuY3Rpb24oKXsNCgkgICAgCXZpZXdNb3JlLnBhcmVudCgpLnNob3coKTsNCgkgICAgCXZhciB3aWR0aCA9IHZpZXdNb3JlLnBhcmVudCgpLm91dGVyV2lkdGgodHJ1ZSk7DQoJICAgIAl2aWV3TW9yZS5wYXJlbnQoKS5oaWRlKCk7DQoJICAgIAlyZXR1cm4gd2lkdGg7DQoJICAgIH0pKCk7DQoJICAgIHZhciB0b3RhbFdpZHRoID0gbGlzdC53aWR0aCgpIC0gY29udGV4dC52aWV3TW9yZVdpZHRoOw0KCQkkKCdsaTpub3QoW25hdmlnYXRpb24tZ3JvdXBzLW1hbmFnZWQ9InRydWUiXSknLCBsaXN0KS5lYWNoKGZ1bmN0aW9uKCkNCgkJew0KCQkJaWYgKCQodGhpcykuY3NzKCdkaXNwbGF5JykgIT0gJ25vbmUnKSB7DQoJCQkJdG90YWxXaWR0aCAtPSAkKHRoaXMpLm91dGVyV2lkdGgodHJ1ZSk7DQoJCQl9DQoJCX0pOw0KDQoJCXZhciBjdXJyZW50V2lkdGggPSAwOw0KCQl2YXIgaGFzTW9yZSA9IGZhbHNlOw0KCQlpdGVtcy5lYWNoKGZ1bmN0aW9uKCkNCgkJew0KCQkJaXRlbUNvdW50Kys7DQoJCQl2YXIgdGhpc1dpZHRoID0gJCh0aGlzKS5vdXRlcldpZHRoKHRydWUpOw0KDQoJCQlpZiAoKGN1cnJlbnRXaWR0aCArIHRoaXNXaWR0aCA8IHRvdGFsV2lkdGgpICYmIGhhc01vcmUgPT09IGZhbHNlKQ0KCQkJew0KCQkJCSQodGhpcykuc2hvdygpOw0KCQkJCWN1cnJlbnRXaWR0aCA9IGN1cnJlbnRXaWR0aCArIHRoaXNXaWR0aDsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQloYXNNb3JlID0gdHJ1ZTsNCgkJCQl2YXIgZSA9ICQodGhpcykuY2xvbmUoKTsNCgkJCQlpZiAoaXRlbUNvdW50ID09PSB0b3RhbEl0ZW1zKQ0KCQkJCXsNCgkJCQkJZS5hZGRDbGFzcygibGFzdCIpOw0KCQkJCX0NCg0KCQkJCW1vcmVIdG1sLmZpbHRlcigndWwuY29udGVudC1saXN0JykuYXBwZW5kKGUuc2hvdygpKTsNCgkJCX0NCgkJfSk7DQoNCgkJaWYgKGhhc01vcmUpIHsNCgkJCXZpZXdNb3JlLnBhcmVudCgpLnNob3coKTsNCgkJfQ0KCQllbHNlDQoJCXsNCgkJCXZpZXdNb3JlLnBhcmVudCgpLmhpZGUoKTsNCgkJfQ0KDQoJCWF0dGFjaEhhbmRsZXJzVG9MaXN0KGNvbnRleHQsIGxpc3QsIG1vcmVIdG1sKTsNCgl9LA0KCWF0dGFjaEhhbmRsZXJzVG9MaXN0ID0gZnVuY3Rpb24oY29udGV4dCwgbGlzdCwgbW9yZUh0bWwpDQoJew0KCQkkKCcubmF2aWdhdGlvbi1pdGVtLmVudHJ5LndpdGgtY2hpbGRyZW4gYS5pbnRlcm5hbC1saW5rLnZpZXctZ3JvdXAsIC5uYXZpZ2F0aW9uLWl0ZW0ubGFzdCBhLmludGVybmFsLWxpbmsudmlldy1tb3JlJywgbGlzdCkNCgkJCS5tb3VzZW92ZXIoZnVuY3Rpb24oKSB7DQoJCQkJaWYgKGNvbnRleHQuY3VycmVudFBvcHVwRWxlbWVudCA9PT0gdGhpcykNCgkJCQl7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoNCgkJCQloaWRlUG9wdXAoY29udGV4dCk7DQoJCQkJY29udGV4dC5jdXJyZW50UG9wdXBFbGVtZW50ID0gdGhpczsNCgkJCQl2YXIgZWxlbWVudCA9IHRoaXM7DQoJCQkJdmFyIGdyb3VwSWQgPSAkKHRoaXMpLmF0dHIoJ2lkJykuc3BsaXQoJy0nKVsxXTsNCg0KCQkJCWNvbnRleHQucG9wdXBUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgc2hvd05hdmlnYXRpb24oY29udGV4dCwgZWxlbWVudCwgZ3JvdXBJZCwgbW9yZUh0bWwpOyB9LCA0OTkpOw0KCQkJfSkNCgkJCS5tb3VzZW91dChmdW5jdGlvbigpIHsNCgkJCQlpZiAoY29udGV4dC5jdXJyZW50UG9wdXBFbGVtZW50ID09PSB0aGlzKQ0KCQkJCXsNCgkJCQkJY2xlYXJUaW1lb3V0KGNvbnRleHQucG9wdXBUaW1lb3V0KTsNCgkJCQkJY2xlYXJUaW1lb3V0KGNvbnRleHQucG9wdXBIaWRlVGltZW91dCk7DQoJCQkJCWNvbnRleHQucG9wdXBIaWRlVGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBoaWRlUG9wdXAoY29udGV4dCk7IH0sIDE0OSk7DQoJCQkJfQ0KCQkJfSk7DQoJfSwNCglzaG93TmF2aWdhdGlvbiA9IGZ1bmN0aW9uKGNvbnRleHQsIGVsZW1lbnQsIGdyb3VwSWQsIG1vcmVIdG1sKQ0KCXsNCgkJaWYgKGdyb3VwSWQgPT09ICdNb3JlJykNCgkJew0KCQkJJChlbGVtZW50KS5wYXJlbnQoKS5hZGRDbGFzcygnYWN0aXZlJyk7DQoJCQljb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdodG1sJywgbW9yZUh0bWwpOw0KCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnc2hvdycsICQoZWxlbWVudCkucGFyZW50KCkpOw0KCQl9DQoJCWVsc2UNCgkJew0KCQkJaWYgKGNvbnRleHQuY2hpbGRHcm91cENhY2hlW2dyb3VwSWRdKQ0KCQkJew0KCQkJCSQoZWxlbWVudCkucGFyZW50KCkuYWRkQ2xhc3MoJ2FjdGl2ZScpOw0KCQkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2h0bWwnLCBjb250ZXh0LmNoaWxkR3JvdXBDYWNoZVtncm91cElkXSk7DQoJCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnc2hvdycsICQoZWxlbWVudCkucGFyZW50KCkpOw0KCQkJCXJldHVybjsNCgkJCX0NCg0KCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJdXJsOiBjb250ZXh0LmNoaWxkR3JvdXBzVXJsLA0KCQkJCWRhdGE6IHsgd19ncm91cElkOiBncm91cElkIH0sDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQlpZiAoY29udGV4dC5jdXJyZW50UG9wdXBFbGVtZW50ID09PSBlbGVtZW50KQ0KCQkJCQl7DQoJCQkJCQkkKGVsZW1lbnQpLnBhcmVudCgpLmFkZENsYXNzKCdhY3RpdmUnKTsNCg0KCQkJCQkJdmFyIGpxID0gJChyZXNwb25zZSk7DQoJCQkJCQl2YXIgY29sdW1uc0NvdW50ID0ganEuZmluZCgnLm11bHRpcGxlLWNvbHVtbi1pdGVtJykubGVuZ3RoOw0KCQkJCQkJdmFyIGNvbHVtbnMgPSBqcS5maWx0ZXIoJy5tdWx0aXBsZS1jb2x1bW4tbGlzdCcpOw0KCQkJCQkJaWYgKGNvbHVtbnMubGVuZ3RoID4gMCkNCgkJCQkJCXsNCgkJCQkJCQljb2x1bW5zLmF0dHIoJ2NsYXNzJywgY29sdW1ucy5hdHRyKCdjbGFzcycpLnJlcGxhY2UoL1RPVEFML2csIGNvbHVtbnNDb3VudCkpOw0KCQkJCQkJfQ0KDQoJCQkJCQljb250ZXh0LmNoaWxkR3JvdXBDYWNoZVtncm91cElkXSA9IGpxOw0KCQkJCQkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaHRtbCcsIGpxKTsNCgkJCQkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ3Nob3cnLCAkKGVsZW1lbnQpLnBhcmVudCgpKTsNCgkJCQkJfQ0KCQkJCX0sDQoJCQkJZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5lcnJvciwNCgkJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkNCgkJCQl7DQoJCQkJCWlmIChjb250ZXh0LmN1cnJlbnRQb3B1cEVsZW1lbnQgPT09IGVsZW1lbnQpDQoJCQkJCXsNCgkJCQkJCWNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2h0bWwnLCAnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciBlcnJvcl9fbWVzc2FnZSI+JyArIGRlc2MgKyAnPC9kaXY+Jyk7DQoJCQkJCQljb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdzaG93JywgJChlbGVtZW50KS5wYXJlbnQoKSk7DQoJCQkJCX0NCgkJCQl9DQoJCQl9KTsNCgkJfQ0KCX0sDQoJaGlkZVBvcHVwID0gZnVuY3Rpb24oY29udGV4dCkNCgl7DQoJCWlmIChjb250ZXh0LmN1cnJlbnRQb3B1cEVsZW1lbnQpDQoJCXsNCgkJCSQoY29udGV4dC5jdXJyZW50UG9wdXBFbGVtZW50KS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7DQoJCX0NCg0KCQljbGVhclRpbWVvdXQoY29udGV4dC5wb3B1cEhpZGVUaW1lb3V0KTsNCgkJY2xlYXJUaW1lb3V0KGNvbnRleHQucG9wdXBUaW1lb3V0KTsNCgkJY29udGV4dC5jdXJyZW50UG9wdXBFbGVtZW50ID0gbnVsbDsNCgkJY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaGlkZScpOw0KCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5uYXZpZ2F0aW9uR3JvdXAgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQoNCgkJCWNvbnRleHQuY2hpbGRHcm91cENhY2hlID0ge307DQoNCgkJCWNvbnRleHQucG9wdXAgPSAkKCc8ZGl2PjwvZGl2PicpLmdsb3dQb3BVcFBhbmVsKHsNCgkJCQljc3NDbGFzczogJ21lbnUgZ3JvdXAtbmF2aWdhdGlvbi1jb250ZW50IGdyb3VwLW5hdmlnYXRpb24tY29udGVudF9fbWVudScsDQoJCQkJcG9zaXRpb246ICdkb3duJywNCgkJCQl6SW5kZXg6IDEwMDAsDQoJCQkJaGlkZU9uRG9jdW1lbnRDbGljazogZmFsc2UNCgkJCX0pDQoJCQkJLmJpbmQoJ2dsb3dQb3BVcFBhbmVsTW91c2VPdmVyJywgZnVuY3Rpb24oKSB7IGNsZWFyVGltZW91dChjb250ZXh0LnBvcHVwSGlkZVRpbWVvdXQpOyB9KQ0KCQkJCS5iaW5kKCdnbG93UG9wVXBQYW5lbE1vdXNlT3V0JywgZnVuY3Rpb24oKQ0KCQkJCSB7DQoJCQkJCWNsZWFyVGltZW91dChjb250ZXh0LnBvcHVwSGlkZVRpbWVvdXQpOw0KCQkJCQljb250ZXh0LnBvcHVwSGlkZVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsgaGlkZVBvcHVwKGNvbnRleHQpOyB9LCAxNDkpOw0KCQkJCSB9KQ0KCQkJCS5nbG93UG9wVXBQYW5lbCgnaHRtbCcsICcnKTsNCg0KCQkJJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKQ0KCQkJew0KCQkJCXJlZnJlc2hMaXN0KGNvbnRleHQsIGNvbnRleHQucGFyZW50TGlzdCwgdHJ1ZSk7DQoJCQkJcmVmcmVzaExpc3QoY29udGV4dCwgY29udGV4dC5jaGlsZExpc3QsIGZhbHNlKTsNCgkJCX0pOw0KDQoJCQkkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQl2YXIgdyA9ICQod2luZG93KS53aWR0aCgpOw0KCQkJCWlmICghY29udGV4dC5sYXN0V2luZG93V2lkdGggfHwgY29udGV4dC5sYXN0V2luZG93V2lkdGggIT09IHcpDQoJCQkJew0KCQkJCQljb250ZXh0Lmxhc3RXaW5kb3dXaWR0aCA9IHc7DQoJCQkJCXJlZnJlc2hMaXN0KGNvbnRleHQsIGNvbnRleHQucGFyZW50TGlzdCwgdHJ1ZSk7DQoJCQkJCXJlZnJlc2hMaXN0KGNvbnRleHQsIGNvbnRleHQuY2hpbGRMaXN0LCBmYWxzZSk7DQoJCQkJfQ0KCQkJfSk7DQoJCX0NCgl9Ow0KfShqUXVlcnkpKTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_OAuthClientAuthorize_Name}" version="7.5.0.32466" description="${resource:Core_OAuthClientAuthorize_Description}" instanceIdentifier="e0074c30237e41769a3e11f89fb209ed" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="oauth-client-authorize">
		<contentScript>
#set ($accessingUser = $core_v2_user.Accessing)
#if (!$core_v2_user.IsRegistered($accessingUser.Id))
	$core_v2_page.Redirect($core_v2_urls.LogIn("%{ReturnToCurrentUrl='true'}"))
#end

#set ($submitId = $core_v2_widget.UniqueId('submit'))
#set ($denyId = $core_v2_widget.UniqueId('deny'))
#set ($client = false)
#set ($client = $core_v2_oauthClient.Current)
#set ($scope = '')
#set ($scope = $core_v2_page.GetQueryStringValue('scope'))
#set ($state = '')
#set ($state = $core_v2_page.GetQueryStringValue('state'))
#set ($responseType = '')
#set ($responseType = $core_v2_page.GetQueryStringValue('response_type'))
#set ($redirectUrl = '')
#set ($redirectUrl = $core_v2_page.GetQueryStringValue('redirect_uri'))

#set($validateUrl = false)
#if ($client)
	#set($validateUrl = $core_v2_oauthClient.Validate($client.Id, $redirectUrl, $responseType, $scope, $state))
#else
	#set($validateUrl = $core_v2_oauthClient.Validate($redirectUrl, $responseTYpe, $scope, $state))
#end
#if ($validateUrl &amp;&amp; $validateUrl != '')
	$core_v2_page.Redirect($validateUrl)
#end

#if (!$client)
	&lt;div class="message error"&gt;$core_v2_language.GetResource('ClientNotFound')&lt;/div&gt;
#else
	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;legend class="field-list-description"&gt;&lt;span&gt;$core_v2_language.GetResource('Authorize') $core_v2_encoding.HtmlEncode($client.Name)?&lt;/span&gt;&lt;/legend&gt;
		&lt;ul class="field-list"&gt;
			&lt;li class="field-item"&gt;
				&lt;label class="field-item-header"&gt;$core_v2_language.GetResource('AppAuthorizePrompt')&lt;/label&gt;
				&lt;span class="field-item-input"&gt;
					&lt;a id="$core_v2_encoding.HtmlAttributeEncode($submitId)" class="internal-link authorize-app submit-button" href="#"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Allow')&lt;/a&gt;
					&lt;a id="$core_v2_encoding.HtmlAttributeEncode($denyId)" class="internal-link deny-app cancel-button" href="#"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Deny')&lt;/a&gt;
				&lt;/span&gt;
				&lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
				&lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;

	#registerEndOfPageHtml('telligent.evolution.widgets.oauthClientAuthorize')
		&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
	#end
	#registerEndOfPageHtml()
		&lt;script type="text/javascript"&gt;
		//&lt;![CDATA[
		jQuery(document).ready(function(j){
			jQuery.telligent.evolution.widgets.oauthClientAuthorize.register({
				wrapperSelector: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)",
				submitButtonSelector: "#$core_v2_encoding.JavascriptEncode($submitId)",
				denyButtonSelector: "#$core_v2_encoding.JavascriptEncode($denyId)",
				authorizeUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('authorize.vm'))",
				denyUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('deny.vm'))",
				clientId: "$core_v2_encoding.JavascriptEncode($client.Id.ToString())",
				callbackUrl: "$core_v2_encoding.JavascriptEncode($redirectUrl)",
				responseType: "$core_v2_encoding.JavascriptEncode($responseType)",
				scope: "$core_v2_encoding.JavascriptEncode($scope)",
				state: "$core_v2_encoding.JavascriptEncode($state)"
			});
		});
		//]]&gt;
		&lt;/script&gt;
	#end
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_OAuthClientAuthorize_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_OAuthClientAuthorize_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_OAuthClientAuthorize_Name">OAuth App Authorization</resource><resource name="Core_OAuthClientAuthorize_Description">Allows you to authorize an OAuth client application.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Authorize">Authorize</resource><resource name="Allow">Allow</resource><resource name="Deny">Deny</resource><resource name="AppAuthorizePrompt">This application would like to act on your behalf on this site.</resource><resource name="ClientNotFound">Client not found for this ID</resource></language></languageResources>
		<files>
			<file name="authorize.vm">I3NldCgkY2xpZW50SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlR3VpZCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnY2xpZW50SWQnKSkpCiNzZXQoJGNhbGxiYWNrVXJsID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2NhbGxiYWNrVXJsJykpCiNzZXQoJHJlc3BvbnNlX3R5cGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgncmVzcG9uc2VfdHlwZScpKQojc2V0KCRzY29wZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzY29wZScpKQojc2V0KCRzdGF0ZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzdGF0ZScpKQoKI3NldCgkcmV0dXJuVXJsID0gJGNvcmVfdjJfb2F1dGhDbGllbnQuQXV0aG9yaXplKCRjbGllbnRJZCwgIiRjYWxsYmFja1VybCIsICIkcmVzcG9uc2VfdHlwZSIsICIkc2NvcGUiLCAiJHN0YXRlIikpCgoKCiRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQp7InJldHVyblVybCI6ICIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRyZXR1cm5VcmwpIn0=</file>
			<file name="deny.vm">I3NldCgkY2xpZW50SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlR3VpZCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnY2xpZW50SWQnKSkpCiNzZXQoJGNhbGxiYWNrVXJsID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2NhbGxiYWNrVXJsJykpCiNzZXQoJHJlc3BvbnNlX3R5cGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgncmVzcG9uc2VfdHlwZScpKQojc2V0KCRzY29wZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzY29wZScpKQojc2V0KCRzdGF0ZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzdGF0ZScpKQoKI3NldCgkcmV0dXJuVXJsID0gJGNvcmVfdjJfb2F1dGhDbGllbnQuRGVueSgkY2xpZW50SWQsICIkY2FsbGJhY2tVcmwiLCAiJHJlc3BvbnNlX3R5cGUiLCAiJHNjb3BlIiwgIiRzdGF0ZSIpKQoKCiRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQp7InJldHVyblVybCI6ICIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRyZXR1cm5VcmwpIn0=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpewoKCXZhciBhdXRob3JpemVDbGllbnQgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJJCgncHJvY2Vzc2luZycsIGNvbnRleHQud3JhcHBlcikuc2hvdygpOwoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsKCQkJdXJsOiBjb250ZXh0LmF1dGhvcml6ZVVybCwKCQkJZGF0YTogewoJCQkJY2xpZW50SWQ6IGNvbnRleHQuY2xpZW50SWQsCgkJCQljYWxsYmFja1VybDogY29udGV4dC5jYWxsYmFja1VybCwKCQkJCXJlc3BvbnNlX3R5cGU6IGNvbnRleHQucmVzcG9uc2VUeXBlLAoJCQkJc2NvcGU6IGNvbnRleHQuc2NvcGUsCgkJCQlzdGF0ZTogY29udGV4dC5zdGF0ZQoJCQl9LAoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJaWYgKHJlc3BvbnNlLnJldHVyblVybCkKCQkJCQl3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlc3BvbnNlLnJldHVyblVybDsKCQkJfQoJCX0pOwoJfSwKCWRlbnlDbGllbnQgPSBmdW5jdGlvbihjb250ZXh0KSB7CgkJJCgncHJvY2Vzc2luZycsIGNvbnRleHQud3JhcHBlcikuc2hvdygpOwoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsKCQkJdXJsOiBjb250ZXh0LmRlbnlVcmwsCgkJCWRhdGE6IHsKCQkJCWNsaWVudElkOiBjb250ZXh0LmNsaWVudElkLAoJCQkJY2FsbGJhY2tVcmw6IGNvbnRleHQuY2FsbGJhY2tVcmwsCgkJCQlyZXNwb25zZV90eXBlOiBjb250ZXh0LnJlc3BvbnNlVHlwZSwKCQkJCXNjb3BlOiBjb250ZXh0LnNjb3BlLAoJCQkJc3RhdGU6IGNvbnRleHQuc3RhdGUKCQkJfSwKCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCWlmIChyZXNwb25zZS5yZXR1cm5VcmwpCgkJCQkJd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZXNwb25zZS5yZXR1cm5Vcmw7CgkJCX0KCQl9KTsKCX07CgoJdmFyIGFwaSA9IHsKCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgewoJCQljb250ZXh0LndyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKTsKCgkJCSQoY29udGV4dC5zdWJtaXRCdXR0b25TZWxlY3RvcikuY2xpY2soZnVuY3Rpb24oKSB7IAoJCQkJYXV0aG9yaXplQ2xpZW50KGNvbnRleHQpOwoJCQl9KTsKCQkJJChjb250ZXh0LmRlbnlCdXR0b25TZWxlY3RvcikuY2xpY2soZnVuY3Rpb24oKSB7IAoJCQkJZGVueUNsaWVudChjb250ZXh0KTsKCQkJfSk7CgkJfQoJfTsKCglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLm9hdXRoQ2xpZW50QXV0aG9yaXplID0gYXBpOwoKfShqUXVlcnkpKQ==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_Page_Name}" version="7.5.0.32466" description="${resource:Wikis_Page_Description}" instanceIdentifier="3be81e4a13d74e78ab039be987d2f7fb" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="page">
		<contentScript>
#set ($wiki = false)
#set ($wiki = $core_v2_wiki.Current)
#if (!$wiki)
	$core_v2_widget.Hide()
#end
#set ($page = false)
#set ($page = $core_v2_wikiPage.CurrentOrDefault)
#if (!$page)
	$core_v2_widget.Hide()
#end
#set ($body = $page.Body())
#set ($hasRatePagePermission = $core_v2_nodePermission.Get("wikis", $wiki.Id, "Wiki_RatePage").IsAllowed)
#set ($accessingUserIsRegistered = $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))

&lt;div class="full-post-header"&gt;&lt;/div&gt;
&lt;div class="full-post"&gt;

	&lt;h3 class="post-name"&gt;$page.Title&lt;/h3&gt;

	#if ($hasRatePagePermission)
		&lt;div class="post-rating"&gt;
			$core_v2_ui.Rate($page.ContentId, $core_v2_wikiPage.ContentTypeId)
		&lt;/div&gt;
	#end

	$core_v2_wikiPage.IncrementViewCount($page.Id)

	#if ($body &amp;&amp; $body.Length &gt; 0)
		&lt;div class="post-content user-defined-markup"&gt;$body&lt;/div&gt;
	#end

	&lt;div class="post-actions"&gt;
		&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
		&lt;ul class="navigation-list"&gt;
			#if ($core_v2_bookmark.SupportsBookmarks($core_v2_wikiPage.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($page.ContentId, $core_v2_wikiPage.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($page.ContentId, $core_v2_wikiPage.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($page.ContentId, $core_v2_wikiPage.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		&lt;/ul&gt;
		&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;

	&lt;div class="post-tags"&gt;
		#set($tagUrlFormat = $core_v2_page.AbsoluteUrl($core_v2_wikiUrls.Tags($wiki.Id, $core_v2_utility.MakeList('TAGNAME')).Replace('TAGNAME','{tag}')))
        $core_v2_ui.Tag($page.ContentId, $core_v2_wikiPage.ContentTypeId, "%{UrlFormat=$tagUrlFormat}")
	&lt;/div&gt;

	#if ($accessingUserIsRegistered)
		#set ($likeFormat = '{toggle} &lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;{count}&lt;/span&gt;')
	#else
		#set ($likeFormat = '&lt;span class="count"&gt;&lt;span class="icon"&gt;&lt;/span&gt;{count}&lt;/span&gt;')
	#end
    &lt;div class="post-like"&gt;
        $core_v2_ui.Like($page.ContentId, $core_v2_wikiPage.ContentTypeId, "%{ Format = $likeFormat }")
    &lt;/div&gt;
    &lt;div class="post-moderate"&gt;
        #if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
            $core_v2_ui.Moderate($page.ContentId, $core_v2_wikiPage.ContentTypeId, "%{ CssClass = 'expanded' }")
        #end
    &lt;/div&gt;
&lt;/div&gt;
&lt;div class="full-post-footer"&gt;&lt;/div&gt;
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_Page_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_Page_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_Page_Name">Wikis - Page</resource><resource name="Wikis_Page_Description">Displays a wiki page.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource></language></languageResources>
		<requiredContext>
			<context id="578aa547a44c45d39159cab85e3002cc" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_PageDetails_Name}" version="7.5.0.32466" description="${resource:Wikis_PageDetails_Description}" instanceIdentifier="366be7a93d264848bffdbdde8c40a599" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="page-details">
		<contentScript>

#set($wiki = $core_v2_wiki.Current)
#set($wikiPage = $core_v2_wikiPage.CurrentOrDefault)
## limit the paged set to just 1 return, just enough to get the TotalCount on the $revisions set
#set($revisions = $core_v2_wikiPageRevision.List($wikiPage.WikiId, "%{PageId = $wikiPage.Id, PageSize = 1}"))

#if($revisions &amp;&amp; $revisions.TotalCount &gt; 0)
	#set ($earliestRevision = false)
	#set ($earliestRevisions = $core_v2_wikiPageRevision.List($wikiPage.WikiId, "%{ PageId = $wikiPage.Id, PageIndex = 0, PageSize = 1, SortOrder = 'Ascending' }"))
	#foreach ($revision in $earliestRevisions)
		#set ($earliestRevision = $revision)
	#end
	#set($firstPublishedBy = $earliestRevision.User)
	#set($firstPublishedAt = $earliestRevision.LastModifiedDate)
#else
	#set($firstPublishedBy = $wikiPage.User)
	#set($firstPublishedAt = $wikiPage.LastModifiedDate)
#end

&lt;div class="attribute-list-header"&gt;&lt;/div&gt;
&lt;ul class="attribute-list"&gt;
	&lt;li class="attribute-item page-author"&gt;
		&lt;span class="attribute-value"&gt;
			&lt;span class="avatar"&gt;
				#if ($firstPublishedBy.ProfileUrl)
					&lt;a class="internal-link view-user-profile" href="$core_v2_encoding.HtmlAttributeEncode($firstPublishedBy.ProfileUrl)"&gt;
						$core_v2_ui.GetResizedImageHtml($firstPublishedBy.AvatarUrl,27,27,"%{ style='border-width: 0px;', alt=$firstPublishedBy.DisplayName}")
					&lt;/a&gt;
				#else
					$core_v2_ui.GetResizedImageHtml($firstPublishedBy.AvatarUrl,27,27,"%{ style='border-width: 0px;', alt=$firstPublishedBy.DisplayName}")
				#end
			&lt;/span&gt;
			&lt;span class="user-name"&gt;
        $core_v2_language.GetResource('CF_Wikis_PageDetails_OriginalAuthor')
				#if ($firstPublishedBy.ProfileUrl)
					&lt;a class="internal-link view-user-profile" href="$core_v2_encoding.HtmlAttributeEncode($firstPublishedBy.ProfileUrl)"&gt;
						$firstPublishedBy.DisplayName
					&lt;/a&gt;
				#else
					$firstPublishedBy.DisplayName
				#end
			&lt;/span&gt;
		&lt;/span&gt;
	&lt;/li&gt;
	&lt;li class="attribute-item page-created"&gt;
		&lt;span class="attribute-name"&gt;$core_v2_language.GetResource('CF_Wikis_PageDetails_CreateDate')&lt;/span&gt;
		&lt;span class="attribute-value"&gt;$core_v2_language.FormatDateAndTime($firstPublishedAt)&lt;/span&gt;
	&lt;/li&gt;
	#if($revisions &amp;&amp; $revisions.TotalCount &gt; 0)
		&lt;li class="attribute-item page-author"&gt;
			&lt;span class="attribute-value"&gt;
				&lt;span class="avatar"&gt;
					#if ($wikiPage.User.ProfileUrl)
						&lt;a class="internal-link view-user-profile" href="$core_v2_encoding.HtmlAttributeEncode($wikiPage.User.ProfileUrl)"&gt;
							$core_v2_ui.GetResizedImageHtml($wikiPage.User.AvatarUrl,27,27,"%{ style='border-width: 0px;', alt=$wikiPage.User.DisplayName}")
						&lt;/a&gt;
					#else
						$core_v2_ui.GetResizedImageHtml($wikiPage.User.AvatarUrl,27,27,"%{ style='border-width: 0px;', alt=$wikiPage.User.DisplayName}")
					#end
				&lt;/span&gt;
				&lt;span class="user-name"&gt;
          $core_v2_language.GetResource('CF_Wikis_PageDetails_LastModifiedBy')
					#if ($wikiPage.User.ProfileUrl)
						&lt;a class="internal-link view-user-profile" href="$core_v2_encoding.HtmlAttributeEncode($wikiPage.User.ProfileUrl)"&gt;
							$wikiPage.User.DisplayName
						&lt;/a&gt;
					#else
						$wikiPage.User.DisplayName
					#end
				&lt;/span&gt;
			&lt;/span&gt;
		&lt;/li&gt;
		&lt;li class="attribute-item page-last-modified"&gt;
			&lt;span class="attribute-name"&gt;$core_v2_language.GetResource('CF_Wikis_PageDetails_CreateDate')&lt;/span&gt;
			&lt;span class="attribute-value"&gt;$core_v2_language.FormatDateAndTime($wikiPage.LastModifiedDate)&lt;/span&gt;
		&lt;/li&gt;
	#end
	#if($revisions)
		#set($totalRevisionCount = $revisions.TotalCount + 1)
	#else
		#set($totalRevisionCount = 1)
	#end
	&lt;li class="attribute-item page-revision-count"&gt;
		&lt;span class="attribute-name"&gt;$core_v2_language.GetResource('CF_Wikis_PageDetails_Revisions')&lt;/span&gt;
		&lt;span class="attribute-value"&gt;$totalRevisionCount&lt;/span&gt;
	&lt;/li&gt;
	&lt;li class="attribute-item post-reply-count"&gt;
		&lt;span class="attribute-name"&gt;$core_v2_language.GetResource('CF_Wikis_PageDetails_Comments')&lt;/span&gt;
		&lt;span class="attribute-value"&gt;$wikiPage.CommentCount&lt;/span&gt;
	&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="attribute-list-footer"&gt;&lt;/div&gt;

			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_PageDetails_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_PageDetails_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_PageDetails_Name">Wikis - Page Details</resource><resource name="Wikis_PageDetails_Description">Displays details of the current wiki page, such as author and last revision.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_Wikis_PageDetails_OriginalAuthor">Created by</resource><resource name="CF_Wikis_PageDetails_CreateDate">When:</resource><resource name="CF_Wikis_PageDetails_LastModifiedBy">Last revision by</resource><resource name="CF_Wikis_PageDetails_Revisions">Revisions:</resource><resource name="CF_Wikis_PageDetails_Comments">Comments:</resource><resource name="Wikis_PageDetails_Title_PageDetails">Page Details</resource></language></languageResources>
		<requiredContext>
			<context id="bcc95458510e481fba2789f3c8c16591" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_PageEdit_Name}" version="7.5.0.32466" description="${resource:Wikis_PageEdit_Description}" instanceIdentifier="f44dd5ccd9034401893a3641b55a620c" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="page-edit">
		<contentScript>
#set($page = false)
#set($page = $core_v2_wikiPage.Current)
#set($parentPage = false)
#set($pageTitle = '')
#set($pageBody = '')
#set($pageRevision = -1)
#set($wiki = $core_v2_wiki.Current)
#set($tags = false)
#if($wiki)
    #set($tags = '')
    #set ($allTags = $core_v2_utility.Slice($core_v2_tags.ToStrings($core_v2_wiki.ListTags("%{ WikiId = $wiki.Id }")), 0, 100))
    #foreach($tag in $allTags)
    #each
        #set($tags = "$tags'$core_v2_encoding.JavascriptEncode($core_v2_encoding.HtmlDecode($tag))'")
    #between
        #set($tags = "$tags,")
    #end
#end
#set($parentPage = $core_v2_wikiPage.CurrentParent)
#if (!$parentPage &amp;&amp; $page &amp;&amp; $page.ParentPageId &gt; 0)
    #set($parentPage = $core_v2_wikiPage.Get("%{Id=$page.ParentPageId}"))
#end

##This logic handles retrieving a current page, a temporarily stored page from the quick post widget, or a stubbed page from an existing wiki page
#if($page)
    #set($pageTitle = $page.Title)
    #set($pageBody = $page.Body('raw'))
    #set($pageRevision = $page.RevisionNumber)
#elseif($core_v2_page.GetQueryStringValue('tsid'))
    #set($tempData = $core_v2_page.ParseQueryString($core_v2_utility.GetTemporaryData($core_v2_page.GetQueryStringValue('tsid'))))
    #set($pageTitle = $tempData.Value('Subject'))
    #set($pageBody = $tempData.Value('Body'))
#else
    #set($pageTitle = $core_v2_wikiPage.CurrentPageKey)
#end

#set($thread = false)
#set($thread = $core_v2_forumThread.Current)
#if($thread &amp;&amp; $core_v2_nodePermission.Get('forums',$thread.ForumId,'Forum_ReadForum',"%{PostType='threads',PostId=$thread.Id}").IsAllowed)
    #set($pageTitle = $thread.Subject)
    #if($thread.ThreadType == 'Discussion')
        #if ($thread.Author.ProfileUrl)
            #set($pageBody="$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Original_Template'), $thread.Subject, $thread.Body('Raw'), $thread.Author.DisplayName, $thread.Url, $thread.Author.ProfileUrl)")
        #else
            #set($pageBody="$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Original_Template_Anonymous'), $thread.Subject, $thread.Body('Raw'), $thread.Author.DisplayName, $thread.Url)")
        #end
    #else
        #if ($thread.Author.ProfileUrl)
            #set($pageBody="$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_OriginalQuestion_Template'), $thread.Subject, $thread.Body('Raw'), $thread.Author.DisplayName, $thread.Url, $thread.Author.ProfileUrl)")
        #else
            #set($pageBody="$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_OriginalQuestion_Template_Anonymous'), $thread.Subject, $thread.Body('Raw'), $thread.Author.DisplayName, $thread.Url)")
        #end
    #end
    #if ($thread.File &amp;&amp; $thread.File.FileUrl &amp;&amp; $thread.File.FileName)
        #set ($temporaryWikiFileContextId = $core_v2_uploadedFile.CreateContextId())
        #if ($thread.File.SaveToTemporaryFiles($temporaryWikiFileContextId, $thread.File.FileName))
            #set ($wikiFile = $core_v2_wikiFiles.Create($wiki.Id, $thread.File.FileName, $temporaryWikiFileContextId))
            #set ($wikiFileUrl = $core_v2_encoding.HtmlAttributeEncode($wikiFile.FileUrl))
            #set ($wikiFilePreview = $core_v2_ui.GetPreviewHtml($wikiFile.FileUrl, "%{Width = 40, Height = 40}"))
            #set ($attachment = $core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Attachment'), $wikiFileUrl, $wikiFilePreview, $wikiFile.FileName))
            #set ($pageBody = "${pageBody}${attachment}")
        #end
    #end
    #set($forumReplies = $core_v2_forumReply.List($thread.Id, "%{PageSize=100,PageIndex=0}"))
    #if ($thread.ThreadType == 'Discussion')
        #foreach ($forumReply in $forumReplies)
            #if ($forumReply.Author.ProfileUrl)
                #set($pageBody="$pageBody$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Template'), $forumReply.Subject, $forumReply.Body('Raw'), $forumReply.Author.DisplayName, $forumReply.Url, $forumReply.Author.ProfileUrl)")
            #else
                #set($pageBody="$pageBody$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Template_Anonymous'), $forumReply.Subject, $forumReply.Body('Raw'), $forumReply.Author.DisplayName, $forumReply.Url)")
            #end
            #if ($forumReply.File &amp;&amp; $forumReply.File.FileUrl &amp;&amp; $forumReply.File.FileName)
                #set ($temporaryWikiFileContextId = $core_v2_uploadedFile.CreateContextId())
                #if ($forumReply.File.SaveToTemporaryFiles($temporaryWikiFileContextId, $forumReply.File.FileName))
                    #set ($wikiFile = $core_v2_wikiFiles.Create($wiki.Id, $forumReply.File.FileName, $temporaryWikiFileContextId))
                    #set ($wikiFileUrl = $core_v2_encoding.HtmlAttributeEncode($wikiFile.FileUrl))
                    #set ($wikiFilePreview = $core_v2_ui.GetPreviewHtml($wikiFile.FileUrl, "%{Width = 40, Height = 40}"))
                    #set ($attachment = $core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Attachment'), $wikiFileUrl, $wikiFilePreview, $wikiFile.FileName))
                    #set ($pageBody = "${pageBody}${attachment}")
                #end
            #end
        #end
    #else
        #foreach($forumReply in $forumReplies)
            #if($forumReply.IsAnswer)
                #if ($forumReply.Author.ProfileUrl)
                    #set($pageBody="$pageBody$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Answer_Template'), $forumReply.Subject, $forumReply.Body('Raw'), $forumReply.Author.DisplayName, $forumReply.Url, $forumReply.Author.ProfileUrl)")
                #else
                    #set($pageBody="$pageBody$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Answer_Template_Anonymous'), $forumReply.Subject, $forumReply.Body('Raw'), $forumReply.Author.DisplayName, $forumReply.Url)")
                #end
            #end
            #if ($forumReply.File &amp;&amp; $forumReply.File.FileUrl &amp;&amp; $forumReply.File.FileName)
                #set ($temporaryWikiFileContextId = $core_v2_uploadedFile.CreateContextId())
                #if ($forumReply.File.SaveToTemporaryFiles($temporaryWikiFileContextId, $forumReply.File.FileName))
                    #set ($wikiFile = $core_v2_wikiFiles.Create($wiki.Id, $forumReply.File.FileName, $temporaryWikiFileContextId))
                    #set ($wikiFileUrl = $core_v2_encoding.HtmlAttributeEncode($wikiFile.FileUrl))
                    #set ($wikiFilePreview = $core_v2_ui.GetPreviewHtml($wikiFile.FileUrl, "%{Width = 40, Height = 40}"))
                    #set ($attachment = $core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Attachment'), $wikiFileUrl, $wikiFilePreview, $wikiFile.FileName))
                    #set ($pageBody = "${pageBody}${attachment}")
                #end
            #end
        #end
        #foreach($forumReply in $forumReplies)
            #if ($forumReply.IsSuggestedAnswer)
                #if ($forumReply.Author.ProfileUrl)
                    #set($pageBody="$pageBody$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_SuggestedAnswer_Template'), $forumReply.Subject, $forumReply.Body('Raw'), $forumReply.Author.DisplayName, $forumReply.Url, $forumReply.Author.ProfileUrl)")
                #else
                    #set($pageBody="$pageBody$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_SuggestedAnswer_Template_Anonymous'), $forumReply.Subject, $forumReply.Body('Raw'), $forumReply.Author.DisplayName, $forumReply.Url)")
                #end
            #elseif (!$forumReply.IsAnswer)
                #if ($forumReply.Author.ProfileUrl)
                    #set($pageBody="$pageBody$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Question_Template'), $forumReply.Subject, $forumReply.Body('Raw'), $forumReply.Author.DisplayName, $forumReply.Url, $forumReply.Author.ProfileUrl)")
                #else
                    #set($pageBody="$pageBody$core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Question_Template_Anonymous'), $forumReply.Subject, $forumReply.Body('Raw'), $forumReply.Author.DisplayName, $forumReply.Url)")
                #end
            #end
            #if ($forumReply.File &amp;&amp; $forumReply.File.FileUrl &amp;&amp; $forumReply.File.FileName)
                #set ($temporaryWikiFileContextId = $core_v2_uploadedFile.CreateContextId())
                #if ($forumReply.File.SaveToTemporaryFiles($temporaryWikiFileContextId, $forumReply.File.FileName))
                    #set ($wikiFile = $core_v2_wikiFiles.Create($wiki.Id, $forumReply.File.FileName, $temporaryWikiFileContextId))
                    #set ($wikiFileUrl = $core_v2_encoding.HtmlAttributeEncode($wikiFile.FileUrl))
                    #set ($wikiFilePreview = $core_v2_ui.GetPreviewHtml($wikiFile.FileUrl, "%{Width = 40, Height = 40}"))
                    #set ($attachment = $core_v2_language.FormatString($core_v2_language.GetResource('Wiki_Thread_Attachment'), $wikiFileUrl, $wikiFilePreview, $wikiFile.FileName))
                    #set ($pageBody = "${pageBody}${attachment}")
                #end
            #end
        #end
    #end
#end

#if($page)
    #if (!$core_v2_nodePermission.Get('wikis',$wiki.Id,'Wiki_ModifyPage',"%{PostType='pages',PostId=$page.Id}").IsAllowed)
        $core_v2_widget.Hide()
    #elseif($page.IsLocked &amp;&amp; !$core_v2_nodePermission.Get('wikis',$wiki.Id,'Wiki_ModifyPage',"%{PostType='pages',PostId=$page.Id}").IsAllowed)
        $core_v2_widget.Hide()
    #end
#elseif(!$core_v2_nodePermission.Get('wikis',$wiki.Id,'Wiki_CreatePage').IsAllowed)
    $core_v2_widget.Hide()
#end

#set($userCanMovePage = $core_v2_nodePermission.Get('wikis',$wiki.Id,'Wiki_MovePage',"%{PostType='pages',PostId=$page.Id}").IsAllowed)

&lt;div class="message warning" id="$core_v2_widget.UniqueId('warning')" style="display: none;"&gt;&lt;/div&gt;

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
    &lt;ul class="field-list"&gt;
        &lt;li class="field-item required post-name"&gt;
            &lt;label for="$core_v2_widget.UniqueId('title')" class="field-item-header"&gt;$core_v2_language.GetResource('Title')&lt;/label&gt;
            &lt;span class="field-item-input"&gt;
                &lt;textarea maxlength="256" rows="1" id="$core_v2_widget.UniqueId('title')" class="scaled" name="$core_v2_widget.UniqueId('title')" size="90"&gt;$!pageTitle&lt;/textarea&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        ## Only allow a parent to be defined if the page is new or not the default page and the user has move permission
        #if(!$page || (!$page.IsDefaultPage &amp;&amp; $userCanMovePage))
            &lt;li class="field-item post-parent"&gt;
                &lt;label for="$core_v2_widget.UniqueId('parent')" class="field-item-header"&gt;$core_v2_language.GetResource('Wikis_ParentPage')&lt;/label&gt;
                &lt;span class="field-item-input"&gt;&lt;input type="text" id="$core_v2_widget.UniqueId('parent')" value="$!parentPage.Id" style="width:400px" /&gt;&lt;/span&gt;
            &lt;/li&gt;
        #end
        &lt;li class="field-item required post-body"&gt;
            &lt;span class="field-item-input"&gt;$core_v2_editor.Render('body',"%{Width='100%', Height='250px', Value='$!pageBody', ContentTypeId=$core_v2_wikiPage.ContentTypeId}")&lt;/span&gt;
            &lt;span class="field-item-validation" style="display:none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item post-tags"&gt;
            &lt;label for="$core_v2_widget.UniqueId('tags')" class="field-item-header"&gt;$core_v2_language.GetResource('CreateEditPost_Tags')&lt;/label&gt;
            &lt;span class="field-item-input"&gt;&lt;input type="text" id="$core_v2_widget.UniqueId('tags')" value="$core_v2_utility.Join(', ', $page.Tags)" size="60" /&gt;&lt;/span&gt;
            &lt;span class="field-item-input"&gt;&lt;input type="button" id="$core_v2_widget.UniqueId('selectTags')" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('TagEditor_SelectTags'))" /&gt;&lt;/span&gt;
        &lt;/li&gt;
        #if($core_v2_nodePermission.Get('Site_FeatureContent').IsAllowed)
            &lt;li class="field-item post-feature"&gt;
                &lt;label for="$core_v2_widget.UniqueId('feature')" class="field-item-header"&gt;$core_v2_language.GetResource('Wikis_Page_FeaturedCheckBox')&lt;/label&gt;
                &lt;span class="field-item-input"&gt;&lt;input type="checkbox" id="$core_v2_widget.UniqueId('feature')" #if($page.IsFeatured)checked="checked"#end /&gt;&lt;/span&gt;
                &lt;span class="field-item-input featured-post-url" id="$core_v2_widget.UniqueId('featureform')"&gt;
                    $core_v2_language.GetResource('Wikis_Page_FeaturedDirections')
                    &lt;input type="text" id="$core_v2_widget.UniqueId('featuredImage')" value="#if($page)$!core_v2_encoding.HtmlAttributeEncode($core_v2_page.AbsoluteUrl($page.FeaturedImage))#end" /&gt;
                &lt;/span&gt;
            &lt;/li&gt;
        #end
        #if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
            &lt;li class="field-item post-subscribe"&gt;
                &lt;label for="$core_v2_widget.UniqueId('subscribe')" class="field-item-header"&gt;$core_v2_language.GetResource('Wikis_Page_Subscribe')&lt;/label&gt;
                &lt;span class="field-item-input"&gt;&lt;input type="checkbox" id="$core_v2_widget.UniqueId('subscribe')"#if(!$page || $core_v2_wikiPage.IsSubscribed($page.Id)) checked="checked"#end /&gt;&lt;/span&gt;
            &lt;/li&gt;
        #end
        &lt;li class="field-item submit-button"&gt;
            &lt;span class="field-item-input"&gt;
                &lt;a id="$core_v2_widget.UniqueId('save')" href="javascript:void(0);" class="internal-link save-post disabled"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Save')&lt;/a&gt;
                &lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
            &lt;/span&gt;
            &lt;span class="field-item-input"&gt;&lt;a id="$core_v2_widget.UniqueId('viewchanges')" href="javascript:void(0);" class="internal-link view-post" style="display: none;"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wiki_PageEdit_ViewChanges')&lt;/a&gt;&lt;/span&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#registerEndOfPageHtml('telligent.evolution.widgets.PageEdit')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
    &lt;script type="text/javascript"&gt;
    //&lt;![CDATA[
    jQuery(document).ready(function()
    {
        jQuery.telligent.evolution.widgets.pageEdit.register({
            allTags:[#if($tags)$tags#end],
            tags:$('#$core_v2_widget.UniqueId('tags')'),
            selectTags:$('#$core_v2_widget.UniqueId('selectTags')'),
            #if($parentPage)
                parentPageTitle:'$core_v2_encoding.JavascriptEncode($core_v2_language.Truncate($parentPage.Title, 60, "..."))',
            #end
            parent:$('#$core_v2_widget.UniqueId('parent')'),
            subscribe:$('#$core_v2_widget.UniqueId('subscribe')'),
            lookupPagesUrl:'$core_v2_widget.GetExecutedFileUrl('LookupPages.vm')',
            subscribeUrl:'$core_v2_widget.GetExecutedFileUrl('Subscribe.vm')',
            noPageMatchesText:'$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('WikiPageLookUpTextBox_NoMatches'))',
            save:jQuery('#$core_v2_widget.UniqueId('save')'),
            title:jQuery('#$core_v2_widget.UniqueId('title')'),
            wikiId: $wiki.Id,
            getBody: function() { return $core_v2_editor.GetContentScript('body'); },
            #if($page)
                pageId:$page.Id,
                originalRevision:#if($page)$page.RevisionNumber#else-1#end,
                overwriteText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wiki_PageEdit_Overwrite'))',
                lockedText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_Page_LockMessage'))',
                viewChanges: $('#$core_v2_widget.UniqueId('viewchanges')'),
                mergeMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.FormatString($core_v2_language.GetResource('Wikis_Page_MergeMessage'), '{AuthorUrl}', '{AuthorName}', '{MergeUrl}'))',
                message: $('#$core_v2_widget.UniqueId('warning')'),
                mergeUrl: '$core_v2_encoding.JavascriptEncode($core_v2_wikiUrls.PageMerge($page.Id, 998877, 778899))',
                userCanLock :#if($core_v2_nodePermission.Get('wikispages',$page.Id,'Wiki_LockPage').IsAllowed) true#else false#end,
            #else
                pageId:-1,
            #end
            threadId:#if($thread) $thread.Id#else -1#end,
            #if($core_v2_nodePermission.Get('Site_FeatureContent').IsAllowed)
                featuredImage: $('#$core_v2_widget.UniqueId('featuredImage')'),
                feature: $('#$core_v2_widget.UniqueId('feature')'),
                featureForm: $('#$core_v2_widget.UniqueId('featureform')'),
                featuredImagePreview: '#if($page)$!core_v2_encoding.JavascriptEncode($core_v2_ui.GetViewHtml($core_v2_page.AbsoluteUrl($page.FeaturedImage)))#end',
            #end
            wrapperId: '$core_v2_widget.WrapperElementId',
            titleSelector: '#$core_v2_widget.UniqueId('title')',
            titleRequiredText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('RequiredField'))',
            pageExistsText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wiki_WikiPageKeyDuplicate'))',
            bodyRequiredText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_PageEdit_PleaseEnterContent'))',
            attachBodyChangeHandler: function(h) { $core_v2_editor.GetAttachOnChangeScript('body', 'h') },
            userCanMovePage: #if($userCanMovePage) true#else false#end
        });
    });
    //]]&gt;
    &lt;/script&gt;
#end
            </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_PageEdit_Name}'))
            </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_PageEdit_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
        </configuration>
		<languageResources><language key="en-us"><resource name="Wikis_PageEdit_Name">Wikis - Edit Page</resource><resource name="Wikis_PageEdit_Description">Edits a wiki page.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Wiki_Thread_Original_Template">&lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by &lt;a href="{4}"&gt;{2}&lt;/a&gt;{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_OriginalQuestion_Template">Original Question: &lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by &lt;a href="{4}"&gt;{2}&lt;/a&gt;{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_Template">&lt;strong&gt;{0}&lt;/strong&gt; by &lt;a href="{4}"&gt;{2}&lt;/a&gt;{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_Answer_Template">Verified Answer: &lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by &lt;a href="{4}"&gt;{2}&lt;/a&gt;{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_SuggestedAnswer_Template">Suggested Answer: &lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by &lt;a href="{4}"&gt;{2}&lt;/a&gt;{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_Question_Template">Question: &lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by &lt;a href="{4}"&gt;{2}&lt;/a&gt;{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_Original_Template_Anonymous">&lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by {2}{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_OriginalQuestion_Template_Anonymous">Original Question: &lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by {2}{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_Template_Anonymous">&lt;strong&gt;{0}&lt;/strong&gt; by {2}{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_Answer_Template_Anonymous">Verified Answer: &lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by {2}{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_SuggestedAnswer_Template_Anonymous">Suggested Answer: &lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by {2}{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_Question_Template_Anonymous">Question: &lt;strong&gt;&lt;a href="{3}"&gt;{0}&lt;/a&gt;&lt;/strong&gt; by {2}{1}&lt;br/&gt;</resource><resource name="Wiki_Thread_Attachment">&lt;div class="post-attachment-container"&gt;&lt;div class="post-attachment-viewer"&gt;&lt;a href="{0}" class="internal-link download-attachment"&gt;{1}&lt;/a&gt;&lt;/div&gt;&lt;div class="post-attachment"&gt;&lt;span class="value"&gt;&lt;a href="{0}" class="internal-link download-attachment"&gt;{2}&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;</resource><resource name="Title">Title</resource><resource name="Wikis_ParentPage">Parent Page</resource><resource name="CreateEditPost_Tags">Tags</resource><resource name="TagEditor_SelectTags">Select Tags...</resource><resource name="Wikis_Page_FeaturedCheckBox">Make this page featured</resource><resource name="Wikis_Page_FeaturedDirections">Select featured item image (optional):</resource><resource name="Wikis_Page_Subscribe">Email me updates to this page</resource><resource name="Save">Save</resource><resource name="Wiki_PageEdit_ViewChanges">View Changes</resource><resource name="WikiPageLookUpTextBox_NoMatches">A matching page could not be found.</resource><resource name="Wiki_PageEdit_Overwrite">Overwrite</resource><resource name="Wikis_Page_LockMessage">Wiki page is locked and changes are not able to be saved.</resource><resource name="Wikis_Page_MergeMessage">&lt;a href='{0}' target='_blank' class='internal-link view-user-profile'&gt;&lt;span&gt;&lt;/span&gt;{1}&lt;/a&gt; posted a &lt;a href="#" onclick="{2}" class='internal-link wiki'&gt;&lt;span&gt;&lt;/span&gt;new version&lt;/a&gt; while you were editing.</resource><resource name="RequiredField">This field is required.</resource><resource name="Wiki_WikiPageKeyDuplicate">A page by this name exists in this wiki already. Please choose another name for this page.</resource><resource name="Wikis_PageEdit_PleaseEnterContent">* Please enter some content</resource></language></languageResources>
		<requiredContext>
			<context id="578aa547a44c45d39159cab85e3002cc" />
		</requiredContext>
		<files>
			<file name="LookupPages.vm">I3NldCgkcGFyZW50UGFnZUlkVG9FeGNsdWRlID0gZmFsc2UpDQojc2V0KCRwYXJlbnRQYWdlSWRUb0V4Y2x1ZGUgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19QYXJlbnRQYWdlSWRUb0V4Y2x1ZGUnKSkpDQojaWYgKCEkcGFyZW50UGFnZUlkVG9FeGNsdWRlKQ0KCSNzZXQoJHBhcmVudFBhZ2VJZFRvRXhjbHVkZSA9IC0xKQ0KI2VuZA0KI3NldCgkc2VhcmNoVGV4dCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19TZWFyY2hUZXh0JykuVG9Mb3dlcigpKQ0KI3NldCgkdG90YWxNYXRjaGVzID0gMCkNCiNzZXQoJGlnbm9yZVVudGlsTGV2ZWwgPSAtMSkNCiRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQ0KDQp7InBhZ2VzIjpbDQojaWYoJGNvcmVfdjJfd2lraS5DdXJyZW50KQ0KCSNmb3JlYWNoKCRwYWdlIGluICRjb3JlX3YyX3V0aWxpdHkuRmxhdHRlbkhpZXJhcmNoeSgkY29yZV92Ml93aWtpVG9jLkxpc3QoJGNvcmVfdjJfd2lraS5DdXJyZW50LklkKSwgJ0NoaWxkcmVuJykpDQoJCSNpZigkdG90YWxNYXRjaGVzIDwgMjApDQoJCQkjaWYgKCRpZ25vcmVVbnRpbExldmVsID4gMCAmJiAkaWdub3JlVW50aWxMZXZlbCA9PSAkcGFnZS5MZXZlbCkjc2V0KCRpZ25vcmVVbnRpbExldmVsID0gLTEpI2VuZA0KCQkJI2lmICgkcGFnZS5JdGVtLklkID09ICRwYXJlbnRQYWdlSWRUb0V4Y2x1ZGUpI3NldCgkaWdub3JlVW50aWxMZXZlbCA9ICRwYWdlLkxldmVsKSNlbmQNCgkJCSNpZiAoJGlnbm9yZVVudGlsTGV2ZWwgPT0gLTEgJiYgJHBhZ2UuSXRlbS5UaXRsZS5Ub0xvd2VyKCkuQ29udGFpbnMoJHNlYXJjaFRleHQpKQ0KCQkJCXsicGFnZUlkIjoiJHBhZ2UuSXRlbS5JZCIsInRpdGxlIjoiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YVNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkcGFnZS5JdGVtLlRpdGxlLCA1NSwgIi4uLiIpKSJ9LA0KCQkJCSNzZXQoJHRvdGFsTWF0Y2hlcyA9ICR0b3RhbE1hdGNoZXMgKyAxKQ0KCQkJI2VuZA0KCQkjZW5kDQoJI2VuZA0KI2VuZA0KbnVsbF19</file>
			<file name="Subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCg0KCSNzZXQoJHN1YnNjcmliZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdzdWJzY3JpYmUnKSkpDQoJJGNvcmVfdjJfd2lraVBhZ2UuU2V0U3Vic2NyaWJlZCgkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd3aWtpUGFnZUlkJykpLCAkc3Vic2NyaWJlKQ0KCXsic3Vic2NyaWJlIjojaWYoJHN1YnNjcmliZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZH0NCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJCSQudGVsbGlnZW50ID0ge307DQoNCglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307DQoNCgl2YXIgdGFiQ2xpY2sgPSBmdW5jdGlvbihjb250ZXh0LCB0YWIpDQoJCXsNCgkJCXZhciB0ID0gJCh0YWIpOw0KCQkJdmFyIHdyYXBwZXIgPSAkKCcjJyArIGNvbnRleHQuZWxlbWVudElkKTsNCgkJCSQoJy5maWx0ZXItb3B0aW9uJywgd3JhcHBlcikucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7DQoJCQkkKHQucGFyZW50KCkuZ2V0KDApKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCgkJCXZhciBpZHMgPSB0YWIuaWQuc3BsaXQoJ18nKTsNCgkJCXZhciBmaWx0ZXIgPSBpZHNbaWRzLmxlbmd0aCAtIDFdOw0KCQkJY29udGV4dC5zZWxlY3RlZFRhYiA9IGZpbHRlcjsNCg0KCQkJbG9hZChjb250ZXh0LCBmaWx0ZXIpOw0KCQl9LA0KCQlzdWJtaXRDbGljayA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJCXsNCgkJCXZhciBpblRhZ3MgPSBjb250ZXh0LnRhZ3MudmFsKCkuc3BsaXQoL1ssO10vZyk7DQoJCQl2YXIgdGFncyA9IFtdOw0KCQkJZm9yKHZhciBpID0gMDsgaSA8IGluVGFncy5sZW5ndGg7IGkrKykNCgkJCXsNCgkJCQl2YXIgdGFnID0gJC50cmltKGluVGFnc1tpXSk7DQoJCQkJaWYgKHRhZykNCgkJCQkJdGFnc1t0YWdzLmxlbmd0aF0gPSB0YWc7DQoJCQl9DQoJCQl0YWdzID0gdGFncy5qb2luKCcsJyk7DQoNCgkJCXZhciBkYXRhID0gew0KCQkJCVRpdGxlOiBjb250ZXh0LnRpdGxlLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSwNCgkJCQlCb2R5OiBjb250ZXh0LmdldEJvZHkoKSwNCgkJCQlUYWdzOiB0YWdzLA0KCQkJCVdpa2lJZDogY29udGV4dC53aWtpSWQNCgkJCX07DQoNCgkJCWlmIChjb250ZXh0LnVzZXJDYW5Nb3ZlUGFnZSAmJiBjb250ZXh0LnBhcmVudCkNCgkJCQlkYXRhLlBhcmVudFBhZ2VJZCA9IGNvbnRleHQucGFyZW50LnZhbCgpID8gY29udGV4dC5wYXJlbnQudmFsKCkgOiAtMTsNCg0KCQkJaWYgKGNvbnRleHQudGhyZWFkSWQgPiAwKQ0KCQkJCWRhdGEuRm9ydW1UaHJlYWRJZCA9IGNvbnRleHQudGhyZWFkSWQ7DQoNCgkJCWlmIChjb250ZXh0LmZlYXR1cmUgJiYgY29udGV4dC5mZWF0dXJlLmxlbmd0aCA+IDApDQoJCQl7DQoJCQkJZGF0YS5Jc0ZlYXR1cmVkID0gY29udGV4dC5mZWF0dXJlLmlzKCc6Y2hlY2tlZCcpID8gdHJ1ZSA6IGZhbHNlOw0KCQkJCWlmIChjb250ZXh0LmZlYXR1cmVkSW1hZ2UgJiYgY29udGV4dC5mZWF0dXJlZEltYWdlLmxlbmd0aCA+IDApDQoJCQkJCWRhdGEuRmVhdHVyZWRJbWFnZSA9IGNvbnRleHQuZmVhdHVyZWRJbWFnZS52YWwoKTsNCgkJCX0NCg0KCQkJaWYgKGNvbnRleHQucGFnZUlkID4gMCkNCgkJCXsNCgkJCQlkYXRhLklkID0gY29udGV4dC5wYWdlSWQ7DQoNCgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvd2lraXMve1dpa2lJZH0vcGFnZXMve0lkfS5qc29uP0luY2x1ZGVGaWVsZHM9V2lraVBhZ2UuUmV2aXNpb25OdW1iZXIsVXNlcixXaWtpUGFnZS5Jc0xvY2tlZCcsDQoJCQkJCWNhY2hlOiBmYWxzZSwNCgkJCQkJZGF0YTogew0KCQkJCQkJV2lraUlkOiBkYXRhLldpa2lJZCwNCgkJCQkJCUlkOiBkYXRhLklkDQoJCQkJCX0sDQoJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCQl7DQoJCQkJCQlpZiAocmVzcG9uc2UuV2lraVBhZ2UuSXNMb2NrZWQgJiYgIWNvbnRleHQudXNlckNhbkxvY2spDQoJCQkJCQl7DQoJCQkJCQkJY29udGV4dC5tZXNzYWdlLnRleHQoY29udGV4dC5sb2NrZWRUZXh0KTsNCgkJCQkJCQljb250ZXh0Lm1lc3NhZ2Uuc2hvdygpOw0KCQkJCQkJCSQoJy5wcm9jZXNzaW5nJywgY29udGV4dC5zYXZlLnBhcmVudCgpKS5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7DQoJCQkJCQkJY29udGV4dC5zYXZlLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQkJCXJldHVybjsNCgkJCQkJCX0NCgkJCQkJCWVsc2UNCgkJCQkJCXsNCgkJCQkJCQljb250ZXh0Lm1lc3NhZ2UuaGlkZSgpOw0KCQkJCQkJfQ0KCQkJCQkJaWYgKHJlc3BvbnNlLldpa2lQYWdlLlJldmlzaW9uTnVtYmVyID09IGNvbnRleHQub3JpZ2luYWxSZXZpc2lvbikNCgkJCQkJCXsNCgkJCQkJCQlkYXRhLklzTG9ja2VkPXJlc3BvbnNlLldpa2lQYWdlLklzTG9ja2VkDQoJCQkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnB1dCh7DQoJCQkJCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3dpa2lzL3tXaWtpSWR9L3BhZ2VzL3tJZH0uanNvbj9JbmNsdWRlRmllbGRzPVdpa2lQYWdlLklkLFdpa2lQYWdlLlVybCcsDQoJCQkJCQkJCWRhdGE6IGRhdGEsDQoJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJCQkJCQl7DQoJCQkJCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQoJCQkJCQkJCQkJdXJsOiBjb250ZXh0LnN1YnNjcmliZVVybCwNCgkJCQkJCQkJCQlkYXRhOiB7d2lraVBhZ2VJZDogcmVzcG9uc2UuV2lraVBhZ2UuSWQsIHN1YnNjcmliZTogY29udGV4dC5zdWJzY3JpYmUuaXMoJzpjaGVja2VkJyl9LA0KCQkJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlMikNCgkJCQkJCQkJCQl7DQoJCQkJCQkJCQkJCXdpbmRvdy5sb2NhdGlvbiA9IHJlc3BvbnNlLldpa2lQYWdlLlVybDsNCgkJCQkJCQkJCQl9LA0KCQkJCQkJCQkJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KQ0KCQkJCQkJCQkJCXsNCgkJCQkJCQkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTsNCgkJCQkJCQkJCQkJJCgnLnByb2Nlc3NpbmcnLCBjb250ZXh0LnNhdmUucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsNCgkJCQkJCQkJCQkJY29udGV4dC5zYXZlLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQkJCQkJCX0NCgkJCQkJCQkJCX0pOw0KCQkJCQkJCQl9LA0KCQkJCQkJCQllcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkNCgkJCQkJCQkJew0KCQkJCQkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTsNCgkJCQkJCQkJCSQoJy5wcm9jZXNzaW5nJywgY29udGV4dC5zYXZlLnBhcmVudCgpKS5jc3MoInZpc2liaWxpdHkiLCAiaGlkZGVuIik7DQoJCQkJCQkJCQljb250ZXh0LnNhdmUucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCQkJCX0NCgkJCQkJCQl9KTsNCgkJCQkJCX0NCgkJCQkJCWVsc2UNCgkJCQkJCXsNCgkJCQkJCQl2YXIgbWVyZ2VVcmwgPSBjb250ZXh0Lm1lcmdlVXJsLnJlcGxhY2UoLzk5ODg3Ny9nLCBjb250ZXh0Lm9yaWdpbmFsUmV2aXNpb24pLnJlcGxhY2UoLzc3ODg5OS9nLCByZXNwb25zZS5XaWtpUGFnZS5SZXZpc2lvbk51bWJlcik7DQoNCgkJCQkJCQljb250ZXh0Lm1lc3NhZ2UuaHRtbChjb250ZXh0Lm1lcmdlTWVzc2FnZS5yZXBsYWNlKC97QXV0aG9yVXJsfS9nLCByZXNwb25zZS5XaWtpUGFnZS5Vc2VyLlByb2ZpbGVVcmwpLnJlcGxhY2UoL3tBdXRob3JOYW1lfS9nLCByZXNwb25zZS5XaWtpUGFnZS5Vc2VyLkRpc3BsYXlOYW1lKS5yZXBsYWNlKC97TWVyZ2VVcmx9L2csICd3aW5kb3cub3BlbihcJycgKyBtZXJnZVVybCArICdcJyxcJ21lcmdlXCcsXCd3aWR0aD01MzAsaGVpZ2h0PTUwMCxyZXNpemFibGU9MSxzY3JvbGxiYXJzPTFcJyk7IHJldHVybiBmYWxzZTsnKSkuc2hvdygpOw0KDQoJCQkJCQkJY29udGV4dC5zYXZlLmh0bWwoJzxzcGFuPjwvc3Bhbj4nICsgY29udGV4dC5vdmVyd3JpdGVUZXh0KTsNCgkJCQkJCQkkKCcucHJvY2Vzc2luZycsIGNvbnRleHQuc2F2ZS5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOw0KCQkJCQkJCWNvbnRleHQuc2F2ZS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCg0KCQkJCQkJCWNvbnRleHQudmlld0NoYW5nZXMudW5iaW5kKCdjbGljaycpOw0KCQkJCQkJCWNvbnRleHQudmlld0NoYW5nZXMuY2xpY2soZnVuY3Rpb24oKQ0KCQkJCQkJCXsNCgkJCQkJCQkJd2luZG93Lm9wZW4obWVyZ2VVcmwsICdtZXJnZScsICd3aWR0aD01MzAsaGVpZ2h0PTUwMCxyZXNpemFibGU9MSxzY3JvbGxiYXJzPTEnKTsNCgkJCQkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCQkJCX0pOw0KCQkJCQkJCWNvbnRleHQudmlld0NoYW5nZXMuc2hvdygpOw0KDQoJCQkJCQkJY29udGV4dC5vcmlnaW5hbFJldmlzaW9uID0gcmVzcG9uc2UuV2lraVBhZ2UuUmV2aXNpb25OdW1iZXI7DQoNCgkJCQkJCQkkKCdodG1sLCBib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOiBjb250ZXh0Lm1lc3NhZ2Uub2Zmc2V0KCkudG9wIC0gMTAwfSwgNTAwKTsNCgkJCQkJCX0NCgkJCQkJfSwNCgkJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQoJCQkJCXsNCgkJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coZGVzYyx7dHlwZTonZXJyb3InfSk7DQoJCQkJCQkkKCcucHJvY2Vzc2luZycsIGNvbnRleHQuc2F2ZS5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOw0KCQkJCQkJY29udGV4dC5zYXZlLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQl9DQoJCQkJfSk7DQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi93aWtpcy97V2lraUlkfS9wYWdlcy5qc29uP0luY2x1ZGVGaWVsZHM9V2lraVBhZ2UuSWQsV2lraVBhZ2UuVXJsJywNCgkJCQkJZGF0YTogZGF0YSwNCgkJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJCXsNCgkJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkJCQkJCQl1cmw6IGNvbnRleHQuc3Vic2NyaWJlVXJsLA0KCQkJCQkJCWRhdGE6IHt3aWtpUGFnZUlkOiByZXNwb25zZS5XaWtpUGFnZS5JZCwgc3Vic2NyaWJlOiBjb250ZXh0LnN1YnNjcmliZS5pcygnOmNoZWNrZWQnKX0sDQoJCQkJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UyKQ0KCQkJCQkJCXsNCgkJCQkJCQkJd2luZG93LmxvY2F0aW9uID0gcmVzcG9uc2UuV2lraVBhZ2UuVXJsOw0KCQkJCQkJCX0sDQoJCQkJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQoJCQkJCQkJew0KCQkJCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2Mse3R5cGU6J2Vycm9yJ30pOw0KCQkJCQkJCQkkKCcucHJvY2Vzc2luZycsIGNvbnRleHQuc2F2ZS5wYXJlbnQoKSkuY3NzKCJ2aXNpYmlsaXR5IiwgImhpZGRlbiIpOw0KCQkJCQkJCQljb250ZXh0LnNhdmUucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCQkJfQ0KCQkJCQkJfSk7DQoJCQkJCX0sDQoJCQkJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KQ0KCQkJCQl7DQoJCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2Mse3R5cGU6J2Vycm9yJ30pOw0KCQkJCQkJJCgnLnByb2Nlc3NpbmcnLCBjb250ZXh0LnNhdmUucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJoaWRkZW4iKTsNCgkJCQkJCWNvbnRleHQuc2F2ZS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQkJfQ0KCQkJCX0pOw0KCQkJfQ0KCQl9Ow0KDQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMucGFnZUVkaXQgPQ0KCXsNCgkgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIChjb250ZXh0KSANCiAgICAgICAgew0KCQkgICAgJCgndGV4dGFyZWEnKS5ldm9sdXRpb25SZXNpemUoKTsNCg0KCQkJaWYgKGNvbnRleHQudGFncykNCgkJCXsNCgkJCQljb250ZXh0LnRhZ3MuZXZvbHV0aW9uVGFnVGV4dEJveCh7YWxsVGFnczpjb250ZXh0LmFsbFRhZ3N9KTsNCgkJCQlpZiAoY29udGV4dC5zZWxlY3RUYWdzKQ0KCQkJCXsNCgkJCQkJaWYgKGNvbnRleHQuYWxsVGFncyAmJiBjb250ZXh0LmFsbFRhZ3MubGVuZ3RoID4gMCkNCgkJCQkJCWNvbnRleHQuc2VsZWN0VGFncy5jbGljayhmdW5jdGlvbigpIHsgY29udGV4dC50YWdzLmV2b2x1dGlvblRhZ1RleHRCb3goJ29wZW5UYWdTZWxlY3RvcicpOyByZXR1cm4gZmFsc2U7IH0pOw0KCQkJCQllbHNlDQoJCQkJCQljb250ZXh0LnNlbGVjdFRhZ3MuaGlkZSgpOw0KCQkJCX0NCgkJCX0NCg0KCQkJY29udGV4dC50aXRsZS5ldm9sdXRpb25Db21wb3Nlcih7DQoJCQkJcGx1Z2luczogWydoYXNodGFncyddDQoJCQl9KS5ldm9sdXRpb25Db21wb3Nlcignb25rZXlkb3duJywgZnVuY3Rpb24oZSkgew0KCQkJCWlmKGUud2hpY2ggPT09IDEzKSB7DQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9IGVsc2Ugew0KCQkJCQlyZXR1cm4gdHJ1ZTsNCgkJCQl9DQoJCQl9KTsNCg0KCQkJaWYgKGNvbnRleHQucGFyZW50ICYmIGNvbnRleHQubG9va3VwUGFnZXNVcmwgJiYgY29udGV4dC5ub1BhZ2VNYXRjaGVzVGV4dCkNCgkJCXsNCgkJCQl2YXIgdGltZW91dCA9IG51bGw7DQoJCQkJY29udGV4dC5wYXJlbnQuZ2xvd0xvb2tVcFRleHRCb3goDQoJCQkJew0KCQkJCQknbWF4VmFsdWVzJzoxLA0KCQkJCQknZW1wdHlIdG1sJzonJywNCgkJCQkJJ29uR2V0TG9va1Vwcyc6ZnVuY3Rpb24odGIsIHNlYXJjaFRleHQpDQoJCQkJCXsNCgkJCQkJCXdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dCk7DQoJCQkJCQlpZihzZWFyY2hUZXh0ICYmIHNlYXJjaFRleHQubGVuZ3RoID49IDIpDQoJCQkJCQl7DQoJCQkJCQkJdGIuZ2xvd0xvb2tVcFRleHRCb3goJ3VwZGF0ZVN1Z2dlc3Rpb25zJywgW3RiLmdsb3dMb29rVXBUZXh0Qm94KCdjcmVhdGVMb29rVXAnLCcnLCc8ZGl2IHN0eWxlPSJ0ZXh0LWFsaWduOiBjZW50ZXI7Ij48aW1nIHNyYz0iJyArICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICd1dGlsaXR5L3NwaW5uZXIuZ2lmIiAvPjwvZGl2PicsJzxkaXYgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlcjsiPjxpbWcgc3JjPSInICsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ3V0aWxpdHkvc3Bpbm5lci5naWYiIC8+PC9kaXY+JywgZmFsc2UpXSk7DQoJCQkJCQkJdGltZW91dCA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkNCgkJCQkJCQl7DQoJCQkJCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KCQkJCQkJCQkJdXJsOiBjb250ZXh0Lmxvb2t1cFBhZ2VzVXJsLA0KCQkJCQkJCQkJZGF0YToge3dfU2VhcmNoVGV4dDpzZWFyY2hUZXh0LHdfUGFyZW50UGFnZUlkVG9FeGNsdWRlOiAoY29udGV4dC5wYWdlSWQgPyBjb250ZXh0LnBhZ2VJZCA6IC0xKX0sDQoJCQkJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCgkJCQkJCQkJCXsNCgkJCQkJCQkJCQlpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UucGFnZXMubGVuZ3RoID4gMSkNCgkJCQkJCQkJCQl7DQoJCQkJCQkJCQkJCXZhciBzdWdnZXN0aW9ucyA9IFtdOw0KCQkJCQkJCQkJCQlmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLnBhZ2VzLmxlbmd0aCAtIDE7IGkrKykNCgkJCQkJCQkJCQkJCXN1Z2dlc3Rpb25zW3N1Z2dlc3Rpb25zLmxlbmd0aF0gPSB0Yi5nbG93TG9va1VwVGV4dEJveCgnY3JlYXRlTG9va1VwJyxyZXNwb25zZS5wYWdlc1tpXS5wYWdlSWQscmVzcG9uc2UucGFnZXNbaV0udGl0bGUscmVzcG9uc2UucGFnZXNbaV0udGl0bGUsdHJ1ZSk7DQoJCQkJCQkJCQkJCXRiLmdsb3dMb29rVXBUZXh0Qm94KCd1cGRhdGVTdWdnZXN0aW9ucycsIHN1Z2dlc3Rpb25zKTsNCgkJCQkJCQkJCQl9DQoJCQkJCQkJCQkJZWxzZQ0KCQkJCQkJCQkJCQl0Yi5nbG93TG9va1VwVGV4dEJveCgndXBkYXRlU3VnZ2VzdGlvbnMnLCBbdGIuZ2xvd0xvb2tVcFRleHRCb3goJ2NyZWF0ZUxvb2tVcCcsJycsY29udGV4dC5ub1BhZ2VNYXRjaGVzVGV4dCxjb250ZXh0Lm5vUGFnZU1hdGNoZXNUZXh0LGZhbHNlKV0pOw0KCQkJCQkJCQkJfQ0KCQkJCQkJCQl9KTsNCgkJCQkJCQl9LCA3NDkpOw0KCQkJCQkJfQ0KCQkJCQl9LA0KCQkJCQknc2VsZWN0ZWRMb29rVXBzSHRtbCc6KGNvbnRleHQucGFyZW50UGFnZVRpdGxlID8gW2NvbnRleHQucGFyZW50UGFnZVRpdGxlXSA6IFtdKQ0KCQkJCX0pOw0KCQkJfQ0KDQoJCQljb250ZXh0LnNhdmUuY2xpY2soZnVuY3Rpb24oKQ0KCQkJew0KCQkJCSQodGhpcykuZXZvbHV0aW9uVmFsaWRhdGlvbigndmFsaWRhdGUnKTsNCgkJCQlpZiAoISQodGhpcykuZXZvbHV0aW9uVmFsaWRhdGlvbignaXNWYWxpZCcpKSB7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoNCgkJCQlzdWJtaXRDbGljayhjb250ZXh0KTsNCgkJCX0pOw0KCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5hdmlnYXRpb25Db25maXJtYXRpb24uZW5hYmxlKCk7DQoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubmF2aWdhdGlvbkNvbmZpcm1hdGlvbi5yZWdpc3Rlcihjb250ZXh0LnNhdmUpOw0KDQoJCQlpZiAoY29udGV4dC52aWV3Y2hhbmdlcykNCgkJCQljb250ZXh0LnZpZXdjaGFuZ2VzLmNsaWNrKGZ1bmN0aW9uKCkgeyBzaG93TWVyZ2UoY29udGV4dCk7IH0pOw0KDQoJCQlpZiAoY29udGV4dC5mZWF0dXJlZEltYWdlKQ0KCQkJew0KCQkJCWNvbnRleHQuZmVhdHVyZWRJbWFnZS5ldm9sdXRpb25Vc2VyRmlsZVRleHRCb3goe2luaXRpYWxQcmV2aWV3SHRtbDpjb250ZXh0LmZlYXR1cmVkSW1hZ2VQcmV2aWV3fSk7DQoJCQkJdmFyIGZpID0gY29udGV4dC5mZWF0dXJlRm9ybS5jc3MoJ2Rpc3BsYXknLCdub25lJyk7DQoJCQkJdmFyIGZjID0gY29udGV4dC5mZWF0dXJlLmNsaWNrKGZ1bmN0aW9uKCl7ZmkudG9nZ2xlKCk7fSk7DQoJCQkJaWYgKGZjLmlzKCI6Y2hlY2tlZCIpKQ0KCQkJCQlmaS5zaG93KCJmYXN0Iik7DQoJCQl9DQoNCgkJCWNvbnRleHQuc2F2ZS5ldm9sdXRpb25WYWxpZGF0aW9uKA0KCQkJew0KCQkJCXZhbGlkYXRlT25Mb2FkOiBjb250ZXh0LnBhZ2VJZCA8PSAwID8gZmFsc2UgOiBudWxsLA0KCQkJCW9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKQ0KCQkJCXsNCgkJCQkJaWYgKGlzVmFsaWQpDQoJCQkJCQljb250ZXh0LnNhdmUucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCWVsc2UNCgkJCQkJCWNvbnRleHQuc2F2ZS5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQl9LA0KCQkJCW9uU3VjY2Vzc2Z1bENsaWNrOiBmdW5jdGlvbihlKQ0KCQkJCXsNCgkJCQkJJCgnLnByb2Nlc3NpbmcnLCBjb250ZXh0LnNhdmUucGFyZW50KCkpLmNzcygidmlzaWJpbGl0eSIsICJ2aXNpYmxlIik7DQoJCQkJCWNvbnRleHQuc2F2ZS5hZGRDbGFzcygnZGlzYWJsZWQnKTsNCgkJCQl9DQoJCQl9KTsNCg0KCQkJY29udGV4dC5zYXZlLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJyxjb250ZXh0LnRpdGxlU2VsZWN0b3IsDQoJCQl7DQoJCQkJcmVxdWlyZWQ6IHRydWUsDQoJCQkJd2lraXBhZ2VleGlzdHM6IHsgd2lraUlkOiBjb250ZXh0Lndpa2lJZCwgcGFnZUlkOiBjb250ZXh0LnBhZ2VJZCwgcGFyZW50UGFnZUlkOiBmdW5jdGlvbigpe3JldHVybiBjb250ZXh0LnBhcmVudCAmJiBjb250ZXh0LnBhcmVudC52YWwoKSA/IGNvbnRleHQucGFyZW50LnZhbCgpIDogLTE7fSB9LA0KCQkJCW1lc3NhZ2VzOg0KCQkJCXsNCgkJCQkJcmVxdWlyZWQ6IGNvbnRleHQudGl0bGVSZXF1aXJlZFRleHQsDQoJCQkJCXdpa2lwYWdlZXhpc3RzOiBjb250ZXh0LnBhZ2VFeGlzdHNUZXh0DQoJCQkJfQ0KCQkJfSwgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLnBvc3QtbmFtZSAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywgbnVsbCk7DQoJCQljb250ZXh0LnNhdmUuZXZvbHV0aW9uVmFsaWRhdGlvbigndmFsaWRhdGUnKTsNCg0KCQkJdmFyIGYgPSBjb250ZXh0LnNhdmUuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkQ3VzdG9tVmFsaWRhdGlvbicsICdwYWdldGV4dCcsIGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlyZXR1cm4gY29udGV4dC5nZXRCb2R5KCkubGVuZ3RoID4gMDsNCgkJCX0sDQoJCQljb250ZXh0LmJvZHlSZXF1aXJlZFRleHQsICcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyAuZmllbGQtaXRlbS5wb3N0LWJvZHkgLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicsIG51bGwNCgkJCSk7DQoNCgkJCWNvbnRleHQuYXR0YWNoQm9keUNoYW5nZUhhbmRsZXIoZik7DQoJCX0NCgl9Ow0KfSkoalF1ZXJ5KTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_PageList_Name}" version="7.5.0.32466" description="${resource:Wikis_PageList_Description}" instanceIdentifier="6fe4c6b4f6f44c2b817d671c168fa6f0" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="page-list">
		<contentScript>
#set ($pageSize = 5)
#set ($pageIndex = $core_v2_ui.GetCurrentPageIndex())
#set ($user = $core_v2_user.Accessing)
#set ($queryType = 'All')
#set ($queryType = $core_v2_page.GetQueryStringValue('QueryType'))
#set ($query = "%{ PageSize = $pageSize, PageIndex = $pageIndex }")

#if ($queryType == 'UserAll')
	$query.Add('QueryType', 'All')
	$query.Add('AuthorID', $user.Id)
#else
	$query.Add('QueryType', $queryType)
#end

#set ($wiki = $core_v2_wiki.Current)
#if (!$wiki)
	$core_v2_widget.Hide()
#end

#set ($group = $core_v2_group.Current)
#if ($group &amp;&amp; $group.Id == -1)
	$query.Add("GroupId", $group.Id)
#end

#if ($group &amp;&amp; $group.ParentGroupId &lt;= 0)
	$query.Add("IncludeSubGroupContent", true)
#end

#set ($tags = $core_v2_tags.Current)
#if($tags &amp;&amp; $tags.Count &gt; 0)
	#set ($tagString = $core_v2_utility.Join(",", $tags))
	$query.Add('Tags', $tagString)
#end

#set ($wikiPages = $core_v2_wikiPage.List($wiki.Id, $query))

&lt;div class="filter"&gt;
	&lt;div class="query-type"&gt;
		&lt;span class="filter-label"&gt;$core_v2_language.GetResource('Show')&lt;/span&gt;
		&lt;span class="filter-option #if($queryType == 'All') selected #end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AdjustQueryString($core_v2_page.Url, "QueryType=All&amp;$core_v2_ui.PageIndexQueryStringKey=1"))"&gt;
				$core_v2_language.GetResource('Wikis_PageSort_All')
			&lt;/a&gt;
		&lt;/span&gt;
		&lt;span class="separator"&gt;|&lt;/span&gt;
		&lt;span class="filter-option #if($queryType == 'New') selected #end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AdjustQueryString($core_v2_page.Url, "QueryType=New&amp;$core_v2_ui.PageIndexQueryStringKey=1"))"&gt;
				$core_v2_language.GetResource('Wikis_PageSort_New')
			&lt;/a&gt;
		&lt;/span&gt;
		&lt;span class="separator"&gt;|&lt;/span&gt;
		&lt;span class="filter-option #if($queryType == 'Updated') selected #end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AdjustQueryString($core_v2_page.Url, "QueryType=Updated&amp;$core_v2_ui.PageIndexQueryStringKey=1"))"&gt;
				$core_v2_language.GetResource('Wikis_PageSort_Updated')
			&lt;/a&gt;
		&lt;/span&gt;
		#if ($core_v2_user.IsRegistered($user.Id))
			&lt;span class="separator"&gt;|&lt;/span&gt;
			&lt;span class="filter-option #if($queryType == 'UserAll') selected #end"&gt;
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AdjustQueryString($core_v2_page.Url, "QueryType=UserAll&amp;$core_v2_ui.PageIndexQueryStringKey=1"))"&gt;
					$core_v2_language.GetResource('Wiki_PageList_MyPages')
				&lt;/a&gt;
			&lt;/span&gt;
		#end
	&lt;/div&gt;
&lt;/div&gt;

#foreach ($page in $wikiPages)
#beforeall
	&lt;div class="content-list-header"&gt;&lt;/div&gt;
	&lt;ul class="content-list"&gt;
#each
	&lt;li class="content-item"&gt;
		&lt;div class="abbreviated-post-header"&gt;&lt;/div&gt;
		&lt;div class="abbreviated-post"&gt;
			&lt;h4 class="post-name"&gt;
				&lt;div class="internal-link view-post"&gt;
					&lt;a href="$core_v2_encoding.HtmlAttributeEncode($page.Url)"&gt;$page.Title&lt;/a&gt;
				&lt;/div&gt;
			&lt;/h4&gt;
			&lt;div class="post-author"&gt;
				&lt;span class="avatar"&gt;
					#if ($page.User.ProfileUrl)
						&lt;a href="$core_v2_encoding.HtmlAttributeEncode($page.User.ProfileUrl)"&gt;
							$core_v2_ui.GetResizedImageHtml($page.User.AvatarUrl, 32, 32, "%{border='0', alt=$page.User.DisplayName}")
						&lt;/a&gt;
					#else
						$core_v2_ui.GetResizedImageHtml($page.User.AvatarUrl, 32, 32, "%{border='0', alt=$page.User.DisplayName}")
					#end
				&lt;/span&gt;
				&lt;span class="user-name"&gt;
					#if ($page.User.ProfileUrl)
						&lt;a href="$core_v2_encoding.HtmlAttributeEncode($page.User.ProfileUrl)" class="internal-link view-user-profile"&gt;
							&lt;span&gt;&lt;/span&gt;$page.User.DisplayName
						&lt;/a&gt;
					#else
						&lt;span&gt;&lt;/span&gt;$page.User.DisplayName
					#end
				&lt;/span&gt;
			&lt;/div&gt;
			&lt;div class="post-summary"&gt;$core_v2_language.Truncate($page.Body('WebQuote'), 165, '...')&lt;/div&gt;
			&lt;div class="attribute-list-header"&gt;&lt;/div&gt;
			&lt;ul class="attribute-list"&gt;
                   #set ($likes = false)
                   #set ($likes = $core_v2_like.List("%{ ContentId = $page.ContentId, ContentTypeId = $core_v2_wikiPage.ContentTypeId, PageSize = 1 }"))
                   #if (($showCommentCount &amp;&amp; $page.CommentCount &gt; 0) || ($likes &amp;&amp; $likes.TotalCount &gt; 0))
                       &lt;li class="attribute-item counts"&gt;
                           &lt;a href="$core_v2_encoding.HtmlAttributeEncode($page.Url)#comments"&gt;
                               #if ($page.CommentCount &gt; 0)
                                   &lt;span class="attribute-value reply-count"&gt;
                                       &lt;span class="avatar"&gt;&lt;/span&gt;$page.CommentCount
                                   &lt;/span&gt;
                               #end
                               #if ($likes &amp;&amp; $likes.TotalCount &gt; 0)
                                   &lt;span class="attribute-value like-count"&gt;
                                       &lt;span class="avatar"&gt;&lt;/span&gt;$core_v2_ui.Like($page.ContentId, $core_v2_wikiPage.ContentTypeId, "%{ Format = '{count}' }")
                                   &lt;/span&gt;
                               #end
                           &lt;/a&gt;
                       &lt;/li&gt;
                   #end

				&lt;li class="attribute-item page-revision-count"&gt;
					&lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Wikis_Page_Revision')&lt;/span&gt;
					&lt;span class="attribute-value"&gt;#${page.RevisionCount}&lt;/span&gt;
				&lt;/li&gt;
				&lt;li class="attribute-item page-last-modified"&gt;
					&lt;span class="attribute-name"&gt;$core_v2_language.GetResource('on')&lt;/span&gt;
					&lt;span class="attribute-value"&gt;$core_v2_language.FormatDateAndTime($page.LastModifiedDate)&lt;/span&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
			&lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
			&lt;div class="post-application"&gt;
				&lt;span class="label"&gt;&lt;/span&gt;
				&lt;span class="value"&gt;
					#set ($containingWiki = false)
					#set ($containingWiki = $core_v2_wiki.Get("%{ Id = $page.WikiId }"))
					#if ($containingWiki)
						&lt;a href="$core_v2_encoding.HtmlAttributeEncode($containingWiki.Url)"&gt;$containingWiki.Name&lt;/a&gt;
					#end
				&lt;/span&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;div class="abbreviated-post-footer"&gt;&lt;/div&gt;
	&lt;/li&gt;
#afterall
	&lt;/ul&gt;
	&lt;div class="content-list-footer"&gt;&lt;/div&gt;
	$core_v2_ui.Pager($pageIndex, $wikiPages.PageSize, $wikiPages.TotalCount)
#nodata
	&lt;div class="message norecords"&gt;
		$core_v2_language.GetResource('Wikis_Pages_NoneExist')
	&lt;/div&gt;
#end
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_PageList_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_PageList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_PageList_Name">Wikis - Page List</resource><resource name="Wikis_PageList_Description">Displays wiki pages related to an individual wiki.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Show">Show</resource><resource name="Wikis_PageSort_All">All Pages</resource><resource name="Wikis_PageSort_New">New Pages</resource><resource name="Wikis_PageSort_Updated">Updated Pages</resource><resource name="Wiki_PageList_MyPages">My Pages</resource><resource name="Wikis_Page_Revision">Revision</resource><resource name="on">on</resource><resource name="Wikis_Pages_NoneExist">There are no pages in the wiki that match your current filter settings.</resource></language></languageResources>
		<requiredContext>
			<context id="578aa547a44c45d39159cab85e3002cc" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_PageNavigation_Name}" version="7.5.0.32466" description="${resource:Wikis_PageNavigation_Description}" instanceIdentifier="598c0df165f541dc8a1e497288b5039f" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="page-navigation">
		<contentScript>
#set ($currentUrl = $core_v2_wikiUrls.Current)
#set ($page = false)
#set ($page = $core_v2_wikiPage.CurrentOrDefault)
#if (!$page)
	$core_v2_widget.Hide()
#end

## hide this widget if the content is abusive and accessing user does not have permission to review
#set ($abusiveContent = false)
#set ($abusiveContent = $core_v2_abusiveContent.Get($page.ContentId, $page.ContentTypeId))
#set ($abusiveAndCanReviewAppealsInGroup = false)
#if ($abusiveContent &amp;&amp; $abusiveContent.IsAbusive)
	#set ($currentGroup = $core_v2_group.Current)
	#set ($abusiveAndCanReviewAppealsInGroup = $core_v2_nodePermission.Get('groups',$currentGroup.Id,'Group_ReviewAbuseAppeals').IsAllowed)
	#if (!$abusiveAndCanReviewAppealsInGroup)
		$core_v2_widget.Hide()
	#end
#end

&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#if ($currentUrl == "Page" || $currentUrl == "Wiki" || $currentUrl == "GroupAggregateHome")
		&lt;li class="navigation-item selected"&gt;
	#else
		&lt;li class="navigation-item"&gt;
	#end
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Page($page.Id))" class="internal-link view-wiki-page"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Wikis_Page_Article")&lt;/a&gt;
		&lt;/li&gt;
	#if ($core_v2_wikiUrls.EditPage($core_v2_wikiPage.CurrentOrDefault.Id))
		#if ($currentUrl == "EditPage")
			&lt;li class="navigation-item selected"&gt;
		#else
			&lt;li class="navigation-item"&gt;
		#end
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.EditPage($page.Id))" class="internal-link edit-wiki-page"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Wikis_Page_Edit")&lt;/a&gt;
			&lt;/li&gt;
	#end
	#if ($core_v2_wikiUrls.PageHistory($core_v2_wikiPage.CurrentOrDefault.Id))
		#if ($currentUrl == "PageHistory")
			&lt;li class="navigation-item selected"&gt;
		#else
			&lt;li class="navigation-item"&gt;
		#end
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.PageHistory($page.Id))" class="internal-link wiki-page-history"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Wikis_Page_History")&lt;/a&gt;
			&lt;/li&gt;
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_PageNavigation_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_PageNavigation_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_PageNavigation_Name">Wikis - Page Navigation</resource><resource name="Wikis_PageNavigation_Description">Displays page navigation for wiki pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Wikis_Page_Article">Article</resource><resource name="Wikis_Page_Edit">Edit</resource><resource name="Wikis_Page_History">History</resource></language></languageResources>
		<requiredContext>
			<context id="438f4b20be39493c908f292b4592f6fc" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_PostModeratedInformation_Name}" version="7.5.0.32466" description="${resource:Forums_PostModeratedInformation_Description}" instanceIdentifier="8ffade151efc4b838079054eb4ffbd61" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="post-moderated-information">
		<contentScript>
                #set($forum = $core_v2_forum.Current)
                #set($forumAnchor = "&lt;a href='${core_v2_encoding.HtmlAttributeEncode($core_v2_forumUrls.Forum($forum.Id))}' class='internal-link view-application'&gt;${forum.Name}&lt;/a&gt;")
		&lt;div class="message warning"&gt;
	            $core_v2_language.FormatString($core_v2_language.GetResource("PostPendingModeration_Body"), $forumAnchor)	
		&lt;/div&gt;
            </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_PostModeratedInformation_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_PostModeratedInformation_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Forums_PostModeratedInformation_Name">Forums - Post Moderated Information</resource><resource name="Forums_PostModeratedInformation_Description">Displays information after a post is created that is moderated.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="PostPendingModeration_Body">You have posted to a forum that requires a moderator to approve posts before they are publicly available. &lt;p /&gt;If the administrator has configured this forum to support email notifications you will receive an email when your post is either approved or denied (if you have emails enabled in your profile). &lt;br&gt;&lt;br&gt;Return to the {0} forum</resource></language></languageResources>
		<requiredContext>
			<context id="ad5b66803de14b2d9ee9cfe27ecea026" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_QuickPost_Name}" version="7.5.0.32466" description="${resource:Core_QuickPost_Description}" instanceIdentifier="9d82087eeb43486681045fdf172659e9" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="quick-post">
		<contentScript>
#set ($group = false)
#set ($group = $core_v2_group.Current)
#set ($accessingUser = $core_v2_user.Accessing)

## check if statuses are enabled at the group level
#set ($enableStatus = false)
#set ($enableStatus = $group.EnableGroupMessages)
## combine with check if the user can post statuses to the group
#if ($group.GroupType == 'Joinless')
    #set ($enableStatus = $enableStatus &amp;&amp; $core_v2_user.IsRegistered($accessingUser.Id))
#else
    #set ($groupUserMember = false)
    #set ($groupUserMember = $core_v2_groupUserMember.Get($group.Id, "%{ UserId = $accessingUser.Id }"))
    #set ($enableStatus = $enableStatus &amp;&amp; $groupUserMember != false &amp;&amp; ($groupUserMember.MembershipType == "Owner" || $groupUserMember.MembershipType == "Manager" || $groupUserMember.MembershipType == "Member"))
#end
## override with whether statuses are allowed at the global site or user level
#set ($enableStatus = $enableStatus &amp;&amp; $core_v2_configuration.AreStatusMessagesEnabled)
#set ($enableStatus = $enableStatus &amp;&amp; $accessingUser.EnabledActivityMessageTypes.Contains('Status'))

#set ($statusPromptResourceName = false)
#set ($statusPromptResourceName = $core_v2_widget.GetStringValue("statusPrompt", ""))
#set ($postMode = $core_v2_widget.GetStringValue("postMode", "standard"))
#set ($isStatusUpdateOnly = false)
#set ($apps = [])
#set ($hasBlog = true)
#set ($blogs = false)
#set ($hasForums = true)
#set ($forums = false)
#set ($hasMedias = true)
#set ($medias = false)
#set ($hasWikis = true)
#set ($wikis = false)
#set ($initialContentType = '')
#set ($uploadContextId = $core_v2_uploadedFile.CreateContextId())

#if ($group.ParentGroupId != -1)
    #set ($blogs = $core_v2_blog.List("%{ PageSize = '1', GroupId = '${group.Id}', PermissionId = 'Blog_CreatePost', UserId = '${accessingUser.Id}' }"))
    #if (!$blogs || $blogs.Count == 0)
        #set ($hasBlog = false)
    #end

    #set ($forums = $core_v2_forum.List("%{ PageSize = '1', GroupId = '${group.Id}', PermissionId = 'Forum_CreatePost', UserId = '${accessingUser.Id}' } }"))
    #if (!$forums || $forums.Count == 0)
        #set ($hasForums = false)
    #end

    #set ($medias = $core_v2_gallery.List("%{ PageSize = '1', GroupId = '${group.Id}', PermissionId = 'MediaGallery_CreatePost', UserId = '${accessingUser.Id}' }"))
    #if (!$medias || $medias.Count == 0)
        #set ($hasMedias = false)
    #end

    #set ($wikis = $core_v2_wiki.List("%{ PageSize = '1', GroupId = '${group.Id}', PermissionId = 'Wiki_CreatePage', UserId = '${accessingUser.Id}', IncludeDisabled = 'false' }"))
    #if (!$wikis || $wikis.Count == 0)
        #set ($hasWikis = false)
    #end
#end

#if (!$core_v2_user.IsRegistered($accessingUser.Id))
    $core_v2_widget.Hide()
#end

#if ($postMode == "statusOnly")
    #set ($isStatusUpdateOnly = true)
    #if(!$enableStatus)
        $core_v2_widget.Hide()
    #end
    #set($initialContentType = 'status')
#elseif ($core_v2_blogUrls.IsBlogUrl)
    #set($initialContentType = 'weblog')
#elseif ($core_v2_forumUrls.IsForumUrl)
    #set($initialContentType = 'forum')
#elseif ($core_v2_mediaUrls.IsMediaUrl)
    #set($initialContentType = 'media-gallery')
#elseif ($core_v2_wikiUrls.IsWikiUrl)
    #set($initialContentType = 'wiki')
#else
    #if ($enableStatus)
        #set ($messageLabel = ${core_v2_language.GetResource("CF_Core_QuickPost_SelectedType_Message")})
        #set ($messageTitle = ${core_v2_language.GetResource("CF_Core_QuickPost_FilterType_Message")})
        #if ($initialContentType == '')
            #set ($initialContentType = 'status')
        #end
        #set ($index = $apps.Add("%{ id = 'msg', filterLabel = '$messageLabel', title = '$messageTitle', selected = 'True' }"))
    #end
    #if ($core_v2_blogConfiguration.IsEnabled &amp;&amp; $hasBlog)
        #set ($blogLabel = ${core_v2_language.GetResource("CF_Core_QuickPost_SelectedType_Weblog")})
        #set ($blogTitle = ${core_v2_language.GetResource("CF_Core_QuickPost_FilterType_Weblog")})
        #if ($initialContentType == '')
            #set ($initialContentType = 'weblog')
        #end
        #set ($index = $apps.Add("%{ id = 'weblog', filterLabel = '$blogLabel', title = '$blogTitle', selected = 'False' }"))
    #end
    #if ($core_v2_forumConfiguration.IsEnabled &amp;&amp; $hasForums)
        #set ($forumLabel = ${core_v2_language.GetResource("CF_Core_QuickPost_SelectedType_Forum")})
        #set ($forumTitle = ${core_v2_language.GetResource("CF_Core_QuickPost_FilterType_Forum")})
        #if ($initialContentType == '')
            #set ($initialContentType = 'forum')
        #end
        #set ($index = $apps.Add("%{ id = 'forum', filterLabel = '$forumLabel', title = '$forumTitle', selected = 'False' }"))
    #end
    #if ($core_v2_mediaConfiguration.IsEnabled &amp;&amp; $hasMedias)
        #set ($mediaLabel = ${core_v2_language.GetResource("CF_Core_QuickPost_SelectedType_MediaGallery")})
        #set ($mediaTitle = ${core_v2_language.GetResource("CF_Core_QuickPost_FilterType_MediaGallery")})
        #if ($initialContentType == '')
            #set ($initialContentType = 'media-gallery')
        #end
        #set ($index = $apps.Add("%{ id = 'media-gallery', filterLabel = '$mediaLabel', title = '$mediaTitle', selected = 'False' }"))
    #end
    #if ($core_v2_wikiConfiguration.IsEnabled &amp;&amp; $hasWikis)
        #set ($wikiLabel = ${core_v2_language.GetResource("CF_Core_QuickPost_SelectedType_Wiki")})
        #set ($wikiTitle = ${core_v2_language.GetResource("CF_Core_QuickPost_FilterType_Wiki")})
        #if ($initialContentType == '')
            #set ($initialContentType = 'wiki')
        #end
        #set ($index = $apps.Add("%{ id = 'wiki', filterLabel = '$wikiLabel', title = '$wikiTitle' }"))
    #end
#end

#if ($group.ParentGroupId == -1 &amp;&amp; (!$statusPromptResourceName || $statusPromptResourceName == ""))
    #set ($statusPromptResourceName = "${}{resource:CF_QuickPost_DefaultStatusPrompt}")
    #set ($statusPromptResourceName = $statusPromptResourceName.Replace("{}", ""))
    $core_v2_widget.SetStringValue("statusPrompt", $statusPromptResourceName)
#elseif (!$statusPromptResourceName || $statusPromptResourceName == "")
    #set ($statusPromptResourceName = "${}{resource:CF_QuickPost_DefaultGroupStatus}")
    #set ($statusPromptResourceName = $statusPromptResourceName.Replace("{}", ""))
    $core_v2_widget.SetStringValue("statusPrompt", $statusPromptResourceName)
#end
#set ($statusMessagePrompt = $core_v2_encoding.HtmlDecode($core_v2_widget.ApplyTokens($statusPromptResourceName)))

#if($initialContentType == '')
    $core_v2_widget.Hide()
#end

&lt;div class="message-container" style="display:none"&gt;

&lt;/div&gt;

&lt;div class="filter"&gt;
    &lt;div class="view-type"&gt;
        #foreach ($app in $apps)
        #each
            &lt;span class='filter-option $app.id #if($app.selected == "True") selected #end'&gt;
                &lt;a href="javascript:void(0)" class="internal-link view-filter $app.id"&gt;&lt;span&gt;&lt;/span&gt;$app.title&lt;/a&gt;
            &lt;/span&gt;
        #between
            &lt;span class="separator"&gt;|&lt;/span&gt;
        #end
    &lt;/div&gt;
&lt;/div&gt;

#if ($isStatusUpdateOnly &amp;&amp; $group.ParentGroupId == -1)
    #set ($statusMessages = $core_v2_statusMessage.List("%{ UserId = '${accessingUser.Id}', PageSize = '1' }"))
    #foreach($statusMessage in $statusMessages)
    &lt;div class="attribute-list-header"&gt;&lt;/div&gt;
    &lt;ul class="attribute-list"&gt;
        &lt;li class="attribute-item view-user-status user-defined-markup"&gt;
            &lt;span class="attribute-name"&gt;$core_v2_language.GetResource("CF_UserStatus_You")&lt;/span&gt;
            &lt;span class="attribute-value"&gt;$statusMessage.RenderedBody&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="attribute-item view-user-status-date"&gt;
            &lt;span class="attribute-name"&gt;$core_v2_language.GetResource("At")&lt;/span&gt;
            &lt;span class="attribute-value"&gt;$core_v2_language.FormatAgoDate($statusMessage.CreatedDate)&lt;/span&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
    &lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
    #end
#end

&lt;div class="fiji-quickpost-message-form evolution2-quickpost-message-form message-form" style="display:none;"&gt;
    &lt;table width="100%" cellpadding="0" border="0" cellspacing="0"&gt;
        &lt;tr&gt;
            &lt;td class="fiji-message evolution2-message message" width="100%" valign="top"&gt;
                &lt;span class="field-item-input"&gt;
                    &lt;textarea rows="1" type="text" maxlength="$core_v2_configuration.ActivityMessageReplyMaxLength" id="$core_v2_widget.UniqueId('ActivityMessageReplyBody')" name="$core_v2_widget.UniqueId('ActivityMessageReplyBody')"&gt;&lt;/textarea&gt;
                &lt;/span&gt;
            &lt;/td&gt;
            &lt;td class="fiji-submit evolution2-submit submit" valign="top"&gt;
                &lt;span class="field-item-input"&gt;
                    &lt;a href="javascript:void(0)" class="internal-link add-post disabled"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("CF_Core_QuickPost_Post")&lt;/a&gt;
                &lt;/span&gt;
            &lt;/td&gt;
        &lt;/tr&gt;
        &lt;tr&gt;
            &lt;td class="attachment"&gt;
                &lt;label class="field-item-header"&gt;$core_v2_language.GetResource('StatusMessage_Attach')&lt;/label&gt;
                &lt;span class="field-item-input file"&gt;&lt;a href="#"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('StatusMessage_UploadFile')&lt;/a&gt;&lt;/span&gt;
                &lt;span class="field-item-input file-upload" style="display: none;"&gt;
                &lt;/span&gt;
            &lt;/td&gt;
            &lt;td&gt;&lt;/td&gt;
        &lt;/tr&gt;
    &lt;/table&gt;
    &lt;div class="abbreviated-post-header status-attachment-preview"&gt;&lt;/div&gt;
    &lt;div class="abbreviated-post status-attachment-preview"&gt;
        &lt;div class="post-thumbnail status-attachment-preview"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div class="abbreviated-post-footer status-attachment-preview"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="message error" style="display:none;"&gt;&lt;/div&gt;

#if (!$isStatusUpdateOnly)
&lt;div class="post-form" style="display:none;"&gt;
&lt;/div&gt;
#end

#registerEndOfPageHtml('telligent.evolution.widgets.quickPost')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
    &lt;script type="text/javascript"&gt;
    //&lt;![CDATA[
    jQuery(function(){
        jQuery.telligent.evolution.widgets.quickPost.register({
            wrapperSelector: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
            addStatusUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('add-status.vm'))",
            fileEmptyErrorText: "* $core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_FileEmptyError'))",
            titleEmptyErrorText: "* $core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_TitleEmptyError'))",
            bodyEmptyErrorText: "* $core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_BodyEmptyError'))",
            attachmentEmptyErrorText: "* $core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_FileEmptyError'))",
            statusMessageRequiredText: "* $core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_BodyEmptyError'))",
            statusMessagePrompt: "$core_v2_encoding.JavascriptEncode($statusMessagePrompt)",
            publishingText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_Publishing'))",
            statusDateSecondsAgo: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('date_minuteago'))",
            postText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_Post'))",
            groupId: $group.Id,
            isStatus: #if($initialContentType == 'status') true, #else false, #end
            weblogTitle: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_SelectedType_Weblog'))",
            weblogsTabUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('weblogs-tab.vm'))",
            weblogsPostUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('add-weblog-post.vm'))",
            weblogsAdvancedPostUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('add-temp-weblog-post.vm'))",
            isWeblog: #if($initialContentType == 'weblog') true, #else false, #end
            forumTitle: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_SelectedType_Forum'))",
            forumsTabUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('forums-tab.vm'))",
            forumsPostUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('add-forum-post.vm'))",
            forumsAdvancedPostUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('add-temp-forum-post.vm'))",
            isForum: #if($initialContentType == 'forum') true, #else false, #end
            mediaTitle: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_SelectedType_MediaGallery'))",
            mediasTabUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('medias-tab.vm'))",
            mediasPostUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('add-media-post.vm'))",
            mediasAdvancedPostUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('add-temp-media-post.vm'))",
            isMedia: #if($initialContentType == 'media-gallery') true, #else false, #end
            uploadAttachmentUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('get-media-upload-url.vm'))",
            changeFileText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_ChangeAttachment'))",
            attachFileText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_AttachFile'))",
            attachFileHelpText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_AttachFile_Help'))",
            wikiTitle: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Core_QuickPost_SelectedType_Wiki'))",
            wikisTabUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('wikis-tab.vm'))",
            wikisPostUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('add-wiki-post.vm'))",
            wikisAdvancedPostUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('add-temp-wiki-post.vm'))",
            isWiki: #if($initialContentType == 'wiki') true, #else false, #end
            loadingAppsHtml: "&lt;div class='message loading'&gt;$core_v2_language.GetResource('CF_Core_QuickPost_LoadingApps')&lt;/div&gt;",
            saveFileButton : jQuery('#$core_v2_widget.UniqueId('savefile')'),
            statusUploadFileUrl : '$core_v2_encoding.JavascriptEncode($core_v2_uploadedFile.GetUploadUrl($uploadContextId))',
            statusUploadContextId : '$uploadContextId',
            statusFileUploadContextId : '$core_v2_encoding.JavascriptEncode($uploadContextId)',
            previewAttachmentUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('preview-attachment.vm'))"
        });
    });
    //]]&gt;
    &lt;/script&gt;
#end
</contentScript>
		<headerScript>
    $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_QuickPost_Name}'))
</headerScript>
		<configuration>
    &lt;propertyGroup id="options" resourceName="Options"&gt;
        &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_QuickPost_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
        &lt;property id="statusPrompt" resourceName="CF_QuickPost_StatusPrompt" dataType="string" defaultValue="" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
        &lt;property id="postMode" resourceName="CF_QuickPost_PostMode" dataType="string" defaultValue="standard"&gt;
            &lt;propertyValue value="standard" resourceName="CF_QuickPost_PostMode_Standard" /&gt;
            &lt;propertyValue value="statusOnly" resourceName="CF_QuickPost_PostMode_StatusOnly" /&gt;
        &lt;/property&gt;
    &lt;/propertyGroup&gt;
</configuration>
		<languageResources><language key="en-us"><resource name="Core_QuickPost_Name">Quick Post</resource><resource name="Core_QuickPost_Description">Displays a form at the top of a page for creating a new application post for the site or current group.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_QuickPost_StatusPrompt">Status Message Prompt</resource><resource name="CF_QuickPost_PostMode">Posting Options</resource><resource name="CF_QuickPost_PostMode_Standard">Standard (Status and Applications)</resource><resource name="CF_QuickPost_PostMode_StatusOnly">Status Update Only</resource><resource name="CF_UserStatus_You">You:</resource><resource name="At">at</resource><resource name="CF_QuickPost_MessageBody_Label">Message Body</resource><resource name="CF_Core_QuickPost_Post">Post</resource><resource name="CF_Core_QuickPost_FileEmptyError">Please select a file to upload.</resource><resource name="CF_Core_QuickPost_TitleEmptyError">Please enter a title for your post.</resource><resource name="CF_Core_QuickPost_BodyEmptyError">Please enter some text into the body of your post.</resource><resource name="CF_Core_QuickPost_Publishing">Publishing...</resource><resource name="date_minuteago">a few seconds ago</resource><resource name="CF_Core_QuickPost_SelectedType_Weblog">Blog</resource><resource name="CF_Core_QuickPost_SelectedType_Forum">Forum</resource><resource name="CF_Core_QuickPost_SelectedType_MediaGallery">File Gallery</resource><resource name="CF_Core_QuickPost_ChangeAttachment">Change File</resource><resource name="CF_Core_QuickPost_AttachFile">Browse</resource><resource name="CF_Core_QuickPost_AttachFile_Help">Choose a file to upload</resource><resource name="CF_Core_QuickPost_SelectedType_Wiki">Wiki</resource><resource name="CF_Core_QuickPost_LoadingApps">Loading {AppType} applications you can post to.</resource><resource name="CF_Core_QuickPost_PostSuccess">Your content was published successfully. </resource><resource name="CF_Core_QuickPost_ViewPost">View it now.</resource><resource name="CF_Core_QuickPost_CloseMessage">Close</resource><resource name="CF_Core_QuickPost_PostModerated">You have posted to a forum that requires a moderator to approve posts before they are publicly available.</resource><resource name="CF_Core_QuickPost_UnknownError">An error occurred while attempting to publish your post.</resource><resource name="CF_Core_QuickPost_NoForums">Once you post to a forum or bookmark a forum, a quick link to post to that forum will appear in this area.</resource><resource name="CF_Core_QuickPost_QuickPost">QuickPost</resource><resource name="CF_Core_QuickPost_PublishToForum">Publish to forum:</resource><resource name="CF_Core_QuickPost_Title">Title</resource><resource name="CF_Core_QuickPost_Title_Help">Title</resource><resource name="CF_Core_QuickPost_Body">Your post ...</resource><resource name="CF_Core_QuickPost_Body_Help">Your post goes here.</resource><resource name="CF_Core_QuickPost_AdvancedPost">Use rich formatting</resource><resource name="CF_Core_QuickPost_NoGalleries">Once you post to a media gallery or bookmark a media gallery, a quick link to post to that media gallery will appear in this area.</resource><resource name="CF_Core_QuickPost_PublishToGallery">Publish to media gallery:</resource><resource name="CF_Core_QuickPost_Attachment">Attachment</resource><resource name="CF_Core_QuickPost_RemoveFile">Remove file</resource><resource name="CF_Core_QuickPost_NoWeblogs">Once you post to a blog or bookmark a blog, a quick link to post to that blog will appear in this area.</resource><resource name="CF_Core_QuickPost_PublishToWeblog">Publish to blog:</resource><resource name="CF_Core_QuickPost_NoWikis">Once you post to a wiki or bookmark a wiki, a quick link to post to that wiki will appear in this area.</resource><resource name="CF_Core_QuickPost_PublishToWiki">Publish to wiki:</resource><resource name="CF_QuickPost_DefaultStatusPrompt">Leave a message</resource><resource name="CF_QuickPost_DefaultGroupStatus">Leave a message for the group.</resource><resource name="CF_Core_QuickPost_SelectedType_Message">Message</resource><resource name="CF_Core_QuickPost_FilterType_Message">Leave a Message</resource><resource name="CF_Core_QuickPost_FilterType_Weblog">Write a blog</resource><resource name="CF_Core_QuickPost_FilterType_Forum">Start a discussion</resource><resource name="CF_Core_QuickPost_FilterType_MediaGallery">Share a file</resource><resource name="CF_Core_QuickPost_FilterType_Wiki">Publish to wiki</resource><resource name="StatusMessage_UploadFile">Add a photo, video or file</resource><resource name="StatusMessage_Attach">Attach:</resource><resource name="CF_Core_QuickPost_FileTypeError">File type is not allowed</resource></language></languageResources>
		<files>
			<file name="add-forum-post.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRmb3J1bUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZm9ydW1JZCcpKSkNCgkjc2V0KCR0aXRsZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd0aXRsZScpKQ0KCSNzZXQoJGJvZHkgPSAkY29yZV92Ml91aS5Gb3JtYXRUZXh0QXNIdG1sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdib2R5JyksICIle0RldGVjdE1lZGlhVXJscz0nVHJ1ZSd9IikpDQoNCgkjc2V0KCR0aHJlYWQgPSAkY29yZV92Ml9mb3J1bVRocmVhZC5DcmVhdGUoJGZvcnVtSWQsICR0aXRsZSwgJGJvZHkpKQ0KDQoJI2lmKCR0aHJlYWQgJiYgJHRocmVhZC5BcHByb3ZlZCkNCgkJPGRpdiBjbGFzcz0ibWVzc2FnZSBzdWNjZXNzIj4NCgkJCTxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2Utb3V0ZXIgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1vdXRlciI+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS10b3AgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS10b3AiPjxkaXYgY2xhc3M9ImZpamktbTEgZXZvbHV0aW9uMi1tMSI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMiBldm9sdXRpb24yLW0yIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0zIGV2b2x1dGlvbjItbTMiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTQgZXZvbHV0aW9uMi1tNCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1pbm5lciBldm9sdXRpb24yLXF1aWNrcG9zdC1tZXNzYWdlLWlubmVyIj4NCgkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfUG9zdFN1Y2Nlc3MiKSZuYnNwOw0KCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2ZvcnVtVXJscy5UaHJlYWQoJHRocmVhZC5JZCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctcG9zdCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9WaWV3UG9zdCIpPC9hPg0KCQkJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImludGVybmFsLWxpbmsgY2xvc2UtbWVzc2FnZSIgdGl0bGU9IiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9Db3JlX1F1aWNrUG9zdF9DbG9zZU1lc3NhZ2UnKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9DbG9zZU1lc3NhZ2UiKTwvYT4NCgkJCTwvZGl2PjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtYm90dG9tIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2UtYm90dG9tIj48ZGl2IGNsYXNzPSJmaWppLW0xIGV2b2x1dGlvbjItbTEiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTIgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMyBldm9sdXRpb24yLW0zIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW00IGV2b2x1dGlvbjItbTQiPjwvZGl2PjwvZGl2PjwvZGl2Pg0KCQk8L2Rpdj4NCgkjZWxzZWlmICgkdGhyZWFkICYmICR0aHJlYWQuRXJyb3JzLkNvdW50ID09IDAgJiYgISR0aHJlYWQuQXBwcm92ZWQpDQoJCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugd2FybmluZyI+DQoJCQk8ZGl2IGNsYXNzPSJmaWppLXF1aWNrcG9zdC1tZXNzYWdlLW91dGVyIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2Utb3V0ZXIiPjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtdG9wIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2UtdG9wIj48ZGl2IGNsYXNzPSJmaWppLW0xIGV2b2x1dGlvbjItbTEiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTIgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMyBldm9sdXRpb24yLW0zIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW00IGV2b2x1dGlvbjItbTQiPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtaW5uZXIgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1pbm5lciI+DQoJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1Bvc3RNb2RlcmF0ZWQiKQ0KCQkJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImludGVybmFsLWxpbmsgY2xvc2UtbWVzc2FnZSIgdGl0bGU9IiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9Db3JlX1F1aWNrUG9zdF9DbG9zZU1lc3NhZ2UnKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9DbG9zZU1lc3NhZ2UiKTwvYT4NCgkJCTwvZGl2PjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtYm90dG9tIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2UtYm90dG9tIj48ZGl2IGNsYXNzPSJmaWppLW0xIGV2b2x1dGlvbjItbTIiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTIgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMyBldm9sdXRpb24yLW0zIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW00IGV2b2x1dGlvbjItbTQiPjwvZGl2PjwvZGl2PjwvZGl2Pg0KCQk8L2Rpdj4NCgkjZWxzZWlmICgkdGhyZWFkICYmICR0aHJlYWQuRXJyb3JzLkNvdW50ID4gMCkNCgkJPGRpdiBjbGFzcz0ibWVzc2FnZSB3YXJuaW5nIiBkYXRhLWlzLWVycm9yPSJ0cnVlIj4NCgkJCTxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2Utb3V0ZXIgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1vdXRlciI+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS10b3AgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS10b3AiPjxkaXYgY2xhc3M9ImZpamktbTEgZXZvbHV0aW9uMi1tMSI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMiBldm9sdXRpb24yLW0yIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0zIGV2b2x1dGlvbjItbTMiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTQgZXZvbHV0aW9uMi1tNCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1pbm5lciBldm9sdXRpb24yLXF1aWNrcG9zdC1tZXNzYWdlLWlubmVyIj4NCgkJCQkkdGhyZWFkLkVycm9ycy5nZXRfSXRlbSgwKS5NZXNzYWdlDQoJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iaW50ZXJuYWwtbGluayBjbG9zZS1tZXNzYWdlIiB0aXRsZT0iJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0NvcmVfUXVpY2tQb3N0X0Nsb3NlTWVzc2FnZScpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X0Nsb3NlTWVzc2FnZSIpPC9hPg0KCQkJPC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1ib3R0b20gZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1ib3R0b20iPjxkaXYgY2xhc3M9ImZpamktbTEgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMiBldm9sdXRpb24yLW0yIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0zIGV2b2x1dGlvbjItbTMiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTQgZXZvbHV0aW9uMi1tNCI+PC9kaXY+PC9kaXY+PC9kaXY+DQoJCTwvZGl2Pg0KCSNlbHNlDQoJCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugd2FybmluZyIgZGF0YS1pcy1lcnJvcj0idHJ1ZSI+DQoJCQk8ZGl2IGNsYXNzPSJmaWppLXF1aWNrcG9zdC1tZXNzYWdlLW91dGVyIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2Utb3V0ZXIiPjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtdG9wIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2UtdG9wIj48ZGl2IGNsYXNzPSJmaWppLW0xIGV2b2x1dGlvbjItbTEiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTIgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMyBldm9sdXRpb24yLW0zIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW00IGV2b2x1dGlvbjItbTQiPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtaW5uZXIgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1pbm5lciI+DQoJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0NvcmVfUXVpY2tQb3N0X1Vua25vd25FcnJvcicpDQoJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iaW50ZXJuYWwtbGluayBjbG9zZS1tZXNzYWdlIiB0aXRsZT0iJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0NvcmVfUXVpY2tQb3N0X0Nsb3NlTWVzc2FnZScpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X0Nsb3NlTWVzc2FnZSIpPC9hPg0KCQkJPC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1ib3R0b20gZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1ib3R0b20iPjxkaXYgY2xhc3M9ImZpamktbTEgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMiBldm9sdXRpb24yLW0yIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0zIGV2b2x1dGlvbjItbTMiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTQgZXZvbHV0aW9uMi1tNCI+PC9kaXY+PC9kaXY+PC9kaXY+DQoJCTwvZGl2Pg0KCSNlbmQNCiNlbmQ=</file>
			<file name="add-media-post.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRnYWxsZXJ5SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdtZWRpYUlkJykpKQ0KCSNzZXQoJHRpdGxlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3RpdGxlJykpDQoJI3NldCgkYm9keSA9ICRjb3JlX3YyX3VpLkZvcm1hdFRleHRBc0h0bWwoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2JvZHknKSwgIiV7RGV0ZWN0TWVkaWFVcmxzPSdUcnVlJ30iKSkNCgkjc2V0KCRmaWxlTmFtZSA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVOYW1lID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ZpbGVOYW1lJykpDQoJI3NldCgkZmlsZVVybCA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVVcmwgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZmlsZVVybCcpKQ0KCSNzZXQoJGZpbGVDb250ZXh0SWQgPSBmYWxzZSkNCgkjc2V0KCRmaWxlQ29udGV4dElkID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ZpbGVDb250ZXh0SWQnKSkNCg0KCSNzZXQoJG9wdGlvbnMgPSAiJXtOYW1lPSR0aXRsZSxEZXNjcmlwdGlvbj0kYm9keX0iKQ0KCSNzZXQoJGNvbnRlbnRUeXBlID0gZmFsc2UpDQoJI2lmICgkZmlsZVVybCAmJiAkZmlsZVVybCAhPSAiIikNCgkJI3NldCgkY29udGVudFR5cGUgPSAkY29yZV92Ml91aS5HZXRNaW1lVHlwZSgkZmlsZVVybCkpDQoJCSRvcHRpb25zLkFkZCgnRmlsZVVybCcsICRmaWxlVXJsKQ0KCQkkb3B0aW9ucy5BZGQoJ0NvbnRlbnRUeXBlJywgJGNvbnRlbnRUeXBlKQ0KCSNlbHNlDQoJCSNzZXQoJGZpbGUgPSBmYWxzZSkNCgkJI3NldCgkZmlsZSA9ICRjb3JlX3YyX3VwbG9hZGVkRmlsZS5HZXQoJGZpbGVDb250ZXh0SWQsICRmaWxlTmFtZSkpDQoJCSNpZiAoJGZpbGUpDQoJCQkjc2V0KCRjb250ZW50VHlwZSA9ICRjb3JlX3YyX3VpLkdldE1pbWVUeXBlKCRmaWxlTmFtZSkpDQoJCQkkb3B0aW9ucy5BZGQoJ0ZpbGVVcGxvYWRDb250ZXh0JywkZmlsZUNvbnRleHRJZCkNCgkJCSRvcHRpb25zLkFkZCgnRmlsZU5hbWUnLCAkZmlsZS5OYW1lKQ0KCQkJJG9wdGlvbnMuQWRkKCdDb250ZW50VHlwZScsICRjb250ZW50VHlwZSkNCgkJI2VuZA0KCSNlbmQNCg0KCSNzZXQoJG1lZGlhID0gJGNvcmVfdjJfbWVkaWEuQ3JlYXRlKCRnYWxsZXJ5SWQsICR0aXRsZSwgJGNvbnRlbnRUeXBlLCAkZmlsZU5hbWUsICRvcHRpb25zKSkNCgkjaWYgKCRtZWRpYSAmJiAkbWVkaWEuRXJyb3JzLkNvdW50ID4gMCkNCgkJPGRpdiBjbGFzcz0ibWVzc2FnZSB3YXJuaW5nIiBkYXRhLWlzLWVycm9yPSJ0cnVlIj4NCgkJCTxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2Utb3V0ZXIgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1vdXRlciI+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS10b3AgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS10b3AiPjxkaXYgY2xhc3M9ImZpamktbTEgZXZvbHV0aW9uMi1tMSI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMiBldm9sdXRpb24yLW0yIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0zIGV2b2x1dGlvbjItbTMiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTQgZXZvbHV0aW9uMi1tNCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1pbm5lciBldm9sdXRpb24yLXF1aWNrcG9zdC1tZXNzYWdlLWlubmVyIj4NCgkJCQkkbWVkaWEuRXJyb3JzLmdldF9JdGVtKDApLk1lc3NhZ2UNCgkJCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGNsb3NlLW1lc3NhZ2UiIHRpdGxlPSIkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfQ29yZV9RdWlja1Bvc3RfQ2xvc2VNZXNzYWdlJykiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfQ2xvc2VNZXNzYWdlIik8L2E+DQoJCQk8L2Rpdj48ZGl2IGNsYXNzPSJmaWppLXF1aWNrcG9zdC1tZXNzYWdlLWJvdHRvbSBldm9sdXRpb24yLXF1aWNrcG9zdC1tZXNzYWdlLWJvdHRvbSI+PGRpdiBjbGFzcz0iZmlqaS1tMSBldm9sdXRpb24yLW0yIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0yIGV2b2x1dGlvbjItbTIiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTMgZXZvbHV0aW9uMi1tMyI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tNCBldm9sdXRpb24yLW00Ij48L2Rpdj48L2Rpdj48L2Rpdj4NCgkJPC9kaXY+DQoJI2Vsc2UNCgkJPGRpdiBjbGFzcz0ibWVzc2FnZSBzdWNjZXNzIj4NCgkJCTxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2Utb3V0ZXIgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1vdXRlciI+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS10b3AgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS10b3AiPjxkaXYgY2xhc3M9ImZpamktbTEgZXZvbHV0aW9uMi1tMSI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMiBldm9sdXRpb24yLW0yIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0zIGV2b2x1dGlvbjItbTMiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTQgZXZvbHV0aW9uMi1tNCI+PC9kaXY+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1pbm5lciBldm9sdXRpb24yLXF1aWNrcG9zdC1tZXNzYWdlLWlubmVyIj4NCgkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfUG9zdFN1Y2Nlc3MiKSZuYnNwOw0KCQkJCTxhIGhyZWY9IiRtZWRpYS5VcmwiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctcG9zdCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9WaWV3UG9zdCIpPC9hPg0KCQkJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImludGVybmFsLWxpbmsgY2xvc2UtbWVzc2FnZSIgdGl0bGU9IiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9Db3JlX1F1aWNrUG9zdF9DbG9zZU1lc3NhZ2UnKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9DbG9zZU1lc3NhZ2UiKTwvYT4NCgkJCTwvZGl2PjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtYm90dG9tIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2UtYm90dG9tIj48ZGl2IGNsYXNzPSJmaWppLW0xIGV2b2x1dGlvbjItbTEiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTIgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMyBldm9sdXRpb24yLW0zIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW00IGV2b2x1dGlvbjItbTQiPjwvZGl2PjwvZGl2PjwvZGl2Pg0KCQk8L2Rpdj4NCgkjZW5kDQojZW5k</file>
			<file name="add-status.vm">JGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQoNCiNpZiAoJGNvcmVfdjJfcGFnZS5Jc1Bvc3QpDQoJI3NldCgkZ3JvdXBJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2dyb3VwSWQnKSkpDQoJI3NldCgkbWVzc2FnZUJvZHkgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnbWVzc2FnZScpKQ0KCSNzZXQoJGdyb3VwID0gZmFsc2UpDQoJI3NldCgkZ3JvdXAgPSAkY29yZV92Ml9ncm91cC5HZXQoIiV7IElkID0gJyR7Z3JvdXBJZH0nfSIpKQ0KCSNzZXQoJGZpbGVOYW1lID0gZmFsc2UpDQoJI3NldCgkZmlsZU5hbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZmlsZU5hbWUnKSkNCgkjc2V0KCRjb250ZXh0SWQgPSBmYWxzZSkNCgkjc2V0KCRjb250ZXh0SWQgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnY29udGV4dElkJykpDQoJI3NldCgkb3B0aW9ucyA9ICIle30iKQ0KDQoJI2lmICgkZmlsZU5hbWUgJiYgJGZpbGVOYW1lLmxlbmd0aCA+IDAgJiYgJGNvbnRleHRJZCkNCgkJI3NldCgkdXNlckZpbGUgPSAkY29yZV92Ml91c2VyRmlsZS5DcmVhdGUoJGNvbnRleHRJZCwgJGZpbGVOYW1lLCAnU3RhdHVzIE1lc3NhZ2VzJykpDQoJCSNpZiAoJHVzZXJGaWxlLkVycm9ycy5Db3VudCA+IDApDQoJCQkjaWYoJHVzZXJGaWxlLkVycm9ycy5nZXRfSXRlbSgwKS5UeXBlID09ICJGaWxlVHlwZU5vdFZhbGlkIikNCgkJCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJGNvcmVfdjJfdXRpbGl0eS5NYWtlTGlzdCgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfRmlsZVR5cGVFcnJvciIpKSkNCgkJCSNlbHNlDQoJCQkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCR1c2VyRmlsZS5FcnJvcnMpDQoJCQkjZW5kDQoJCSNlbmQNCg0KCQkkb3B0aW9ucy5BZGQoJ0F0dGFjaGVkVXJsJywgJHVzZXJGaWxlLlVybCkNCgkjZW5kDQoNCgkjaWYgKCRncm91cCAmJiAkZ3JvdXAuUGFyZW50R3JvdXBJZCAhPSAtMSkNCgkJJG9wdGlvbnMuQWRkKCdHcm91cElkJywgJGdyb3VwLklkKQ0KCSNlbmQNCg0KCSNzZXQgKCRtZXNzYWdlID0gJGNvcmVfdjJfc3RhdHVzTWVzc2FnZS5DcmVhdGUoJG1lc3NhZ2VCb2R5LCAkb3B0aW9ucykpDQoJI2lmICgkbWVzc2FnZS5FcnJvcnMuQ291bnQgPiAwKQ0KCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJG1lc3NhZ2UuRXJyb3JzKQ0KCSNlbHNlDQoJCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQ0KCQl7ImJvZHkiOiAiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkbWVzc2FnZS5SZW5kZXJlZEJvZHkpIn0NCgkjZW5kDQojZW5k</file>
			<file name="add-temp-forum-post.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRmb3J1bUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZm9ydW1JZCcpKSkNCgkjc2V0KCR0aXRsZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd0aXRsZScpKQ0KCSNzZXQoJGJvZHkgPSAkY29yZV92Ml91aS5Gb3JtYXRUZXh0QXNIdG1sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdib2R5JyksICIle0RldGVjdE1lZGlhVXJscz0nVHJ1ZSd9IikpDQoNCgkjc2V0KCRkYXRhID0gJGNvcmVfdjJfcGFnZS5NYWtlUXVlcnlTdHJpbmcoIiV7fSIpKQ0KDQoJI2lmKCRib2R5KQ0KCQkkZGF0YS5BZGQoJ2JvZHknLCAkYm9keSkNCgkjZW5kDQoNCgkjaWYoJHRpdGxlKQ0KCQkkZGF0YS5BZGQoJ3RpdGxlJywgJHRpdGxlKQ0KCSNlbmQNCg0KCSNzZXQoJHRlbXBJZCA9ICRjb3JlX3YyX3V0aWxpdHkuU3RvcmVUZW1wb3JhcnlEYXRhKCRkYXRhLlRvU3RyaW5nKCkpKQ0KCSNzZXQoJHVybCA9ICRjb3JlX3YyX2ZvcnVtVXJscy5BZGRUaHJlYWQoJGZvcnVtSWQsICR0ZW1wSWQpKQ0KDQoJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQoJeyJ1cmwiOiAiJHt1cmx9In0NCiNlbmQ=</file>
			<file name="add-temp-media-post.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRnYWxsZXJ5SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdtZWRpYUlkJykpKQ0KCSNzZXQoJHRpdGxlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3RpdGxlJykpDQoJI3NldCgkYm9keSA9ICRjb3JlX3YyX3VpLkZvcm1hdFRleHRBc0h0bWwoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2JvZHknKSwgIiV7RGV0ZWN0TWVkaWFVcmxzPSdUcnVlJ30iKSkNCgkjc2V0KCRmaWxlTmFtZSA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVOYW1lID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ZpbGVOYW1lJykpDQoJI3NldCgkZmlsZVVybCA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVVcmwgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZmlsZVVybCcpKQ0KCSNzZXQoJGZpbGVDb250ZXh0SWQgPSBmYWxzZSkNCgkjc2V0KCRmaWxlQ29udGV4dElkID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ZpbGVDb250ZXh0SWQnKSkNCg0KCSNzZXQoJGRhdGEgPSAkY29yZV92Ml9wYWdlLk1ha2VRdWVyeVN0cmluZygiJXt9IikpDQoNCgkjaWYoJGJvZHkpDQoJCSRkYXRhLkFkZCgnYm9keScsICRib2R5KQ0KCSNlbmQNCg0KCSNpZigkdGl0bGUpDQoJCSRkYXRhLkFkZCgnc3ViamVjdCcsICR0aXRsZSkNCgkjZW5kDQoNCgkjaWYoJGZpbGVOYW1lKQ0KCQkkZGF0YS5BZGQoJ2ZpbGVuYW1lJywgJGZpbGVOYW1lKQ0KCSNlbmQNCg0KCSNpZigkZmlsZUNvbnRleHRJZCkNCgkJJGRhdGEuQWRkKCdmaWxlQ29udGV4dElkJywgJGZpbGVDb250ZXh0SWQpDQoJI2VuZA0KDQoJI2lmKCRmaWxlVXJsKQ0KCQkkZGF0YS5BZGQoJ2ZpbGV1cmwnLCAkZmlsZVVybCkNCgkjZW5kDQoNCgkjaWYoJGRhdGEuVG9TdHJpbmcoKSkNCgkJI3NldCgkdGVtcElkID0gJGNvcmVfdjJfdXRpbGl0eS5TdG9yZVRlbXBvcmFyeURhdGEoJGRhdGEuVG9TdHJpbmcoKSkpDQoJCSNzZXQoJHVybCA9ICRjb3JlX3YyX21lZGlhVXJscy5BZGRNZWRpYSgkZ2FsbGVyeUlkLCAkdGVtcElkKSkNCgkjZWxzZQ0KCQkjc2V0KCR1cmwgPSAkY29yZV92Ml9tZWRpYVVybHMuQWRkTWVkaWEoJGdhbGxlcnlJZCkpDQoJI2VuZA0KDQoJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQoJeyJ1cmwiOiAiJHt1cmx9In0NCiNlbmQ=</file>
			<file name="add-temp-weblog-post.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCR3ZWJsb2dJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3dlYmxvZ0lkJykpKQ0KCSNzZXQoJHRpdGxlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3RpdGxlJykpDQoJI3NldCgkYm9keSA9ICRjb3JlX3YyX3VpLkZvcm1hdFRleHRBc0h0bWwoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2JvZHknKSwgIiV7RGV0ZWN0TWVkaWFVcmxzPSdUcnVlJ30iKSkNCg0KCSNzZXQoJGRhdGEgPSAkY29yZV92Ml9wYWdlLk1ha2VRdWVyeVN0cmluZygiJXsgYm9keT0nJGJvZHknLCBzdWJqZWN0PSckdGl0bGUnIH0iKSkNCgkjc2V0KCR0ZW1wSWQgPSAkY29yZV92Ml91dGlsaXR5LlN0b3JlVGVtcG9yYXJ5RGF0YSgkZGF0YS5Ub1N0cmluZygpKSkNCgkjc2V0KCR1cmwgPSAkY29yZV92Ml9ibG9nVXJscy5BZGRCbG9nUG9zdCgkd2VibG9nSWQsICR0ZW1wSWQpKQ0KDQoJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQoJeyJ1cmwiOiAiJHt1cmx9In0NCiNlbmQ=</file>
			<file name="add-temp-wiki-post.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCR3aWtpSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd3aWtpSWQnKSkpDQoJI3NldCgkdGl0bGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgndGl0bGUnKSkNCgkjc2V0KCRib2R5ID0gJGNvcmVfdjJfdWkuRm9ybWF0VGV4dEFzSHRtbCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnYm9keScpLCAiJXtEZXRlY3RNZWRpYVVybHM9J1RydWUnfSIpKQ0KDQoJI3NldCgkZGF0YSA9ICRjb3JlX3YyX3BhZ2UuTWFrZVF1ZXJ5U3RyaW5nKCIleyBib2R5PSckYm9keScsIHN1YmplY3Q9JyR0aXRsZScgfSIpKQ0KCSNzZXQoJHRlbXBJZCA9ICRjb3JlX3YyX3V0aWxpdHkuU3RvcmVUZW1wb3JhcnlEYXRhKCRkYXRhLlRvU3RyaW5nKCkpKQ0KCSNzZXQoJHVybCA9ICRjb3JlX3YyX3dpa2lVcmxzLkFkZFBhZ2UoJHdpa2lJZCwgIiV7IFRlbXBvcmFyeVN0b3JlSWQgPSAnJHt0ZW1wSWR9JyB9IikpDQoNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgl7InVybCI6ICIke3VybH0ifQ0KI2VuZA==</file>
			<file name="add-weblog-post.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCR3ZWJsb2dJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3dlYmxvZ0lkJykpKQ0KCSNzZXQoJHRpdGxlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3RpdGxlJykpDQoJI3NldCgkYm9keSA9ICRjb3JlX3YyX3VpLkZvcm1hdFRleHRBc0h0bWwoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2JvZHknKSwgIiV7RGV0ZWN0TWVkaWFVcmxzPSdUcnVlJ30iKSkNCg0KCSNzZXQoJHBvc3QgPSAkY29yZV92Ml9ibG9nUG9zdC5DcmVhdGUoJHdlYmxvZ0lkLCAkdGl0bGUsICRib2R5KSkNCgkjaWYgKCRwb3N0LkVycm9ycy5Db3VudCA+IDApDQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkcG9zdC5FcnJvcnMpDQoJI2VuZA0KDQoJPGRpdiBjbGFzcz0ibWVzc2FnZSBzdWNjZXNzIj4NCgkJPGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1vdXRlciBldm9sdXRpb24yLXF1aWNrcG9zdC1tZXNzYWdlLW91dGVyIj48ZGl2IGNsYXNzPSJmaWppLXF1aWNrcG9zdC1tZXNzYWdlLXRvcCBldm9sdXRpb24yLXF1aWNrcG9zdC1tZXNzYWdlLXRvcCI+PGRpdiBjbGFzcz0iZmlqaS1tMSBldm9sdXRpb24yLW0xIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0yIGV2b2x1dGlvbjItbTIiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTMgZXZvbHV0aW9uMi1tMyI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tNCBldm9sdXRpb24yLW00Ij48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLXF1aWNrcG9zdC1tZXNzYWdlLWlubmVyIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2UtaW5uZXIiPg0KCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1Bvc3RTdWNjZXNzIikmbmJzcDsNCgkJCTxhIGhyZWY9IiRjb3JlX3YyX2Jsb2dVcmxzLkJsb2dQb3N0KCRwb3N0LklkKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0Ij48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1ZpZXdQb3N0Iik8L2E+DQoJCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGNsb3NlLW1lc3NhZ2UiIHRpdGxlPSIkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfQ29yZV9RdWlja1Bvc3RfQ2xvc2VNZXNzYWdlJykiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfQ2xvc2VNZXNzYWdlIik8L2E+DQoJCTwvZGl2PjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtYm90dG9tIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2UtYm90dG9tIj48ZGl2IGNsYXNzPSJmaWppLW0xIGV2b2x1dGlvbjItbTEiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTIgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMyBldm9sdXRpb24yLW0zIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW00IGV2b2x1dGlvbjItbTQiPjwvZGl2PjwvZGl2PjwvZGl2Pg0KCTwvZGl2Pg0KI2VuZA==</file>
			<file name="add-wiki-post.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCR3aWtpSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd3aWtpSWQnKSkpDQoJI3NldCgkdGl0bGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgndGl0bGUnKSkNCgkjc2V0KCRib2R5ID0gJGNvcmVfdjJfdWkuRm9ybWF0VGV4dEFzSHRtbCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnYm9keScpLCAiJXtEZXRlY3RNZWRpYVVybHM9J1RydWUnfSIpKQ0KDQoJI3NldCgkcGFnZSA9ICRjb3JlX3YyX3dpa2lQYWdlLkNyZWF0ZSgkd2lraUlkLCAkdGl0bGUsICIleyBCb2R5ID0gJyRib2R5JyB9IikpDQoJI2lmICgkcGFnZSAmJiAkcGFnZS5FcnJvcnMuQ291bnQgPiAwKQ0KCQk8ZGl2IGNsYXNzPSJtZXNzYWdlIHdhcm5pbmciIGRhdGEtaXMtZXJyb3I9InRydWUiPg0KCQkJPGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1vdXRlciBldm9sdXRpb24yLXF1aWNrcG9zdC1tZXNzYWdlLW91dGVyIj48ZGl2IGNsYXNzPSJmaWppLXF1aWNrcG9zdC1tZXNzYWdlLXRvcCBldm9sdXRpb24yLXF1aWNrcG9zdC1tZXNzYWdlLXRvcCI+PGRpdiBjbGFzcz0iZmlqaS1tMSBldm9sdXRpb24yLW0xIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0yIGV2b2x1dGlvbjItbTIiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTMgZXZvbHV0aW9uMi1tMyI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tNCBldm9sdXRpb24yLW00Ij48L2Rpdj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLXF1aWNrcG9zdC1tZXNzYWdlLWlubmVyIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2UtaW5uZXIiPg0KCQkJCSRwYWdlLkVycm9ycy5nZXRfSXRlbSgwKS5NZXNzYWdlDQoJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iaW50ZXJuYWwtbGluayBjbG9zZS1tZXNzYWdlIiB0aXRsZT0iJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0NvcmVfUXVpY2tQb3N0X0Nsb3NlTWVzc2FnZScpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X0Nsb3NlTWVzc2FnZSIpPC9hPg0KCQkJPC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1ib3R0b20gZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1ib3R0b20iPjxkaXYgY2xhc3M9ImZpamktbTEgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMiBldm9sdXRpb24yLW0yIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0zIGV2b2x1dGlvbjItbTMiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTQgZXZvbHV0aW9uMi1tNCI+PC9kaXY+PC9kaXY+PC9kaXY+DQoJCTwvZGl2Pg0KCSNlbHNlDQoJCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugc3VjY2VzcyI+DQoJCQk8ZGl2IGNsYXNzPSJmaWppLXF1aWNrcG9zdC1tZXNzYWdlLW91dGVyIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2Utb3V0ZXIiPjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtdG9wIGV2b2x1dGlvbjItcXVpY2twb3N0LW1lc3NhZ2UtdG9wIj48ZGl2IGNsYXNzPSJmaWppLW0xIGV2b2x1dGlvbjItbTEiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTIgZXZvbHV0aW9uMi1tMiI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMyBldm9sdXRpb24yLW0zIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW00IGV2b2x1dGlvbjItbTQiPjwvZGl2PjwvZGl2PjxkaXYgY2xhc3M9ImZpamktcXVpY2twb3N0LW1lc3NhZ2UtaW5uZXIgZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1pbm5lciI+DQoJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1Bvc3RTdWNjZXNzIikmbmJzcDsNCgkJCQk8YSBocmVmPSIkY29yZV92Ml93aWtpVXJscy5QYWdlKCRwYWdlLklkKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0Ij48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1ZpZXdQb3N0Iik8L2E+DQoJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iaW50ZXJuYWwtbGluayBjbG9zZS1tZXNzYWdlIiB0aXRsZT0iJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0NvcmVfUXVpY2tQb3N0X0Nsb3NlTWVzc2FnZScpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X0Nsb3NlTWVzc2FnZSIpPC9hPg0KCQkJPC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1xdWlja3Bvc3QtbWVzc2FnZS1ib3R0b20gZXZvbHV0aW9uMi1xdWlja3Bvc3QtbWVzc2FnZS1ib3R0b20iPjxkaXYgY2xhc3M9ImZpamktbTEgZXZvbHV0aW9uMi1tMSI+PC9kaXY+PGRpdiBjbGFzcz0iZmlqaS1tMiBldm9sdXRpb24yLW0yIj48L2Rpdj48ZGl2IGNsYXNzPSJmaWppLW0zIGV2b2x1dGlvbjItbTMiPjwvZGl2PjxkaXYgY2xhc3M9ImZpamktbTQgZXZvbHV0aW9uMi1tNCI+PC9kaXY+PC9kaXY+PC9kaXY+DQoJCTwvZGl2Pg0KCSNlbmQNCiNlbmQ=</file>
			<file name="forums-tab.vm">I3NldCgkZm9ydW1zID0gZmFsc2UpDQojc2V0KCRmb3J1bXMgPSAkY29yZV92Ml9mb3J1bS5MaXN0Rm9yUXVpY2tQb3N0KCkpDQoNCiNpZighJGZvcnVtcyB8fCAkZm9ydW1zLkNvdW50ID09IDApDQo8ZGl2IGNsYXNzPSJtZXNzYWdlIGRpcmVjdGlvbnMiPg0KCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9Db3JlX1F1aWNrUG9zdF9Ob0ZvcnVtcycpDQo8L2Rpdj4NCiNlbHNlDQo8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+DQo8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCTxsZWdlbmQgY2xhc3M9ImZpZWxkLWxpc3QtZGVzY3JpcHRpb24iPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9RdWlja1Bvc3QiKTwvc3Bhbj48L2xlZ2VuZD4NCgk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gcG9zdC10byI+DQoJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfQ29yZV9RdWlja1Bvc3RfUHVibGlzaFRvRm9ydW0nKTwvbGFiZWw+DQoJCQkjaWYgKCRmb3J1bXMuQ291bnQgPiAxKQ0KCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCQk8c2VsZWN0Pg0KCQkJCSNmb3JlYWNoKCRmb3J1bSBpbiAkZm9ydW1zKQ0KCQkJCQk8b3B0aW9uIHZhbHVlPSIkZm9ydW0uSWQiPiRmb3J1bS5OYW1lPC9vcHRpb24+DQoJCQkJI2VuZA0KCQkJCTwvc2VsZWN0Pg0KCQkJCTwvc3Bhbj4NCgkJCSNlbHNlDQoJCQkJI2ZvcmVhY2goJGZvcnVtIGluICRmb3J1bXMpDQoJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0IiBkYXRhLWZvcnVtLWlkPSIkZm9ydW0uSWQiPiRmb3J1bS5OYW1lPC9zcGFuPg0KCQkJCSNlbmQNCgkJCSNlbmQNCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHBvc3QtdGl0bGUiPg0KCQkJPGxhYmVsIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciIgZm9yPSJxdWlja3Bvc3QtdGl0bGUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9UaXRsZSIpPC9sYWJlbD4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCSAgICA8dGV4dGFyZWEgbmFtZT0icXVpY2twb3N0LXRpdGxlIiByb3dzPSIxIiBtYXhsZW5ndGg9IjI1NiIgY2xhc3M9ImVtcHR5IiB2YWx1ZT0nJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1RpdGxlX0hlbHAiKSc+PC90ZXh0YXJlYT4NCgkJCTwvc3Bhbj4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iPjwvc3Bhbj4NCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHBvc3QtYm9keSI+DQoJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIiBmb3I9InF1aWNrcG9zdC1ib2R5Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfQm9keSIpPC9sYWJlbD4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48dGV4dGFyZWEgcm93cz0iMiIgbmFtZT0icXVpY2twb3N0LWJvZHkiIGNsYXNzPSJlbXB0eSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0NvcmVfUXVpY2tQb3N0X0JvZHlfSGVscCcpPC90ZXh0YXJlYT48L3NwYW4+DQoJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIj48L3NwYW4+DQoJCTwvbGk+DQoJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBwb3N0LXN1Ym1pdCI+DQoJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQoJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iaW50ZXJuYWwtbGluayBhZGQtcG9zdCBhZGQtcG9zdF9fZGlzYWJsZWQgYWRkLXBvc3RfX2Rpc2FibGVkX19pbnRlcm5hbC1saW5rIGRpc2FibGVkIGRpc2FibGVkX19pbnRlcm5hbC1saW5rIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1Bvc3QiKTwvYT4NCgkJCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGFkdmFuY2VkLXBvc3QiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfQWR2YW5jZWRQb3N0Iik8L2E+DQoJCQk8L3NwYW4+DQoJCQk8ZGl2IHN0eWxlPSJjbGVhcjogYm90aDsiPjwvZGl2Pg0KCQk8L2xpPg0KCTwvdWw+DQo8L2ZpZWxkc2V0Pg0KPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KI2VuZA==</file>
			<file name="get-media-upload-url.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRnYWxsZXJ5SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdtZWRpYUlkJykpKQ0KDQoJI3NldCgkdXJsID0gJGNvcmVfdjJfbWVkaWFVcmxzLlVwbG9hZE1lZGlhKCRnYWxsZXJ5SWQpKQ0KDQoJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQoJeyJ1cmwiOiAiJHt1cmx9In0NCiNlbmQ=</file>
			<file name="medias-tab.vm">I3NldCgkZ2FsbGVyaWVzID0gZmFsc2UpDQojc2V0KCRnYWxsZXJpZXMgPSAkY29yZV92Ml9nYWxsZXJ5Lkxpc3RGb3JRdWlja1Bvc3QoKSkNCg0KI2lmKCEkZ2FsbGVyaWVzIHx8ICRnYWxsZXJpZXMuQ291bnQgPT0gMCkNCjxkaXYgY2xhc3M9Im1lc3NhZ2UgZGlyZWN0aW9ucyI+DQoJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0NvcmVfUXVpY2tQb3N0X05vR2FsbGVyaWVzJykNCjwvZGl2Pg0KI2Vsc2UNCjxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtaGVhZGVyIj48L2Rpdj4NCjxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJPGxlZ2VuZCBjbGFzcz0iZmllbGQtbGlzdC1kZXNjcmlwdGlvbiI+PHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1F1aWNrUG9zdCIpPC9zcGFuPjwvbGVnZW5kPg0KCTx1bCBjbGFzcz0iZmllbGQtbGlzdCI+DQoJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBwb3N0LXRvIj4NCgkJCTxsYWJlbCBjbGFzcz0iZmllbGQtaXRlbS1oZWFkZXIiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9Db3JlX1F1aWNrUG9zdF9QdWJsaXNoVG9HYWxsZXJ5Jyk8L2xhYmVsPg0KCQkJI2lmICgkZ2FsbGVyaWVzLkNvdW50ID4gMSkNCgkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQoJCQkJPHNlbGVjdD4NCgkJCQkjZm9yZWFjaCgkZ2FsbGVyeSBpbiAkZ2FsbGVyaWVzKQ0KCQkJCQk8b3B0aW9uIHZhbHVlPSIkZ2FsbGVyeS5JZCI+JGdhbGxlcnkuTmFtZTwvb3B0aW9uPg0KCQkJCSNlbmQNCgkJCQk8L3NlbGVjdD4NCgkJCQk8L3NwYW4+DQoJCQkjZWxzZQ0KCQkJCSNmb3JlYWNoKCRnYWxsZXJ5IGluICRnYWxsZXJpZXMpDQoJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0IiBkYXRhLWdhbGxlcnktaWQ9IiRnYWxsZXJ5LklkIj4kZ2FsbGVyeS5OYW1lPC9zcGFuPg0KCQkJCSNlbmQNCgkJCSNlbmQNCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHBvc3QtZmlsZSI+DQoJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfQXR0YWNoRmlsZSIpPC9sYWJlbD4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIiBmb3I9InF1aWNrcG9zdC1hdHRhY2htZW50Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfQXR0YWNobWVudCIpOjwvbGFiZWw+DQoJCQkJPGlucHV0IGlkPSJxdWlja3Bvc3QtYXR0YWNobWVudCIgbmFtZT0icXVpY2twb3N0LWF0dGFjaG1lbnQiIHR5cGU9InRleHQiIGNvbnRlbnRlZGl0YWJsZT0iZmFsc2UiIG9ua2V5cHJlc3M9InJldHVybiBmYWxzZTsiIG9ucGFzdGU9InJldHVybiBmYWxzZTsiIGNsYXNzPSJlbXB0eSIgdmFsdWU9IiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9Db3JlX1F1aWNrUG9zdF9BdHRhY2hGaWxlX0hlbHAnKSI+DQoJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iaW50ZXJuYWwtbGluayBhZGQtYXR0YWNobWVudCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9BdHRhY2hGaWxlIik8L2E+DQoJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iaW50ZXJuYWwtbGluayByZW1vdmUtYXR0YWNobWVudCIgc3R5bGU9ImRpc3BsYXk6IG5vbmU7Ij48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1JlbW92ZUZpbGUiKTwvYT4NCgkJCTwvc3Bhbj4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iPjwvc3Bhbj4NCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHBvc3QtdGl0bGUiPg0KCQkJPGxhYmVsIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciIgZm9yPSJxdWlja3Bvc3QtdGl0bGUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9UaXRsZSIpPC9sYWJlbD4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCSAgICA8dGV4dGFyZWEgcm93cz0iMSIgbmFtZT0icXVpY2twb3N0LXRpdGxlIiBtYXhsZW5ndGg9IjI1NiIgY2xhc3M9ImVtcHR5IiB2YWx1ZT0nJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1RpdGxlX0hlbHAiKSc+PC90ZXh0YXJlYT4NCgkJCTwvc3Bhbj4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iPjwvc3Bhbj4NCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHBvc3QtYm9keSI+DQoJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIiBmb3I9InF1aWNrcG9zdC1ib2R5Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfQm9keSIpPC9sYWJlbD4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48dGV4dGFyZWEgcm93cz0iMiIgbmFtZT0icXVpY2twb3N0LWJvZHkiIGlkPSJxdWlja3Bvc3QtYm9keSIgY2xhc3M9ImVtcHR5Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfQ29yZV9RdWlja1Bvc3RfQm9keV9IZWxwJyk8L3RleHRhcmVhPjwvc3Bhbj4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iPjwvc3Bhbj4NCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHBvc3Qtc3VibWl0Ij4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGFkZC1wb3N0IGFkZC1wb3N0X19kaXNhYmxlZCBhZGQtcG9zdF9fZGlzYWJsZWRfX2ludGVybmFsLWxpbmsgZGlzYWJsZWQgZGlzYWJsZWRfX2ludGVybmFsLWxpbmsiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfUG9zdCIpPC9hPg0KCQkJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImludGVybmFsLWxpbmsgYWR2YW5jZWQtcG9zdCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9BZHZhbmNlZFBvc3QiKTwvYT4NCgkJCTwvc3Bhbj4NCgkJCTxkaXYgc3R5bGU9ImNsZWFyOiBib3RoOyI+PC9kaXY+DQoJCTwvbGk+DQoJPC91bD4NCjwvZmllbGRzZXQ+DQo8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWZvb3RlciI+PC9kaXY+DQojZW5k</file>
			<file name="preview-attachment.vm">IyMgTG9hZHMgQXR0YWNobWVudCBQcmV2aWV3DQojc2V0KCRtZXNzYWdlQm9keSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd3X21lc3NhZ2VCb2R5JykpDQojc2V0KCRncm91cElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnd19ncm91cElkJykpKQ0KDQojc2V0ICgkYXR0YWNoZWRGaWxlTmFtZSA9IGZhbHNlKQ0KI3NldCAoJGF0dGFjaGVkRmlsZU5hbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnd19hdHRhY2hlZEZpbGVOYW1lJykpDQojc2V0ICgkYXR0YWNoZWRGaWxlQ29udGV4dCA9IGZhbHNlKQ0KI3NldCAoJGF0dGFjaGVkRmlsZUNvbnRleHQgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnd19hdHRhY2hlZEZpbGVDb250ZXh0JykpDQojc2V0ICgkYXR0YWNoZWRVcmwgPSBmYWxzZSkNCiNpZiAoJGF0dGFjaGVkRmlsZU5hbWUubGVuZ3RoID4gMCAmJiAkYXR0YWNoZWRGaWxlQ29udGV4dC5sZW5ndGggPiAwKQ0KICAgICNzZXQgKCRhdHRhY2hlZEZpbGUgPSBmYWxzZSkNCgkjc2V0ICgkYXR0YWNoZWRGaWxlID0gJGNvcmVfdjJfdXBsb2FkZWRGaWxlLkdldCgkYXR0YWNoZWRGaWxlQ29udGV4dCwgJGF0dGFjaGVkRmlsZU5hbWUpKQ0KCSNpZiAoJGF0dGFjaGVkRmlsZSkNCgkgICAjc2V0ICgkYXR0YWNoZWRVcmwgPSAkYXR0YWNoZWRGaWxlLlVybCkNCgkjZW5kDQojZW5kDQoNCiNzZXQgKCRvcHRpb25zID0gIiV7IEdyb3VwSWQgPSAkZ3JvdXBJZCB9IikNCiNpZiAoJGF0dGFjaGVkVXJsKQ0KICAgICRvcHRpb25zLkFkZCgnQXR0YWNoZWRVcmwnLCAkYXR0YWNoZWRVcmwpDQojZW5kDQoNCiRjb3JlX3YyX3N0YXR1c01lc3NhZ2UuUHJldmlld0F0dGFjaG1lbnQoJG1lc3NhZ2VCb2R5LCAkb3B0aW9ucyk=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpICQudGVsbGlnZW50ID0ge307DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCiAgICBpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsNCg0KDQogICAgdmFyIEF0dGFjaG1lbnRQcmV2aWV3ID0gbnVsbCwNCglsb2FkU3RhdHVzRm9ybSA9IGZ1bmN0aW9uKGNvbnRleHQsIGRlbGF5TG9hZCkNCiAgICB7DQogICAgICAgIHZhciB3cmFwcGVyID0gJChjb250ZXh0LndyYXBwZXJTZWxlY3Rvcik7DQogICAgICAgIHZhciBtZXNzYWdlRm9ybSA9ICQoJy5tZXNzYWdlLWZvcm0nLCB3cmFwcGVyKTsNCiAgICAgICAgdmFyIHN0YXR1c1RleHRib3ggPSAkKCd0ZXh0YXJlYScsIG1lc3NhZ2VGb3JtKTsNCiAgICAgICAgdmFyIGZpbGVVcGxvYWRDb250YWluZXIgPSAkKCcuZmllbGQtaXRlbS1pbnB1dC5maWxlLXVwbG9hZCcsIG1lc3NhZ2VGb3JtKTsNCiAgICAgICAgJCgnLnBvc3QtZm9ybScsIHdyYXBwZXIpLmhpZGUoKTsNCiAgICAgICAgJCgnLmFwcGxpY2F0aW9uLW1lc3NhZ2UnKS5oaWRlKCk7DQogICAgICAgIHZhciBmaWxlVXBsb2FkVG9nZ2xlID0gJCgnLmZpZWxkLWl0ZW0taW5wdXQuZmlsZSBhJywgbWVzc2FnZUZvcm0pOw0KDQogICAgICAgIGlmIChkZWxheUxvYWQpDQogICAgICAgICAgICBtZXNzYWdlRm9ybS5zbGlkZURvd24oKTsNCiAgICAgICAgZWxzZQ0KICAgICAgICAgICAgbWVzc2FnZUZvcm0uc2hvdygpOw0KDQoJCUF0dGFjaG1lbnRQcmV2aWV3ID0gQXR0YWNobWVudFByZXZpZXcgfHwgKGZ1bmN0aW9uKCl7DQoJCQl2YXIgcHJldmlld0NvbnRhaW5lciA9ICQoJy5wb3N0LXRodW1ibmFpbC5zdGF0dXMtYXR0YWNobWVudC1wcmV2aWV3JywgY29udGV4dC53cmFwcGVyU2VsZWN0b3IpOw0KCQkJdmFyIHByZXZpZXdUaW1lb3V0LA0KCSAgICAgICAgICAgIGF0dGFjaGVkRmlsZU5hbWUgPSBudWxsLA0KCQkJCXByZXZpZXdDb250ZW50ID0gbnVsbDsNCgkgICAgICAgICAgICBsb2FkQXR0YWNobWVudFByZXZpZXcgPSBmdW5jdGlvbihmaWxlTmFtZSkgew0KCQkJCQlpZihmaWxlTmFtZSkgIHsNCgkJCQkJCWF0dGFjaGVkRmlsZU5hbWUgPSBmaWxlTmFtZTsNCgkJCQkJfQ0KCSAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQocHJldmlld1RpbWVvdXQpOw0KCSAgICAgICAgICAgICAgICBwcmV2aWV3VGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXsNCgkgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gew0KCSAgICAgICAgICAgICAgICAgICAgICAgIHdfbWVzc2FnZUJvZHk6IHN0YXR1c1RleHRib3guZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpLA0KCSAgICAgICAgICAgICAgICAgICAgICAgIHdfZ3JvdXBJZDogY29udGV4dC5ncm91cElkDQoJICAgICAgICAgICAgICAgICAgICB9Ow0KCSAgICAgICAgICAgICAgICAgICAgaWYoYXR0YWNoZWRGaWxlTmFtZSkgew0KCSAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEud19hdHRhY2hlZEZpbGVOYW1lID0gYXR0YWNoZWRGaWxlTmFtZTsNCgkgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLndfYXR0YWNoZWRGaWxlQ29udGV4dCA9IGNvbnRleHQuc3RhdHVzVXBsb2FkQ29udGV4dElkOw0KCSAgICAgICAgICAgICAgICAgICAgfQ0KCSAgICAgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCSAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5wcmV2aWV3QXR0YWNobWVudFVybCwNCgkgICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBkYXRhLA0KCSAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlID0gJC50cmltKHJlc3BvbnNlKTsNCgkJCQkJCQkJaWYocmVzcG9uc2UgJiYgcmVzcG9uc2UubGVuZ3RoID4gMCAmJiByZXNwb25zZSAhPT0gcHJldmlld0NvbnRlbnQpIHsNCgkJCQkJCQkJCXByZXZpZXdDb250ZW50ID0gcmVzcG9uc2U7DQoJCQkJCQkJCQlwcmV2aWV3Q29udGFpbmVyLmh0bWwocHJldmlld0NvbnRlbnQpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlld0NvbnRhaW5lci5zbGlkZURvd24oMTAwKTsNCgkJCQkJCQkJfQ0KCSAgICAgICAgICAgICAgICAgICAgICAgIH0NCgkgICAgICAgICAgICAgICAgICAgIH0pOw0KCSAgICAgICAgICAgICAgICB9LCAxNTApOw0KCSAgICAgICAgICAgIH07DQoJCQlyZXR1cm4gew0KCQkJCWxvYWRQcmV2aWV3OiBmdW5jdGlvbihmaWxlTmFtZSkgew0KCQkJCQlsb2FkQXR0YWNobWVudFByZXZpZXcoZmlsZU5hbWUgfHwgbnVsbCk7DQoJCQkJfSwNCgkJCQljbGVhclByZXZpZXc6IGZ1bmN0aW9uKCkgew0KCSAgICAgICAgICAgICAgICBwcmV2aWV3Q29udGFpbmVyLnNsaWRlVXAoMTAwKTsNCgkJCQkJY2xlYXJUaW1lb3V0KHByZXZpZXdUaW1lb3V0KTsNCgkJCQkJYXR0YWNoZWRGaWxlTmFtZSA9IG51bGw7DQoJCQkJCXByZXZpZXdDb250ZW50ID0gbnVsbDsNCgkJCQkJcHJldmlld0NvbnRhaW5lci5lbXB0eSgpOw0KCQkJCX0NCgkJCX0NCgkJfSkoKTsNCg0KICAgICAgICBzdGF0dXNUZXh0Ym94LnZhbChjb250ZXh0LnN0YXR1c01lc3NhZ2VQcm9tcHQpOw0KICAgICAgICBpZiAoc3RhdHVzVGV4dGJveC5kYXRhKCdsb2FkZWQnKSAhPT0gdHJ1ZSkNCiAgICAgICAgew0KICAgICAgICAgICAgc3RhdHVzVGV4dGJveC5vbmUoJ2ZvY3VzJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICBzdGF0dXNUZXh0Ym94LmV2b2x1dGlvbkNvbXBvc2VyKHsNCiAgICAgICAgICAgICAgICAgICAgcGx1Z2luczogWydtZW50aW9ucycsJ2hhc2h0YWdzJywndXJsaGlnaGxpZ2h0J10NCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5ldm9sdXRpb25Db21wb3Nlcignb25pbnB1dCcsIGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgICAgICAgICBBdHRhY2htZW50UHJldmlldy5sb2FkUHJldmlldygpOw0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgLmV2b2x1dGlvbkNvbXBvc2VyKCdvbmtleWRvd24nLCBmdW5jdGlvbihlKXsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT09IDEzKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUuc2hpZnRLZXkpIHsNCgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVVwbG9hZCA9IGZpbGVVcGxvYWRDb250YWluZXIuY2hpbGRyZW4oJ2RpdicpOw0KCSAgICAgICAgICAgICAgICAgICAgICAgIGFkZFN0YXR1c01lc3NhZ2UoY29udGV4dCwgc3RhdHVzVGV4dGJveC5ldm9sdXRpb25Db21wb3NlcigndmFsJyksDQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVVcGxvYWRUb2dnbGUuaGFzQ2xhc3MoJ2FjdGl2ZScpICYmIGZpbGVVcGxvYWQgIT09IG51bGwgJiYgZmlsZVVwbG9hZC5sZW5ndGggPiAwICYmIGZpbGVVcGxvYWQuZ2xvd1VwbG9hZCgndmFsJykgIT09IG51bGwgPyBmaWxlVXBsb2FkLmdsb3dVcGxvYWQoJ3ZhbCcpLm5hbWUgOiBudWxsKTsNCgkgICAgICAgICAgICAgICAgICAgICAgICAkKGUudGFyZ2V0KS5ibHVyKCk7DQoJICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAua2V5dXAoZnVuY3Rpb24oZSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGlmIChlLmtleUNvZGUgIT0gMTMgfHwgZS5zaGlmdEtleSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlTWVzc2FnZVN1Ym1pdChjb250ZXh0KTsNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgIC5mb2N1cyhmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzVGV4dGJveC5ldm9sdXRpb25Db21wb3NlcigndmFsJykgPT0gY29udGV4dC5zdGF0dXNNZXNzYWdlUHJvbXB0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dGJveC5ldm9sdXRpb25Db21wb3NlcigndmFsJywnJykudHJpZ2dlcigna2V5ZG93bicpLnRyaWdnZXIoJ2tleXVwJyk7DQogICAgICAgICAgICAgICAgfSkuYmx1cihmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZU1lc3NhZ2VTdWJtaXQoY29udGV4dCk7DQogICAgICAgICAgICAgICAgICAgIGlmIChzdGF0dXNUZXh0Ym94LmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSA9PSAiIikNCiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1c1RleHRib3guZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcsY29udGV4dC5zdGF0dXNNZXNzYWdlUHJvbXB0KS50cmlnZ2VyKCdrZXlkb3duJykudHJpZ2dlcigna2V5dXAnKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBmaWxlVXBsb2FkVG9nZ2xlLmNsaWNrKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgIGlmIChmaWxlVXBsb2FkQ29udGFpbmVyLmNoaWxkcmVuKCdkaXYnKS5sZW5ndGggPT0gMCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVVwbG9hZElucHV0ID0gZmlsZVVwbG9hZFRvZ2dsZS5jbG9zZXN0KCcuZmllbGQtaXRlbS1pbnB1dC5maWxlJyk7DQoJCQkJCWZpbGVVcGxvYWRDb250YWluZXIuc2hvdygpOw0KDQogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlVXBsb2FkID0gJCgnPGRpdj48L2Rpdj4nKTsNCiAgICAgICAgICAgICAgICAgICAgZmlsZVVwbG9hZENvbnRhaW5lci5odG1sKGZpbGVVcGxvYWQpOw0KDQogICAgICAgICAgICAgICAgICAgIGZpbGVVcGxvYWQuZ2xvd1VwbG9hZCh7DQogICAgICAgICAgICAgICAgICAgICAgICBmaWxlRmlsdGVyOiBudWxsLA0KICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6ICczNTBweCcsDQogICAgICAgICAgICAgICAgICAgICAgICB1cGxvYWRVcmw6IGNvbnRleHQuc3RhdHVzVXBsb2FkRmlsZVVybA0KICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAuYmluZCgnZ2xvd1VwbG9hZEJlZ3VuJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUZvcm0uZGF0YSgndXBsb2FkaW5nJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0ZU1lc3NhZ2VTdWJtaXQoY29udGV4dCk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5iaW5kKCdnbG93VXBsb2FkQ29tcGxldGUnLCBmdW5jdGlvbihlLCBmaWxlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBBdHRhY2htZW50UHJldmlldy5sb2FkUHJldmlldyhmaWxlLm5hbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUZvcm0uZGF0YSgndXBsb2FkaW5nJywgZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVNZXNzYWdlU3VibWl0KGNvbnRleHQpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTsNCiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGZpbGVVcGxvYWRDb250YWluZXIuY3NzKCdkaXNwbGF5JykgPT0gJ25vbmUnKSB7DQogICAgICAgICAgICAgICAgICAgIGZpbGVVcGxvYWRDb250YWluZXIuc2hvdygpOw0KICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdhY3RpdmUnKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBmaWxlVXBsb2FkQ29udGFpbmVyLmhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICQoJy5pbnRlcm5hbC1saW5rLmFkZC1wb3N0JywgbWVzc2FnZUZvcm0pLmNsaWNrKGZ1bmN0aW9uKGUpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgdmFyIGZpbGVVcGxvYWQgPSBmaWxlVXBsb2FkQ29udGFpbmVyLmNoaWxkcmVuKCdkaXYnKTsNCiAgICAgICAgICAgICAgICBhZGRTdGF0dXNNZXNzYWdlKGNvbnRleHQsIHN0YXR1c1RleHRib3guZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpLA0KICAgICAgICAgICAgICAgICAgICBmaWxlVXBsb2FkVG9nZ2xlLmhhc0NsYXNzKCdhY3RpdmUnKSAmJiBmaWxlVXBsb2FkICE9PSBudWxsICYmIGZpbGVVcGxvYWQubGVuZ3RoID4gMCAmJiBmaWxlVXBsb2FkLmdsb3dVcGxvYWQoJ3ZhbCcpICE9PSBudWxsID8gZmlsZVVwbG9hZC5nbG93VXBsb2FkKCd2YWwnKS5uYW1lIDogbnVsbCk7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHN0YXR1c1RleHRib3guZGF0YSgnbG9hZGVkJywgdHJ1ZSk7DQogICAgICAgIH0NCiAgICB9LA0KICAgIHZhbGlkYXRlTWVzc2FnZVN1Ym1pdCA9IGZ1bmN0aW9uKGNvbnRleHQpDQogICAgew0KICAgICAgICB2YXIgd3JhcHBlciA9ICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpOw0KICAgICAgICB2YXIgbWVzc2FnZUZvcm0gPSAkKCcubWVzc2FnZS1mb3JtJywgd3JhcHBlcik7DQogICAgICAgIHZhciBzdGF0dXNUZXh0Ym94ID0gJCgndGV4dGFyZWEnLCBtZXNzYWdlRm9ybSk7DQogICAgICAgIHZhciBzdWJtaXQgPSAkKCcuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsIG1lc3NhZ2VGb3JtKTsNCiAgICAgICAgaWYgKCQudHJpbShzdGF0dXNUZXh0Ym94LnZhbCgpKSA9PSBjb250ZXh0LnN0YXR1c01lc3NhZ2VQcm9tcHQgfHwgJC50cmltKHN0YXR1c1RleHRib3gudmFsKCkpID09ICIiIHx8IG1lc3NhZ2VGb3JtLmRhdGEoJ3VwbG9hZGluZycpID09PSB0cnVlKQ0KICAgICAgICB7DQogICAgICAgICAgICBzdWJtaXQuYWRkQ2xhc3MoImRpc2FibGVkIik7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCg0KICAgICAgICBzdWJtaXQucmVtb3ZlQ2xhc3MoImRpc2FibGVkIik7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0sDQogICAgYWRkU3RhdHVzTWVzc2FnZSA9IGZ1bmN0aW9uKGNvbnRleHQsIHZhbHVlLCBhdHRhY2hlZEZpbGVOYW1lKQ0KICAgIHsNCiAgICAgICAgaWYgKCF2YWxpZGF0ZU1lc3NhZ2VTdWJtaXQoY29udGV4dCkpDQogICAgICAgICAgICByZXR1cm47DQoNCiAgICAgICAgdmFyIHdyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKTsNCiAgICAgICAgdmFyIG1lc3NhZ2VGb3JtID0gJCgnLm1lc3NhZ2UtZm9ybScsIHdyYXBwZXIpOw0KICAgICAgICB2YXIgc3RhdHVzVGV4dGJveCA9ICQoJ3RleHRhcmVhJywgbWVzc2FnZUZvcm0pOw0KICAgICAgICB2YXIgZmlsZVVwbG9hZENvbnRhaW5lciA9ICQoJy5maWVsZC1pdGVtLWlucHV0LmZpbGUtdXBsb2FkJywgbWVzc2FnZUZvcm0pOw0KICAgICAgICB2YXIgZmlsZVVwbG9hZFRvZ2dsZSA9ICQoJy5maWVsZC1pdGVtLWlucHV0LmZpbGUgYScsIG1lc3NhZ2VGb3JtKTsNCiAgICAgICAgc3RhdHVzVGV4dGJveC5hZnRlcignPHNwYW4gY2xhc3M9ImFkZC1tZXNzYWdlLWxvYWRpbmciPjwvc3Bhbj4nKTsNCiAgICAgICAgJCgnLmludGVybmFsLWxpbmsuYWRkLXBvc3QnLCBtZXNzYWdlRm9ybSkNCiAgICAgICAgICAgIC51bmJpbmQoImNsaWNrIikNCiAgICAgICAgICAgIC5hZGRDbGFzcygiYWRkLXBvc3QgYWRkLXBvc3RfX2Rpc2FibGVkIGFkZC1wb3N0X19kaXNhYmxlZF9faW50ZXJuYWwtbGluayBkaXNhYmxlZCBkaXNhYmxlZF9faW50ZXJuYWwtbGluayIpDQogICAgICAgICAgICAuaHRtbCgnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LnB1Ymxpc2hpbmdUZXh0KTsNCg0KICAgICAgICB2YXIgc3RhdHVzTWVzc2FnZVBvc3QgPSB7DQogICAgICAgICAgICBtZXNzYWdlOnZhbHVlLCBncm91cElkOmNvbnRleHQuZ3JvdXBJZCwNCiAgICAgICAgICAgIGNvbnRleHRJZDogY29udGV4dC5zdGF0dXNGaWxlVXBsb2FkQ29udGV4dElkDQogICAgICAgIH07DQogICAgICAgIGlmKGF0dGFjaGVkRmlsZU5hbWUpIHsNCiAgICAgICAgICAgIHN0YXR1c01lc3NhZ2VQb3N0LmZpbGVOYW1lID0gYXR0YWNoZWRGaWxlTmFtZTsNCiAgICAgICAgfQ0KDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC5hZGRTdGF0dXNVcmwsDQogICAgICAgICAgICBkYXRhOiBzdGF0dXNNZXNzYWdlUG9zdCwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIoJ3RlbGxpZ2VudF9tZXNzYWdpbmdfYWN0aXZpdHltZXNzYWdldXBkYXRlZCcsIFtyZXNwb25zZS5ib2R5XSk7DQogICAgICAgICAgICAgICAgJChkb2N1bWVudCkudHJpZ2dlcigndGVsbGlnZW50X2NvcmVfdXNlcnNzdGF0dXN1cGRhdGVkJywgW3Jlc3BvbnNlLmJvZHldKTsNCiAgICAgICAgICAgICAgICAkKCcuYXR0cmlidXRlLWl0ZW0udmlldy11c2VyLXN0YXR1cyAuYXR0cmlidXRlLXZhbHVlJywgd3JhcHBlcikuaHRtbChyZXNwb25zZS5ib2R5KTsNCiAgICAgICAgICAgICAgICAkKCcuYXR0cmlidXRlLWl0ZW0udmlldy11c2VyLXN0YXR1cy1kYXRlIC5hdHRyaWJ1dGUtdmFsdWUnLCB3cmFwcGVyKS5odG1sKGNvbnRleHQuc3RhdHVzRGF0ZVNlY29uZHNBZ28pOw0KICAgICAgICAgICAgICAgICQoJy5hZGQtbWVzc2FnZS1sb2FkaW5nJykucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgc3RhdHVzVGV4dGJveC5ldm9sdXRpb25Db21wb3NlcigndmFsJyxjb250ZXh0LnN0YXR1c01lc3NhZ2VQcm9tcHQpLnRyaWdnZXIoJ2tleWRvd24nKS50cmlnZ2VyKCdrZXl1cCcpOw0KICAgICAgICAgICAgICAgICQoJy5pbnRlcm5hbC1saW5rLmFkZC1wb3N0JywgbWVzc2FnZUZvcm0pDQogICAgICAgICAgICAgICAgICAgIC5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQucG9zdFRleHQpDQogICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygiYWRkLXBvc3RfX2Rpc2FibGVkIGFkZC1wb3N0X19kaXNhYmxlZF9faW50ZXJuYWwtbGluayBkaXNhYmxlZCBkaXNhYmxlZF9faW50ZXJuYWwtbGluayIpDQogICAgICAgICAgICAgICAgICAgIC5jbGljayhmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVVwbG9hZCA9IGZpbGVVcGxvYWRDb250YWluZXIuY2hpbGRyZW4oJ2RpdicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYWRkU3RhdHVzTWVzc2FnZShjb250ZXh0LCBzdGF0dXNUZXh0Ym94LmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlVXBsb2FkVG9nZ2xlLmhhc0NsYXNzKCdhY3RpdmUnKSAmJiBmaWxlVXBsb2FkICE9PSBudWxsICYmIGZpbGVVcGxvYWQubGVuZ3RoID4gMCAmJiBmaWxlVXBsb2FkLmdsb3dVcGxvYWQoJ3ZhbCcpICE9PSBudWxsID8gZmlsZVVwbG9hZC5nbG93VXBsb2FkKCd2YWwnKS5uYW1lIDogbnVsbCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICQoJy5maWVsZC1pdGVtLWlucHV0LmZpbGUtdXBsb2FkJywgbWVzc2FnZUZvcm0pLmhpZGUoKS5odG1sKCcnKTsNCiAgICAgICAgICAgICAgICAkKCcuZmllbGQtaXRlbS1pbnB1dC5maWxlIGEnLCBtZXNzYWdlRm9ybSkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpOw0KICAgICAgICAgICAgICAgIEF0dGFjaG1lbnRQcmV2aWV3LmNsZWFyUHJldmlldygpOw0KICAgICAgICAgICAgICAgIHZhbGlkYXRlTWVzc2FnZVN1Ym1pdChjb250ZXh0KTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2Mse3R5cGU6J2Vycm9yJ30pOw0KICAgICAgICAgICAgICAgICQoJy5hZGQtbWVzc2FnZS1sb2FkaW5nJykucmVtb3ZlKCk7DQogICAgICAgICAgICAgICAgJCgnLmludGVybmFsLWxpbmsuYWRkLXBvc3QnLCBtZXNzYWdlRm9ybSkNCiAgICAgICAgICAgICAgICAgICAgLmh0bWwoJzxzcGFuPjwvc3Bhbj4nICsgY29udGV4dC5wb3N0VGV4dCkNCiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCJhZGQtcG9zdF9fZGlzYWJsZWQgYWRkLXBvc3RfX2Rpc2FibGVkX19pbnRlcm5hbC1saW5rIGRpc2FibGVkIGRpc2FibGVkX19pbnRlcm5hbC1saW5rIikNCiAgICAgICAgICAgICAgICAgICAgLmNsaWNrKGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlVXBsb2FkID0gZmlsZVVwbG9hZENvbnRhaW5lci5jaGlsZHJlbignZGl2Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICBhZGRTdGF0dXNNZXNzYWdlKGNvbnRleHQsIHN0YXR1c1RleHRib3guZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGVVcGxvYWRUb2dnbGUuaGFzQ2xhc3MoJ2FjdGl2ZScpICYmIGZpbGVVcGxvYWQgIT09IG51bGwgJiYgZmlsZVVwbG9hZC5sZW5ndGggPiAwICYmIGZpbGVVcGxvYWQuZ2xvd1VwbG9hZCgndmFsJykgIT09IG51bGwgPyBmaWxlVXBsb2FkLmdsb3dVcGxvYWQoJ3ZhbCcpLm5hbWUgOiBudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICB2YWxpZGF0ZU1lc3NhZ2VTdWJtaXQoY29udGV4dCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgbG9hZFdlYmxvZ0Zvcm0gPSBmdW5jdGlvbihjb250ZXh0KQ0KICAgIHsNCiAgICAgICAgdmFyIHdyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKTsNCiAgICAgICAgJCgnLm1lc3NhZ2UtZm9ybScsIHdyYXBwZXIpLmhpZGUoKTsNCiAgICAgICAgdmFyIHBvc3RGb3JtID0gJCgnLnBvc3QtZm9ybScsIHdyYXBwZXIpOw0KICAgICAgICBwb3N0Rm9ybS5odG1sKGNvbnRleHQubG9hZGluZ0FwcHNIdG1sLnJlcGxhY2UoL3tBcHBUeXBlfS9nLCBjb250ZXh0LndlYmxvZ1RpdGxlKSkuc2hvdygpOw0KDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC53ZWJsb2dzVGFiVXJsLA0KICAgICAgICAgICAgZGF0YToge30sDQogICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgcG9zdEZvcm0uZmFkZU91dCgyMDAsIGZ1bmN0aW9uKCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHBvc3RGb3JtLmh0bWwocmVzcG9uc2UpLnNsaWRlRG93bigpOw0KDQogICAgICAgICAgICAgICAgICAgIGF0dGFjaFBvc3RGb3JtSW5wdXRIYW5kbGVycyhwb3N0Rm9ybSk7DQogICAgICAgICAgICAgICAgICAgIHZhciB3ZWJsb2dJZCA9ICQoJ3NwYW4nLCAkKCcucG9zdC10bycsIHBvc3RGb3JtKSkuYXR0cignZGF0YS13ZWJsb2ctaWQnKTsNCgkJCQkJdmFyIGJvZHlDb21wb3NlciA9ICQoJy5wb3N0LWJvZHkgdGV4dGFyZWEnLCBwb3N0Rm9ybSkub25lKCdmb2N1cycsIGZ1bmN0aW9uKCkgeyBib2R5Q29tcG9zZXIuZXZvbHV0aW9uQ29tcG9zZXIoeyBwbHVnaW5zOiBbJ2hhc2h0YWdzJywnbWVudGlvbnMnXSB9KTsgfSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBpbml0aWFsQm9keUhlbHAgPSBib2R5Q29tcG9zZXIudmFsKCk7DQoJCQkJCXZhciB0aXRsZUNvbXBvc2VyID0gJCgnLnBvc3QtdGl0bGUgdGV4dGFyZWEnLCBwb3N0Rm9ybSkub25lKCdmb2N1cycsIGZ1bmN0aW9uKCl7IHRpdGxlQ29tcG9zZXIuZXZvbHV0aW9uQ29tcG9zZXIoeyBwbHVnaW5zOiBbJ2hhc2h0YWdzJ10gfSk7IH0pOw0KICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbFRpdGxlSGVscCA9IHRpdGxlQ29tcG9zZXIudmFsKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgJCgnLmludGVybmFsLWxpbmsuYWR2YW5jZWQtcG9zdCcsIHBvc3RGb3JtKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2VibG9nSWQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VibG9nSWQgPSAkKCdzZWxlY3QnLCAkKCcucG9zdC10bycsIHBvc3RGb3JtKSkudmFsKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWJsb2dJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSB0aXRsZUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGJvZHlDb21wb3Nlci5ldm9sdXRpb25Db21wb3NlcigndmFsJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpdGxlID09IGluaXRpYWxUaXRsZUhlbHApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkgPT0gaW5pdGlhbEJvZHlIZWxwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gIiI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZHZhbmNlZFdlYmxvZ1N1Ym1pdChjb250ZXh0LCB3ZWJsb2dJZCwgdGl0bGUsIGJvZHkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAkKCcuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsIHBvc3RGb3JtKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhZGQtcG9zdF9fZGlzYWJsZWQnKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2VibG9nSWQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2VibG9nSWQgPSAkKCdzZWxlY3QnLCAkKCcucG9zdC10bycsIHBvc3RGb3JtKSkudmFsKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3ZWJsb2dJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRXZWJsb2dQb3N0KGNvbnRleHQsIHdlYmxvZ0lkLCB0aXRsZUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSwgYm9keUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGFkdmFuY2VkV2VibG9nU3VibWl0ID0gZnVuY3Rpb24oY29udGV4dCwgd2VibG9nSWQsIHRpdGxlLCBib2R5KQ0KICAgIHsNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgdXJsOiBjb250ZXh0LndlYmxvZ3NBZHZhbmNlZFBvc3RVcmwsDQogICAgICAgICAgICBkYXRhOiB7d2VibG9nSWQ6d2VibG9nSWQsIHRpdGxlOnRpdGxlLCBib2R5OmJvZHl9LA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gcmVzcG9uc2UudXJsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHN1Ym1pdFdlYmxvZ1Bvc3QgPSBmdW5jdGlvbihjb250ZXh0LCB3ZWJsb2dJZCwgdGl0bGUsIGJvZHkpDQogICAgew0KICAgICAgICBpZiAoJCgnLnBvc3QtZm9ybSAuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpKS5oYXNDbGFzcygnZGlzYWJsZWQnKSkNCiAgICAgICAgICAgIHJldHVybjsNCg0KICAgICAgICAkKCcucG9zdC1mb3JtIC5pbnRlcm5hbC1saW5rLmFkZC1wb3N0JywgJChjb250ZXh0LndyYXBwZXJTZWxlY3RvcikpDQogICAgICAgICAgICAuYWRkQ2xhc3MoImFkZC1wb3N0IGFkZC1wb3N0X19kaXNhYmxlZCBhZGQtcG9zdF9fZGlzYWJsZWRfX2ludGVybmFsLWxpbmsgZGlzYWJsZWQgZGlzYWJsZWRfX2ludGVybmFsLWxpbmsiKQ0KICAgICAgICAgICAgLmh0bWwoJzxzcGFuPjwvc3Bhbj4nICsgY29udGV4dC5wdWJsaXNoaW5nVGV4dCk7DQoNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgdXJsOiBjb250ZXh0LndlYmxvZ3NQb3N0VXJsLA0KICAgICAgICAgICAgZGF0YToge3dlYmxvZ0lkOndlYmxvZ0lkLCB0aXRsZTp0aXRsZSwgYm9keTpib2R5fSwNCiAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKCd0ZWxsaWdlbnRfbWVzc2FnaW5nX2FjdGl2aXR5bWVzc2FnZXVwZGF0ZWQnLCBbXSk7DQogICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKTsNCiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUNvbnRhaW5lciA9ICQoJy5tZXNzYWdlLWNvbnRhaW5lcicsIHdyYXBwZXIpOw0KICAgICAgICAgICAgICAgIG1lc3NhZ2VDb250YWluZXIuaHRtbChyZXNwb25zZSkuc2hvdygpOw0KICAgICAgICAgICAgICAgICQoJy5tZXNzYWdlJywgbWVzc2FnZUNvbnRhaW5lcikuc2hvdygpOw0KICAgICAgICAgICAgICAgIGxvYWRXZWJsb2dGb3JtKGNvbnRleHQpOw0KDQogICAgICAgICAgICAgICAgJCgnLmludGVybmFsLWxpbmsuY2xvc2UtbWVzc2FnZScsIG1lc3NhZ2VDb250YWluZXIpLmNsaWNrKGZ1bmN0aW9uKCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VDb250YWluZXIuZmFkZU91dCgpLnNsaWRlVXAoKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjLCBleCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2Mse3R5cGU6J2Vycm9yJ30pOw0KICAgICAgICAgICAgICAgICQoJy5wb3N0LWZvcm0gLmludGVybmFsLWxpbmsuYWRkLXBvc3QnLCAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKSkNCiAgICAgICAgICAgICAgICAgICAgLmh0bWwoJzxzcGFuPjwvc3Bhbj4nICsgY29udGV4dC5wb3N0VGV4dCkNCiAgICAgICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCJhZGQtcG9zdF9fZGlzYWJsZWQgYWRkLXBvc3RfX2Rpc2FibGVkX19pbnRlcm5hbC1saW5rIGRpc2FibGVkIGRpc2FibGVkX19pbnRlcm5hbC1saW5rIik7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgbG9hZEZvcnVtRm9ybSA9IGZ1bmN0aW9uKGNvbnRleHQpDQogICAgew0KICAgICAgICB2YXIgd3JhcHBlciA9ICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpOw0KICAgICAgICAkKCcubWVzc2FnZS1mb3JtJywgd3JhcHBlcikuaGlkZSgpOw0KICAgICAgICB2YXIgcG9zdEZvcm0gPSAkKCcucG9zdC1mb3JtJywgd3JhcHBlcik7DQogICAgICAgIHBvc3RGb3JtLmh0bWwoY29udGV4dC5sb2FkaW5nQXBwc0h0bWwucmVwbGFjZSgve0FwcFR5cGV9L2csIGNvbnRleHQuZm9ydW1UaXRsZSkpLnNob3coKTsNCg0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgICAgICB1cmw6IGNvbnRleHQuZm9ydW1zVGFiVXJsLA0KICAgICAgICAgICAgZGF0YToge30sDQogICAgICAgICAgICBkYXRhVHlwZTogJ2h0bWwnLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgcG9zdEZvcm0uZmFkZU91dCgyMDAsIGZ1bmN0aW9uKCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIHBvc3RGb3JtLmh0bWwocmVzcG9uc2UpLnNsaWRlRG93bigpOw0KDQogICAgICAgICAgICAgICAgICAgIGF0dGFjaFBvc3RGb3JtSW5wdXRIYW5kbGVycyhwb3N0Rm9ybSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBmb3J1bUlkID0gJCgnc3BhbicsICQoJy5wb3N0LXRvJywgcG9zdEZvcm0pKS5hdHRyKCdkYXRhLWZvcnVtLWlkJyk7DQoJCQkJCXZhciBib2R5Q29tcG9zZXIgPSAkKCcucG9zdC1ib2R5IHRleHRhcmVhJywgcG9zdEZvcm0pLm9uZSgnZm9jdXMnLCBmdW5jdGlvbigpIHsgYm9keUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKHsgcGx1Z2luczogWydoYXNodGFncycsJ21lbnRpb25zJ10gfSk7IH0pOw0KICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbEJvZHlIZWxwID0gYm9keUNvbXBvc2VyLnZhbCgpOw0KCQkJCQl2YXIgdGl0bGVDb21wb3NlciA9ICQoJy5wb3N0LXRpdGxlIHRleHRhcmVhJywgcG9zdEZvcm0pLm9uZSgnZm9jdXMnLCBmdW5jdGlvbigpeyB0aXRsZUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKHsgcGx1Z2luczogWydoYXNodGFncyddIH0pOyB9KTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRpYWxUaXRsZUhlbHAgPSB0aXRsZUNvbXBvc2VyLnZhbCgpOw0KDQogICAgICAgICAgICAgICAgICAgICQoJy5pbnRlcm5hbC1saW5rLmFkdmFuY2VkLXBvc3QnLCBwb3N0Rm9ybSkuY2xpY2soZnVuY3Rpb24oKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWZvcnVtSWQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ydW1JZCA9ICQoJ3NlbGVjdCcsICQoJy5wb3N0LXRvJywgcG9zdEZvcm0pKS52YWwoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcnVtSWQpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gdGl0bGVDb21wb3Nlci5ldm9sdXRpb25Db21wb3NlcigndmFsJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBib2R5Q29tcG9zZXIuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aXRsZSA9PSBpbml0aWFsVGl0bGVIZWxwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2R5ID09IGluaXRpYWxCb2R5SGVscCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA9ICIiOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRGb3J1bVN1Ym1pdChjb250ZXh0LCBmb3J1bUlkLCB0aXRsZSwgYm9keSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgICQoJy5pbnRlcm5hbC1saW5rLmFkZC1wb3N0JywgcG9zdEZvcm0pLmNsaWNrKGZ1bmN0aW9uKCkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2FkZC1wb3N0X19kaXNhYmxlZCcpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3J1bUlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcnVtSWQgPSAkKCdzZWxlY3QnLCAkKCcucG9zdC10bycsIHBvc3RGb3JtKSkudmFsKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmb3J1bUlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Ym1pdEZvcnVtUG9zdChjb250ZXh0LCBmb3J1bUlkLCB0aXRsZUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSwgYm9keUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGFkdmFuY2VkRm9ydW1TdWJtaXQgPSBmdW5jdGlvbihjb250ZXh0LCBmb3J1bUlkLCB0aXRsZSwgYm9keSkNCiAgICB7DQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC5mb3J1bXNBZHZhbmNlZFBvc3RVcmwsDQogICAgICAgICAgICBkYXRhOiB7Zm9ydW1JZDpmb3J1bUlkLCB0aXRsZTp0aXRsZSwgYm9keTpib2R5fSwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHJlc3BvbnNlLnVybDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBzdWJtaXRGb3J1bVBvc3QgPSBmdW5jdGlvbihjb250ZXh0LCBmb3J1bUlkLCB0aXRsZSwgYm9keSkNCiAgICB7DQogICAgICAgIGlmICgkKCcucG9zdC1mb3JtIC5pbnRlcm5hbC1saW5rLmFkZC1wb3N0JywgJChjb250ZXh0LndyYXBwZXJTZWxlY3RvcikpLmhhc0NsYXNzKCdkaXNhYmxlZCcpKQ0KICAgICAgICAgICAgcmV0dXJuOw0KDQoJCXZhciBidXR0b24gPSAkKCcucG9zdC1mb3JtIC5pbnRlcm5hbC1saW5rLmFkZC1wb3N0JywgJChjb250ZXh0LndyYXBwZXJTZWxlY3RvcikpOw0KCQl2YXIgY2xhc3NlcyA9IGJ1dHRvbi5hdHRyKCdjbGFzcycpOw0KCQl2YXIgaHRtbCA9IGJ1dHRvbi5odG1sKCk7DQoJCWJ1dHRvbi5hZGRDbGFzcygiYWRkLXBvc3QgYWRkLXBvc3RfX2Rpc2FibGVkIGFkZC1wb3N0X19kaXNhYmxlZF9faW50ZXJuYWwtbGluayBkaXNhYmxlZCBkaXNhYmxlZF9faW50ZXJuYWwtbGluayIpDQoJCQkuaHRtbCgnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LnB1Ymxpc2hpbmdUZXh0KTsNCg0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgICAgICB1cmw6IGNvbnRleHQuZm9ydW1zUG9zdFVybCwNCiAgICAgICAgICAgIGRhdGE6IHtmb3J1bUlkOmZvcnVtSWQsIHRpdGxlOnRpdGxlLCBib2R5OmJvZHl9LA0KICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJywNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIoJ3RlbGxpZ2VudF9tZXNzYWdpbmdfYWN0aXZpdHltZXNzYWdldXBkYXRlZCcsIFtdKTsNCiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlciA9ICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpOw0KICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlQ29udGFpbmVyID0gJCgnLm1lc3NhZ2UtY29udGFpbmVyJywgd3JhcHBlcik7DQogICAgICAgICAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5odG1sKHJlc3BvbnNlKS5zaG93KCk7DQogICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UnLCBtZXNzYWdlQ29udGFpbmVyKS5zaG93KCk7DQoNCiAgICAgICAgICAgICAgICBpZiAoJCgnLm1lc3NhZ2UnLCBtZXNzYWdlQ29udGFpbmVyKS5hdHRyKCdkYXRhLWlzLWVycm9yJykgIT0gJ3RydWUnKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbG9hZEZvcnVtRm9ybShjb250ZXh0KTsNCiAgICAgICAgICAgICAgICB9DQoJCQkJZWxzZQ0KCQkJCXsNCgkJCQkJYnV0dG9uLmF0dHIoJ2NsYXNzJywgY2xhc3Nlcyk7DQoJCQkJCWJ1dHRvbi5odG1sKGh0bWwpOw0KCQkJCX0NCg0KICAgICAgICAgICAgICAgICQoJy5pbnRlcm5hbC1saW5rLmNsb3NlLW1lc3NhZ2UnLCBtZXNzYWdlQ29udGFpbmVyKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBtZXNzYWdlQ29udGFpbmVyLmZhZGVPdXQoKS5zbGlkZVVwKCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTsNCiAgICAgICAgICAgICAgICAkKCcucG9zdC1mb3JtIC5pbnRlcm5hbC1saW5rLmFkZC1wb3N0JywgJChjb250ZXh0LndyYXBwZXJTZWxlY3RvcikpDQogICAgICAgICAgICAgICAgICAgIC5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQucG9zdFRleHQpDQogICAgICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygiYWRkLXBvc3RfX2Rpc2FibGVkIGFkZC1wb3N0X19kaXNhYmxlZF9faW50ZXJuYWwtbGluayBkaXNhYmxlZCBkaXNhYmxlZF9faW50ZXJuYWwtbGluayIpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGxvYWRNZWRpYUZvcm0gPSBmdW5jdGlvbihjb250ZXh0KQ0KICAgIHsNCiAgICAgICAgdmFyIHdyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKTsNCiAgICAgICAgJCgnLm1lc3NhZ2UtZm9ybScsIHdyYXBwZXIpLmhpZGUoKTsNCiAgICAgICAgdmFyIHBvc3RGb3JtID0gJCgnLnBvc3QtZm9ybScsIHdyYXBwZXIpOw0KICAgICAgICBwb3N0Rm9ybS5odG1sKGNvbnRleHQubG9hZGluZ0FwcHNIdG1sLnJlcGxhY2UoL3tBcHBUeXBlfS9nLCBjb250ZXh0Lm1lZGlhVGl0bGUpKS5zaG93KCk7DQoNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgdXJsOiBjb250ZXh0Lm1lZGlhc1RhYlVybCwNCiAgICAgICAgICAgIGRhdGE6IHt9LA0KICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJywNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHBvc3RGb3JtLmZhZGVPdXQoMjAwLCBmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICBwb3N0Rm9ybS5odG1sKHJlc3BvbnNlKS5zbGlkZURvd24oKTsNCg0KICAgICAgICAgICAgICAgICAgICBhdHRhY2hNZWRpYUZvcm1JbnB1dEhhbmRsZXJzKHBvc3RGb3JtKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIG1lZGlhSWQgPSAkKCdzcGFuJywgJCgnLnBvc3QtdG8nLCBwb3N0Rm9ybSkpLmF0dHIoJ2RhdGEtZ2FsbGVyeS1pZCcpOw0KCQkJCQl2YXIgYm9keUNvbXBvc2VyID0gJCgnLnBvc3QtYm9keSB0ZXh0YXJlYScsIHBvc3RGb3JtKS5vbmUoJ2ZvY3VzJywgZnVuY3Rpb24oKSB7IGJvZHlDb21wb3Nlci5ldm9sdXRpb25Db21wb3Nlcih7IHBsdWdpbnM6IFsnaGFzaHRhZ3MnLCdtZW50aW9ucyddIH0pOyB9KTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRpYWxCb2R5SGVscCA9IGJvZHlDb21wb3Nlci52YWwoKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRpYWxGaWxlSGVscCA9ICQoJ2lucHV0JywgJCgnLmZpZWxkLWl0ZW0ucG9zdC1maWxlJywgcG9zdEZvcm0pKS52YWwoKTsNCgkJCQkJdmFyIHRpdGxlQ29tcG9zZXIgPSAkKCcucG9zdC10aXRsZSB0ZXh0YXJlYScsIHBvc3RGb3JtKS5vbmUoJ2ZvY3VzJywgZnVuY3Rpb24oKXsgdGl0bGVDb21wb3Nlci5ldm9sdXRpb25Db21wb3Nlcih7IHBsdWdpbnM6IFsnaGFzaHRhZ3MnXSB9KTsgfSk7DQogICAgICAgICAgICAgICAgICAgIHZhciBpbml0aWFsVGl0bGVIZWxwID0gdGl0bGVDb21wb3Nlci52YWwoKTsNCg0KICAgICAgICAgICAgICAgICAgICAkKCcuaW50ZXJuYWwtbGluay5hZGQtYXR0YWNobWVudCcsIHBvc3RGb3JtKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVkaWFJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUlkID0gJCgnc2VsZWN0JywgJCgnLnBvc3QtdG8nLCBwb3N0Rm9ybSkpLnZhbCgpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVkaWFJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hGaWxlSGFuZGxlcihjb250ZXh0LCBwb3N0Rm9ybSwgbWVkaWFJZCwgaW5pdGlhbFRpdGxlSGVscCwgaW5pdGlhbEZpbGVIZWxwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgJCgnaW5wdXQnLCAkKCcucG9zdC1maWxlJywgcG9zdEZvcm0pKS5mb2N1cyhmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVkaWFJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUlkID0gJCgnc2VsZWN0JywgJCgnLnBvc3QtdG8nLCBwb3N0Rm9ybSkpLnZhbCgpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVkaWFJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hGaWxlSGFuZGxlcihjb250ZXh0LCBwb3N0Rm9ybSwgbWVkaWFJZCwgaW5pdGlhbFRpdGxlSGVscCwgaW5pdGlhbEZpbGVIZWxwKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgJCgnLmludGVybmFsLWxpbmsuYWR2YW5jZWQtcG9zdCcsIHBvc3RGb3JtKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbWVkaWFJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZWRpYUlkID0gJCgnc2VsZWN0JywgJCgnLnBvc3QtdG8nLCBwb3N0Rm9ybSkpLnZhbCgpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0YWNoSXRlbSA9ICQoIi5maWVsZC1pdGVtLnBvc3QtZmlsZSIsIHBvc3RGb3JtKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZWRpYUlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IHRpdGxlQ29tcG9zZXIuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYm9keUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZU5hbWUgPSAkKCdpbnB1dCcsICQoJy5maWVsZC1pdGVtLnBvc3QtZmlsZScsIHBvc3RGb3JtKSkudmFsKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRpdGxlID09IGluaXRpYWxUaXRsZUhlbHApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkgPT0gaW5pdGlhbEJvZHlIZWxwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZpbGVOYW1lID09IGluaXRpYWxGaWxlSGVscCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZU5hbWUgPSAiIjsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkdmFuY2VkTWVkaWFTdWJtaXQoY29udGV4dCwgbWVkaWFJZCwgdGl0bGUsIGJvZHksIGZpbGVOYW1lLCBhdHRhY2hJdGVtLmF0dHIoJ2RhdGEtYXR0YWNobWVudC1pZCcpLCBhdHRhY2hJdGVtLmF0dHIoJ2RhdGEtYXR0YWNobWVudC11cmwnKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgICQoJy5pbnRlcm5hbC1saW5rLmFkZC1wb3N0JywgcG9zdEZvcm0pLmNsaWNrKGZ1bmN0aW9uKCkNCiAgICAgICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQodGhpcykuaGFzQ2xhc3MoJ2FkZC1wb3N0X19kaXNhYmxlZCcpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFtZWRpYUlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1lZGlhSWQgPSAkKCdzZWxlY3QnLCAkKCcucG9zdC10bycsIHBvc3RGb3JtKSkudmFsKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRhY2hJdGVtID0gJCgiLmZpZWxkLWl0ZW0ucG9zdC1maWxlIiwgcG9zdEZvcm0pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVkaWFJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGJvZHlDb21wb3Nlci5ldm9sdXRpb25Db21wb3NlcigndmFsJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHkgPT0gaW5pdGlhbEJvZHlIZWxwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5ID0gIiI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRNZWRpYVBvc3QoY29udGV4dCwgbWVkaWFJZCwgdGl0bGVDb21wb3Nlci5ldm9sdXRpb25Db21wb3NlcigndmFsJyksIGJvZHksICQoJ2lucHV0JywgYXR0YWNoSXRlbSkudmFsKCksIGF0dGFjaEl0ZW0uYXR0cignZGF0YS1hdHRhY2htZW50LWlkJyksIGF0dGFjaEl0ZW0uYXR0cignZGF0YS1hdHRhY2htZW50LXVybCcpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgYXR0YWNoRmlsZUhhbmRsZXIgPSBmdW5jdGlvbihjb250ZXh0LCBwb3N0Rm9ybSwgbWVkaWFJZCwgaW5pdGlhbFRpdGxlSGVscCwgaW5pdGlhbEZpbGVIZWxwKQ0KICAgIHsNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgdXJsOiBjb250ZXh0LnVwbG9hZEF0dGFjaG1lbnRVcmwsDQogICAgICAgICAgICBkYXRhOiB7bWVkaWFJZDptZWRpYUlkfSwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIFRlbGxpZ2VudF9Nb2RhbC5PcGVuKHJlc3BvbnNlLnVybCwgNjQwLCA0ODAsIGZ1bmN0aW9uKHJlc3VsdCkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCAmJiByZXN1bHQuZmlsZU5hbWUgJiYgcmVzdWx0LmZpbGVOYW1lLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHRhY2hJdGVtID0gJCgiLmZpZWxkLWl0ZW0ucG9zdC1maWxlIiwgcG9zdEZvcm0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlbW92ZUxpbmsgPSAkKCIuaW50ZXJuYWwtbGluay5yZW1vdmUtYXR0YWNobWVudCIsIGF0dGFjaEl0ZW0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dGFjaG1lbnRGaWxlTmFtZSA9ICQoImlucHV0IiwgYXR0YWNoSXRlbSk7DQogICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0YWNoTGluayA9ICQoIi5pbnRlcm5hbC1saW5rLmFkZC1hdHRhY2htZW50IiwgYXR0YWNoSXRlbSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaExpbmsuaHRtbCgnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LmNoYW5nZUZpbGVUZXh0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaExpbmsuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudEZpbGVOYW1lLnZhbChyZXN1bHQuZmlsZU5hbWUpLnJlbW92ZUNsYXNzKCJlbXB0eSIpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmNvbnRleHRJZCAmJiByZXN1bHQuY29udGV4dElkLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoSXRlbS5hdHRyKCdkYXRhLWF0dGFjaG1lbnQtaWQnLCByZXN1bHQuY29udGV4dElkKS5zaG93KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXN1bHQudXJsICYmIHJlc3VsdC51cmwubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2hJdGVtLmF0dHIoJ2RhdGEtYXR0YWNobWVudC11cmwnLCByZXN1bHQudXJsKS5zaG93KCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRlTWVkaWFGb3JtKHBvc3RGb3JtLCBpbml0aWFsVGl0bGVIZWxwLCBpbml0aWFsRmlsZUhlbHApOw0KDQogICAgICAgICAgICAgICAgICAgICAgICByZW1vdmVMaW5rLnNob3coKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNoTGluay5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQuYXR0YWNoRmlsZVRleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaExpbmsuc2hvdygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZUxpbmsuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRGaWxlTmFtZS52YWwoY29udGV4dC5hdHRhY2hGaWxlSGVscFRleHQpLmFkZENsYXNzKCJlbXB0eSIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaEl0ZW0uYXR0cignZGF0YS1hdHRhY2htZW50LWlkJywgJycpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaEl0ZW0uYXR0cignZGF0YS1hdHRhY2htZW50LXVybCcsICcnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsIHBvc3RGb3JtKS5hZGRDbGFzcygiYWRkLXBvc3RfX2Rpc2FibGVkIGFkZC1wb3N0X19kaXNhYmxlZF9faW50ZXJuYWwtbGluayBkaXNhYmxlZCBkaXNhYmxlZF9faW50ZXJuYWwtbGluayIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBhZHZhbmNlZE1lZGlhU3VibWl0ID0gZnVuY3Rpb24oY29udGV4dCwgbWVkaWFJZCwgdGl0bGUsIGJvZHksIGZpbGVOYW1lLCBjb250ZXh0SWQsIGZpbGVVcmwpDQogICAgew0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgICAgICB1cmw6IGNvbnRleHQubWVkaWFzQWR2YW5jZWRQb3N0VXJsLA0KICAgICAgICAgICAgZGF0YToge21lZGlhSWQ6bWVkaWFJZCwgdGl0bGU6dGl0bGUsIGJvZHk6Ym9keSwgZmlsZU5hbWU6ZmlsZU5hbWUsIGZpbGVDb250ZXh0SWQ6Y29udGV4dElkLCBmaWxlVXJsOmZpbGVVcmx9LA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gcmVzcG9uc2UudXJsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHN1Ym1pdE1lZGlhUG9zdCA9IGZ1bmN0aW9uKGNvbnRleHQsIG1lZGlhSWQsIHRpdGxlLCBib2R5LCBmaWxlTmFtZSwgY29udGV4dElkLCBmaWxlVXJsKQ0KICAgIHsNCiAgICAgICAgaWYgKCQoJy5wb3N0LWZvcm0gLmludGVybmFsLWxpbmsuYWRkLXBvc3QnLCAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKSkuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpDQogICAgICAgICAgICByZXR1cm47DQoNCgkJdmFyIGJ1dHRvbiA9ICQoJy5wb3N0LWZvcm0gLmludGVybmFsLWxpbmsuYWRkLXBvc3QnLCAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKSk7DQoJCXZhciBjbGFzc2VzID0gYnV0dG9uLmF0dHIoJ2NsYXNzJyk7DQoJCXZhciBodG1sID0gYnV0dG9uLmh0bWwoKTsNCgkJYnV0dG9uLmFkZENsYXNzKCJhZGQtcG9zdCBhZGQtcG9zdF9fZGlzYWJsZWQgYWRkLXBvc3RfX2Rpc2FibGVkX19pbnRlcm5hbC1saW5rIGRpc2FibGVkIGRpc2FibGVkX19pbnRlcm5hbC1saW5rIikNCgkJCS5odG1sKCc8c3Bhbj48L3NwYW4+JyArIGNvbnRleHQucHVibGlzaGluZ1RleHQpOw0KDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC5tZWRpYXNQb3N0VXJsLA0KICAgICAgICAgICAgZGF0YToge21lZGlhSWQ6bWVkaWFJZCwgdGl0bGU6dGl0bGUsIGJvZHk6Ym9keSwgZmlsZU5hbWU6ZmlsZU5hbWUsIGZpbGVDb250ZXh0SWQ6Y29udGV4dElkLCBmaWxlVXJsOmZpbGVVcmx9LA0KICAgICAgICAgICAgZGF0YVR5cGU6ICdodG1sJywNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLnRyaWdnZXIoJ3RlbGxpZ2VudF9tZXNzYWdpbmdfYWN0aXZpdHltZXNzYWdldXBkYXRlZCcsIFtdKTsNCiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlciA9ICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpOw0KICAgICAgICAgICAgICAgIHZhciBtZXNzYWdlQ29udGFpbmVyID0gJCgnLm1lc3NhZ2UtY29udGFpbmVyJywgd3JhcHBlcik7DQogICAgICAgICAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5odG1sKHJlc3BvbnNlKS5zaG93KCk7DQogICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UnLCBtZXNzYWdlQ29udGFpbmVyKS5zaG93KCk7DQoJCQkJaWYgKCQoJy5tZXNzYWdlJywgbWVzc2FnZUNvbnRhaW5lcikuYXR0cignZGF0YS1pcy1lcnJvcicpICE9ICd0cnVlJykNCgkJCQl7DQoJCQkJCWxvYWRNZWRpYUZvcm0oY29udGV4dCk7DQoJCQkJfQ0KCQkJCWVsc2UNCgkJCQl7DQoJCQkJCWJ1dHRvbi5hdHRyKCdjbGFzcycsIGNsYXNzZXMpOw0KCQkJCQlidXR0b24uaHRtbChodG1sKTsNCgkJCQl9DQoNCiAgICAgICAgICAgICAgICAkKCcuaW50ZXJuYWwtbGluay5jbG9zZS1tZXNzYWdlJywgbWVzc2FnZUNvbnRhaW5lcikuY2xpY2soZnVuY3Rpb24oKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5mYWRlT3V0KCkuc2xpZGVVcCgpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coZGVzYyx7dHlwZTonZXJyb3InfSk7DQogICAgICAgICAgICAgICAgJCgnLnBvc3QtZm9ybSAuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpKQ0KICAgICAgICAgICAgICAgICAgICAuaHRtbCgnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LnBvc3RUZXh0KQ0KICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoImFkZC1wb3N0X19kaXNhYmxlZCBhZGQtcG9zdF9fZGlzYWJsZWRfX2ludGVybmFsLWxpbmsgZGlzYWJsZWQgZGlzYWJsZWRfX2ludGVybmFsLWxpbmsiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBsb2FkV2lraUZvcm0gPSBmdW5jdGlvbihjb250ZXh0KQ0KICAgIHsNCiAgICAgICAgdmFyIHdyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKTsNCiAgICAgICAgJCgnLm1lc3NhZ2UtZm9ybScsIHdyYXBwZXIpLmhpZGUoKTsNCiAgICAgICAgdmFyIHBvc3RGb3JtID0gJCgnLnBvc3QtZm9ybScsIHdyYXBwZXIpOw0KICAgICAgICBwb3N0Rm9ybS5odG1sKGNvbnRleHQubG9hZGluZ0FwcHNIdG1sLnJlcGxhY2UoL3tBcHBUeXBlfS9nLCBjb250ZXh0Lndpa2lUaXRsZSkpLnNob3coKTsNCg0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgICAgICB1cmw6IGNvbnRleHQud2lraXNUYWJVcmwsDQogICAgICAgICAgICBkYXRhOiB7fSwNCiAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBwb3N0Rm9ybS5mYWRlT3V0KDIwMCwgZnVuY3Rpb24oKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgcG9zdEZvcm0uaHRtbChyZXNwb25zZSkuc2xpZGVEb3duKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgYXR0YWNoUG9zdEZvcm1JbnB1dEhhbmRsZXJzKHBvc3RGb3JtKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHdpa2lJZCA9ICQoJ3NwYW4nLCAkKCcucG9zdC10bycsIHBvc3RGb3JtKSkuYXR0cignZGF0YS13aWtpLWlkJyk7DQoJCQkJCXZhciBib2R5Q29tcG9zZXIgPSAkKCcucG9zdC1ib2R5IHRleHRhcmVhJywgcG9zdEZvcm0pLm9uZSgnZm9jdXMnLCBmdW5jdGlvbigpIHsgYm9keUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKHsgcGx1Z2luczogWydoYXNodGFncycsJ21lbnRpb25zJ10gfSk7IH0pOw0KICAgICAgICAgICAgICAgICAgICB2YXIgaW5pdGlhbEJvZHlIZWxwID0gYm9keUNvbXBvc2VyLnZhbCgpOw0KCQkJCQl2YXIgdGl0bGVDb21wb3NlciA9ICQoJy5wb3N0LXRpdGxlIHRleHRhcmVhJywgcG9zdEZvcm0pLm9uZSgnZm9jdXMnLCBmdW5jdGlvbigpeyB0aXRsZUNvbXBvc2VyLmV2b2x1dGlvbkNvbXBvc2VyKHsgcGx1Z2luczogWydoYXNodGFncyddIH0pOyB9KTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGluaXRpYWxUaXRsZUhlbHAgPSB0aXRsZUNvbXBvc2VyLnZhbCgpOw0KDQogICAgICAgICAgICAgICAgICAgICQoJy5pbnRlcm5hbC1saW5rLmFkdmFuY2VkLXBvc3QnLCBwb3N0Rm9ybSkuY2xpY2soZnVuY3Rpb24oKQ0KICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXdpa2lJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWtpSWQgPSAkKCdzZWxlY3QnLCAkKCcucG9zdC10bycsIHBvc3RGb3JtKSkudmFsKCk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh3aWtpSWQpDQogICAgICAgICAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gdGl0bGVDb21wb3Nlci5ldm9sdXRpb25Db21wb3NlcigndmFsJyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHkgPSBib2R5Q29tcG9zZXIuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aXRsZSA9PSBpbml0aWFsVGl0bGVIZWxwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChib2R5ID09IGluaXRpYWxCb2R5SGVscCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keSA9ICIiOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWR2YW5jZWRXaWtpU3VibWl0KGNvbnRleHQsIHdpa2lJZCwgdGl0bGUsIGJvZHkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAkKCcuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsIHBvc3RGb3JtKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKHRoaXMpLmhhc0NsYXNzKCdhZGQtcG9zdF9fZGlzYWJsZWQnKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghd2lraUlkKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpa2lJZCA9ICQoJ3NlbGVjdCcsICQoJy5wb3N0LXRvJywgcG9zdEZvcm0pKS52YWwoKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHdpa2lJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRXaWtpUG9zdChjb250ZXh0LCB3aWtpSWQsIHRpdGxlQ29tcG9zZXIuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpLCBib2R5Q29tcG9zZXIuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgYWR2YW5jZWRXaWtpU3VibWl0ID0gZnVuY3Rpb24oY29udGV4dCwgd2lraUlkLCB0aXRsZSwgYm9keSkNCiAgICB7DQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC53aWtpc0FkdmFuY2VkUG9zdFVybCwNCiAgICAgICAgICAgIGRhdGE6IHt3aWtpSWQ6d2lraUlkLCB0aXRsZTp0aXRsZSwgYm9keTpib2R5fSwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IHJlc3BvbnNlLnVybDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBzdWJtaXRXaWtpUG9zdCA9IGZ1bmN0aW9uKGNvbnRleHQsIHdpa2lJZCwgdGl0bGUsIGJvZHkpDQogICAgew0KICAgICAgICBpZiAoJCgnLnBvc3QtZm9ybSAuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpKS5oYXNDbGFzcygnZGlzYWJsZWQnKSkNCiAgICAgICAgICAgIHJldHVybjsNCg0KCQl2YXIgYnV0dG9uID0gJCgnLnBvc3QtZm9ybSAuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpKTsNCgkJdmFyIGNsYXNzZXMgPSBidXR0b24uYXR0cignY2xhc3MnKTsNCgkJdmFyIGh0bWwgPSBidXR0b24uaHRtbCgpOw0KCQlidXR0b24uYWRkQ2xhc3MoImFkZC1wb3N0IGFkZC1wb3N0X19kaXNhYmxlZCBhZGQtcG9zdF9fZGlzYWJsZWRfX2ludGVybmFsLWxpbmsgZGlzYWJsZWQgZGlzYWJsZWRfX2ludGVybmFsLWxpbmsiKQ0KCQkJLmh0bWwoJzxzcGFuPjwvc3Bhbj4nICsgY29udGV4dC5wdWJsaXNoaW5nVGV4dCk7DQoNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgdXJsOiBjb250ZXh0Lndpa2lzUG9zdFVybCwNCiAgICAgICAgICAgIGRhdGE6IHt3aWtpSWQ6d2lraUlkLCB0aXRsZTp0aXRsZSwgYm9keTpib2R5fSwNCiAgICAgICAgICAgIGRhdGFUeXBlOiAnaHRtbCcsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS50cmlnZ2VyKCd0ZWxsaWdlbnRfbWVzc2FnaW5nX2FjdGl2aXR5bWVzc2FnZXVwZGF0ZWQnLCBbXSk7DQogICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlclNlbGVjdG9yKTsNCiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZUNvbnRhaW5lciA9ICQoJy5tZXNzYWdlLWNvbnRhaW5lcicsIHdyYXBwZXIpOw0KICAgICAgICAgICAgICAgIG1lc3NhZ2VDb250YWluZXIuaHRtbChyZXNwb25zZSkuc2hvdygpOw0KICAgICAgICAgICAgICAgICQoJy5tZXNzYWdlJywgbWVzc2FnZUNvbnRhaW5lcikuc2hvdygpOw0KCQkJCWlmICgkKCcubWVzc2FnZScsIG1lc3NhZ2VDb250YWluZXIpLmF0dHIoJ2RhdGEtaXMtZXJyb3InKSAhPSAndHJ1ZScpDQoJCQkJew0KCQkJCQlsb2FkV2lraUZvcm0oY29udGV4dCk7DQoJCQkJfQ0KCQkJCWVsc2UNCgkJCQl7DQoJCQkJCWJ1dHRvbi5hdHRyKCdjbGFzcycsIGNsYXNzZXMpOw0KCQkJCQlidXR0b24uaHRtbChodG1sKTsNCgkJCQl9DQoNCiAgICAgICAgICAgICAgICAkKCcuaW50ZXJuYWwtbGluay5jbG9zZS1tZXNzYWdlJywgbWVzc2FnZUNvbnRhaW5lcikuY2xpY2soZnVuY3Rpb24oKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUNvbnRhaW5lci5mYWRlT3V0KCkuc2xpZGVVcCgpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MsIGV4KQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coZGVzYyx7dHlwZTonZXJyb3InfSk7DQogICAgICAgICAgICAgICAgJCgnLnBvc3QtZm9ybSAuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsICQoY29udGV4dC53cmFwcGVyU2VsZWN0b3IpKQ0KICAgICAgICAgICAgICAgICAgICAuaHRtbCgnPHNwYW4+PC9zcGFuPicgKyBjb250ZXh0LnBvc3RUZXh0KQ0KICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoImFkZC1wb3N0X19kaXNhYmxlZCBhZGQtcG9zdF9fZGlzYWJsZWRfX2ludGVybmFsLWxpbmsgZGlzYWJsZWQgZGlzYWJsZWRfX2ludGVybmFsLWxpbmsiKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBhdHRhY2hQb3N0Rm9ybUlucHV0SGFuZGxlcnMgPSBmdW5jdGlvbihwb3N0Rm9ybSkNCiAgICB7DQogICAgICAgIHZhciBpbml0aWFsVGl0bGVIZWxwID0gJCgndGV4dGFyZWEnLCAkKCcuZmllbGQtaXRlbS5wb3N0LXRpdGxlJywgcG9zdEZvcm0pKS52YWwoKTsNCiAgICAgICAgdmFyIGluaXRpYWxCb2R5SGVscCA9ICQoJy5wb3N0LWJvZHkgdGV4dGFyZWEnLCBwb3N0Rm9ybSkudmFsKCk7DQoNCiAgICAgICAgJCgndGV4dGFyZWEnLCAkKCcuZmllbGQtaXRlbS5wb3N0LXRpdGxlJywgcG9zdEZvcm0pKS5mb2N1cyhmdW5jdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09IGluaXRpYWxUaXRsZUhlbHApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZW1wdHknKTsNCiAgICAgICAgICAgICAgICAkKHRoaXMpLnZhbCgnJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pLmJsdXIoZnVuY3Rpb24oKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PSAiIikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdlbXB0eScpOw0KICAgICAgICAgICAgICAgICQodGhpcykudmFsKGluaXRpYWxUaXRsZUhlbHApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KS5rZXl1cChmdW5jdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRlUG9zdEZvcm0ocG9zdEZvcm0sIGluaXRpYWxUaXRsZUhlbHAsIGluaXRpYWxCb2R5SGVscCk7DQogICAgICAgIH0pOw0KDQogICAgICAgICQoJy5wb3N0LWJvZHkgdGV4dGFyZWEnLCBwb3N0Rm9ybSkuZm9jdXMoZnVuY3Rpb24oKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PSBpbml0aWFsQm9keUhlbHApDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZW1wdHknKTsNCiAgICAgICAgICAgICAgICAkKHRoaXMpLnZhbCgnJyk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICAkKHRoaXMpLmV2b2x1dGlvblJlc2l6ZSgpOw0KICAgICAgICB9KS5ibHVyKGZ1bmN0aW9uKCkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT0gIiIpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZW1wdHknKTsNCiAgICAgICAgICAgICAgICAkKHRoaXMpLnZhbChpbml0aWFsQm9keUhlbHApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KS5rZXl1cChmdW5jdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRlUG9zdEZvcm0ocG9zdEZvcm0sIGluaXRpYWxUaXRsZUhlbHAsIGluaXRpYWxCb2R5SGVscCk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgdmFsaWRhdGVQb3N0Rm9ybSA9IGZ1bmN0aW9uKHBvc3RGb3JtLCBpbml0aWFsVGl0bGVIZWxwLCBpbml0aWFsQm9keUhlbHApDQogICAgew0KICAgICAgICB2YXIgc3VibWl0QnV0dG9uID0gJCgnLmludGVybmFsLWxpbmsuYWRkLXBvc3QnLCBwb3N0Rm9ybSk7DQogICAgICAgIHZhciBjdXJyZW50VGl0bGVWYWwgPSAkLnRyaW0oJCgndGV4dGFyZWEnLCAkKCcuZmllbGQtaXRlbS5wb3N0LXRpdGxlJywgcG9zdEZvcm0pKS52YWwoKSk7DQogICAgICAgIHZhciBjdXJyZW50Qm9keVZhbCA9ICQudHJpbSgkKCcucG9zdC1ib2R5IHRleHRhcmVhJywgcG9zdEZvcm0pLnZhbCgpKTsNCg0KICAgICAgICBpZiAoY3VycmVudFRpdGxlVmFsID09IGluaXRpYWxUaXRsZUhlbHAgfHwgY3VycmVudFRpdGxlVmFsID09ICIiKQ0KICAgICAgICB7DQogICAgICAgICAgICBzdWJtaXRCdXR0b24uYWRkQ2xhc3MoImFkZC1wb3N0X19kaXNhYmxlZCBhZGQtcG9zdF9fZGlzYWJsZWRfX2ludGVybmFsLWxpbmsgZGlzYWJsZWQgZGlzYWJsZWRfX2ludGVybmFsLWxpbmsiKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmIChjdXJyZW50Qm9keVZhbCA9PSBpbml0aWFsQm9keUhlbHAgfHwgY3VycmVudEJvZHlWYWwgPT0gIiIpDQogICAgICAgIHsNCiAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbi5hZGRDbGFzcygiYWRkLXBvc3RfX2Rpc2FibGVkIGFkZC1wb3N0X19kaXNhYmxlZF9faW50ZXJuYWwtbGluayBkaXNhYmxlZCBkaXNhYmxlZF9faW50ZXJuYWwtbGluayIpOw0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9DQoNCiAgICAgICAgc3VibWl0QnV0dG9uLnJlbW92ZUNsYXNzKCJhZGQtcG9zdF9fZGlzYWJsZWQgYWRkLXBvc3RfX2Rpc2FibGVkX19pbnRlcm5hbC1saW5rIGRpc2FibGVkIGRpc2FibGVkX19pbnRlcm5hbC1saW5rIik7DQogICAgICAgIHJldHVybiB0cnVlOw0KICAgIH0sDQogICAgYXR0YWNoTWVkaWFGb3JtSW5wdXRIYW5kbGVycyA9IGZ1bmN0aW9uKHBvc3RGb3JtKQ0KICAgIHsNCiAgICAgICAgaW5pdGlhbFRpdGxlSGVscCA9ICQoJ3RleHRhcmVhJywgJCgnLmZpZWxkLWl0ZW0ucG9zdC10aXRsZScsIHBvc3RGb3JtKSkudmFsKCk7DQogICAgICAgIGluaXRpYWxGaWxlSGVscCA9ICQoJ2lucHV0JywgJCgnLmZpZWxkLWl0ZW0ucG9zdC1maWxlJywgcG9zdEZvcm0pKS52YWwoKTsNCiAgICAgICAgaW5pdGlhbEJvZHlIZWxwID0gJCgnLnBvc3QtYm9keSB0ZXh0YXJlYScsIHBvc3RGb3JtKS52YWwoKTsNCg0KICAgICAgICAkKCd0ZXh0YXJlYScsICQoJy5maWVsZC1pdGVtLnBvc3QtdGl0bGUnLCBwb3N0Rm9ybSkpLmZvY3VzKGZ1bmN0aW9uKCkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT0gaW5pdGlhbFRpdGxlSGVscCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdlbXB0eScpOw0KICAgICAgICAgICAgICAgICQodGhpcykudmFsKCcnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSkuYmx1cihmdW5jdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09ICIiKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2VtcHR5Jyk7DQogICAgICAgICAgICAgICAgJCh0aGlzKS52YWwoaW5pdGlhbFRpdGxlSGVscCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pLmtleXVwKGZ1bmN0aW9uKCkNCiAgICAgICAgew0KICAgICAgICAgICAgdmFsaWRhdGVNZWRpYUZvcm0ocG9zdEZvcm0sIGluaXRpYWxUaXRsZUhlbHAsIGluaXRpYWxGaWxlSGVscCk7DQogICAgICAgIH0pOw0KDQogICAgICAgICQoJ2lucHV0JywgJCgnLmZpZWxkLWl0ZW0ucG9zdC1maWxlJywgcG9zdEZvcm0pKS5mb2N1cyhmdW5jdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09IGluaXRpYWxGaWxlSGVscCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdlbXB0eScpOw0KICAgICAgICAgICAgICAgICQodGhpcykudmFsKCcnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICB2YWxpZGF0ZU1lZGlhRm9ybShwb3N0Rm9ybSwgaW5pdGlhbFRpdGxlSGVscCwgaW5pdGlhbEZpbGVIZWxwKTsNCg0KICAgICAgICB9KS5jaGFuZ2UoZnVuY3Rpb24oKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PSAiIikNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdlbXB0eScpOw0KICAgICAgICAgICAgICAgICQodGhpcykudmFsKGluaXRpYWxGaWxlSGVscCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgdmFsaWRhdGVNZWRpYUZvcm0ocG9zdEZvcm0sIGluaXRpYWxUaXRsZUhlbHAsIGluaXRpYWxGaWxlSGVscCk7DQogICAgICAgICAgICAkKHRoaXMpLmV2b2x1dGlvblJlc2l6ZSgpOw0KICAgICAgICB9KTsNCg0KICAgICAgICAkKCcucG9zdC1ib2R5IHRleHRhcmVhJywgcG9zdEZvcm0pLmZvY3VzKGZ1bmN0aW9uKCkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT0gaW5pdGlhbEJvZHlIZWxwKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2VtcHR5Jyk7DQogICAgICAgICAgICAgICAgJCh0aGlzKS52YWwoJycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KS5ibHVyKGZ1bmN0aW9uKCkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT0gIiIpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnZW1wdHknKTsNCiAgICAgICAgICAgICAgICAkKHRoaXMpLnZhbChpbml0aWFsQm9keUhlbHApOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KS5rZXl1cChmdW5jdGlvbigpDQogICAgICAgIHsNCiAgICAgICAgICAgIHZhbGlkYXRlTWVkaWFGb3JtKHBvc3RGb3JtLCBpbml0aWFsVGl0bGVIZWxwLCBpbml0aWFsRmlsZUhlbHApOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHZhbGlkYXRlTWVkaWFGb3JtID0gZnVuY3Rpb24ocG9zdEZvcm0sIGluaXRpYWxUaXRsZUhlbHAsIGluaXRpYWxGaWxlSGVscCkNCiAgICB7DQogICAgICAgIHZhciBzdWJtaXRCdXR0b24gPSAkKCcuaW50ZXJuYWwtbGluay5hZGQtcG9zdCcsIHBvc3RGb3JtKTsNCiAgICAgICAgdmFyIGN1cnJlbnRUaXRsZVZhbCA9ICQudHJpbSgkKCd0ZXh0YXJlYScsICQoJy5maWVsZC1pdGVtLnBvc3QtdGl0bGUnLCBwb3N0Rm9ybSkpLnZhbCgpKTsNCiAgICAgICAgdmFyIGN1cnJlbnRGaWxlVmFsID0gJC50cmltKCQoJ2lucHV0JywgJCgnLmZpZWxkLWl0ZW0ucG9zdC1maWxlJywgcG9zdEZvcm0pKS52YWwoKSk7DQoNCiAgICAgICAgaWYgKGN1cnJlbnRUaXRsZVZhbCA9PSBpbml0aWFsVGl0bGVIZWxwIHx8IGN1cnJlbnRUaXRsZVZhbCA9PSAiIikNCiAgICAgICAgew0KICAgICAgICAgICAgc3VibWl0QnV0dG9uLmFkZENsYXNzKCJhZGQtcG9zdF9fZGlzYWJsZWQgYWRkLXBvc3RfX2Rpc2FibGVkX19pbnRlcm5hbC1saW5rIGRpc2FibGVkIGRpc2FibGVkX19pbnRlcm5hbC1saW5rIik7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSBpZiAoY3VycmVudEZpbGVWYWwgPT0gaW5pdGlhbEZpbGVIZWxwIHx8IGN1cnJlbnRGaWxlVmFsID09ICIiKQ0KICAgICAgICB7DQogICAgICAgICAgICBzdWJtaXRCdXR0b24uYWRkQ2xhc3MoImFkZC1wb3N0X19kaXNhYmxlZCBhZGQtcG9zdF9fZGlzYWJsZWRfX2ludGVybmFsLWxpbmsgZGlzYWJsZWQgZGlzYWJsZWRfX2ludGVybmFsLWxpbmsiKTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfQ0KDQogICAgICAgIHN1Ym1pdEJ1dHRvbi5yZW1vdmVDbGFzcygiYWRkLXBvc3RfX2Rpc2FibGVkIGFkZC1wb3N0X19kaXNhYmxlZF9faW50ZXJuYWwtbGluayBkaXNhYmxlZCBkaXNhYmxlZF9faW50ZXJuYWwtbGluayIpOw0KICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9LA0KICAgIHJlbG9hZFBhZ2UgPSBmdW5jdGlvbigpDQogICAgew0KICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247DQogICAgfTsNCg0KICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnF1aWNrUG9zdCA9DQogICAgew0KICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24gKGNvbnRleHQpDQogICAgICAgIHsNCiAgICAgICAgICAgICQoJ3RleHRhcmVhJykuZXZvbHV0aW9uUmVzaXplKCk7DQoNCiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gJChjb250ZXh0LndyYXBwZXJTZWxlY3Rvcik7DQoNCiAgICAgICAgICAgIHZhciBzdGF0dXNGaWx0ZXJCdXR0b24gPSAkKCcuZmlsdGVyLW9wdGlvbi5tc2cuc2VsZWN0ZWQnLCB3cmFwcGVyKTsNCiAgICAgICAgICAgIGlmIChjb250ZXh0LmlzU3RhdHVzIHx8IChzdGF0dXNGaWx0ZXJCdXR0b24gJiYgc3RhdHVzRmlsdGVyQnV0dG9uLmxlbmd0aCA+IDApKQ0KICAgICAgICAgICAgICAgIGxvYWRTdGF0dXNGb3JtKGNvbnRleHQsIGZhbHNlKTsNCg0KICAgICAgICAgICAgJCgnLmZpbHRlci1vcHRpb24ubXNnJywgd3JhcHBlcikuY2xpY2soZnVuY3Rpb24oKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlmICghJCh0aGlzKS5oYXNDbGFzcygnc2VsZWN0ZWQnKSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgICQoJy5maWx0ZXItb3B0aW9uLnNlbGVjdGVkJywgd3JhcHBlcikucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7DQogICAgICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQogICAgICAgICAgICAgICAgICAgICQoJy5tZXNzYWdlLWNvbnRhaW5lcicsIHdyYXBwZXIpLmhpZGUoKTsNCiAgICAgICAgICAgICAgICAgICAgbG9hZFN0YXR1c0Zvcm0oY29udGV4dCwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHZhciB3ZWJsb2dGaWx0ZXJCdXR0b24gPSAkKCcuZmlsdGVyLW9wdGlvbi53ZWJsb2cuc2VsZWN0ZWQnLCB3cmFwcGVyKTsNCiAgICAgICAgICAgIGlmICh3ZWJsb2dGaWx0ZXJCdXR0b24gJiYgd2VibG9nRmlsdGVyQnV0dG9uLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgbG9hZFdlYmxvZ0Zvcm0oY29udGV4dCk7DQoNCiAgICAgICAgICAgICQoJy5maWx0ZXItb3B0aW9uLndlYmxvZycsIHdyYXBwZXIpLmNsaWNrKGZ1bmN0aW9uKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ3NlbGVjdGVkJykpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAkKCcuZmlsdGVyLW9wdGlvbi5zZWxlY3RlZCcsIHdyYXBwZXIpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOw0KICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdzZWxlY3RlZCcpOw0KICAgICAgICAgICAgICAgICAgICAkKCcubWVzc2FnZS1jb250YWluZXInLCB3cmFwcGVyKS5oaWRlKCk7DQogICAgICAgICAgICAgICAgICAgIGxvYWRXZWJsb2dGb3JtKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBpZiAoY29udGV4dC5pc1dlYmxvZykNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKCcuZmlsdGVyLW9wdGlvbi5zZWxlY3RlZCcsIHdyYXBwZXIpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOw0KICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQogICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UtY29udGFpbmVyJywgd3JhcHBlcikuaGlkZSgpOw0KICAgICAgICAgICAgICAgIGxvYWRXZWJsb2dGb3JtKGNvbnRleHQpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgZm9ydW1GaWx0ZXJCdXR0b24gPSAkKCcuZmlsdGVyLW9wdGlvbi5mb3J1bS5zZWxlY3RlZCcsIHdyYXBwZXIpOw0KICAgICAgICAgICAgaWYgKGZvcnVtRmlsdGVyQnV0dG9uICYmIGZvcnVtRmlsdGVyQnV0dG9uLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgbG9hZEZvcnVtRm9ybShjb250ZXh0KTsNCg0KICAgICAgICAgICAgJCgnLmZpbHRlci1vcHRpb24uZm9ydW0nLCB3cmFwcGVyKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdzZWxlY3RlZCcpKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgJCgnLmZpbHRlci1vcHRpb24uc2VsZWN0ZWQnLCB3cmFwcGVyKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsNCiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCiAgICAgICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UtY29udGFpbmVyJywgd3JhcHBlcikuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICBsb2FkRm9ydW1Gb3JtKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICBpZiAoY29udGV4dC5pc0ZvcnVtKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQoJy5maWx0ZXItb3B0aW9uLnNlbGVjdGVkJywgd3JhcHBlcikucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7DQogICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCiAgICAgICAgICAgICAgICAkKCcubWVzc2FnZS1jb250YWluZXInLCB3cmFwcGVyKS5oaWRlKCk7DQogICAgICAgICAgICAgICAgbG9hZEZvcnVtRm9ybShjb250ZXh0KTsNCiAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgdmFyIG1lZGlhRmlsdGVyQnV0dG9uID0gJCgnLmZpbHRlci1vcHRpb24ubWVkaWEtZ2FsbGVyeS5zZWxlY3RlZCcsIHdyYXBwZXIpOw0KICAgICAgICAgICAgaWYgKG1lZGlhRmlsdGVyQnV0dG9uICYmIG1lZGlhRmlsdGVyQnV0dG9uLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgbG9hZE1lZGlhRm9ybShjb250ZXh0KTsNCg0KICAgICAgICAgICAgJCgnLmZpbHRlci1vcHRpb24ubWVkaWEtZ2FsbGVyeScsIHdyYXBwZXIpLmNsaWNrKGZ1bmN0aW9uKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAoISQodGhpcykuaGFzQ2xhc3MoJ3NlbGVjdGVkJykpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAkKCcuZmlsdGVyLW9wdGlvbi5zZWxlY3RlZCcsIHdyYXBwZXIpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOw0KICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdzZWxlY3RlZCcpOw0KICAgICAgICAgICAgICAgICAgICAkKCcubWVzc2FnZS1jb250YWluZXInLCB3cmFwcGVyKS5oaWRlKCk7DQogICAgICAgICAgICAgICAgICAgIGxvYWRNZWRpYUZvcm0oY29udGV4dCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGlmIChjb250ZXh0LmlzTWVkaWEpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJCgnLmZpbHRlci1vcHRpb24uc2VsZWN0ZWQnLCB3cmFwcGVyKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsNCiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdzZWxlY3RlZCcpOw0KICAgICAgICAgICAgICAgICQoJy5tZXNzYWdlLWNvbnRhaW5lcicsIHdyYXBwZXIpLmhpZGUoKTsNCiAgICAgICAgICAgICAgICBsb2FkTWVkaWFGb3JtKGNvbnRleHQpOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICB2YXIgd2lraUZpbHRlckJ1dHRvbiA9ICQoJy5maWx0ZXItb3B0aW9uLndpa2kuc2VsZWN0ZWQnLCB3cmFwcGVyKTsNCiAgICAgICAgICAgIGlmICh3aWtpRmlsdGVyQnV0dG9uICYmIHdpa2lGaWx0ZXJCdXR0b24ubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICBsb2FkV2lraUZvcm0oY29udGV4dCk7DQoNCiAgICAgICAgICAgICQoJy5maWx0ZXItb3B0aW9uLndpa2knLCB3cmFwcGVyKS5jbGljayhmdW5jdGlvbigpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKCEkKHRoaXMpLmhhc0NsYXNzKCdzZWxlY3RlZCcpKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgJCgnLmZpbHRlci1vcHRpb24uc2VsZWN0ZWQnLCB3cmFwcGVyKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKTsNCiAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCiAgICAgICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UtY29udGFpbmVyJywgd3JhcHBlcikuaGlkZSgpOw0KICAgICAgICAgICAgICAgICAgICBsb2FkV2lraUZvcm0oY29udGV4dCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGlmIChjb250ZXh0LmlzV2lraSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKCcuZmlsdGVyLW9wdGlvbi5zZWxlY3RlZCcsIHdyYXBwZXIpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOw0KICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQogICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2UtY29udGFpbmVyJywgd3JhcHBlcikuaGlkZSgpOw0KICAgICAgICAgICAgICAgIGxvYWRXaWtpRm9ybShjb250ZXh0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH07DQp9KShqUXVlcnkpOw0K</file>
			<file name="weblogs-tab.vm">I3NldCgkd2VibG9ncyA9IGZhbHNlKQ0KI3NldCgkd2VibG9ncyA9ICRjb3JlX3YyX2Jsb2cuTGlzdEZvclF1aWNrUG9zdCgpKQ0KDQojaWYoISR3ZWJsb2dzIHx8ICR3ZWJsb2dzLkNvdW50ID09IDApDQo8ZGl2IGNsYXNzPSJtZXNzYWdlIGRpcmVjdGlvbnMiPg0KCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9Db3JlX1F1aWNrUG9zdF9Ob1dlYmxvZ3MnKQ0KPC9kaXY+DQojZWxzZQ0KPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0Ij4NCgk8bGVnZW5kIGNsYXNzPSJmaWVsZC1saXN0LWRlc2NyaXB0aW9uIj48c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfUXVpY2tQb3N0Iik8L3NwYW4+PC9sZWdlbmQ+DQoJPHVsIGNsYXNzPSJmaWVsZC1saXN0Ij4NCgkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHBvc3QtdG8iPg0KCQkJPGxhYmVsIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0NvcmVfUXVpY2tQb3N0X1B1Ymxpc2hUb1dlYmxvZycpPC9sYWJlbD4NCgkJCSNpZiAoJHdlYmxvZ3MuQ291bnQgPiAxKQ0KCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCQk8c2VsZWN0Pg0KCQkJCSNmb3JlYWNoKCR3ZWJsb2cgaW4gJHdlYmxvZ3MpDQoJCQkJCTxvcHRpb24gdmFsdWU9IiR3ZWJsb2cuSWQiPiR3ZWJsb2cuTmFtZTwvb3B0aW9uPg0KCQkJCSNlbmQNCgkJCQk8L3NlbGVjdD4NCgkJCQk8L3NwYW4+DQoJCQkjZWxzZQ0KCQkJCSNmb3JlYWNoKCR3ZWJsb2cgaW4gJHdlYmxvZ3MpDQoJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0IiBkYXRhLXdlYmxvZy1pZD0iJHdlYmxvZy5JZCI+JHdlYmxvZy5OYW1lPC9zcGFuPg0KCQkJCSNlbmQNCgkJCSNlbmQNCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHBvc3QtdGl0bGUiPg0KCQkJPGxhYmVsIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciIgZm9yPSJxdWlja3Bvc3QtdGl0bGUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9UaXRsZSIpPC9sYWJlbD4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCSAgICA8dGV4dGFyZWEgcm93cz0iMSIgbmFtZT0icXVpY2twb3N0LXRpdGxlIiBtYXhsZW5ndGg9IjI1NiIgY2xhc3M9ImVtcHR5IiB2YWx1ZT0nJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1RpdGxlX0hlbHAiKSc+PC90ZXh0YXJlYT4NCgkJCTwvc3Bhbj4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iPjwvc3Bhbj4NCgkJPC9saT4NCgkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHBvc3QtYm9keSI+DQoJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIiBmb3I9InF1aWNrcG9zdC1ib2R5Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfQm9keSIpPC9sYWJlbD4NCgkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij48dGV4dGFyZWEgcm93cz0iMiIgbmFtZT0icXVpY2twb3N0LWJvZHkiIGNsYXNzPSJlbXB0eSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0NvcmVfUXVpY2tQb3N0X0JvZHlfSGVscCcpPC90ZXh0YXJlYT48L3NwYW4+DQoJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIj48L3NwYW4+DQoJCTwvbGk+DQoJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBwb3N0LXN1Ym1pdCI+DQoJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQoJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iaW50ZXJuYWwtbGluayBhZGQtcG9zdCBhZGQtcG9zdF9fZGlzYWJsZWQgYWRkLXBvc3RfX2Rpc2FibGVkX19pbnRlcm5hbC1saW5rIGRpc2FibGVkIGRpc2FibGVkX19pbnRlcm5hbC1saW5rIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X1Bvc3QiKTwvYT4NCgkJCQk8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGFkdmFuY2VkLXBvc3QiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfQWR2YW5jZWRQb3N0Iik8L2E+DQoJCQk8L3NwYW4+DQoJCQk8ZGl2IHN0eWxlPSJjbGVhcjogYm90aDsiPjwvZGl2Pg0KCQk8L2xpPg0KCTwvdWw+DQo8L2ZpZWxkc2V0Pg0KPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KI2VuZA==</file>
			<file name="wikis-tab.vm">I3NldCgkd2lraXMgPSBmYWxzZSkNCiNzZXQoJHdpa2lzID0gJGNvcmVfdjJfd2lraS5MaXN0Rm9yUXVpY2tQb3N0KCkpDQoNCiNpZighJHdpa2lzIHx8ICR3aWtpcy5Db3VudCA9PSAwKQ0KPGRpdiBjbGFzcz0ibWVzc2FnZSBkaXJlY3Rpb25zIj4NCgkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfQ29yZV9RdWlja1Bvc3RfTm9XaWtpcycpDQo8L2Rpdj4NCiNlbHNlDQo8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+DQo8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCTxsZWdlbmQgY2xhc3M9ImZpZWxkLWxpc3QtZGVzY3JpcHRpb24iPjxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9RdWlja1Bvc3QiKTwvc3Bhbj48L2xlZ2VuZD4NCgk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPg0KCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gcG9zdC10byI+DQoJCQk8bGFiZWwgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfQ29yZV9RdWlja1Bvc3RfUHVibGlzaFRvV2lraScpPC9sYWJlbD4NCgkJCSNpZiAoJHdpa2lzLkNvdW50ID4gMSkNCgkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQoJCQkJPHNlbGVjdD4NCgkJCQkjZm9yZWFjaCgkd2lraSBpbiAkd2lraXMpDQoJCQkJCTxvcHRpb24gdmFsdWU9IiR3aWtpLklkIj4kd2lraS5OYW1lPC9vcHRpb24+DQoJCQkJI2VuZA0KCQkJCTwvc2VsZWN0Pg0KCQkJCTwvc3Bhbj4NCgkJCSNlbHNlDQoJCQkJI2ZvcmVhY2goJHdpa2kgaW4gJHdpa2lzKQ0KCQkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCIgZGF0YS13aWtpLWlkPSIkd2lraS5JZCI+JHdpa2kuTmFtZTwvc3Bhbj4NCgkJCQkjZW5kDQoJCQkjZW5kDQoJCTwvbGk+DQoJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBwb3N0LXRpdGxlIj4NCgkJCTxsYWJlbCBjbGFzcz0iZmllbGQtaXRlbS1oZWFkZXIiIGZvcj0icXVpY2twb3N0LXRpdGxlIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQ0ZfQ29yZV9RdWlja1Bvc3RfVGl0bGUiKTwvbGFiZWw+DQoJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+DQoJCQkgICAgPHRleHRhcmVhIHJvd3M9IjEiIG5hbWU9InF1aWNrcG9zdC10aXRsZSIgbWF4bGVuZ3RoPSIyNTYiIGNsYXNzPSJlbXB0eSIgdmFsdWU9JyRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9UaXRsZV9IZWxwIiknPjwvdGV4dGFyZWE+DQoJCQk8L3NwYW4+DQoJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIj48L3NwYW4+DQoJCTwvbGk+DQoJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBwb3N0LWJvZHkiPg0KCQkJPGxhYmVsIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciIgZm9yPSJxdWlja3Bvc3QtYm9keSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X0JvZHkiKTwvbGFiZWw+DQoJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+PHRleHRhcmVhIHJvd3M9IjIiIG5hbWU9InF1aWNrcG9zdC1ib2R5IiBjbGFzcz0iZW1wdHkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9Db3JlX1F1aWNrUG9zdF9Cb2R5X0hlbHAnKTwvdGV4dGFyZWE+PC9zcGFuPg0KCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiI+PC9zcGFuPg0KCQk8L2xpPg0KCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gcG9zdC1zdWJtaXQiPg0KCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPg0KCQkJCTxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImludGVybmFsLWxpbmsgYWRkLXBvc3QgYWRkLXBvc3RfX2Rpc2FibGVkIGFkZC1wb3N0X19kaXNhYmxlZF9faW50ZXJuYWwtbGluayBkaXNhYmxlZCBkaXNhYmxlZF9faW50ZXJuYWwtbGluayI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9Qb3N0Iik8L2E+DQoJCQkJPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iaW50ZXJuYWwtbGluayBhZHZhbmNlZC1wb3N0Ij48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkNGX0NvcmVfUXVpY2tQb3N0X0FkdmFuY2VkUG9zdCIpPC9hPg0KCQkJPC9zcGFuPg0KCQkJPGRpdiBzdHlsZT0iY2xlYXI6IGJvdGg7Ij48L2Rpdj4NCgkJPC9saT4NCgk8L3VsPg0KPC9maWVsZHNldD4NCjxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4NCiNlbmQ=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:widget_recommendedcontent}" version="7.5.0.32466" description="${resource:widget_description}" instanceIdentifier="e34240c78f0946919f542e327eb8c5ae" theme="" isCacheable="false" varyCacheByUser="true" showHeaderByDefault="true" cssClass="recommended-content">
		<contentScript>
#if (!$core_v2_contentRecommendation)    
	$core_v2_widget.Hide()
#end

#set($user = $core_v2_user.Accessing)
#if ($user.IsSystemAccount)
    $core_v2_widget.Hide()
#end
&lt;div id="$core_v2_widget.UniqueId('paged-content')"&gt;
    $core_v2_widget.ExecuteFile('pagedContent.vm')
&lt;/div&gt;
&lt;div id="$core_v2_widget.UniqueId('pager')" class="pager"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.recommendedContent')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.recommendedContent.register({
			wrapperId: '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
            pagedContentId: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('paged-content'))',
            pagerId: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('pager'))',
            pageSize: $core_v2_widget.GetIntValue('pageSize', 5),
            pageIndex: 0,
            pageKey: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PageIndexQueryStringKey)',
            pagedContentUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('pagedContent.vm'))',
            isPreview: #if($core_v2_widget.IsInWidgetPreviewMode) true#else false#end
        });
	});
	//]]&gt;
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:ui_recommendedforyou}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="configuration_options"&gt;
    &lt;property id="fragmentHeader" resourceName="configuration_title" dataType="string" defaultValue="${resource:ui_recommendedforyou}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="pageSize" resourceName="configuration_pageSize" dataType="int" defaultValue="5"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="groups" resourceName="configuration_groups" dataType="custom" controlType="Telligent.Evolution.Controls.GroupSelectionList, Telligent.Evolution.Controls" includeCurrentGroup="True" defaultValue="Group=-1" /&gt;
    &lt;property id="includeSubGroups" resourceName="configuration_includeSubGroups" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
&lt;propertyGroup id="includeContentTypes" resourceName="configuration_includeContentTypes" resourceDescription="configuration_includeContentTypes_description"&gt;
    &lt;property id="includeBlogPost" dataType="bool" resourceName="configuration_includeBlogPost" /&gt;
    &lt;property id="includeWikiPage" dataType="bool" resourceName="configuration_includeWikiPage" /&gt;
    &lt;property id="includeMedia" dataType="bool" resourceName="configuration_includeMedia" /&gt;
    &lt;property id="includeForumThread" dataType="bool" resourceName="configuration_includeForumThread" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="widget_recommendedcontent">Recommended Content</resource><resource name="widget_description">Shows content the accessing user may be interested in.</resource><resource name="ui_recommendedforyou">Recommended for you</resource><resource name="configuration_includeWikiPage">Wiki pages</resource><resource name="configuration_includeMedia">Media</resource><resource name="configuration_includeForumThread">Forum threads</resource><resource name="configuration_includeBlogPost">Blog posts</resource><resource name="no_suggestions">No additional recommendations are available.</resource><resource name="remove">Remove</resource><resource name="configuration_options">Options</resource><resource name="configuration_title">Title</resource><resource name="configuration_pageSize">Number of recommendations to show</resource><resource name="configuration_includeContentTypes_description">By selecting a specific content type, only content of the selected types will be recommended.  If all boxes are unchecked, all content will be recommended.</resource><resource name="configuration_includeContentTypes">Content Types</resource><resource name="configuration_includeSubGroups">Include sub groups' content</resource><resource name="configuration_groups">Filter recommended content by groups</resource><resource name="likes_singular">{0} person likes this</resource><resource name="likes_plural">{0} people like this</resource></language></languageResources>
		<files>
			<file name="pagedContent.vm">I3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ3BhZ2VTaXplJywgNSkpDQojc2V0KCRwYWdlSW5kZXggPSAkY29yZV92Ml91aS5HZXRDdXJyZW50UGFnZUluZGV4KCkpDQojc2V0KCRxdWVyeSA9ICIle1BhZ2VTaXplPSRwYWdlU2l6ZSxQYWdlSW5kZXg9JHBhZ2VJbmRleH0iKQ0KDQojc2V0KCRncm91cElkID0gJGNvcmVfdjJfcGFnZS5QYXJzZVF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3dpZGdldC5HZXRDdXN0b21WYWx1ZSgnZ3JvdXBzJywgJycpKS5WYWx1ZSgnR3JvdXAnKSkNCiNzZXQoJGluY2x1ZGVTdWJHcm91cHMgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdpbmNsdWRlU3ViR3JvdXBzJywgdHJ1ZSkpDQojaWYgKCRncm91cElkKQ0KICAgICNzZXQoJGdyb3VwID0gZmFsc2UpDQogICAgI2lmICgkZ3JvdXBJZCA9PSAtMSkNCiAgICAgICAgI3NldCgkZ3JvdXAgPSAkY29yZV92Ml9ncm91cC5DdXJyZW50KQ0KICAgICNlbHNlDQogICAgICAgICNzZXQoJGdyb3VwID0gJGNvcmVfdjJfZ3JvdXAuR2V0KCIle0lkPSRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGdyb3VwSWQpfSIpKQ0KICAgICNlbmQNCg0KICAgICNpZiAoJGdyb3VwICYmICRncm91cC5JZCAhPSAkY29yZV92Ml9ncm91cC5Sb290LklkKQ0KICAgICAgICAjaWYgKCRpbmNsdWRlU3ViR3JvdXBzKQ0KICAgICAgICAgICAgI3NldCgkY29udGFpbmVySWRzID0gIiRncm91cC5Db250YWluZXJJZCIpDQogICAgICAgICAgICAjZm9yZWFjaCgkc3ViR3JvdXAgaW4gJGNvcmVfdjJfZ3JvdXAuTGlzdCgiJXsgSW5jbHVkZUFsbFN1Ykdyb3VwcyA9ICd0cnVlJywgUGFnZVNpemUgPSA1MCwgUGFyZW50R3JvdXBJZCA9ICRncm91cC5JZCwgUGVybWlzc2lvbiA9ICdHcm91cF9SZWFkR3JvdXAnIH0iKSkNCiAgICAgICAgICAgICAgICAjc2V0KCRjb250YWluZXJJZHMgPSAiJGNvbnRhaW5lcklkcywkc3ViR3JvdXAuQ29udGFpbmVySWQiKQ0KICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgJHF1ZXJ5LkFkZCgnQ29udGFpbmVySWRzJywgJGNvbnRhaW5lcklkcykNCiAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICRxdWVyeS5BZGQoJ0NvbnRhaW5lcklkcycsICRncm91cC5Db250YWluZXJJZCkNCiAgICAgICAgI2VuZA0KICAgICNlbmQNCiNlbmQNCg0KI3NldCgkaW5jbHVkZUJsb2dQb3N0cyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2luY2x1ZGVCbG9nUG9zdCcsIGZhbHNlKSkNCiNzZXQoJGluY2x1ZGVGb3J1bVRocmVhZCA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2luY2x1ZGVGb3J1bVRocmVhZCcsIGZhbHNlKSkNCiNzZXQoJGluY2x1ZGVNZWRpYSA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2luY2x1ZGVNZWRpYScsIGZhbHNlKSkNCiNzZXQoJGluY2x1ZGVXaWtpUGFnZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2luY2x1ZGVXaWtpUGFnZScsIGZhbHNlKSkNCiNpZigkaW5jbHVkZUJsb2dQb3N0cyB8fCAkaW5jbHVkZUZvcnVtVGhyZWFkIHx8ICRpbmNsdWRlTWVkaWEgfHwgJGluY2x1ZGVXaWtpUGFnZSkNCiAgICAjc2V0KCRjb250ZW50VHlwZUlkcyA9ICcnKQ0KICAgICNpZiAoJGluY2x1ZGVCbG9nUG9zdHMpDQogICAgICAgICNzZXQoJGNvbnRlbnRUeXBlSWRzID0gIiRjb3JlX3YyX2Jsb2dQb3N0LkNvbnRlbnRUeXBlSWQiKQ0KICAgICNlbmQNCiAgICAjaWYgKCRpbmNsdWRlRm9ydW1UaHJlYWQpDQogICAgICAgICNpZiAoJGNvbnRlbnRUeXBlSWRzLkxlbmd0aCA+IDApDQogICAgICAgICAgICAjc2V0KCRjb250ZW50VHlwZUlkcyA9ICIkY29udGVudFR5cGVJZHMsIikNCiAgICAgICAgI2VuZA0KICAgICAgICAjc2V0KCRjb250ZW50VHlwZUlkcyA9ICIkY29udGVudFR5cGVJZHMkY29yZV92Ml9mb3J1bVRocmVhZC5Db250ZW50VHlwZUlkIikNCiAgICAjZW5kDQogICAgI2lmICgkaW5jbHVkZU1lZGlhKQ0KICAgICAgICAjaWYgKCRjb250ZW50VHlwZUlkcy5MZW5ndGggPiAwKQ0KICAgICAgICAgICAgI3NldCgkY29udGVudFR5cGVJZHMgPSAiJGNvbnRlbnRUeXBlSWRzLCIpDQogICAgICAgICNlbmQNCiAgICAgICAgI3NldCgkY29udGVudFR5cGVJZHMgPSAiJGNvbnRlbnRUeXBlSWRzJGNvcmVfdjJfbWVkaWEuQ29udGVudFR5cGVJZCIpDQogICAgI2VuZA0KICAgICNpZiAoJGluY2x1ZGVXaWtpUGFnZSkNCiAgICAgICAgI2lmICgkY29udGVudFR5cGVJZHMuTGVuZ3RoID4gMCkNCiAgICAgICAgICAgICNzZXQoJGNvbnRlbnRUeXBlSWRzID0gIiRjb250ZW50VHlwZUlkcywiKQ0KICAgICAgICAjZW5kDQogICAgICAgICNzZXQoJGNvbnRlbnRUeXBlSWRzID0gIiRjb250ZW50VHlwZUlkcyRjb3JlX3YyX3dpa2lQYWdlLkNvbnRlbnRUeXBlSWQiKQ0KICAgICNlbmQNCg0KICAgICRxdWVyeS5BZGQoJ0NvbnRlbnRUeXBlSWRzJywgJGNvbnRlbnRUeXBlSWRzKQ0KI2VuZA0KDQojc2V0KCRjb250ZW50UmVjb21tZW5kYXRpb25zID0gJGNvcmVfdjJfY29udGVudFJlY29tbWVuZGF0aW9uLkxpc3QoJHF1ZXJ5KSkNCg0KI2ZvcmVhY2goJGNvbnRlbnRSZWNvbW1lbmRhdGlvbiBpbiAkY29udGVudFJlY29tbWVuZGF0aW9ucykNCiNiZWZvcmVhbGwNCiAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIj48L2Rpdj4NCiAgICA8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+DQojZWFjaA0KICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4NCiAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPjwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0Ij4NCiAgICAgICAgICAgIDxoNCBjbGFzcz0icG9zdC1uYW1lIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb250ZW50UmVjb21tZW5kYXRpb24uQ29udGVudC5VcmwpIj4kY29udGVudFJlY29tbWVuZGF0aW9uLkNvbnRlbnQuSHRtbE5hbWUoJ1dlYicpPC9hPjwvaDQ+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWF0dHJpYnV0ZXMiPg0KICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYXR0cmlidXRlLWxpc3QtaGVhZGVyIj48L2Rpdj4NCiAgICAgICAgICAgICAgIDx1bCBjbGFzcz0iYXR0cmlidXRlLWxpc3QiPg0KICAgICAgICAgICAgICAgICAgI3NldCgkbGlrZXMgPSBmYWxzZSkNCiAgICAgICAgICAgICAgICAgICNzZXQoJGxpa2VzID0gJGNvcmVfdjJfbGlrZS5MaXN0KCIle0NvbnRlbnRJZD0kY29udGVudFJlY29tbWVuZGF0aW9uLkNvbnRlbnQuQ29udGVudElkLFBhZ2VTaXplPTEsUGFnZUluZGV4PTB9IikpDQogICAgICAgICAgICAgICAgICAjaWYgKCRsaWtlcyAmJiAkbGlrZXMuVG90YWxDb3VudCA+IDApDQogICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIGxpa2VzIj48c3BhbiBjbGFzcz0iYXR0cmlidXRlLXZhbHVlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJGxpa2VzLlRvdGFsQ291bnQgPT0gMSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnbGlrZXNfc2luZ3VsYXInKSwgJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0TnVtYmVyKCRsaWtlcy5Ub3RhbENvdW50KSkNCiAgICAgICAgICAgICAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ2xpa2VzX3BsdXJhbCcpLCAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXROdW1iZXIoJGxpa2VzLlRvdGFsQ291bnQpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPjwvbGk+DQogICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1mb290ZXIiPjwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LXN1bW1hcnkiPg0KICAgICAgICAgICAgICAgICRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRjb250ZW50UmVjb21tZW5kYXRpb24uQ29udGVudC5IdG1sRGVzY3JpcHRpb24oJ1dlYicpLCA2MCwgJy4uLicpDQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+DQogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPg0KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+PGEgaHJlZj0iIyIgdGl0bGU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ3JlbW92ZScpKSIgY2xhc3M9ImludGVybmFsLWxpbmsgaWdub3JlLXN1Z2dlc3Rpb24iIGRhdGEtY29udGVudGlkPSIkY29udGVudFJlY29tbWVuZGF0aW9uLkNvbnRlbnQuQ29udGVudElkIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgncmVtb3ZlJyk8L2E+PC9saT4NCiAgICAgICAgICAgICAgICA8L3VsPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2Pg0KICAgICAgICAgICAgPC9kaXY+DQogICAgCTwvZGl2Pg0KICAgIAk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciI+PC9kaXY+DQogICAgPC9saT4NCiNhZnRlcmFsbA0KICAgIDwvdWw+DQogICAgPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+DQojbm9kYXRhDQogICAgPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdub19zdWdnZXN0aW9ucycpPC9kaXY+DQojZW5kDQo=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsNCg0KICAgIHZhciByZWZyZXNoID0gZnVuY3Rpb24oY29udGV4dCwgbGluaykgew0KDQogICAgICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIHZhciBkYXRhID0ge307DQogICAgICAgICAgICBkYXRhW2NvbnRleHQucGFnZUtleV0gPSBjb250ZXh0LnBhZ2VJbmRleDsNCiAgICAgICAgICAgIC8vIG1vZGlmeSB0aGUgdXJsIGluc3RlYWQgb2YgcGFzc2luZyBhcyBkYXRhLCBhcyB0aGUgdXJsIG1pZ2h0IGhhdmUgdGhpcyBpbiB0aGUgcXVlcnlzdHJpbmcgYWxyZWFkeQ0KICAgICAgICAgICAgdmFyIHVybCA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi51cmwubW9kaWZ5KHsgdXJsOiBjb250ZXh0LnBhZ2VkQ29udGVudFVybCwgcXVlcnk6IGRhdGEgfSk7DQogICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCiAgICAgICAgICAgICAgICB1cmw6IHVybCwNCiAgICAgICAgICAgIAljYWNoZTogZmFsc2UsDQogICAgICAgICAgICAJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlID0gJChyZXNwb25zZSk7DQogICAgICAgICAgICAgICAgICAgIGlmKHJlc3BvbnNlLmZpbmQoJ2xpLmNvbnRlbnQtaXRlbScpLmxlbmd0aCA9PT0gMCAmJiAhY29udGV4dC5pc0xvYWRlZCAmJiAhY29udGV4dC5pc1ByZXZpZXcpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5vIGNvbnRlbnQgb24gaW5pdGlhbCByZW5kZXJpbmcsIHNvIGhpZGUgd2lkZ2V0DQogICAgICAgICAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKS5oaWRlKCk7DQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIAljb250ZXh0LmlzTG9hZGVkID0gdHJ1ZTsNCiAgICAgICAgICAgICAgICAgICAgICAgICQoY29udGV4dC5wYWdlZENvbnRlbnRJZCkuaHRtbChyZXNwb25zZSk7DQogICAgICAgICAgICAgICAgICAgICAgICBhZGRFdmVudEhhbmRsZXJzKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAJfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0NCg0KICAgICAgICBpZiAobGluaykgew0KICAgICAgICAgICAgbGluay5jbG9zZXN0KCdsaS5jb250ZW50LWl0ZW0nKS5zbGlkZVVwKCdmYXN0JywgdXBkYXRlKTsNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgIHVwZGF0ZSgpOw0KICAgICAgICB9DQogICAgfSwNCiAgICBhZGRFdmVudEhhbmRsZXJzID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAvLyBpZ25vcmUNCiAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5pZ25vcmUtc3VnZ2VzdGlvbicpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgdmFyIGxpbmsgPSAkKHRoaXMpOw0KICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL2NvbnRlbnQvcmVjb21tZW5kYXRpb24vaWdub3JlL3tDb250ZW50SWR9Lmpzb24nLA0KICAgICAgICAgICAgCWRhdGE6IHsNCiAgICAgICAgICAgIAkJQ29udGVudElkOiBsaW5rLmRhdGEoJ2NvbnRlbnRpZCcpDQogICAgICAgICAgICAJfSwNCiAgICAgICAgICAgIAlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgICAgICByZWZyZXNoKGNvbnRleHQsIGxpbmspOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0pLmhpZGUoKTsNCg0KICAgICAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBsaS5jb250ZW50LWl0ZW0nKS5vbignbW91c2VvdmVyIHN3aXBlcmlnaHQnLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICB2YXIgZWxtID0gJCh0aGlzKTsNCiAgICAgICAgICAgICQoJ2EuaWdub3JlLXN1Z2dlc3Rpb24nLCBlbG0pLnNob3coKTsNCg0KICAgICAgICAgICAgaWYgKGUudHlwZSA9PSAnc3dpcGVyaWdodCcpIHsNCiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgJCgnYS5pZ25vcmUtc3VnZ2VzdGlvbicsIGVsbSkuaGlkZSgpOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KS5vbignbW91c2VvdXQnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICQoJ2EuaWdub3JlLXN1Z2dlc3Rpb24nLCAkKHRoaXMpKS5oaWRlKCk7DQogICAgICAgIH0pOw0KICAgIH07DQoNCgl2YXIgYXBpID0gew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KCQkJY29udGV4dC5pc0xvYWRlZCA9IGZhbHNlOw0KCQkJDQogICAgICAgICAgICAkKGNvbnRleHQucGFnZXJJZCkuZXZvbHV0aW9uUGFnZXIoew0KICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlOiBjb250ZXh0LnBhZ2VJbmRleCwNCiAgICAgICAgICAgICAgICBwYWdlU2l6ZTogY29udGV4dC5wYWdlU2l6ZSwNCiAgICAgICAgICAgICAgICBwYWdlS2V5OiBjb250ZXh0LnBhZ2VLZXksDQogICAgICAgICAgICAgICAgaGFzaDogY29udGV4dC5wYWdlS2V5LA0KICAgICAgICAgICAgICAgIGJhc2VVcmw6IGNvbnRleHQucGFnZWRDb250ZW50VXJsLA0KICAgICAgICAgICAgICAgIHNob3dQcmV2aW91czogdHJ1ZSwNCgkJICAgICAgICBzaG93TmV4dDogdHJ1ZSwNCgkJICAgICAgICBzaG93Rmlyc3Q6IGZhbHNlLA0KCQkgICAgICAgIHNob3dMYXN0OiBmYWxzZSwNCgkJICAgICAgICBzaG93SW5kaXZpZHVhbFBhZ2VzOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBwYWdlZENvbnRlbnRDb250YWluZXI6ICQoY29udGV4dC5wYWdlZENvbnRlbnRJZCksDQogICAgICAgICAgICAgICAgb25QYWdlOiBmdW5jdGlvbihwYWdlSW5kZXgsIGNvbXBsZXRlKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQucGFnZUluZGV4ID0gcGFnZUluZGV4Ow0KICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IHt9Ow0KICAgICAgICAgICAgICAgICAgICBkYXRhW2NvbnRleHQucGFnZUtleV0gPSBwYWdlSW5kZXg7DQogICAgICAgICAgICAgICAgICAgIC8vIG1vZGlmeSB0aGUgdXJsIGluc3RlYWQgb2YgcGFzc2luZyBhcyBkYXRhLCBhcyB0aGUgdXJsIG1pZ2h0IGhhdmUgdGhpcyBpbiB0aGUgcXVlcnlzdHJpbmcgYWxyZWFkeQ0KICAgICAgICAgICAgICAgICAgICB2YXIgdXJsID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5tb2RpZnkoeyB1cmw6IGNvbnRleHQucGFnZWRDb250ZW50VXJsLCBxdWVyeTogZGF0YSB9KTsNCiAgICAgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQogICAgICAgICAgICAgICAgICAgIAl1cmw6IHVybCwNCiAgICAgICAgICAgICAgICAgICAgCWNhY2hlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICAgICAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgICAgIAkJY29tcGxldGUocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50SGFuZGxlcnMoY29udGV4dCk7DQogICAgICAgICAgICAgICAgICAgIAl9DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICByZWZyZXNoKGNvbnRleHQpOw0KCQkJYWRkRXZlbnRIYW5kbGVycyhjb250ZXh0KTsNCgkJfQ0KCX07DQoNCg0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5yZWNvbW1lbmRlZENvbnRlbnQgPSBhcGk7DQoNCn0oalF1ZXJ5KSk7</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:widget_recommendedpeople}" version="7.5.0.32466" description="${resource:widget_description}" instanceIdentifier="6116afb0e42b41b19cdd9770861985d7" theme="" isCacheable="false" varyCacheByUser="true" showHeaderByDefault="true" cssClass="recommended-people">
		<contentScript>
#if (!$core_v2_userRecommendation)    
	$core_v2_widget.Hide()
#end

#set($user = $core_v2_user.Accessing)
#if ($user.IsSystemAccount)
    $core_v2_widget.Hide()
#end
#set($currentUser = $core_v2_user.Current)
#if ($currentUser &amp;&amp; $currentUser.Id != $user.Id)
    $core_v2_widget.Hide()
#end

#set($pageSize = $core_v2_widget.GetIntValue('pageSize', 3))

#set($userRecommendations = $core_v2_userRecommendation.List("%{PageSize=$pageSize,PageIndex=0}"))
#if ($userRecommendations.Count == 0)
    $core_v2_widget.Hide()
#end

$core_v2_widget.ExecuteFile('list.vm')

#registerEndOfPageHtml('telligent.evolution.widgets.peopleYouMayKnow')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function()
	{
		jQuery.telligent.evolution.widgets.peopleYouMayKnow.register({
			wrapperId: '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
			userId: $user.Id,
			pageIndex: 0,
			followProcessingHtml: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('follow_processing'))',
            refreshUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('refresh.vm'))'
        });
	});
	//]]&gt;
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:ui_peopleyoumayknow}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="configuration_options"&gt;
    &lt;property id="fragmentHeader" resourceName="configuration_title" dataType="string" defaultValue="${resource:ui_peopleyoumayknow}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="pageSize" resourceName="configuration_pageSize" dataType="int" defaultValue="3"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="actionType" resourceName="configuration_actionType" dataType="string" defaultValue="both"&gt;
		&lt;propertyValue value="friend" resourceName="configuration_actionType_friend" /&gt;
        &lt;propertyValue value="follow" resourceName="configuration_actionType_follow" /&gt;
        &lt;propertyValue value="both" resourceName="configuration_actionType_both" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="widget_recommendedpeople">Recommended People</resource><resource name="ui_peopleyoumayknow">People you may know</resource><resource name="widget_description">Shows a list of people you should connect with.</resource><resource name="mutual_friend">{0} mutual ${friend_lowercase}</resource><resource name="mutual_friends">{0} mutual ${friends_lowercase}</resource><resource name="add_friend">+ Add ${friend_propercase}</resource><resource name="follow">+ Follow</resource><resource name="follow_processing">Following...</resource><resource name="no_suggestions">No additional recommendations are available.</resource><resource name="ignore">Remove</resource><resource name="configuration_options">Options</resource><resource name="configuration_title">Title</resource><resource name="configuration_pageSize">Number of recommendations to show</resource><resource name="configuration_actionType">Allowed actions</resource><resource name="configuration_actionType_friend">Add ${friend_lowercase}</resource><resource name="configuration_actionType_follow">Follow</resource><resource name="configuration_actionType_both">Both</resource></language></languageResources>
		<files>
			<file name="list.vm">I3NldCgkYWN0aW9uVHlwZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgnYWN0aW9uVHlwZScsICdib3RoJykpDQoNCg0KI2ZvcmVhY2goJHVzZXJSZWNvbW1lbmRhdGlvbiBpbiAkdXNlclJlY29tbWVuZGF0aW9ucykNCiNiZWZvcmVhbGwNCiAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIj48L2Rpdj4NCiAgICA8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+DQojZWFjaA0KICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4NCiAgICAgICAgPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWhlYWRlciI+PC9kaXY+DQogICAgCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+DQogICAgICAgIAkJPHNwYW4gY2xhc3M9ImF2YXRhciI+DQogICAgICAgIAkJCSNpZiAoJHVzZXJSZWNvbW1lbmRhdGlvbi5Vc2VyLlByb2ZpbGVVcmwpDQogICAgICAgIAkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyUmVjb21tZW5kYXRpb24uVXNlci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPg0KICAgICAgICAJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXJSZWNvbW1lbmRhdGlvbi5Vc2VyLkF2YXRhclVybCwgMzQsIDM0LCAiJXtib3JkZXI9JzAnLCBhbHQ9JHVzZXJSZWNvbW1lbmRhdGlvbi5Vc2VyLkRpc3BsYXlOYW1lfSIpDQogICAgICAgIAkJCQk8L2E+DQogICAgICAgIAkJCSNlbHNlDQogICAgICAgIAkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCR1c2VyUmVjb21tZW5kYXRpb24uVXNlci5BdmF0YXJVcmwsIDM0LCAzNCwgIiV7Ym9yZGVyPScwJywgYWx0PSR1c2VyUmVjb21tZW5kYXRpb24uVXNlci5EaXNwbGF5TmFtZX0iKQ0KICAgICAgICAJCQkjZW5kDQogICAgICAgIAkJPC9zcGFuPg0KICAgICAgICAJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPg0KICAgICAgICAJCQkjaWYgKCR1c2VyUmVjb21tZW5kYXRpb24uVXNlci5Qcm9maWxlVXJsKQ0KICAgICAgICAJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXNlclJlY29tbWVuZGF0aW9uLlVzZXIuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4kdXNlclJlY29tbWVuZGF0aW9uLlVzZXIuRGlzcGxheU5hbWU8L2E+DQogICAgICAgIAkJCSNlbHNlDQogICAgICAgIAkJCQkkdXNlclJlY29tbWVuZGF0aW9uLlVzZXIuRGlzcGxheU5hbWUNCiAgICAgICAgCQkJI2VuZA0KICAgICAgICAJCTwvc3Bhbj4NCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1zdW1tYXJ5Ij4NCiAgICAgICAgICAgICAgICAjaWYoJHVzZXJSZWNvbW1lbmRhdGlvbi5NdXR1YWxGcmllbmRDb3VudCA9PSAxKQ0KICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ211dHVhbF9mcmllbmQnKSwgJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0TnVtYmVyKCR1c2VyUmVjb21tZW5kYXRpb24uTXV0dWFsRnJpZW5kQ291bnQpKQ0KICAgICAgICAgICAgICAgICNlbHNlaWYgKCR1c2VyUmVjb21tZW5kYXRpb24uTXV0dWFsRnJpZW5kQ291bnQgPiAxKQ0KICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ211dHVhbF9mcmllbmRzJyksICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdE51bWJlcigkdXNlclJlY29tbWVuZGF0aW9uLk11dHVhbEZyaWVuZENvdW50KSkNCiAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtYWN0aW9ucyI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+DQogICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPg0KICAgICAgICAgICAgICAgICAgICAjaWYgKCRhY3Rpb25UeXBlID09ICdib3RoJyB8fCAkYWN0aW9uVHlwZSA9PSAnZm9sbG93JykNCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIj48YSBocmVmPSIjIiBjbGFzcz0iaW50ZXJuYWwtbGluayBmb2xsb3ctdXNlciIgZGF0YS11c2VyaWQ9IiR1c2VyUmVjb21tZW5kYXRpb24uVXNlci5JZCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ2ZvbGxvdycpPC9hPjwvbGk+DQogICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAgICAgI2lmICgkYWN0aW9uVHlwZSA9PSAnYm90aCcgfHwgJGFjdGlvblR5cGUgPT0gJ2ZyaWVuZCcpDQogICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+PGEgaHJlZj0iJGNvcmVfdjJfdXJscy5SZXF1ZXN0RnJpZW5kc2hpcCgkdXNlclJlY29tbWVuZGF0aW9uLlVzZXIuSWQpIiBjbGFzcz0iaW50ZXJuYWwtbGluayByZXF1ZXN0LWZyaWVuZHNoaXAiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdhZGRfZnJpZW5kJyk8L2E+PC9saT4NCiAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+PGEgaHJlZj0iIyIgY2xhc3M9ImludGVybmFsLWxpbmsgaWdub3JlLXN1Z2dlc3Rpb24iIGRhdGEtdXNlcmlkPSIkdXNlclJlY29tbWVuZGF0aW9uLlVzZXIuSWQiIHRpdGxlPSIkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnaWdub3JlJykiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdpZ25vcmUnKTwvYT48L2xpPg0KICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+DQogICAgICAgICAgICA8L2Rpdj4NCiAgICAJPC9kaXY+DQogICAgCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1mb290ZXIiPjwvZGl2Pg0KICAgIDwvbGk+DQojYWZ0ZXJhbGwNCiAgICA8L3VsPg0KICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KI25vZGF0YQ0KICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnbm9fc3VnZ2VzdGlvbnMnKTwvZGl2Pg0KI2VuZA0K</file>
			<file name="refresh.vm">I3NldCgkdXNlciA9ICRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nKQ0KI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ3BhZ2VTaXplJywgMykpDQojc2V0KCR1c2VyUmVjb21tZW5kYXRpb25zID0gJGNvcmVfdjJfdXNlclJlY29tbWVuZGF0aW9uLkxpc3QoIiV7UGFnZVNpemU9JHBhZ2VTaXplLFBhZ2VJbmRleD0wfSIpKQ0KJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdsaXN0LnZtJykgICAg</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsNCiAgICANCiAgICB2YXIgcmVmcmVzaCA9IGZ1bmN0aW9uKGNvbnRleHQsIGxpbmspIHsNCiAgICAgICAgDQogICAgICAgIHZhciB1cGRhdGUgPSBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5yZWZyZXNoVXJsLA0KICAgICAgICAgICAgICAgIGNhY2hlOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2UgPSAkKHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgdWwuY29udGVudC1saXN0JykuaHRtbChyZXNwb25zZSk7DQogICAgICAgICAgICAgICAgICAgIGFkZEV2ZW50SGFuZGxlcnMoY29udGV4dCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH07DQogICAgICAgIA0KICAgICAgICBpZiAobGluaykgew0KICAgICAgICAgICAgbGluay5jbG9zZXN0KCdsaS5jb250ZW50LWl0ZW0nKS5zbGlkZVVwKCdmYXN0JywgdXBkYXRlKTsgDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICB1cGRhdGUoKTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgYWRkRXZlbnRIYW5kbGVycyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCiAgICAgICAgLy8gZnJpZW5kaW5nDQogICAgICAgICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGEucmVxdWVzdC1mcmllbmRzaGlwJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHZhciBsaW5rID0gJCh0aGlzKTsNCiAgICAgICAgICAgIHZhciB1cmwgPSBsaW5rLmF0dHIoJ2hyZWYnKTsNCiAgICAgICAgCVRlbGxpZ2VudF9Nb2RhbC5PcGVuKHVybCwgNTUwLCAzNjAsIGZ1bmN0aW9uKCkgeyByZWZyZXNoKGNvbnRleHQsIGxpbmspIH0pOw0KICAgICAgICAJcmV0dXJuIGZhbHNlOw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIC8vIGZvbGxvdw0KICAgICAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBhLmZvbGxvdy11c2VyJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHZhciBsaW5rID0gJCh0aGlzKTsNCiAgICAgICAgICAgIHZhciBvbGRIdG1sID0gbGluay5odG1sKCk7DQogICAgICAgICAgICBsaW5rLmh0bWwoY29udGV4dC5mb2xsb3dQcm9jZXNzaW5nSHRtbCk7DQogICAgICAgIAkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgIAkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvdXNlcnMve0ZvbGxvd2VySWR9L2ZvbGxvd2luZy5qc29uJywNCiAgICAgICAgCQlkYXRhOiB7DQogICAgICAgIAkJCUZvbGxvd2VySWQ6IGNvbnRleHQudXNlcklkLA0KICAgICAgICAJCQlGb2xsb3dpbmdJZDogbGluay5kYXRhKCd1c2VyaWQnKQ0KICAgICAgICAJCX0sDQogICAgICAgIAkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsgDQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyByZWZyZXNoKGNvbnRleHQsIGxpbmspOyB9LCA0OTkpOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgIAkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpIHsgbGluay5odG1sKG9sZEh0bWwpOyB9DQogICAgICAgIAl9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICB9KTsNCiAgICAgICAgDQogICAgICAgIC8vIGlnbm9yZQ0KICAgICAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBhLmlnbm9yZS1zdWdnZXN0aW9uJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICB2YXIgbGluayA9ICQodGhpcyk7DQogICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgICAgICAJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvdXNlci9yZWNvbW1lbmRhdGlvbi9pZ25vcmUve1VzZXJJZH0uanNvbicsDQogICAgICAgICAgICAJZGF0YTogew0KICAgICAgICAgICAgCQlVc2VySWQ6IGxpbmsuZGF0YSgndXNlcmlkJykNCiAgICAgICAgICAgIAl9LA0KICAgICAgICAgICAgCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7IA0KICAgICAgICAgICAgICAgICAgICByZWZyZXNoKGNvbnRleHQsIGxpbmspOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgDQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0pLmhpZGUoKTsNCiAgICAgICAgDQogICAgICAgICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGxpLmNvbnRlbnQtaXRlbScpLm9uKCdtb3VzZW92ZXIgc3dpcGVyaWdodCcsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgIHZhciBlbG0gPSAkKHRoaXMpOw0KICAgICAgICAgICAgJCgnYS5pZ25vcmUtc3VnZ2VzdGlvbicsIGVsbSkuc2hvdygpOw0KICAgICAgICAgICAgDQogICAgICAgICAgICBpZiAoZS50eXBlID09ICdzd2lwZXJpZ2h0Jykgew0KICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAkKCdhLmlnbm9yZS1zdWdnZXN0aW9uJywgZWxtKS5oaWRlKCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9ICAgICAgICAgICAgDQogICAgICAgIH0pLm9uKCdtb3VzZW91dCcsIGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgJCgnYS5pZ25vcmUtc3VnZ2VzdGlvbicsICQodGhpcykpLmhpZGUoKTsNCiAgICAgICAgfSk7DQogICAgfTsNCg0KCXZhciBhcGkgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQlhZGRFdmVudEhhbmRsZXJzKGNvbnRleHQpOw0KCQl9DQoJfTsNCg0KDQoNCglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQ0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnBlb3BsZVlvdU1heUtub3cgPSBhcGk7DQoNCn0oalF1ZXJ5KSk7</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_RedirectToSSL_Name}" version="7.5.0.32466" description="${resource:Core_RedirectToSSL_Description}" instanceIdentifier="0f732a7447ad4597ba39f118eb0477d5" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="redirect-to-ssl">
		<contentScript>
#if (!$core_v2_widget.IsInWidgetPreviewMode)
	$core_v2_page.EnsureSecureConnection()
#end
$core_v2_widget.Hide()
		</contentScript>
		<languageResources><language key="en-us"><resource name="Core_RedirectToSSL_Name">Redirect to SSL</resource><resource name="Core_RedirectToSSL_Description">Redirects the current page to SSL if it is over an insecure connection</resource></language></languageResources>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:CF_RelatedContent_Name}" version="7.5.0.32466" description="${resource:CF_RelatedContent_Description}" instanceIdentifier="9d3d2a5f0e7d488da22da61601079da5" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="related-content">
		<contentScript>
#set ($contentTypes = false)
#set ($contentTypes = $core_v2_utility.Split(",", $core_v2_widget.GetCustomValue('contentType','')))
#set ($groupId = false)
#set ($groupId = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('groupSelection','')).Value('Group'))
#if ($groupId == 0)
	#set ($current = false)
	#set ($currentGroup = $core_v2_group.Current)
	#if ($currentGroup)
		#set ($groupId = $currentGroup.Id)
	#end
#end
#set ($includeSubGroups = $core_v2_widget.GetBoolValue('includeSubGroups',false))
#set ($pageSize = $core_v2_widget.GetIntValue('pageSize', 5))
#set ($pageIndex = 0)

## determine the current content being viewed
#set ($currentPost = false)
#set ($isBlog = false)
#set ($isMedia = false)
#set ($isForum = false)
#set ($isWiki = false)

#set ($isBlog = $core_v2_blogUrls.IsBlogUrl)
#if ($isBlog)
	#set ($currentPost = $core_v2_blogPost.Current)
#else
	#set ($isMedia = $core_v2_mediaUrls.IsMediaUrl)
	#if ($isMedia)
		#set ($currentPost = $core_v2_media.Current)
	#else
		#set ($isForum = $core_v2_forumUrls.IsForumURl)
		#if ($isForum)
			#set ($currentPost = $core_v2_forumThread.Current)
		#else
			#set ($isWiki = $core_v2_wikiUrls.IsWikiUrl)
			#if ($isWiki)
				#set($currentPost = $core_v2_wikiPage.CurrentOrDefault)
			#end
		#end
	#end
#end

#if($core_v2_widget.IsInWidgetPreviewMode &amp;&amp; !$currentPost)
	$core_v2_language.GetResource('CF_RelatedContent_Availability')
#elseif (!$core_v2_widget.IsInWidgetPreviewMode &amp;&amp; !$currentPost)
	$core_v2_widget.Hide()
#else
	## build search filters
	#set ($filters = "")

	## build content type filters
	#set ($contentTypeIndex = 0)
	#if ($contentTypes &amp;&amp; $contentTypes.Count &gt; 0)
		#set ($filters = "${filters}type::")
	#end
	#foreach ($contentType in $contentTypes)
		#if ($contentTypeIndex &gt; 0)
			#set ($filters = "${filters},${contentType}")
		#else
			#set ($filters = "${filters}${contentType}")
		#end
		#set ($contentTypeIndex = $contentTypeIndex + 1)
	#end

	## if no types were explicitly specified,
	## explicitly specify all of the ones which are allowed to be shown
	#if ($filters.Length == 0)
		#set ($filters = "type::blog,wiki,file,forum")
	#end

	## build group filters
	#if ($groupId)
		#if ($filters.Length &gt; 0)
			#set ($filters = "${filters}||")
		#end
		#set ($filters = "${filters}group::${groupId}")
		#if ($includeSubGroups)
			#set ($subGroups = $core_v2_group.List("%{ IncludeAllSubGroups = 'true', PageSize = 50, ParentGroupId = $groupId, Permission = 'Group_ReadGroup' }"))
			#foreach ($subGroup in $subGroups)
				#set ($filters = "${filters},${subGroup.Id}")
			#end
		#end
	#end

	## combine query parts
	#set ($query = "%{ PageSize = $pageSize, PageIndex = $pageIndex }")
	#if ($filters.Length &gt; 0)
		$query.Add('Filters', $filters)
	#end

	## perform query
	#set ($relatedContent = false)
	#set ($relatedContent = $core_v2_searchResult.GetRelatedContent($currentPost.SearchUniqueId, $query))

	#if ($relatedContent &amp;&amp; $relatedContent.TotalCount &gt; 0)
		## show results
		$core_v2_widget.ExecuteFile('render.vm')
		#if ($relatedContent.TotalCount &gt; $pageSize)
			&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
			&lt;ul class="navigation-list"&gt;
				&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.UniqueId('viewMore'))"&gt;$core_v2_language.GetResource('CF_RelatedContent_ViewMore')&lt;/a&gt;&lt;/li&gt;
			&lt;/ul&gt;
			&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
		#end
	#end

	#registerEndOfPageHtml('telligent.evolution.widgets.relatedContent')
		&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
	#end
	#registerEndOfPageHtml()
		&lt;script type="text/javascript"&gt;
		jQuery(function(j){
			jQuery.telligent.evolution.widgets.relatedContent.register({
				wrapper: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
				viewMore: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('viewMore'))',
				filters: '$core_v2_encoding.JavascriptEncode($filters)',
				uniqueId: '$core_v2_encoding.JavascriptEncode($currentPost.SearchUniqueId)',
				pageSize: $pageSize,
				totalCount: $relatedContent.TotalCount,
				viewMoreUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('showmore.vm'))'
			});
		});
		&lt;/script&gt;
	#end
#end
	</contentScript>
		<headerScript>
#set ($defaultTitle = $core_v2_language.GetResource('CF_RelatedContent_Title'))
#set ($title = $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:CF_RelatedContent_Title}')))
## only use the automatic content-type-based names if the title hasn't been customized from its default
#if ($title == $defaultTitle)
	#set ($contentTypes = false)
	#set ($contentTypes = $core_v2_utility.Split(',', $core_v2_widget.GetCustomValue('contentType','')))
	## if exactly one content type selected, use that type as the title of the widget
	#if ($contentTypes &amp;&amp; $contentTypes.Count == 1)
		#set ($contentType = false)
		#foreach ($type in $contentTypes)
			#set ($contentType = $type)
		#end
		#if ($contentType == 'blog')
			#set ($title = $core_v2_language.GetResource('CF_RelatedContent_Title_blog'))
		#elseif ($contentType == 'forum')
			#set ($title = $core_v2_language.GetResource('CF_RelatedContent_Title_forum'))
		#elseif ($contentType == 'file')
			#set ($title = $core_v2_language.GetResource('CF_RelatedContent_Title_file'))
		#elseif ($contentType == 'wiki')
			#set ($title = $core_v2_language.GetResource('CF_RelatedContent_Title_wiki'))
		#end
	#end
#end
$title
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:CF_RelatedContent_Title}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="contentType" resourceName="CF_RelatedContent_ContentType" dataType="custom" controlType="Telligent.Evolution.Controls.CheckboxListControl, Telligent.Evolution.Controls"&gt;
		&lt;propertyValue value="blog" resourceName="CF_RelatedContent_ContentType_BlogPost" /&gt;
		&lt;propertyValue value="wiki" resourceName="CF_RelatedContent_ContentType_WikiPost" /&gt;
		&lt;propertyValue value="file" resourceName="CF_RelatedContent_ContentType_MediaPost" /&gt;
		&lt;propertyValue value="forum" resourceName="CF_RelatedContent_ContentType_ForumPost" /&gt;
	&lt;/property&gt;
	&lt;property id="groupSelection" resourceName="CF_RelatedContent_Group" descriptionResourceName="CF_RelatedContent_Group_Desc" dataType="custom" defaultValue="IncludeSubGroups=%20False&amp;amp;Group=0&amp;amp;GroupPath=" controlType="Telligent.Evolution.Controls.GroupSelectionList, Telligent.Evolution.Controls" IncludeCurrentGroup="true" /&gt;
	&lt;property id="includeSubGroups" resourceName="CF_RelatedContent_IncludeSubGroup" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="pageSize" resourceName="CF_RelatedContent_PageSize" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="CF_RelatedContent_Name">Similar Content</resource><resource name="CF_RelatedContent_Description">Shows similar content for an item</resource><resource name="CF_RelatedContent_Title">Similar Content</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_RelatedContent_ContentType">Select Content Type</resource><resource name="CF_RelatedContent_ContentType_BlogPost">Blog Post</resource><resource name="CF_RelatedContent_ContentType_WikiPost">Wiki Page</resource><resource name="CF_RelatedContent_ContentType_MediaPost">Media Gallery Post</resource><resource name="CF_RelatedContent_ContentType_ForumPost">Forum Post</resource><resource name="CF_RelatedContent_Group">Select group to pull from</resource><resource name="CF_RelatedContent_IncludeSubGroup">Include sub-groups</resource><resource name="CF_RelatedContent_PageSize">Number of items to display</resource><resource name="CF_RelatedContent_Group_Desc">Leave blank to not filter results by a group</resource><resource name="CF_RelatedContent_Availability">Similar Content is only available on blog post, wiki, forum thread, and media file pages</resource><resource name="CF_RelatedContent_ViewMore">View More</resource><resource name="CF_RelatedContent_Title_blog">Similar Blog Posts</resource><resource name="CF_RelatedContent_Title_forum">Similar Discussions</resource><resource name="CF_RelatedContent_Title_file">Similar Files</resource><resource name="CF_RelatedContent_Title_wiki">Similar Pages</resource><resource name="CF_RelatedContent_By">by</resource><resource name="SearchResults_On">on</resource><resource name="CF_RelatedContent_Comment">comment</resource><resource name="CF_RelatedContent_Comments">comments</resource><resource name="CF_RelatedContent_LatestRevision">latest revision</resource><resource name="CF_RelatedContent_Download">download</resource><resource name="CF_RelatedContent_Downloads">downloads</resource><resource name="Status_SuggestedAnswer">Suggested Answer</resource><resource name="Status_VerifiedAnswer">Verified Answer</resource><resource name="Status_NotAnswered">Not Answered</resource></language></languageResources>
		<additionalCssScript>
#set ($cssClass = 'multiple')
#set ($contentTypes = false)
#set ($contentTypes = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('contentType','')).Values('Selection'))
#if ($contentTypes &amp;&amp; $contentTypes.Count == 1)
	## if exactly one content type selected, apply that as a class name around the widget
	#set ($cssClass = false)
	#foreach ($type in $contentTypes)
		#set ($cssClass = $type)
	#end
#end
$cssClass
	</additionalCssScript>
		<files>
			<file name="render.vm">IyMKIyMgcmVuZGVycyBhIGxpc3Qgb2YgaW5kaXZpZHVhbCBzZWFyY2ggcmVzdWx0cywgc3VpdGFibGUgZm9yIGlubGluZSBvciBhamF4CiMjCiNmb3JlYWNoICgkY29udGVudCBpbiAkcmVsYXRlZENvbnRlbnQpCgkjc2V0ICgkdXNlciA9IGZhbHNlKQoJI3NldCAoJHVzZXIgPSAkY29udGVudC5Vc2Vycy5Ub0FycmF5KCkuZ2V0KDApKQoKCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIj48L2Rpdj4KCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QiPgoJCTxoNCBjbGFzcz0icG9zdC1uYW1lIj4KCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29udGVudC5VcmwpIj4kY29udGVudC5UaXRsZTwvYT4KCQk8L2g0PgoJCSNpZiAoJGNvbnRlbnQuQ29udGVudFR5cGUgPT0gJ2Jsb2cnKQoKCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgoJCQkJPHNwYW4gY2xhc3M9InBvc3QtYXV0aG9yLWJ5Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfUmVsYXRlZENvbnRlbnRfQnknKTwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPgoJCQkJCSNpZiAoJHVzZXIuUHJvZmlsZVVybCkKCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXIuUHJvZmlsZVVybCkiPgoJCQkJCQkJPHNwYW4+PC9zcGFuPiR1c2VyLkRpc3BsYXlOYW1lCgkJCQkJCTwvYT4KCQkJCQkjZWxzZQoJCQkJCQkkdXNlci5EaXNwbGF5TmFtZQoJCQkJCSNlbmQKCQkJCTwvc3Bhbj4KCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+CgkJCQk8c3BhbiBjbGFzcz0ibGFiZWwiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTZWFyY2hSZXN1bHRzX09uJyk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0idmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJGNvbnRlbnQuRGF0ZSk8L3NwYW4+CgkJCTwvZGl2PgoKCQkJIyMgbG9hZCBhIGJsb2cgcG9zdCBmb3IgY29tbWVudCBjb3VudHMKCQkJI3NldCAoJGJsb2dQb3N0ID0gZmFsc2UpCgkJCSNzZXQgKCRibG9nUG9zdCA9ICRjb3JlX3YyX2Jsb2dQb3N0LkdldCgiJXsgSWQgPSAkY29udGVudC5Db250ZW50SWQgfSIpKQoJCQkjaWYgKCRibG9nUG9zdCkKCQkJCTxkaXYgY2xhc3M9InBvc3QtYXR0cmlidXRlcyI+CgkJCQkJPGRpdiBjbGFzcz0iYXR0cmlidXRlLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkJCQk8dWwgY2xhc3M9ImF0dHJpYnV0ZS1saXN0Ij4KCQkJCQkJPGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSBjb21tZW50LWNvdW50Ij4KCQkJCQkJCTxzcGFuIGNsYXNzPSJ2YWx1ZSI+JGJsb2dQb3N0LkNvbW1lbnRDb3VudDwvc3Bhbj4KCQkJCQkJCTxzcGFuIGNsYXNzPSJuYW1lIj4jaWYoJGJsb2dQb3N0LkNvbW1lbnRDb3VudCA9PSAxKSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfUmVsYXRlZENvbnRlbnRfQ29tbWVudCcpICNlbHNlICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9SZWxhdGVkQ29udGVudF9Db21tZW50cycpICNlbmQ8L3NwYW4+CgkJCQkJCTwvbGk+CgkJCQkJPC91bD4KCQkJCQk8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1mb290ZXIiPjwvZGl2PgoJCQkJPC9kaXY+CgkJCSNlbmQKCgkJI2Vsc2VpZiAoJGNvbnRlbnQuQ29udGVudFR5cGUgPT0gJ3dpa2knKQoKCQkJIyMgbG9hZCB0aGUgbW9zdCByZWNlbnQgcmV2aXNpb24KCQkJI3NldCAoJHBhZ2UgPSBmYWxzZSkKCQkJI3NldCAoJHBhZ2UgPSAkY29yZV92Ml93aWtpUGFnZS5HZXQoIiV7IElkID0gJGNvbnRlbnQuQ29udGVudElkIH0iKSkKCQkJI2lmICgkcGFnZSkKCQkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+CgkJCQkJPHNwYW4gY2xhc3M9ImxhYmVsIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfUmVsYXRlZENvbnRlbnRfTGF0ZXN0UmV2aXNpb24nKTwvc3Bhbj4KCQkJCQk8c3BhbiBjbGFzcz0idmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdEFnb0RhdGUoJGNvbnRlbnQuRGF0ZSk8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJI2VuZAoKCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgoJCQkJPHNwYW4gY2xhc3M9InBvc3QtYXV0aG9yLWJ5Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfUmVsYXRlZENvbnRlbnRfQnknKTwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPgoJCQkJCSNpZiAoJHVzZXIuUHJvZmlsZVVybCkKCQkJCQkJPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXIuUHJvZmlsZVVybCkiPgoJCQkJCQkJPHNwYW4+PC9zcGFuPiR1c2VyLkRpc3BsYXlOYW1lCgkJCQkJCTwvYT4KCQkJCQkjZWxzZQoJCQkJCQkkdXNlci5EaXNwbGF5TmFtZQoJCQkJCSNlbmQKCQkJCTwvc3Bhbj4KCQkJPC9kaXY+CgoJCSNlbHNlaWYgKCRjb250ZW50LkNvbnRlbnRUeXBlID09ICdmaWxlJykKCgkJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4KCQkJCTxzcGFuIGNsYXNzPSJwb3N0LWF1dGhvci1ieSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX1JlbGF0ZWRDb250ZW50X0J5Jyk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KCQkJCQkjaWYgKCR1c2VyLlByb2ZpbGVVcmwpCgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIj4KCQkJCQkJCTxzcGFuPjwvc3Bhbj4kdXNlci5EaXNwbGF5TmFtZQoJCQkJCQk8L2E+CgkJCQkJI2Vsc2UKCQkJCQkJJHVzZXIuRGlzcGxheU5hbWUKCQkJCQkjZW5kCgkJCQk8L3NwYW4+CgkJCTwvZGl2PgoKCQkJPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4KCQkJCTxzcGFuIGNsYXNzPSJsYWJlbCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlYXJjaFJlc3VsdHNfT24nKTwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJ2YWx1ZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkY29udGVudC5EYXRlKTwvc3Bhbj4KCQkJPC9kaXY+CgoJCQkjIyBsb2FkIGEgbWVkaWEgcG9zdCBmb3IgZG93bmxvYWQgY291bnQKCQkJI3NldCAoJG1lZGlhID0gZmFsc2UpCgkJCSNzZXQgKCRtZWRpYSA9ICRjb3JlX3YyX21lZGlhLkdldCgkY29udGVudC5TZWN0aW9uSWQsICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvbnRlbnQuQ29udGVudElkKSkpCgkJCSNpZiAoJG1lZGlhKQoJCQkJPGRpdiBjbGFzcz0icG9zdC1hdHRyaWJ1dGVzIj4KCQkJCQk8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1oZWFkZXIiPjwvZGl2PgoJCQkJCTx1bCBjbGFzcz0iYXR0cmlidXRlLWxpc3QiPgoJCQkJCQk8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIGRvd25sb2FkLWNvdW50Ij4KCQkJCQkJCTxzcGFuIGNsYXNzPSJ2YWx1ZSI+JG1lZGlhLkRvd25sb2Fkczwvc3Bhbj4KCQkJCQkJCTxzcGFuIGNsYXNzPSJuYW1lIj4jaWYoJG1lZGlhLkRvd25sb2FkcyA9PSAxKSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfUmVsYXRlZENvbnRlbnRfRG93bmxvYWQnKSAjZWxzZSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfUmVsYXRlZENvbnRlbnRfRG93bmxvYWRzJykgI2VuZDwvc3Bhbj4KCQkJCQkJPC9saT4KCQkJCQk8L3VsPgoJCQkJCTxkaXYgY2xhc3M9ImF0dHJpYnV0ZS1saXN0LWZvb3RlciI+PC9kaXY+CgkJCQk8L2Rpdj4KCQkJI2VuZAoKCQkjZWxzZWlmICgkY29udGVudC5Db250ZW50VHlwZSA9PSAnZm9ydW0nKQoKCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgoJCQkJPHNwYW4gY2xhc3M9InBvc3QtYXV0aG9yLWJ5Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfUmVsYXRlZENvbnRlbnRfQnknKTwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPgoJCQkJCSNpZigkY29yZV92Ml91c2VyLklzUmVnaXN0ZXJlZCgkdXNlci5JZCkpCgkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIj4KCQkJCQkJCTxzcGFuPjwvc3Bhbj4kdXNlci5EaXNwbGF5TmFtZQoJCQkJCQk8L2E+CgkJCQkJI2Vsc2UKCQkJCQkJJHVzZXIuRGlzcGxheU5hbWUKCQkJCQkjZW5kCgkJCQk8L3NwYW4+CgkJCTwvZGl2PgoKCQkJPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4KCQkJCTxzcGFuIGNsYXNzPSJsYWJlbCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1NlYXJjaFJlc3VsdHNfT24nKTwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJ2YWx1ZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkY29udGVudC5EYXRlKTwvc3Bhbj4KCQkJPC9kaXY+CgoJCQkjIyBnYXRoZXIgdGhlIGN1cnJlbnQgYW5zd2VyIHN0YXR1cywgaWYgdGhlcmUgaXMgb25lLCBmcm9tIHRoZSBzZWFyY2ggcmVzdWx0CgkJCSNzZXQgKCR0aHJlYWRTdGF0dXMgPSBmYWxzZSkKCQkJI2ZvcmVhY2ggKCRmaWVsZCBpbiAkY29udGVudC5TZWFyY2hGaWVsZHMpCgkJCQkjaWYgKCRmaWVsZC5OYW1lID09ICd0aHJlYWRzdGF0dXMnKQoJCQkJCSNzZXQgKCR0aHJlYWRTdGF0dXMgPSAkZmllbGQuVmFsdWUpCgkJCQkjZW5kCgkJCSNlbmQKCQkJI3NldCAoJHRocmVhZEFuc3dlciA9IGZhbHNlKQoJCQkjaWYgKCR0aHJlYWRTdGF0dXMgPT0gJ0Fuc3dlcmVkTm90VmVyaWZpZWQnKQoJCQkJI3NldCAoJHRocmVhZEFuc3dlciA9ICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTdGF0dXNfU3VnZ2VzdGVkQW5zd2VyJykpCgkJCSNlbHNlaWYgKCR0aHJlYWRTdGF0dXMgPT0gJ0Fuc3dlcmVkJykKCQkJCSNzZXQgKCR0aHJlYWRBbnN3ZXIgPSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU3RhdHVzX1ZlcmlmaWVkQW5zd2VyJykpCgkJCSNlbHNlaWYgKCR0aHJlYWRTdGF0dXMgPT0gJ05vdEFuc3dlcmVkJykKCQkJCSNzZXQgKCR0aHJlYWRBbnN3ZXIgPSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU3RhdHVzX05vdEFuc3dlcmVkJykpCgkJCSNlbmQKCQkJI2lmICgkdGhyZWFkQW5zd2VyKQoJCQkJPGRpdiBjbGFzcz0icG9zdC1hdHRyaWJ1dGVzIj4KCQkJCQk8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1oZWFkZXIiPjwvZGl2PgoJCQkJCTx1bCBjbGFzcz0iYXR0cmlidXRlLWxpc3QiPgoJCQkJCQk8bGkgY2xhc3M9ImF0dHJpYnV0ZS1pdGVtIHRocmVhZC1zdGF0dXMiPgoJCQkJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kdGhyZWFkQW5zd2VyPC9zcGFuPgoJCQkJCQk8L2xpPgoJCQkJCTwvdWw+CgkJCQkJPGRpdiBjbGFzcz0iYXR0cmlidXRlLWxpc3QtZm9vdGVyIj48L2Rpdj4KCQkJCTwvZGl2PgoJCQkjZW5kCgoJCSNlbmQKCTwvZGl2PgoJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIiPjwvZGl2PgojZW5kCg==</file>
			<file name="showmore.vm">I3NldCAoJGZpbHRlcnMgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZmlsdGVycycpKQojc2V0ICgkdW5pcXVlSWQgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfdW5pcXVlSWQnKSkKI3NldCAoJHBhZ2VTaXplID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfcGFnZVNpemUnKSkpCiNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkpCgojIyBjb21iaW5lIHF1ZXJ5IHBhcnRzCiNzZXQgKCRxdWVyeSA9ICIleyBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSwgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCB9IikKI2lmICgkZmlsdGVycy5MZW5ndGggPiAwKQoJJHF1ZXJ5LkFkZCgnRmlsdGVycycsICRmaWx0ZXJzKQojZW5kCgojIyBwZXJmb3JtIHF1ZXJ5CiNzZXQgKCRyZWxhdGVkQ29udGVudCA9IGZhbHNlKQojc2V0ICgkcmVsYXRlZENvbnRlbnQgPSAkY29yZV92Ml9zZWFyY2hSZXN1bHQuR2V0UmVsYXRlZENvbnRlbnQoJHVuaXF1ZUlkLCAkcXVlcnkpKQoKIyMgc2hvdyByZXN1bHRzCiNpZiAoJHJlbGF0ZWRDb250ZW50KQoJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdyZW5kZXIudm0nKQojZW5kCgo=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpewoJdmFyIGNvdW50TG9hZGVkID0gZnVuY3Rpb24oY29udGV4dCkgewoJCXJldHVybiBjb250ZXh0LndyYXBwZXIuZmluZCgnLmFiYnJldmlhdGVkLXBvc3QnKS5sZW5ndGg7Cgl9OwoJdmFyIGFwaSA9IHsKCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgewoJCQljb250ZXh0LndyYXBwZXIgPSAkKGNvbnRleHQud3JhcHBlcik7CgkJCWNvbnRleHQudmlld01vcmUgPSAkKGNvbnRleHQudmlld01vcmUpCgkJCQkuYmluZCgnY2xpY2snLCBmdW5jdGlvbihlLGRhdGEpewoKCQkJCQl2YXIgbG9hZGVkQ291bnQgPSBjb3VudExvYWRlZChjb250ZXh0KTsKCQkJCQl2YXIgcGFnZUluZGV4ID0gbG9hZGVkQ291bnQvY29udGV4dC5wYWdlU2l6ZTsKCgkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7CgkJCQkJCXVybDogY29udGV4dC52aWV3TW9yZVVybCwKCQkJCQkJZGF0YTogewoJCQkJCQkJd19maWx0ZXJzOiBjb250ZXh0LmZpbHRlcnMsCgkJCQkJCQl3X3VuaXF1ZUlkOiBjb250ZXh0LnVuaXF1ZUlkLAoJCQkJCQkJd19wYWdlU2l6ZTogY29udGV4dC5wYWdlU2l6ZSwKCQkJCQkJCXdfcGFnZUluZGV4OiBwYWdlSW5kZXgKCQkJCQkJfSwKCQkJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsKCQkJCQkJCWNvbnRleHQud3JhcHBlci5maW5kKCcuYWJicmV2aWF0ZWQtcG9zdC1mb290ZXI6bGFzdCcpLmFmdGVyKHJlc3BvbnNlKTsKCQkJCQkJCWlmKGNvdW50TG9hZGVkKGNvbnRleHQpID49IGNvbnRleHQudG90YWxDb3VudCkgewoJCQkJCQkJCWNvbnRleHQudmlld01vcmUuaGlkZSgpOwoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJfSk7CgoJCQkJCXJldHVybiBmYWxzZTsKCQkJCX0pOwoJCX0KCX07CgoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9OyB9CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5yZWxhdGVkQ29udGVudCA9IGFwaTsKCn0oalF1ZXJ5KSk7Cg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_Revision_Name}" version="7.5.0.32466" description="${resource:Wikis_Revision_Description}" instanceIdentifier="23e010899f3b4eae93f20255d4687ae7" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="revision">
		<contentScript>
#set ($currentPage = $core_v2_wikiPage.Current)
#set ($currentGroup = $core_v2_group.Current)

## hide this widget if the content is abusive and accessing user does not have permission to review
#set ($abusiveContent = false)
#set ($abusiveContent = $core_v2_abusiveContent.Get($currentPage.ContentId, $currentPage.ContentTypeId))

#set ($canDeleteVersions = false)
#set ($canDeleteVersions = $core_v2_nodePermission.Get('wikis',$currentPage.WikiId,'Wiki_DeletePage',"%{PostType='pages',PostId=$currentPage.Id}").IsAllowed)

#set ($canReviewAppealsInGroup = false)
#set ($canReviewAppealsInGroup = $core_v2_nodePermission.Get('groups',$currentGroup.Id,'Wiki_DeletePage').IsAllowed)

#set ($deleteCompleteText = $core_v2_language.GetResource('Wikis_Compare_DeleteRevision_Complete'))

#if ($abusiveContent &amp;&amp; $abusiveContent.IsAbusive)
	#set ($currentGroup = $core_v2_group.Current)
	#set ($deleteCompleteText = $core_v2_language.GetResource('Wikis_Compare_DeleteRevision_Complete_Abusive'))
	#if (!$canReviewAppealsInGroup)
		$core_v2_widget.Hide()
	#end
#end

#set ($currentPageRevision = $core_v2_wikiPageRevision.Current)
#set ($hasModifyPagePermission = $core_v2_nodePermission.Get("wikis", $currentPage.WikiId, "Wiki_ModifyPage").IsAllowed)

&lt;div class="full-post-header"&gt;&lt;/div&gt;
&lt;div class="full-post"&gt;
#if ($currentPage &amp;&amp; $currentPageRevision &amp;&amp; $currentPage.Revision == $currentPageRevision.RevisionNumber)
	&lt;div class="message warning"&gt;$core_v2_language.GetResource("Wikis_History_ViewingCurrentVersion")&lt;/div&gt;
#elseif ($currentPage &amp;&amp; $currentPageRevision)
	&lt;div class="message warning"&gt;
		$core_v2_language.GetResource("Wikis_Compare_OldRevisionMessage")
		&lt;div class="links"&gt;
			&lt;a href='$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Page($currentPage.Id))' class='internal-link view-post'&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wikis_Compare_StatusMessageLink')&lt;/a&gt;
			#if ($hasModifyPagePermission)
				| &lt;a href="javascript:void( 0 )" id="$core_v2_widget.UniqueId('revertPageButton')" class="internal-link revert-page"&gt;$core_v2_language.GetResource("Wikis_Compare_RevertPage")&lt;/a&gt;
			#end
			#if ($canDeleteVersions)
				| &lt;a href="javascript:void( 0 )" id="$core_v2_widget.UniqueId('deleteRevisionButton')" class="internal-link delete-revision"&gt;$core_v2_language.GetResource("Wikis_Compare_DeleteRevision")&lt;/a&gt;
			#end
		&lt;/div&gt;
	&lt;/div&gt;
	&lt;h3 class="post-name"&gt;
		&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Revision($currentPage.Id, $currentPageRevision.RevisionNumber))" class="internal-link view-post"&gt;$currentPageRevision.Title&lt;/a&gt;
	&lt;/h3&gt;
	&lt;div class="post-content user-defined-markup"&gt;
		$currentPageRevision.Body()
	&lt;/div&gt;

	#if ($hasModifyPagePermission)
		#registerEndOfPageHtml('telligent.evolution.widgets.revision')
			&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
		#end
		#registerEndOfPageHtml()
			&lt;script type="text/javascript"&gt;
			//&lt;![CDATA[
				jQuery(document).ready(function()
				{
					jQuery.telligent.evolution.widgets.revision.register({
						revertPageButton:jQuery("#$core_v2_widget.UniqueId('revertPageButton')"),
						deleteRevisionButton:jQuery("#$core_v2_widget.UniqueId('deleteRevisionButton')"),
						revertPageConfirmationText:"$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_Compare_RevertPage_Confirmation'))",
						deleteRevisionConfirmationText:"$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_Compare_DeleteRevision_Confirmation'))",
						pageRevisionBody:"$core_v2_encoding.JavascriptEncode($currentPageRevision.Body())",
						pageRevisionTitle:"$core_v2_encoding.JavascriptEncode($currentPageRevision.Title)",
						pageRevisionTags:"$core_v2_encoding.JavascriptEncode($currentPageRevision.Tags)",
						pageId: $currentPage.Id,
						wikiId: $currentPage.WikiId,
						revisionId: $currentPageRevision.RevisionNumber,
						pageUrl:"$core_v2_wikiUrls.Page($currentPage.Id)",
						processingErrorText:"$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wikis_History_RevertPageError'))",
						deleteRevisionCompleteText:"$core_v2_encoding.JavascriptEncode($deleteCompleteText)"
					});
				});
			//]]&gt;
			&lt;/script&gt;
		#end
	#end
#end
&lt;/div&gt;
&lt;div class="full-post-footer"&gt;&lt;/div&gt;
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_Revision_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_Revision_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_Revision_Name">Wikis - Revision</resource><resource name="Wikis_Revision_Description">Displays a wiki revision.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Wikis_History_ViewingCurrentVersion">You are currently viewing the latest version of this page.</resource><resource name="Wikis_Compare_OldRevisionMessage">You are currently reviewing an older revision of this page.</resource><resource name="Wikis_Compare_StatusMessageLink">Go to current version</resource><resource name="Wikis_Compare_RevertPage">&lt;span&gt;&lt;/span&gt;Revert to this version</resource><resource name="Wikis_Compare_DeleteRevision">&lt;span&gt;&lt;/span&gt;Delete this version</resource><resource name="Wikis_Compare_RevertPage_Confirmation">Are you sure you want to revert this page to this version?</resource><resource name="Wikis_Compare_DeleteRevision_Confirmation">Are you sure you want to delete this revision?</resource><resource name="Wikis_Compare_DeleteRevision_Complete">Revision {0} has been deleted.</resource><resource name="Wikis_Compare_DeleteRevision_Complete_Abusive">Revision {0} has been deleted. This wiki page is still considered abusive. You must still restore the page.</resource><resource name="Wikis_History_RevertPageError">An error occurred reverting the page, please try again.</resource></language></languageResources>
		<requiredContext>
			<context id="438f4b20be39493c908f292b4592f6fc" />
		</requiredContext>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQsIGdsb2JhbCkgewoKCXZhciBXaWtpU2VydmljZSA9IChmdW5jdGlvbigpewoJCXJldHVybiB7CgkJCWRlbGV0ZVJldmlzaW9uOiBmdW5jdGlvbih3aWtpSWQsIHBhZ2VJZCwgcmV2aXNpb25JZCkgewoJCQkJcmV0dXJuICQudGVsbGlnZW50LmV2b2x1dGlvbi5kZWwoewoJCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3dpa2lzL3tXaWtpSWR9L3BhZ2VzL3tQYWdlSWR9L3JldmlzaW9ucy97UmV2aXNpb25OdW1iZXJ9Lmpzb24nLAoJCQkJCWRhdGE6IHsKCQkJCQkJV2lraUlkOiB3aWtpSWQsCgkJCQkJCVBhZ2VJZDogcGFnZUlkLAoJCQkJCQlSZXZpc2lvbk51bWJlcjogcmV2aXNpb25JZAoJCQkJCX0KCQkJCX0pOwoJCQl9CgkJfQoJfSkoKTsKCgl2YXIgaGFuZGxlUmV2ZXJ0ID0gZnVuY3Rpb24oY29udGV4dCkgewoJCQlpZiAoIWNvbmZpcm0oY29udGV4dC5yZXZlcnRQYWdlQ29uZmlybWF0aW9uVGV4dCkpIHsKCQkJCXJldHVybiBmYWxzZTsKCQkJfQoKCQkJY29udGV4dC5yZXZlcnRQYWdlQnV0dG9uLmFkZENsYXNzKCdwcm9jZXNzaW5nJyk7CgoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucHV0KHsKCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3dpa2lzL3BhZ2VzL3tQYWdlSWR9Lmpzb24nLAoJCQkJZGF0YTogewoJCQkJCVBhZ2VJZDogY29udGV4dC5wYWdlSWQsCgkJCQkJVGl0bGU6IGNvbnRleHQucGFnZVJldmlzaW9uVGl0bGUsCgkJCQkJQm9keTogY29udGV4dC5wYWdlUmV2aXNpb25Cb2R5LAoJCQkJCVRhZ3M6IGNvbnRleHQucGFnZVJldmlzaW9uVGFncwoJCQkJfSwKCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJY29udGV4dC5yZXZlcnRQYWdlQnV0dG9uLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7CgkJCQkJZ2xvYmFsLmxvY2F0aW9uID0gY29udGV4dC5wYWdlVXJsOwoJCQkJfSwKCQkJCWRlZmF1bHRFcnJvck1lc3NhZ2U6IGNvbnRleHQucHJvY2Vzc2luZ0Vycm9yVGV4dCwKCQkJCWVycm9yOiBmdW5jdGlvbih4aHIsIGRlc2MpIHsKCQkJCQljb250ZXh0LnJldmVydFBhZ2VCdXR0b24ucmVtb3ZlQ2xhc3MoJ3Byb2Nlc3NpbmcnKTsKCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2Mse3R5cGU6J2Vycm9yJ30pOwoJCQkJfQoJCQl9KTsKCQl9LAoJCWRlbGV0ZVJldmlzaW9uID0gZnVuY3Rpb24oY29udGV4dCkgewoJCQlyZXR1cm4gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7CgkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi93aWtpcy97V2lraUlkfS9wYWdlcy97UGFnZUlkfS9yZXZpc2lvbnMve1JldmlzaW9uTnVtYmVyfS5qc29uJywKCQkJCWRhdGE6IHsKCQkJCQlXaWtpSWQ6IGNvbnRleHQud2lraUlkLAoJCQkJCVBhZ2VJZDogY29udGV4dC5wYWdlSWQsCgkJCQkJUmV2aXNpb25OdW1iZXI6IGNvbnRleHQucmV2aXNpb25JZAoJCQkJfQoJCQl9KTsKCQl9CgkJaGFuZGxlRGVsZXRlID0gZnVuY3Rpb24oY29udGV4dCkgewoJCQlpZihjb25maXJtKGNvbnRleHQuZGVsZXRlUmV2aXNpb25Db25maXJtYXRpb25UZXh0KSkgewoJCQkJV2lraVNlcnZpY2UuZGVsZXRlUmV2aXNpb24oY29udGV4dC53aWtpSWQsIGNvbnRleHQucGFnZUlkLCBjb250ZXh0LnJldmlzaW9uSWQpLmRvbmUoZnVuY3Rpb24oKXsKCQkJCQl2YXIgZGVsZXRpb25Db25maXJtYXRpb25UZXh0ID0gY29udGV4dC5kZWxldGVSZXZpc2lvbkNvbXBsZXRlVGV4dC5yZXBsYWNlKC9cezBcfS9naSwgY29udGV4dC5yZXZpc2lvbklkKTsKCQkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlbGV0aW9uQ29uZmlybWF0aW9uVGV4dCwgewoJCQkJCQl0eXBlOiAnc3VjY2VzcycsCgkJCQkJCWR1cmF0aW9uOiA1MDAwLAoJCQkJCQljYWxsYmFjazogZnVuY3Rpb24oKSB7CgkJCQkJCQlnbG9iYWwubG9jYXRpb24gPSBjb250ZXh0LnBhZ2VVcmw7CgkJCQkJCX0KCQkJCQl9KTsKCQkJCX0pOwoJCQl9CgkJfTsKCgl2YXIgYXBpID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7CgkJCWNvbnRleHQucmV2ZXJ0UGFnZUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQloYW5kbGVSZXZlcnQoY29udGV4dCk7CgkJCX0pOwoJCQljb250ZXh0LmRlbGV0ZVJldmlzaW9uQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJaGFuZGxlRGVsZXRlKGNvbnRleHQpOwoJCQl9KTsKCQl9Cgl9OwoKCSQudGVsbGlnZW50ID0gJC50ZWxsaWdlbnQgfHwge307CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24gfHwge307CgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzIHx8IHt9OwoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMucmV2aXNpb24gPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5yZXZpc2lvbiB8fCBhcGk7Cgp9KShqUXVlcnksIHdpbmRvdyk7</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_SearchResultList_Name}" version="7.5.0.32466" description="${resource:Core_SearchResultList_Description}" instanceIdentifier="46ece83160e84ca58a06c153e9f4719d" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="search-result-list">
		<contentScript>
## date ranges
#set ($dateFormat = "yyyy'-'MM'-'dd'T'HH':'mm':'ss")
#set ($currentDate = $core_v2_language.FormatDate($core_v2_utility.CurrentDate, $dateFormat))
#set ($weekAgoDate = $core_v2_language.FormatDate($core_v2_utility.CurrentDate.AddDays(-7), $dateFormat))
#set ($monthAgoDate = $core_v2_language.FormatDate($core_v2_utility.CurrentDate.AddMonths(-1), $dateFormat))
#set ($yearAgoDate = $core_v2_language.FormatDate($core_v2_utility.CurrentDate.AddYears(-1), $dateFormat))

$!core_v2_page.RedirectToHashedQuery()

## configuration can specify a default forum to ask a question
#set ($defaultAskForumId = 0)
#set ($defaultAskForum = $core_v2_page.ParseQueryString($core_v2_widget.GetStringValue('defaultAskForum', '')))
#if ($defaultAskForum.Value('Forum'))
	#set ($defaultAskForumId = $core_v2_utility.ParseInt($defaultAskForum.Value('Forum')))
	#if ($defaultAskForumId &amp;&amp; !$core_v2_nodePermission.Get('forums', $defaultAskForumId, 'Forum_CreatePost').IsAllowed)
		#set ($defaultAskForumId = 0)
	#end
#end

#registerEndOfPageHtml('telligent.evolution.widgets.searchResultsList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;style type="text/css"&gt;
	.search-result-list .breadcrumb-item a {
		background-image: url($core_v2_widget.GetFileUrl('tagarrows.png'));
		}
	&lt;/style&gt;
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.searchResultsList.register({
				wrapperId : '$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
				contentWrapper: '$core_v2_encoding.JavascriptEncode("#$core_v2_widget.WrapperElementId div.content-fragment-content")',
				searchUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl("search.vm"))',
				askFormUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl("askform-callback.vm"))',
				detailsUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl("details.vm"))',
				searchRssUrl: '$core_v2_encoding.JavascriptEncode($core_v2_urls.SearchRss("QUERY"))',
				currentDate: '$core_v2_encoding.JavascriptEncode($currentDate)',
				weekAgoDate: '$core_v2_encoding.JavascriptEncode($weekAgoDate)',
				monthAgoDate: '$core_v2_encoding.JavascriptEncode($monthAgoDate)',
				yearAgoDate: '$core_v2_encoding.JavascriptEncode($yearAgoDate)',
				filters: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId) div.search-filter',
				tags: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId) div.breadcrumb-list-wrapper',
				searchTextInput: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('searchTextInput'))',
				searchSubmitInput: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('searchSubmitInput'))',
				searchSortSelect: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('searchSortSelect'))',
				resultHolder: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('resultHolder'))',
				askFormLink: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('askFormLink'))',
				askFormWrapper: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('askFormWrapper'))',
				askBody: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('askBody'))',
				askTitle: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('askTitle'))',
				askForum: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('askForum'))',
				askSubmit: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('askSubmit'))',
				rssLink: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('subscribeToRss'))',
				defaultAskForumId: $defaultAskForumId,
				viewMoreText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Core_SearchResults_ViewMore'))',
				searchRssTitle: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('SearchResults_RSS_Title'))',
				pageIndexQueryStringKey: '$core_v2_encoding.JavascriptEncode($core_v2_ui.PageIndexQueryStringKey)'
			});
			$(document).keypress(function(event){
				if (event.keyCode == 13){ return false;} 
			});
		});
	&lt;/script&gt;
#end
&lt;div id="$core_v2_widget.UniqueId('resultHolder')" style="display:none"&gt;&lt;/div&gt;

	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_SearchResultList_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_SearchResultList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="pageSize" resourceName="Core_SearchResults_PageSize_Name" descriptionResourceName="Core_SearchResults_PageSize_Description" dataType="int" defaultValue="10"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="1000" /&gt;
	&lt;/property&gt;
	&lt;property id="defaultAskForum" resourceName="Core_SearchResults_DefaultForum_Name" descriptionResourceName="Core_SearchResults_DefaultForum_Description" dataType="custom" defaultValue="" controlType="Telligent.Evolution.Discussions.Controls.ForumSelectionControl, Telligent.Evolution.Discussions" enableGroupSelection="false" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Core_SearchResultList_Name">Search Result List</resource><resource name="Core_SearchResultList_Description">Displays a list of results for a particular search.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Core_SearchResults_DefaultForum_Name">Forum to target when asking for help</resource><resource name="Core_SearchResults_DefaultForum_Description">This forum will be added to the list of related forums (if any) in a search query.</resource><resource name="Core_SearchResults_PageSize_Name">Search Results/Page</resource><resource name="Core_SearchResults_PageSize_Description">The number of posts to display when searching.</resource><resource name="Core_SearchResults_ViewMore">Show more ({0})</resource><resource name="SearchResults_RSS_Title">Search Results</resource><resource name="Core_SearchResults_Ask_Body">Not finding what you’re looking for? Let’s get you an answer.</resource><resource name="Core_SearchResults_Ask_Title">Give your question a great title:</resource><resource name="Core_SearchResults_Ask_BodyLegend">One or two paragraphs work best.</resource><resource name="Core_SearchResults_Ask_BodyPlaceholder">Ask your question here.</resource><resource name="Core_SearchResults_Ask_TitlePlaceholder">What? Where? When? Why? How?</resource><resource name="Core_SearchResults_Ask_Forum">Pick a place to ask your question:</resource><resource name="Core_SearchResults_Ask_Continue">Continue</resource><resource name="Core_SearchResults_Group">Group</resource><resource name="Core_SearchResults_Groups">Groups</resource><resource name="Core_SearchResults_Friend">friend</resource><resource name="Core_SearchResults_Friends">friends</resource><resource name="Core_SearchResults_In">In</resource><resource name="Core_SearchResults_In_LowerCase">in</resource><resource name="Core_SearchResults_Member">member</resource><resource name="Core_SearchResults_Members">members</resource><resource name="Core_SearchResults_Page">page</resource><resource name="Core_SearchResults_Pages">pages</resource><resource name="Core_SearchResults_View">view</resource><resource name="Core_SearchResults_Views">views</resource><resource name="Core_SearchResults_Revision">revision</resource><resource name="Core_SearchResults_Revisions">revisions</resource><resource name="Core_SearchResults_Latest">Latest: </resource><resource name="Core_SearchResults_Post">post</resource><resource name="Core_SearchResults_Posts">posts</resource><resource name="Core_SearchResults_Today">Today</resource><resource name="Core_SearchResults_ThisMonth">This Month</resource><resource name="Core_SearchResults_LastMonth">Last Month</resource><resource name="Core_SearchResults_ThisYear">This Year</resource><resource name="Core_SearchResults_MoreThanYearAgo">More than a Year ago</resource><resource name="Core_SearchResults_By">By </resource><resource name="Core_SearchResults_Comment">comment</resource><resource name="Core_SearchResults_Comments">comments</resource><resource name="Core_SearchResults_Discussion">discussion</resource><resource name="Core_SearchResults_Discussions">discussions</resource><resource name="Core_SearchResults_Reply">reply</resource><resource name="Core_SearchResults_Replies">replies</resource><resource name="Core_SearchResults_File">File</resource><resource name="Core_SearchResults_Files">Files</resource><resource name="Core_SearchResults_Download">download</resource><resource name="Core_SearchResults_Downloads">downloads</resource><resource name="Core_SearchResults_Blogs">Blogs</resource><resource name="Core_SearchResults_Wikis">Wikis</resource><resource name="Core_SearchResults_Forums">Forums</resource><resource name="Core_SearchResults_People">People</resource><resource name="Core_SearchResults_Results">Results</resource><resource name="Core_SearchResults_Narrow">Narrow Your Search</resource><resource name="Core_SearchResults_Everywhere">Everywhere</resource><resource name="Core_SearchResults_TopGroups">Top Groups</resource><resource name="Core_SearchResults_AllGroups">All Groups</resource><resource name="Core_SearchResults_TopAuthors">Authors</resource><resource name="Core_SearchResults_AllAuthors">All Authors</resource><resource name="Core_SearchResults_Tags">Tags</resource><resource name="Core_SearchResults_AllTags">All Tags</resource><resource name="Core_SearchResults_Dates">Dates</resource><resource name="Core_SearchResults_AllDates">All Dates</resource><resource name="Core_SearchResults_SortBy">Sort By</resource><resource name="Core_SearchResults_MostRelevant">Most Relevant</resource><resource name="Core_SearchResults_MostRecent">Most Recent</resource><resource name="Core_SearchResults_Alphabetical">Alphabetical</resource><resource name="Core_SearchResults_HighestRating">Highest Rating</resource><resource name="SearchResults_RSS">Subscribe via RSS</resource><resource name="Core_SearchResults_FilterBy">Filter By</resource><resource name="SearchResults_Category_Forum">Forum</resource><resource name="Status_SuggestedAnswer">Suggested Answer</resource><resource name="Status_VerifiedAnswer">Verified Answer</resource><resource name="Status_NotAnswered">Not Answered</resource><resource name="Core_SearchResults_NoResultsLink">Not what you're looking for?</resource><resource name="Core_SearchResults_NoResults">
    	&lt;p&gt;&lt;strong&gt;We couldn’t find anything that matches your search.&lt;/strong&gt;&lt;/p&gt;
    	&lt;p&gt;You can try using different terms in the above search box.&lt;/p&gt;
  	</resource><resource name="Core_SearchResults_NoResults_WithForm">
    	&lt;p&gt;&lt;strong&gt;We couldn’t find anything that matches your search.&lt;/strong&gt;&lt;/p&gt;
    	&lt;p&gt;You can try using different terms in the above search box, or else submit a question below for everyone to enjoy.&lt;/p&gt;
  	</resource><resource name="Core_SearchResults_all_time">All Time</resource><resource name="Core_SearchResults_past_week">Past Week</resource><resource name="Core_SearchResults_past_month">Past Month</resource><resource name="Core_SearchResults_past_year">Past Year</resource><resource name="Core_SearchResultList_Title_AdvancedResults">Advanced Results</resource></language></languageResources>
		<files>
			<file name="askform-callback.vm">IyMgY2FwdHVyZSBkYXRhIHJlbGF0ZWQgdG8gdGhlIHNlYXJjaCByZXN1bHRzJyBpbml0aWFsIHF1ZXJ5IChtaW51cyBhbnkgY2F0ZWdvcnkgc2luY2Ugd2Ugd2FudCB0byBvbmx5IGdldCBmb3J1bXMpCiNzZXQgKCRxdWVyeSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19xdWVyeScpKQojc2V0ICgkY2F0ZWdvcnlsZXNzRmlsdGVycyA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19maWVsZEZpbHRlcnMnKSkKI3NldCAoJGRhdGVGaWx0ZXJzID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2RhdGVSYW5nZUZpbHRlcnMnKSkKI3NldCAoJGRlZmF1bHRBc2tGb3J1bUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZGVmYXVsdEFza0ZvcnVtSWQnKSkpCiMjIHNob3cgdGhlIGFzayBmb3JtIHVzaW5nIHRoZSBwYXJhbWV0ZXJzIHBhc3NlZCB2aWEgQUpBWAokY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ2Fza2Zvcm0udm0nKQo=</file>
			<file name="askform.vm">IyMKIyMgRGlzcGxheXMgYSBmb3JtIGFsbG93aW5nIHRoZSB1c2VyIHRvIHBvc3QgYSBxdWVzdGlvbiB0byBhIGZvcnVtCiMjCgojIyBuZWVkcyB0byBmaXJzdCBnZXQgYSBsaXN0IG9mIHJlbGF0ZWQgZm9ydW1zCiMjIGRvZXMgdGhpcyBieSByZS1zZWFyY2hpbmcgdGhlIHBhcmVudCBzZWFyY2ggcGFnZSdzIHF1ZXJ5LCBtaW51cyBhbnkgY2hvc2VuIGNhdGVnb3J5LCArIGEgZm9ydW1hcHAgY2F0ZWdvcnkKCiMjIGNvbWJpbmUgdGhlIGNhdGVnb3J5bGVzcyBmaWVsZCBmaWx0ZXJzIHdpdGggYSBmb3J1bSBjYXRlZ29yeQojaWYgKCRjYXRlZ29yeWxlc3NGaWx0ZXJzLmxlbmd0aCA+IDApCgkjc2V0ICgkY2F0ZWdvcnlsZXNzRmlsdGVycyA9ICIke2NhdGVnb3J5bGVzc0ZpbHRlcnN9fHwiKQojZW5kCiNzZXQgKCRjYXRlZ29yeWxlc3NGaWx0ZXJzID0gIiR7Y2F0ZWdvcnlsZXNzRmlsdGVyc305OSxjYXRlZ29yeSxmb3J1bSIpCiMjIGFsc28gZ3JhYiB0aGUgZmFjZXQgY291bnRzIGZvciBzZWN0aW9ucywKIyMgd2hpY2ggd291bGQgdGhlbiBiZSB1c2FibGUgYXMgdGhlIGxpc3Qgb2YgcmVsYXRlZCBmb3J1bSBpZHMgc2luY2UKIyMgYWxsIHJlc3VsdHMgYXJlIG9mIGZvcnVtIGNhdGVnb3J5CiNzZXQgKCRmaWVsZEZhY2V0cyA9ICJzZWN0aW9uLGNvdW50LDUsMCwxIikKCiMjIC4uLmFuZCBxdWVyeSBmb3IgdG9wIDUgcmVsYXRlZCBmb3J1bXMKI3NldCAoJHJlbGF0ZWRGb3J1bXNRdWVyeSA9ICIle30iKQokcmVsYXRlZEZvcnVtc1F1ZXJ5LkFkZCgiUXVlcnkiLCAkcXVlcnkpCiRyZWxhdGVkRm9ydW1zUXVlcnkuQWRkKCJQYWdlU2l6ZSIsIDEpCiRyZWxhdGVkRm9ydW1zUXVlcnkuQWRkKCJQYWdlSW5kZXgiLCAwKQokcmVsYXRlZEZvcnVtc1F1ZXJ5LkFkZCgiRmllbGRGaWx0ZXJzIiwgJGNhdGVnb3J5bGVzc0ZpbHRlcnMpCiRyZWxhdGVkRm9ydW1zUXVlcnkuQWRkKCJGaWVsZEZhY2V0cyIsICRmaWVsZEZhY2V0cykKJHJlbGF0ZWRGb3J1bXNRdWVyeS5BZGQoIkRhdGVSYW5nZUZpbHRlcnMiLCAkZGF0ZUZpbHRlcnMpCiNzZXQgKCRyZWxhdGVkRm9ydW1TZWFyY2hSZXN1bHRzID0gJGNvcmVfdjJfc2VhcmNoUmVzdWx0Lkxpc3QoJHJlbGF0ZWRGb3J1bXNRdWVyeSkpCgojIyBnZXQgdGhlIGRlZmF1bHQgZm9ydW0KI3NldCAoJGRlZmF1bHRGb3J1bSA9IGZhbHNlKQojaWYgKCRkZWZhdWx0QXNrRm9ydW1JZCA+IDApCgkjc2V0ICgkZGVmYXVsdEZvcnVtID0gJGNvcmVfdjJfZm9ydW0uR2V0KCRkZWZhdWx0QXNrRm9ydW1JZCkpCiNlbmQKCiMjIGlmIHRoZXJlIHdlcmUgbm8gcmVsYXRlZCBmb3J1bXMgb3IgZGVmYXVsdCBmb3J1bSBzcGVjaWZpZWQsIGRvbid0IHNob3cgdGhpcyBmb3JtCiNpZiAoJGRlZmF1bHRGb3J1bSkKCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtaGVhZGVyIj48L2Rpdj4KCTxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCBhc2tmb3JtIj4KCQk8dWwgY2xhc3M9ImZpZWxkLWxpc3QiPgoJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gYm9keSI+CgkJCQk8bGFiZWwgZm9yPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYXNrQm9keScpKSIgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX0Fza19Cb2R5Jyk8L2xhYmVsPgoJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tZGVzY3JpcHRpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1NlYXJjaFJlc3VsdHNfQXNrX0JvZHlMZWdlbmQnKTwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4KCQkJCSAgICA8dGV4dGFyZWEgcGxhY2Vob2xkZXI9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19Bc2tfQm9keVBsYWNlaG9sZGVyJykpIiBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Fza0JvZHknKSkiIG5hbWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdhc2tCb2R5JykpIiByb3dzPSI0Ij48L3RleHRhcmVhPgoJCQkJPC9zcGFuPgoJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPjwvc3Bhbj4KCQkJPC9saT4KCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHRpdGxlIj4KCQkJCTxsYWJlbCBmb3I9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdhc2tUaXRsZScpKSIgY2xhc3M9ImZpZWxkLWl0ZW0taGVhZGVyIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX0Fza19UaXRsZScpPC9sYWJlbD4KCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWRlc2NyaXB0aW9uIj48L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1pbnB1dCI+CgkJCQkJPHRleHRhcmVhIHBsYWNlaG9sZGVyPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1NlYXJjaFJlc3VsdHNfQXNrX1RpdGxlUGxhY2Vob2xkZXInKSkiIGlkPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYXNrVGl0bGUnKSkiIG5hbWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdhc2tUaXRsZScpKSIgLz4KCQkJCTwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLXZhbGlkYXRpb24iIHN0eWxlPSJkaXNwbGF5Om5vbmU7Ij48L3NwYW4+CgkJCTwvbGk+CgkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBmb3J1bSI+CgkJCQk8bGFiZWwgZm9yPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYXNrRm9ydW0nKSkiIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19Bc2tfRm9ydW0nKTwvbGFiZWw+CgkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS1kZXNjcmlwdGlvbiI+PC9zcGFuPgoJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPgoJCQkJCTxzZWxlY3QgaWQ9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdhc2tGb3J1bScpKSIgbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Fza0ZvcnVtJykpIj4KCQkJCQkJIyMgZGlzcGxheSBhbGwgcmVsYXRlZCBmb3J1bXMKCQkJCQkJI3NldCAoJHJlbGF0ZWRGb3J1bXNDb3VudCA9IDApCgkJCQkJCSNmb3JlYWNoICgkcmVsYXRlZEZvcnVtRmFjZXQgaW4gJHJlbGF0ZWRGb3J1bVNlYXJjaFJlc3VsdHMuRmllbGRGYWNldHMpCgkJCQkJCQkjc2V0ICgkcmVsYXRlZEZvcnVtID0gZmFsc2UpCgkJCQkJCQkjc2V0ICgkcmVsYXRlZEZvcnVtID0gJGNvcmVfdjJfZm9ydW0uR2V0KCRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJHJlbGF0ZWRGb3J1bUZhY2V0LkZpZWxkVmFsdWUpKSkKCQkJCQkJCSNpZiAoJHJlbGF0ZWRGb3J1bSkKCQkJCQkJCQkjc2V0ICgkcmVsYXRlZEZvcnVtc0NvdW50ID0gJHJlbGF0ZWRGb3J1bXNDb3VudCArIDEpCgkJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iJHJlbGF0ZWRGb3J1bS5JZCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19JbicpICRyZWxhdGVkRm9ydW0uTmFtZSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX0luX0xvd2VyQ2FzZScpICRyZWxhdGVkRm9ydW0uR3JvdXAuTmFtZTwvb3B0aW9uPgoJCQkJCQkJI2VuZAoJCQkJCQkjZW5kCgkJCQkJCSMjIGFkZCBpbiB0aGUgZGVmYXVsdCBmb3J1bSBpZiB0aGVyZSB3ZXJlIG5vIG90aGVyIHJlbGF0ZWQgZm9ydW1zCgkJCQkJCSNpZiAoJHJlbGF0ZWRGb3J1bXNDb3VudCA9PSAwKQoJCQkJCQkJPG9wdGlvbiB2YWx1ZT0iJGRlZmF1bHRGb3J1bS5JZCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19JbicpICRkZWZhdWx0Rm9ydW0uTmFtZSAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX0luX0xvd2VyQ2FzZScpICRkZWZhdWx0Rm9ydW0uR3JvdXAuTmFtZTwvb3B0aW9uPgoJCQkJCQkjZW5kCgkJCQkJPC9zZWxlY3Q+CgkJCQk8L3NwYW4+CgkJCQk8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTpub25lOyI+PC9zcGFuPgoJCQk8L2xpPgoJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gc3VibWl0Ij4KCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4KCQkJCQk8YSBpZD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Fza1N1Ym1pdCcpKSIgaHJlZj0iIyIgY2xhc3M9ImludGVybmFsLWxpbmsgYWRkLXBvc3QgZGlzYWJsZWQiPgoJCQkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19Bc2tfQ29udGludWUnKQoJCQkJCTwvYT4KCQkJCTwvc3Bhbj4KCQkJPC9saT4KCQk8L3VsPgoJPC9maWVsZHNldD4KCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4KI2VuZAo=</file>
			<file name="narrow.png">iVBORw0KGgoAAAANSUhEUgAAABkAAAAOCAMAAADt5EdyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjVDQ0VGNUI0NEJBMTExRTA4MUEwQ0Q3MDhBRjcxREZEIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVDQ0VGNUIzNEJBMTExRTA4MUEwQ0Q3MDhBRjcxREZEIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MDExNzQwNzIwNjgxMTk4NERGNkQ5QjNBOEY1RUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkU3RjExNzQwNzIwNjgxMThDMTQ4QjFEOTVGRTI5QkUiLz4gPGRjOnRpdGxlPiA8cmRmOkFsdD4gPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5TZWFyY2hfc3BlY19yNDwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+wKTsWwAAAHVQTFRF////5ubm5+fnz8/P6Ojo2dnZzs7Ozc3N4eHh0tLS3Nzc4uLi1dXV+fn56+vr0dHR8/Pz/f397+/v3t7e19fX29vb4+Pj/Pz81NTU9/f32tra+vr61tbW9vb27Ozs8fHx4ODg2NjY39/f5OTk9fX10NDQ5eXl7waqIgAAAIRJREFUeNpsy1cSgzAUQ1H5ueBGr6mk73+JGVIN+Pxp7gi2IxZBHSR3kUSaA0xdV0nohABo/lgkcVEZJjZnsyRqdXwFlHIIi7Cqwkfvm3+ilo/4SY38JpK8QOBwb8U7nM0NM4Wqpxc1ZoOFKjkRkfcpVrLE0bDfIYJ4LntEuW0ZrKcAAwCk4wUdLZqSZwAAAABJRU5ErkJggg==</file>
			<file name="search.png">iVBORw0KGgoAAAANSUhEUgAAACkAAAAYCAMAAABQmCTMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA/BpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ1dWlkOjY1RTYzOTA2ODZDRjExREJBNkUyRDg4N0NFQUNCNDA3IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjVDQ0VGNUI4NEJBMTExRTA4MUEwQ0Q3MDhBRjcxREZEIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjVDQ0VGNUI3NEJBMTExRTA4MUEwQ0Q3MDhBRjcxREZEIiB4bXA6Q3JlYXRvclRvb2w9IkFkb2JlIFBob3Rvc2hvcCBDUzUgTWFjaW50b3NoIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6MDE4MDExNzQwNzIwNjgxMTk4NERGNkQ5QjNBOEY1RUIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6RkU3RjExNzQwNzIwNjgxMThDMTQ4QjFEOTVGRTI5QkUiLz4gPGRjOnRpdGxlPiA8cmRmOkFsdD4gPHJkZjpsaSB4bWw6bGFuZz0ieC1kZWZhdWx0Ij5TZWFyY2hfc3BlY19yNDwvcmRmOmxpPiA8L3JkZjpBbHQ+IDwvZGM6dGl0bGU+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+FWrVUQAAAIdQTFRF8vLy9PT08/PzyMjI2tra4+PjysrKy8vLzMzMycnJ1dXVz8/P7u7u7Ozs2dnZ0tLS5+fn9fX16enp39/f6+vr19fX4uLi3t7ezs7O8fHx2NjY6urq5OTk6Ojo5eXl29vb1NTU4ODg7e3t0NDQzc3N3Nzc7+/v8PDw0dHR5ubmxsbG09PTx8fHuy2+ggAAAOJJREFUeNq808lywjAMAFBJDpKX7AkJ+9Kyw/9/H5l2BhjqOrm0PkpvJNuyAf5hESL9lnlNECXL8oBemeTxk1I808yTFnxl00uDT3hSepOxiXwyUqOHxEhlNcBiZ1YYlBRPdFkAFZUaU1gm+vOr9FyyKfVId+wE5nzt2ec0M1WBCFa1Rc+JFixRvrLsRnGwe9e/EmWMEScphiVQud7YbSOiawxL6Kbezdcyz6hHfvOlaClxgAQaM/+4fK/EuRbJ3+LprfHMGFNm+xZr3dkjqdbGJTTk6eN+/TH4m9Dff8W7AAMAzsQJV7AqVKsAAAAASUVORK5CYII=</file>
			<file name="search.vm">IyMNCiMjIEFqYXggQ2FsbGJhY2sgd2hpY2ggUGVyZm9ybXMgYSBTaXRlIFNlYXJjaA0KIyMNCg0KIyMgZ2V0IGFsbCB0aGUgcGFyYW1ldGVycyBmb3Igc2VhcmNoaW5nDQojc2V0ICgkcXVlcnkgPSAnJykNCiNzZXQgKCRxdWVyeSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19xJykpDQojc2V0ICgkZ3JvdXBGaWx0ZXIgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZ3JvdXAnKSkNCiNzZXQgKCRjYXRlZ29yeUZpbHRlciA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19jYXRlZ29yeScpKQ0KI3NldCAoJHRhZ0ZpbHRlciA9ICRjb3JlX3YyX2VuY29kaW5nLkh0bWxFbmNvZGUoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3RhZycpKSkNCiNzZXQgKCR1c2VyRmlsdGVyID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2F1dGhvcicpKQ0KI3NldCAoJGRhdGVSYW5nZUZpbHRlciA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19kYXRlJykpDQojc2V0ICgkc29ydCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19zb3J0JykpDQojc2V0ICgkZGF0ZSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19kYXRlJykpDQojc2V0ICgkY29sbGFwc2UgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfY29sbGFwc2UnKSkNCiNzZXQgKCRwYWdlU2l6ZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRJbnRWYWx1ZSgncGFnZVNpemUnLCAxMCkpDQojc2V0ICgkcGFnZUluZGV4ID0gJGNvcmVfdjJfdWkuR2V0Q3VycmVudFBhZ2VJbmRleCgpKQ0KI3NldCAoJGRlZmF1bHRBc2tGb3J1bUlkID0gZmFsc2UpDQojc2V0ICgkZGVmYXVsdEFza0ZvcnVtSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19kZWZhdWx0QXNrRm9ydW1JZCcpKSkNCg0KI2lmICghJGRlZmF1bHRBc2tGb3J1bUlkIHx8ICRkZWZhdWx0QXNrRm9ydW1JZCA9PSAwKQ0KCSNzZXQgKCRkZWZhdWx0QXNrRm9ydW0gPSAkY29yZV92Ml9wYWdlLlBhcnNlUXVlcnlTdHJpbmcoJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdkZWZhdWx0QXNrRm9ydW0nLCAnJykpKQ0KCSNpZiAoJGRlZmF1bHRBc2tGb3J1bS5WYWx1ZSgnRm9ydW0nKSkNCgkJI3NldCAoJGRlZmF1bHRBc2tGb3J1bUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkZGVmYXVsdEFza0ZvcnVtLlZhbHVlKCdGb3J1bScpKSkNCgkjZW5kDQojZW5kDQoNCiNpZiAoJGRlZmF1bHRBc2tGb3J1bUlkICYmICRkZWZhdWx0QXNrRm9ydW1JZCA+IDAgJiYgISRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgnZm9ydW1zJywgJGRlZmF1bHRBc2tGb3J1bUlkLCAnRm9ydW1fQ3JlYXRlUG9zdCcpLklzQWxsb3dlZCkNCgkjc2V0ICgkZGVmYXVsdEFza0ZvcnVtSWQgPSAwKQ0KI2VuZA0KDQojIyB0aGVzZSBwYXJhbWV0ZXJzIGNvbnRyb2wgaG93IG1hbnkgb2YgZWFjaCBvZiB0aGUgbGVmdCBmaWx0ZXIgY2F0ZWdvcmllcyB0byBoYXZlIHByZS1yZXZlYWxlZCAocHJldmlvdXNseSBoYWQgY2xpY2tlZCAnVmlldyBNb3JlJykNCiNzZXQgKCRkZWZhdWx0VmlzaWJsZUZpbHRlcnMgPSAzKQ0KI3NldCAoJGdyb3VwVmlzaWJsZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2dyb3VwVmlzaWJsZScpKSkNCiNzZXQgKCR0YWdWaXNpYmxlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfdGFnVmlzaWJsZScpKSkNCiNzZXQgKCR1c2VyVmlzaWJsZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2F1dGhvclZpc2libGUnKSkpDQojaWYgKCRncm91cFZpc2libGUgPT0gMCkNCgkjc2V0ICgkZ3JvdXBWaXNpYmxlID0gJGRlZmF1bHRWaXNpYmxlRmlsdGVycykNCiNlbmQNCiNpZiAoJHRhZ1Zpc2libGUgPT0gMCkNCgkjc2V0ICgkdGFnVmlzaWJsZSA9ICRkZWZhdWx0VmlzaWJsZUZpbHRlcnMpDQojZW5kDQojaWYgKCR1c2VyVmlzaWJsZSA9PSAwKQ0KCSNzZXQgKCR1c2VyVmlzaWJsZSA9ICRkZWZhdWx0VmlzaWJsZUZpbHRlcnMpDQojZW5kDQoNCiMjDQojIyBidWlsZCB0aGUgZmFjZXRzIGFuZCBmaWx0ZXJzIGNvbmN1cnJlbnRseQ0KIyMNCiNzZXQgKCRmYWNldHMgPSAiIikNCiNzZXQgKCRmaWx0ZXJzID0gIiIpDQojc2V0ICgkZGF0ZUZhY2V0cyA9ICIiKQ0KI3NldCAoJGRhdGVGaWx0ZXJzID0gIiIpDQojc2V0ICgkYnJlYWRDcnVtYnMgPSAiIikNCiNzZXQgKCRicmVhZENydW1iQ291bnQgPSAwKQ0KI3NldCAoJGZpbHRlckluZGV4ID0gMCkNCiNzZXQgKCRkcSA9ICciJykNCiMjIHNlcGFyYXRlIGZpbHRlciB3aXRob3V0IGNhdGVnb3JpZXMgZm9yIHVzZSBpbiBxdWVyeWluZyByZWxhdGVkIGZvcnVtcyBpbiB0aGUgYXNrIGZvcm0NCiNzZXQgKCRjYXRlZ29yeWxlc3NGaWx0ZXJzID0gIiIpDQojIyBjYXRlZ29yeQ0KI3NldCAoJGZhY2V0cyA9ICIke2ZhY2V0c31jYXRlZ29yeSxjb3VudCwxMiwwLDAiKQ0KI2lmICgkY2F0ZWdvcnlGaWx0ZXIpDQoJI3NldCAoJGZhY2V0cyA9ICIke2ZhY2V0c30hJHtmaWx0ZXJJbmRleH0iKQ0KCSNzZXQgKCRmaWx0ZXJzID0gIiR7ZmlsdGVyc30ke2ZpbHRlckluZGV4fSxjYXRlZ29yeSwkY2F0ZWdvcnlGaWx0ZXIiKQ0KDQoJI3NldCAoJGNhdGVnb3J5TmFtZSA9ICRjYXRlZ29yeUZpbHRlcikNCiAgICAjc2V0ICgkY2F0ZWdvcnkgPSBmYWxzZSkNCiAgICAjc2V0ICgkY2F0ZWdvcnkgPSAkY29yZV92Ml9zZWFyY2hDYXRlZ29yeS5HZXQoJGNhdGVnb3J5RmlsdGVyKSkNCgkjaWYgKCRjYXRlZ29yeSkNCgkgICAgI3NldCAoJGNhdGVnb3J5TmFtZSA9ICRjYXRlZ29yeS5IdG1sTmFtZSkNCgkjZW5kDQoNCgkjaWYgKCRjYXRlZ29yeU5hbWUpDQoJCSNzZXQgKCRicmVhZENydW1icyA9ICIke2JyZWFkQ3J1bWJzfTxzcGFuIHN0eWxlPSR7ZHF9ei1pbmRleDoxMDAke2RxfSBjbGFzcz0ke2RxfWJyZWFkY3J1bWItaXRlbSR7ZHF9IGRhdGEtZmlsdGVybmFtZT0ke2RxfWNhdGVnb3J5JHtkcX0gZGF0YS1maWx0ZXJ2YWx1ZT0ke2RxfSRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNhdGVnb3J5RmlsdGVyKSR7ZHF9PjxzcGFuPiRjYXRlZ29yeU5hbWU8L3NwYW4+PGEgaHJlZj0ke2RxfSMke2RxfT54PC9hPjwvc3Bhbj4iKQ0KCQkjc2V0ICgkYnJlYWRDcnVtYkNvdW50ID0gJGJyZWFkQ3J1bWJDb3VudCArIDEpDQoJI2VuZA0KCSNzZXQgKCRmaWx0ZXJJbmRleCA9ICRmaWx0ZXJJbmRleCArIDEpDQojZW5kDQojIyBvbmx5IHNob3cgdXNlciwgZ3JvdXAsIHRhZywgYW5kIGRhdGUgZmFjZXRzIGlmICJQZW9wbGUiIG9yICJHcm91cHMiIGNhdGVnb3J5IGZpbHRlciB3YXMgbm90IHNlbGVjdGVkDQojaWYgKCRjYXRlZ29yeUZpbHRlciAhPSAndXNlcicgJiYgJGNhdGVnb3J5RmlsdGVyICE9ICdncm91cCcpDQoJIyMgdXNlcg0KCSNzZXQgKCRmYWNldHMgPSAiJHtmYWNldHN9fHx1c2VyLGNvdW50LDEyLDAsMSIpDQoJI2lmICgkdXNlckZpbHRlcikNCgkJI3NldCAoJGZhY2V0cyA9ICIke2ZhY2V0c30hJHtmaWx0ZXJJbmRleH0iKQ0KCQkjaWYgKCRmaWx0ZXJzLmxlbmd0aCA+IDApDQoJCQkjc2V0ICgkZmlsdGVycyA9ICIke2ZpbHRlcnN9fHwiKQ0KCQkjZW5kDQoJCSNzZXQgKCRmaWx0ZXJzID0gIiR7ZmlsdGVyc30ke2ZpbHRlckluZGV4fSx1c2VyLCR1c2VyRmlsdGVyIikNCgkJI2lmICgkY2F0ZWdvcnlsZXNzRmlsdGVycy5sZW5ndGggPiAwKQ0KCQkJI3NldCAoJGNhdGVnb3J5bGVzc0ZpbHRlcnMgPSAiJHtjYXRlZ29yeWxlc3NGaWx0ZXJzfXx8IikNCgkJI2VuZA0KCQkjc2V0ICgkY2F0ZWdvcnlsZXNzRmlsdGVycyA9ICIke2NhdGVnb3J5bGVzc0ZpbHRlcnN9JHtmaWx0ZXJJbmRleH0sdXNlciwkdXNlckZpbHRlciIpDQoNCgkJI3NldCAoJHVzZXIgPSBmYWxzZSkNCgkJI3NldCAoJHVzZXIgPSAkY29yZV92Ml91c2VyLkdldCgiJXsgSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCR1c2VyRmlsdGVyKSB9IikpDQoJCSNpZiAoJHVzZXIpDQoJCQkjc2V0ICgkYnJlYWRDcnVtYnMgPSAiJHticmVhZENydW1ic308c3BhbiBzdHlsZT0ke2RxfXotaW5kZXg6OTkke2RxfSBjbGFzcz0ke2RxfWJyZWFkY3J1bWItaXRlbSR7ZHF9IGRhdGEtZmlsdGVybmFtZT0ke2RxfWF1dGhvciR7ZHF9IGRhdGEtZmlsdGVydmFsdWU9JHtkcX0kY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyRmlsdGVyKSR7ZHF9PjxzcGFuPkF1dGhvciAkdXNlci5EaXNwbGF5TmFtZTwvc3Bhbj48YSBocmVmPSR7ZHF9IyR7ZHF9Png8L2E+PC9zcGFuPiIpDQoJCQkjc2V0ICgkYnJlYWRDcnVtYkNvdW50ID0gJGJyZWFkQ3J1bWJDb3VudCArIDEpDQoJCSNlbmQNCgkJI3NldCAoJGZpbHRlckluZGV4ID0gJGZpbHRlckluZGV4ICsgMSkNCgkjZW5kDQoJIyMgZ3JvdXANCgkjc2V0ICgkZmFjZXRzID0gIiR7ZmFjZXRzfXx8Z3JvdXAsY291bnQsMTIsMCwxIikNCgkjaWYgKCRncm91cEZpbHRlcikNCgkJI3NldCAoJGZhY2V0cyA9ICIke2ZhY2V0c30hJHtmaWx0ZXJJbmRleH0iKQ0KCQkjaWYgKCRmaWx0ZXJzLmxlbmd0aCA+IDApDQoJCQkjc2V0ICgkZmlsdGVycyA9ICIke2ZpbHRlcnN9fHwiKQ0KCQkjZW5kDQoJCSNzZXQgKCRmaWx0ZXJzID0gIiR7ZmlsdGVyc30ke2ZpbHRlckluZGV4fSxncm91cCwkZ3JvdXBGaWx0ZXIiKQ0KCQkjaWYgKCRjYXRlZ29yeWxlc3NGaWx0ZXJzLmxlbmd0aCA+IDApDQoJCQkjc2V0ICgkY2F0ZWdvcnlsZXNzRmlsdGVycyA9ICIke2NhdGVnb3J5bGVzc0ZpbHRlcnN9fHwiKQ0KCQkjZW5kDQoJCSNzZXQgKCRjYXRlZ29yeWxlc3NGaWx0ZXJzID0gIiR7Y2F0ZWdvcnlsZXNzRmlsdGVyc30ke2ZpbHRlckluZGV4fSxncm91cCwkZ3JvdXBGaWx0ZXIiKQ0KDQoJCSNzZXQgKCRncm91cCA9IGZhbHNlKQ0KCQkjc2V0ICgkZ3JvdXAgPSAkY29yZV92Ml9ncm91cC5HZXQoIiV7IElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkZ3JvdXBGaWx0ZXIpIH0iKSkNCgkJI2lmICgkZ3JvdXApDQoJCQkjc2V0ICgkYnJlYWRDcnVtYnMgPSAiJHticmVhZENydW1ic308c3BhbiBzdHlsZT0ke2RxfXotaW5kZXg6OTgke2RxfSBjbGFzcz0ke2RxfWJyZWFkY3J1bWItaXRlbSR7ZHF9IGRhdGEtZmlsdGVybmFtZT0ke2RxfWdyb3VwJHtkcX0gZGF0YS1maWx0ZXJ2YWx1ZT0ke2RxfSRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGdyb3VwRmlsdGVyKSR7ZHF9PjxzcGFuPkdyb3VwICRncm91cC5OYW1lPC9zcGFuPjxhIGhyZWY9JHtkcX0jJHtkcX0+eDwvYT48L3NwYW4+IikNCgkJCSNzZXQgKCRicmVhZENydW1iQ291bnQgPSAkYnJlYWRDcnVtYkNvdW50ICsgMSkNCgkJI2VuZA0KCQkjc2V0ICgkZmlsdGVySW5kZXggPSAkZmlsdGVySW5kZXggKyAxKQ0KCSNlbmQNCgkjIyB0YWcNCgkjc2V0ICgkZmFjZXRzID0gIiR7ZmFjZXRzfXx8dGFnLGNvdW50LDEyLDAsMSIpDQoJI2lmICgkdGFnRmlsdGVyKQ0KCQkjc2V0ICgkcXVvdGUgPSAnIicpDQoJCSNzZXQgKCRxdW90ZWRUYWdGaWx0ZXIgPSAiJHtxdW90ZX0ke3RhZ0ZpbHRlcn0ke3F1b3RlfSIpDQoJCSNzZXQgKCRmYWNldHMgPSAiJHtmYWNldHN9ISR7ZmlsdGVySW5kZXh9IikNCgkJI2lmICgkZmlsdGVycy5sZW5ndGggPiAwKQ0KCQkJI3NldCAoJGZpbHRlcnMgPSAiJHtmaWx0ZXJzfXx8IikNCgkJI2VuZA0KCQkjc2V0ICgkZmlsdGVycyA9ICIke2ZpbHRlcnN9JHtmaWx0ZXJJbmRleH0sdGFnLCRxdW90ZWRUYWdGaWx0ZXIiKQ0KCQkjaWYgKCRjYXRlZ29yeWxlc3NGaWx0ZXJzLmxlbmd0aCA+IDApDQoJCQkjc2V0ICgkY2F0ZWdvcnlsZXNzRmlsdGVycyA9ICIke2NhdGVnb3J5bGVzc0ZpbHRlcnN9fHwiKQ0KCQkjZW5kDQoJCSNzZXQgKCRjYXRlZ29yeWxlc3NGaWx0ZXJzID0gIiR7Y2F0ZWdvcnlsZXNzRmlsdGVyc30ke2ZpbHRlckluZGV4fSx0YWcsJHF1b3RlZFRhZ0ZpbHRlciIpDQoNCgkJI3NldCAoJGJyZWFkQ3J1bWJzID0gIiR7YnJlYWRDcnVtYnN9PHNwYW4gc3R5bGU9JHtkcX16LWluZGV4Ojk3JHtkcX0gY2xhc3M9JHtkcX1icmVhZGNydW1iLWl0ZW0ke2RxfSBkYXRhLWZpbHRlcm5hbWU9JHtkcX10YWcke2RxfSBkYXRhLWZpbHRlcnZhbHVlPSR7ZHF9JGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdGFnRmlsdGVyKSR7ZHF9PjxzcGFuPlRhZyAkdGFnRmlsdGVyPC9zcGFuPjxhIGhyZWY9JHtkcX0jJHtkcX0+eDwvYT48L3NwYW4+IikNCgkJI3NldCAoJGZpbHRlckluZGV4ID0gJGZpbHRlckluZGV4ICsgMSkNCgkJI3NldCAoJGJyZWFkQ3J1bWJDb3VudCA9ICRicmVhZENydW1iQ291bnQgKyAxKQ0KCSNlbmQNCg0KCSMjIGRhdGUgcmFuZ2VzDQoJI3NldCAoJGRhdGVGb3JtYXQgPSAieXl5eSctJ01NJy0nZGQnVCdISCc6J21tJzonc3MiKQ0KCSNzZXQgKCRtaW5EYXRlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZURhdGUoJzAwMDEtMDEtMDEnKSkNCgkjc2V0ICgkY3VycmVudERhdGUgPSAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRjb3JlX3YyX3V0aWxpdHkuQ3VycmVudERhdGUsICRkYXRlRm9ybWF0KSkNCgkjc2V0ICgkbWluaW11bURhdGUgPSAkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRtaW5EYXRlLCAkZGF0ZUZvcm1hdCkpDQoJI3NldCAoJHdlZWtBZ29EYXRlID0gJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkY29yZV92Ml91dGlsaXR5LkN1cnJlbnREYXRlLkFkZERheXMoLTcpLCAkZGF0ZUZvcm1hdCkpDQoJI3NldCAoJG1vbnRoQWdvRGF0ZSA9ICRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdERhdGUoJGNvcmVfdjJfdXRpbGl0eS5DdXJyZW50RGF0ZS5BZGRNb250aHMoLTEpLCAkZGF0ZUZvcm1hdCkpDQoJI3NldCAoJHllYXJBZ29EYXRlID0gJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkY29yZV92Ml91dGlsaXR5LkN1cnJlbnREYXRlLkFkZFllYXJzKC0xKSwgJGRhdGVGb3JtYXQpKQ0KCSMjIGtleXMvY29uc3RhbnRzIGZvciByZWZlcnJpbmcgdG8gZGF0ZSByYW5nZXMNCgkjc2V0ICgkcGFzdFdlZWtLZXkgPSAicGFzdF93ZWVrIikNCgkjc2V0ICgkcGFzdE1vbnRoS2V5ID0gInBhc3RfbW9udGgiKQ0KCSNzZXQgKCRwYXN0WWVhcktleSA9ICJwYXN0X3llYXIiKQ0KCSMjIHBvc3NpYmxlIGRhdGUgZmlsdGVycy9yYW5nZXMNCgkjc2V0ICgkcGFzdFdlZWtSYW5nZSA9ICJkYXRlLCR3ZWVrQWdvRGF0ZSwkY3VycmVudERhdGUsdHJ1ZSIpDQoJI3NldCAoJHBhc3RNb250aFJhbmdlID0gImRhdGUsJG1vbnRoQWdvRGF0ZSwkY3VycmVudERhdGUsdHJ1ZSIpDQoJI3NldCAoJHBhc3RZZWFyUmFuZ2UgPSAiZGF0ZSwkeWVhckFnb0RhdGUsJGN1cnJlbnREYXRlLHRydWUiKQ0KCSMjIGRhdGUgZmlsdGVycw0KCSNpZiAoJGRhdGVSYW5nZUZpbHRlcikNCgkJI2lmICgkZGF0ZVJhbmdlRmlsdGVyID09ICRwYXN0V2Vla0tleSkNCgkJCSNzZXQgKCRkYXRlRmlsdGVycyA9ICRwYXN0V2Vla1JhbmdlKQ0KCQkjZWxzZWlmICgkZGF0ZVJhbmdlRmlsdGVyID09ICRwYXN0TW9udGhLZXkpDQoJCQkjc2V0ICgkZGF0ZUZpbHRlcnMgPSAkcGFzdE1vbnRoUmFuZ2UpDQoJCSNlbHNlaWYgKCRkYXRlUmFuZ2VGaWx0ZXIgPT0gJHBhc3RZZWFyS2V5KQ0KCQkJI3NldCAoJGRhdGVGaWx0ZXJzID0gJHBhc3RZZWFyUmFuZ2UpDQoJCSNlbmQNCgkJI3NldCAoJGRhdGVGaWx0ZXJzID0gIiR7ZmlsdGVySW5kZXh9LCRkYXRlRmlsdGVycyIpDQoJCSNzZXQgKCRwYXN0V2Vla1JhbmdlID0gIiR7cGFzdFdlZWtSYW5nZX0hJHtmaWx0ZXJJbmRleH0iKQ0KCQkjc2V0ICgkcGFzdE1vbnRoUmFuZ2UgPSAiJHtwYXN0TW9udGhSYW5nZX0hJHtmaWx0ZXJJbmRleH0iKQ0KCQkjc2V0ICgkcGFzdFllYXJSYW5nZSA9ICIke3Bhc3RZZWFyUmFuZ2V9ISR7ZmlsdGVySW5kZXh9IikNCg0KCQkjc2V0ICgkZGF0ZVJhbmdlTmFtZSA9ICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDb3JlX1NlYXJjaFJlc3VsdHNfJHtkYXRlUmFuZ2VGaWx0ZXJ9IikpDQoJCSNzZXQgKCRicmVhZENydW1icyA9ICIke2JyZWFkQ3J1bWJzfTxzcGFuIHN0eWxlPSR7ZHF9ei1pbmRleDo5NiR7ZHF9IGNsYXNzPSR7ZHF9YnJlYWRjcnVtYi1pdGVtJHtkcX0gZGF0YS1maWx0ZXJuYW1lPSR7ZHF9ZGF0ZSR7ZHF9IGRhdGEtZmlsdGVydmFsdWU9JHtkcX0kY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRkYXRlUmFuZ2VGaWx0ZXIpJHtkcX0+PHNwYW4+JHtkYXRlUmFuZ2VOYW1lfTwvc3Bhbj48YSBocmVmPSR7ZHF9IyR7ZHF9Png8L2E+PC9zcGFuPiIpDQoJI2VuZA0KCSMjIGRhdGUgZmFjZXRzDQoJI3NldCAoJGRhdGVGYWNldHMgPSAiJGRhdGVGYWNldHMkcGFzdFdlZWtSYW5nZXx8IikNCgkjc2V0ICgkZGF0ZUZhY2V0cyA9ICIkZGF0ZUZhY2V0cyRwYXN0TW9udGhSYW5nZXx8IikNCgkjc2V0ICgkZGF0ZUZhY2V0cyA9ICIkZGF0ZUZhY2V0cyRwYXN0WWVhclJhbmdlIikNCg0KCSMjIGxpdGVyYWwgYXJyYXkgbmVlZHMgdG8gYmUgVG9BcnJheSgpZCBkdWUgdG8gYW4gTlZlbG9jaXR5IGlzc3VlIHdpdGggZGlyZWN0bHkgcmVmZXJlbmNpbmcgZWxlbWVudHMNCgkjc2V0ICgkZGF0ZUtleXMgPSBbJHBhc3RXZWVrS2V5LCAkcGFzdE1vbnRoS2V5LCAkcGFzdFllYXJLZXldKQ0KCSNzZXQgKCRkYXRlS2V5cyA9ICRkYXRlS2V5cy5Ub0FycmF5KCkpDQojZW5kDQoNCg0KIyMNCiMjIGNvbnN0cnVjdCBhbmQgcGVyZm9ybSBzZWFyY2ggcXVlcnkNCiMjDQojc2V0ICgkc2VhcmNoUXVlcnkgPSAiJXt9IikNCiRzZWFyY2hRdWVyeS5BZGQoIlF1ZXJ5IiwgJHF1ZXJ5KQ0KJHNlYXJjaFF1ZXJ5LkFkZCgiUGFnZVNpemUiLCAkcGFnZVNpemUpDQokc2VhcmNoUXVlcnkuQWRkKCJQYWdlSW5kZXgiLCAkcGFnZUluZGV4KQ0KJHNlYXJjaFF1ZXJ5LkFkZCgiRmllbGRGYWNldHMiLCAkZmFjZXRzKQ0KJHNlYXJjaFF1ZXJ5LkFkZCgiRmllbGRGaWx0ZXJzIiwgJGZpbHRlcnMpDQojaWYgKCRkYXRlRmFjZXRzKQ0KCSRzZWFyY2hRdWVyeS5BZGQoIkRhdGVSYW5nZUZhY2V0cyIsICRkYXRlRmFjZXRzKQ0KI2VuZA0KI2lmICgkZGF0ZUZpbHRlcnMpDQoJJHNlYXJjaFF1ZXJ5LkFkZCgiRGF0ZVJhbmdlRmlsdGVycyIsICRkYXRlRmlsdGVycykNCiNlbmQNCiNpZiAoJHNvcnQpDQoJJHNlYXJjaFF1ZXJ5LkFkZCgiU29ydCIsICRzb3J0KQ0KI2VuZA0KI2lmICghJGNvbGxhcHNlIHx8ICRjb2xsYXBzZS5MZW5ndGggPT0gMCkNCgkjc2V0ICgkY29sbGFwc2UgPSB0cnVlKQ0KI2VuZA0KJHNlYXJjaFF1ZXJ5LkFkZCgiQ29sbGFwc2UiLCAkY29sbGFwc2UpDQojc2V0ICgkc2VhcmNoUmVzdWx0cyA9IGZhbHNlKQ0KI3NldCAoJHNlYXJjaFJlc3VsdENvdW50ID0gMCkNCiNpZiAoJHF1ZXJ5Lkxlbmd0aCA+IDApDQoJI3NldCAoJHNlYXJjaFJlc3VsdHMgPSAkY29yZV92Ml9zZWFyY2hSZXN1bHQuTGlzdCgkc2VhcmNoUXVlcnkpKQ0KCSNzZXQgKCRzZWFyY2hSZXN1bHRDb3VudCA9ICRzZWFyY2hSZXN1bHRzLlRvdGFsQ291bnQpDQojZW5kDQoNCiMjDQojIyBwb3N0LXByb2Nlc3MgdGhlIGZpbHRlciByZXN1bHRzIGludG8gc2VwYXJhdGUgbGlzdHMgb2YgZGF0YSBzaW5jZSBhbGwNCiMjIGZpbHRlciBmYWNldHMgYXJlIHJldHVybmVkIGZyb20gdGhlIEFQSSBpbiBhIG1lcmdlZCBsaXN0DQojIw0KI3NldCAoJGNhdGVnb3J5RmFjZXRzID0gW10pDQojc2V0ICgkdXNlckZhY2V0cyA9IFtdKQ0KI3NldCAoJGdyb3VwRmFjZXRzID0gW10pDQojc2V0ICgkdGFnRmFjZXRzID0gW10pDQojc2V0ICgkYWRkZWRBdCA9IDApDQojZm9yZWFjaCAoJGZhY2V0IGluICRzZWFyY2hSZXN1bHRzLkZpZWxkRmFjZXRzKQ0KCSNpZiAoJGZhY2V0LkZpZWxkTmFtZSA9PSAnY2F0ZWdvcnknKQ0KCQkjc2V0ICgkYWRkZWRBdCA9ICRjYXRlZ29yeUZhY2V0cy5BZGQoJGZhY2V0KSkNCgkjZWxzZWlmICgkZmFjZXQuRmllbGROYW1lID09ICd1c2VyJykNCgkJI3NldCAoJGFkZGVkQXQgPSAkdXNlckZhY2V0cy5BZGQoJGZhY2V0KSkNCgkjZWxzZWlmICgkZmFjZXQuRmllbGROYW1lID09ICdncm91cCcpDQoJCSNzZXQgKCRhZGRlZEF0ID0gJGdyb3VwRmFjZXRzLkFkZCgkZmFjZXQpKQ0KCSNlbHNlaWYgKCRmYWNldC5GaWVsZE5hbWUgPT0gJ3RhZycpDQoJCSNzZXQgKCRhZGRlZEF0ID0gJHRhZ0ZhY2V0cy5BZGQoJGZhY2V0KSkNCgkjZW5kDQojZW5kDQoNCg0KPGRpdiBjbGFzcz0ic2VhcmNoLWZpbHRlcnMiPg0KDQoJPGRpdiBjbGFzcz0iZmlsdGVyLWRhdGEiPg0KCQk8c3BhbiBjbGFzcz0icmVzdWx0LWhlYWRpbmciPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1NlYXJjaFJlc3VsdHNfUmVzdWx0cycpPC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0icmVzdWx0LWNvdW50Ij4kc2VhcmNoUmVzdWx0Q291bnQ8L3NwYW4+DQoJPC9kaXY+DQoNCgk8ZGl2IGNsYXNzPSJmaWx0ZXItaGVhZGluZy13cmFwcGVyIj4NCgkJPGRpdiBjbGFzcz0iZmlsdGVyLWhlYWRpbmctaGVhZGVyIj48L2Rpdj4NCgkJPGRpdiBjbGFzcz0iZmlsdGVyLWhlYWRpbmctY29udGVudCI+DQoJCQk8c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX05hcnJvdycpPC9zcGFuPg0KCQk8L2Rpdj4NCgkJPGRpdiBjbGFzcz0iZmlsdGVyLWhlYWRpbmctZm9vdGVyIiBzdHlsZT0iYmFja2dyb3VuZC1pbWFnZTogdXJsKCRjb3JlX3YyX3dpZGdldC5HZXRGaWxlVXJsKCduYXJyb3cucG5nJykpIj48L2Rpdj4NCgk8L2Rpdj4NCg0KCTxkaXYgY2xhc3M9InNlYXJjaC1mYWNldC1maWx0ZXJzIj4NCgkJPGRpdiBjbGFzcz0ic2VhcmNoLWZpbHRlciBjYXRlZ29yeS1maWx0ZXJzIiBkYXRhLWZpbHRlcm5hbWU9ImNhdGVnb3J5Ij4NCgkJCSNmb3JlYWNoICgkZmFjZXQgaW4gJGNhdGVnb3J5RmFjZXRzKQ0KCQkJI2JlZm9yZWFsbA0KCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1oZWFkZXIiPjwvZGl2Pg0KCQkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4NCgkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0gbm8tdHlwZS1maWx0ZXIgI2lmICghJGNhdGVnb3J5RmlsdGVyKSBzZWxlY3RlZCAjZW5kIiBkYXRhLWZpbHRlcnZhbHVlPSIiPg0KCQkJCQkJPGEgaHJlZj0iIyI+DQoJCQkJCQkJPHNwYW4gY2xhc3M9Im5hdmlnYXRpb24taXRlbS10aXRsZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19FdmVyeXdoZXJlJyk8L3NwYW4+DQoJCQkJCQk8L2E+DQoJCQkJCTwvbGk+DQoJCQkjZWFjaA0KCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIHR5cGUtZmlsdGVyICNpZiAoJGNhdGVnb3J5RmlsdGVyID09ICRmYWNldC5GaWVsZFZhbHVlKSBzZWxlY3RlZCAjZW5kIiBkYXRhLWZpbHRlcnZhbHVlPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRmYWNldC5GaWVsZFZhbHVlKSI+DQoJCQkJCTxhIGhyZWY9IiMiPg0KICAgICAgICAgICAgICAgICAgICAJI3NldCAoJGNhdGVnb3J5TmFtZSA9ICRmYWNldC5GaWVsZFZhbHVlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgI3NldCAoJGNhdGVnb3J5ID0gZmFsc2UpDQogICAgICAgICAgICAgICAgICAgICAgICAjc2V0ICgkY2F0ZWdvcnkgPSAkY29yZV92Ml9zZWFyY2hDYXRlZ29yeS5HZXQoJGZhY2V0LkZpZWxkVmFsdWUpKQ0KICAgICAgICAgICAgICAgICAgICAJI2lmICgkY2F0ZWdvcnkpDQogICAgICAgICAgICAgICAgICAgIAkgICAgI3NldCAoJGNhdGVnb3J5TmFtZSA9ICRjYXRlZ29yeS5IdG1sTmFtZSkNCiAgICAgICAgICAgICAgICAgICAgCSNlbmQNCgkJCQkJCTxzcGFuIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0tdGl0bGUiPiRjYXRlZ29yeU5hbWU8L3NwYW4+DQoJCQkJCQk8c3BhbiBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtLWNvdW50Ij4oJGZhY2V0LkRvY3VtZW50Q291bnQpPC9zcGFuPg0KCQkJCQk8L2E+DQoJCQkJPC9saT4NCgkJCSNhZnRlcmFsbA0KCQkJCTwvdWw+DQoJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+DQoJCQkjZW5kDQoJCTwvZGl2Pg0KDQoJCTxkaXYgY2xhc3M9InNlYXJjaC1maWx0ZXIgZ3JvdXAtZmlsdGVycyIgZGF0YS1maWx0ZXJuYW1lPSJncm91cCI+DQoJCQkjc2V0ICgkZmFjZXRDb3VudCA9IDApDQoJCQkjZm9yZWFjaCAoJGZhY2V0IGluICRncm91cEZhY2V0cykNCgkJCSNiZWZvcmVhbGwNCgkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj4NCgkJCQkJPHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19Ub3BHcm91cHMnKTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCQk8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+DQoJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIG5vLWdyb3VwLWZpbHRlciAjaWYgKCEkZ3JvdXBGaWx0ZXIpIHNlbGVjdGVkICNlbmQiIGRhdGEtZmlsdGVydmFsdWU9IiI+DQoJCQkJCQk8YSBocmVmPSIjIj4NCgkJCQkJCQk8c3BhbiBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtLXRpdGxlIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX0FsbEdyb3VwcycpPC9zcGFuPg0KCQkJCQkJPC9hPg0KCQkJCQk8L2xpPg0KCQkJI2VhY2gNCgkJCQkjc2V0ICgkZ3JvdXAgPSBmYWxzZSkNCgkJCQkjc2V0ICgkZ3JvdXAgPSAkY29yZV92Ml9ncm91cC5HZXQoIiV7IElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkZmFjZXQuRmllbGRWYWx1ZSkgfSIpKQ0KCQkJCSNpZiAoJGdyb3VwKQ0KCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBncm91cC1maWx0ZXIgI2lmICgkZ3JvdXBGaWx0ZXIgPT0gJGZhY2V0LkZpZWxkVmFsdWUpIHNlbGVjdGVkICNlbmQiIGRhdGEtZmlsdGVydmFsdWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZhY2V0LkZpZWxkVmFsdWUpIiAjaWYoJGZhY2V0Q291bnQgPj0gJGdyb3VwVmlzaWJsZSkgc3R5bGU9ImRpc3BsYXk6bm9uZTsiICNlbmQ+DQoJCQkJCQk8YSBocmVmPSIjIj4NCgkJCQkJCQk8c3BhbiBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtLXRpdGxlIj4kZ3JvdXAuTmFtZTwvc3Bhbj4NCgkJCQkJCQk8c3BhbiBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtLWNvdW50Ij4oJGZhY2V0LkRvY3VtZW50Q291bnQpPC9zcGFuPg0KCQkJCQkJPC9hPg0KCQkJCQk8L2xpPg0KCQkJCSNlbmQNCgkJCQkjc2V0ICgkZmFjZXRDb3VudCA9ICRmYWNldENvdW50ICsgMSkNCgkJCSNhZnRlcmFsbA0KCQkJCTwvdWw+DQoJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+DQoJCQkJCSNpZiAoJGdyb3VwRmFjZXRzLkNvdW50ID4gJGdyb3VwVmlzaWJsZSkNCgkJCQkJCSNzZXQgKCRoaWRkZW5Db3VudCA9ICRncm91cEZhY2V0cy5Db3VudCAtICRncm91cFZpc2libGUpDQoJCQkJCQk8YSBocmVmPSIjIiBjbGFzcz0idmlldy1tb3JlIj4NCgkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19WaWV3TW9yZScpLCAkaGlkZGVuQ291bnQuVG9TdHJpbmcoKSkNCgkJCQkJCTwvYT4NCgkJCQkJI2VuZA0KCQkJCTwvZGl2Pg0KCQkJI2VuZA0KCQk8L2Rpdj4NCg0KCQk8ZGl2IGNsYXNzPSJzZWFyY2gtZmlsdGVyIGF1dGhvci1maWx0ZXJzIiBkYXRhLWZpbHRlcm5hbWU9ImF1dGhvciI+DQoJCQkjc2V0ICgkZmFjZXRDb3VudCA9IDApDQoJCQkjZm9yZWFjaCAoJGZhY2V0IGluICR1c2VyRmFjZXRzKQ0KCQkJI2JlZm9yZWFsbA0KCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1oZWFkZXIiPg0KCQkJCQk8c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX1RvcEF1dGhvcnMnKTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCQk8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+DQoJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIG5vLWF1dGhvci1maWx0ZXIgI2lmICghJHVzZXJGaWx0ZXIpIHNlbGVjdGVkICNlbmQiIGRhdGEtZmlsdGVydmFsdWU9IiI+DQoJCQkJCQk8YSBocmVmPSIjIj4NCgkJCQkJCQk8c3BhbiBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtLXRpdGxlIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX0FsbEF1dGhvcnMnKTwvc3Bhbj4NCgkJCQkJCTwvYT4NCgkJCQkJPC9saT4NCgkJCSNlYWNoDQoJCQkJI3NldCAoJHVzZXIgPSBmYWxzZSkNCgkJCQkjc2V0ICgkdXNlciA9ICRjb3JlX3YyX3VzZXIuR2V0KCIleyBJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGZhY2V0LkZpZWxkVmFsdWUpIH0iKSkNCgkJCQkjaWYgKCR1c2VyKQ0KCQkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBhdXRob3ItZmlsdGVyICNpZiAoJHVzZXJGaWx0ZXIgPT0gJGZhY2V0LkZpZWxkVmFsdWUpIHNlbGVjdGVkICNlbmQiIGRhdGEtZmlsdGVydmFsdWU9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZhY2V0LkZpZWxkVmFsdWUpIiAjaWYoJGZhY2V0Q291bnQgPj0gJHVzZXJWaXNpYmxlKSBzdHlsZT0iZGlzcGxheTpub25lOyIgI2VuZD4NCgkJCQkJCTxhIGhyZWY9IiMiPg0KCQkJCQkJCTxzcGFuIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0tdGl0bGUiPiR1c2VyLkRpc3BsYXlOYW1lPC9zcGFuPg0KCQkJCQkJCTxzcGFuIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0tY291bnQiPigkZmFjZXQuRG9jdW1lbnRDb3VudCk8L3NwYW4+DQoJCQkJCQk8L2E+DQoJCQkJCTwvbGk+DQoJCQkJI2VuZA0KCQkJCSNzZXQgKCRmYWNldENvdW50ID0gJGZhY2V0Q291bnQgKyAxKQ0KCQkJI2FmdGVyYWxsDQoJCQkJPC91bD4NCgkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtZm9vdGVyIj4NCgkJCQkJI2lmICgkdXNlckZhY2V0cy5Db3VudCA+ICR1c2VyVmlzaWJsZSkNCgkJCQkJCSNzZXQgKCRoaWRkZW5Db3VudCA9ICR1c2VyRmFjZXRzLkNvdW50IC0gJHVzZXJWaXNpYmxlKQ0KCQkJCQkJPGEgaHJlZj0iIyIgY2xhc3M9InZpZXctbW9yZSI+DQoJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1NlYXJjaFJlc3VsdHNfVmlld01vcmUnKSwgJGhpZGRlbkNvdW50LlRvU3RyaW5nKCkpDQoJCQkJCQk8L2E+DQoJCQkJCSNlbmQNCgkJCQk8L2Rpdj4NCgkJCSNlbmQNCgkJPC9kaXY+DQoNCgkJPGRpdiBjbGFzcz0ic2VhcmNoLWZpbHRlciB0YWctZmlsdGVycyIgZGF0YS1maWx0ZXJuYW1lPSJ0YWciPg0KCQkJI3NldCAoJGZhY2V0Q291bnQgPSAwKQ0KCQkJI2ZvcmVhY2ggKCRmYWNldCBpbiAkdGFnRmFjZXRzKQ0KCQkJI2JlZm9yZWFsbA0KCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1oZWFkZXIiPg0KCQkJCQk8c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX1RhZ3MnKTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCQk8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+DQoJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIG5vLXRhZy1maWx0ZXIgI2lmICghJHRhZ0ZpbHRlcikgc2VsZWN0ZWQgI2VuZCIgZGF0YS1maWx0ZXJ2YWx1ZT0iIj4NCgkJCQkJCTxhIGhyZWY9IiMiPg0KCQkJCQkJCTxzcGFuIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0tdGl0bGUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1NlYXJjaFJlc3VsdHNfQWxsVGFncycpPC9zcGFuPg0KCQkJCQkJPC9hPg0KCQkJCQk8L2xpPg0KCQkJI2VhY2gNCgkJCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSB0YWctZmlsdGVyICNpZiAoJHRhZ0ZpbHRlciA9PSAkZmFjZXQuRmllbGRWYWx1ZSkgc2VsZWN0ZWQgI2VuZCIgZGF0YS1maWx0ZXJ2YWx1ZT0iJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkZmFjZXQuRmllbGRWYWx1ZSkiICNpZigkZmFjZXRDb3VudCA+PSAkdGFnVmlzaWJsZSkgc3R5bGU9ImRpc3BsYXk6bm9uZTsiICNlbmQ+DQoJCQkJCTxhIGhyZWY9IiMiPg0KCQkJCQkJPHNwYW4gY2xhc3M9Im5hdmlnYXRpb24taXRlbS10aXRsZSI+JGZhY2V0LkZpZWxkVmFsdWU8L3NwYW4+DQoJCQkJCQk8c3BhbiBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtLWNvdW50Ij4oJGZhY2V0LkRvY3VtZW50Q291bnQpPC9zcGFuPg0KCQkJCQk8L2E+DQoJCQkJPC9saT4NCgkJCQkjc2V0ICgkZmFjZXRDb3VudCA9ICRmYWNldENvdW50ICsgMSkNCgkJCSNhZnRlcmFsbA0KCQkJCTwvdWw+DQoJCQkJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+DQoJCQkJCSNpZiAoJHVzZXJGYWNldHMuQ291bnQgPiAkdGFnVmlzaWJsZSkNCgkJCQkJCSNzZXQgKCRoaWRkZW5Db3VudCA9ICR1c2VyRmFjZXRzLkNvdW50IC0gJHRhZ1Zpc2libGUpDQoJCQkJCQk8YSBocmVmPSIjIiBjbGFzcz0idmlldy1tb3JlIj4NCgkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19WaWV3TW9yZScpLCAkaGlkZGVuQ291bnQuVG9TdHJpbmcoKSkNCgkJCQkJCTwvYT4NCgkJCQkJI2VuZA0KCQkJCTwvZGl2Pg0KCQkJI2VuZA0KCQk8L2Rpdj4NCg0KCQkjaWYgKCRkYXRlS2V5cykNCgkJCSMjIGRhdGUgcmFuZ2UgZmFjZXRzIG5lZWQgdG8gYmUgVG9BcnJheSgpJ2QgZmlyc3QgZHVlIHRvIGFuIE5WZWxvY2l0eSBkaXJlY3QgZWxlbWVudCByZWZlcmVuY2luZyBpc3N1ZQ0KCQkJI3NldCAoJGRhdGVSYW5nZUZhY2V0cyA9ICRzZWFyY2hSZXN1bHRzLkRhdGVSYW5nZUZhY2V0cy5Ub0FycmF5KCkpDQogICAgICAgICAgICAjc2V0ICgkbWF4RmFjZXRJbmRleCA9ICRkYXRlUmFuZ2VGYWNldHMubGVuZ3RoIC0gMSkNCg0KCQkJPGRpdiBjbGFzcz0ic2VhcmNoLWZpbHRlciBkYXRlLWZpbHRlcnMiIGRhdGEtZmlsdGVybmFtZT0iZGF0ZSI+DQoJCQkJI2ZvcmVhY2goJGRhdGVGYWNldEluZGV4IGluIFswLi4kbWF4RmFjZXRJbmRleF0pDQoJCQkJI2JlZm9yZWFsbA0KCQkJCQk8ZGl2IGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QtaGVhZGVyIj4NCgkJCQkJCTxzcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1NlYXJjaFJlc3VsdHNfRGF0ZXMnKTwvc3Bhbj4NCgkJCQkJPC9kaXY+DQoJCQkJCTx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4NCgkJCQkJCTxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIG5vLXRhZy1maWx0ZXIgI2lmICghJGRhdGVSYW5nZUZpbHRlcikgc2VsZWN0ZWQgI2VuZCIgZGF0YS1maWx0ZXJ2YWx1ZT0iIj4NCgkJCQkJCQk8YSBocmVmPSIjIj4NCgkJCQkJCQkJPHNwYW4gY2xhc3M9Im5hdmlnYXRpb24taXRlbS10aXRsZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19BbGxEYXRlcycpPC9zcGFuPg0KCQkJCQkJCTwvYT4NCgkJCQkJCTwvbGk+DQoJCQkJI2VhY2gNCgkJCQkJI2lmICgkZGF0ZUtleXMubGVuZ3RoID4gJGRhdGVGYWNldEluZGV4ICYmICRkYXRlUmFuZ2VGYWNldHMubGVuZ3RoID4gJGRhdGVGYWNldEluZGV4KQ0KCQkJCQkJI3NldCAoJGRhdGVLZXkgPSBmYWxzZSkNCgkJCQkJCSNzZXQgKCRkYXRlS2V5ID0gJGRhdGVLZXlzLmdldCgkZGF0ZUZhY2V0SW5kZXgpKQ0KCQkJCQkJPGxpIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0gZGF0ZS1maWx0ZXIgI2lmICgkZGF0ZVJhbmdlRmlsdGVyID09ICRkYXRlS2V5KSBzZWxlY3RlZCAjZW5kIiBkYXRhLWZpbHRlcnZhbHVlPSIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRkYXRlS2V5KSI+DQoJCQkJCQkJPGEgaHJlZj0iIyI+DQoJCQkJCQkJCTxzcGFuIGNsYXNzPSJuYXZpZ2F0aW9uLWl0ZW0tdGl0bGUiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDb3JlX1NlYXJjaFJlc3VsdHNfJHtkYXRlS2V5fSIpPC9zcGFuPg0KCQkJCQkJCQk8c3BhbiBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtLWNvdW50Ij4oJGRhdGVSYW5nZUZhY2V0cy5nZXQoJGRhdGVGYWNldEluZGV4KS5Eb2N1bWVudENvdW50KTwvc3Bhbj4NCgkJCQkJCQk8L2E+DQoJCQkJCQk8L2xpPg0KCQkJCQkjZW5kDQoJCQkJI2FmdGVyYWxsDQoJCQkJCTwvdWw+DQoJCQkJCTxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1mb290ZXIiPjwvZGl2Pg0KCQkJCSNlbmQNCgkJCTwvZGl2Pg0KCQkjZW5kDQoNCgk8L2Rpdj4NCg0KPC9kaXY+DQoNCjxkaXYgY2xhc3M9InNlYXJjaC1xdWVyeSI+DQoJPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0Ij4NCgkJPHVsIGNsYXNzPSJmaWVsZC1saXN0Ij4NCgkJCTxsaSBjbGFzcz0iZmllbGQtaXRlbSBzZWFyY2giPg0KCQkJCTxkaXY+DQoJCQkJCTxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4NCgkJCQkJCTxpbnB1dCB0eXBlPSJ0ZXh0IiBzaXplPSI0NSIgbWF4bGVuZ3RoPSIxMjgiIGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ3NlYXJjaFRleHRJbnB1dCcpIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ3NlYXJjaFRleHRJbnB1dCcpIiB2YWx1ZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcXVlcnkpIiAvPg0KCQkJCQk8L3NwYW4+DQoJCQkJPC9kaXY+DQoJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0tdmFsaWRhdGlvbiIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPjwvc3Bhbj4NCgkJCTwvbGk+DQoJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gc29ydCI+DQoJCQkJPGxhYmVsIGNsYXNzPSJmaWVsZC1pdGVtLWhlYWRlciIgZm9yPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ3NlYXJjaFNvcnRTZWxlY3QnKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19Tb3J0QnknKTwvbGFiZWw+DQoJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPg0KCQkJCQk8c2VsZWN0IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ3NlYXJjaFNvcnRTZWxlY3QnKSIgbmFtZT0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdzZWFyY2hTb3J0U2VsZWN0JykiPg0KCQkJCQkJPG9wdGlvbiB2YWx1ZT0iIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX01vc3RSZWxldmFudCcpPC9vcHRpb24+DQoJCQkJCQk8b3B0aW9uIHZhbHVlPSJkYXRlIGRlc2MiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1NlYXJjaFJlc3VsdHNfTW9zdFJlY2VudCcpPC9vcHRpb24+DQoJCQkJCQk8b3B0aW9uIHZhbHVlPSJ0aXRsZXNvcnQiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1NlYXJjaFJlc3VsdHNfQWxwaGFiZXRpY2FsJyk8L29wdGlvbj4NCgkJCQkJCTxvcHRpb24gdmFsdWU9InJhdGluZyBkZXNjIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX0hpZ2hlc3RSYXRpbmcnKTwvb3B0aW9uPg0KCQkJCQk8L3NlbGVjdD4NCgkJCQk8L3NwYW4+DQoJCQk8L2xpPg0KCQkJPGxpIGNsYXNzPSJmaWVsZC1pdGVtIHNlYXJjaGJ1dHRvbiI+DQoJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPg0KCQkJCQk8YSBocmVmPSIjIiBpZD0iJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdzZWFyY2hTdWJtaXRJbnB1dCcpIiBuYW1lPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ3NlYXJjaFN1Ym1pdElucHV0JykiIHN0eWxlPSJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJGNvcmVfdjJfd2lkZ2V0LkdldEZpbGVVcmwoJ3NlYXJjaC5wbmcnKSkiPlNlYXJjaDwvYT4NCgkJCQk8L3NwYW4+DQoJCQk8L2xpPg0KCQkJI2lmICgkY29yZV92Ml9jb25maWd1cmF0aW9uLkVuYWJsZVJzc1NlYXJjaCkNCgkJCQk8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gcnNzIj4NCgkJCQkJPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPg0KCQkJCQkJPGEgaHJlZj0iIyIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnc3Vic2NyaWJlVG9Sc3MnKSIgY2xhc3M9ImludGVybmFsLWxpbmsgcnNzIiB0aXRsZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2VhcmNoUmVzdWx0c19SU1MnKSkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTZWFyY2hSZXN1bHRzX1JTUycpPC9hPg0KCQkJCQk8L3NwYW4+DQoJCQkJPC9saT4NCgkJCSNlbmQNCgkJPC91bD4NCgk8L2ZpZWxkc2V0Pg0KDQoJPGRpdiBjbGFzcz0iYnJlYWRjcnVtYi1saXN0LXdyYXBwZXIiPg0KCQk8ZGl2IGNsYXNzPSJicmVhZGNydW1iLWxpc3QtaGVhZGVyIiBzdHlsZT0iI2lmKCRicmVhZENydW1icy5sZW5ndGggPT0gMClkaXNwbGF5Om5vbmU7I2VuZCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfU2VhcmNoUmVzdWx0c19GaWx0ZXJCeScpPC9kaXY+DQoJCTxkaXYgY2xhc3M9ImJyZWFkY3J1bWItbGlzdCI+JGJyZWFkQ3J1bWJzPC9kaXY+DQoJCTxkaXYgY2xhc3M9ImJyZWFkY3J1bWItbGlzdC1mb290ZXIiPjwvZGl2Pg0KCTwvZGl2Pg0KPC9kaXY+DQoNCjxkaXYgY2xhc3M9InNlYXJjaC1yZXN1bHRzLXdyYXBwZXIiPg0KCTxkaXYgY2xhc3M9InNlYXJjaC1yZXN1bHRzIj4NCgkJI2lmICgkc2VhcmNoUmVzdWx0Q291bnQgPiAwKQ0KCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtbmFtZSI+PC9kaXY+DQoJCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZGVzY3JpcHRpb24iPjwvZGl2Pg0KCQkJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KCQkJCSNmb3JlYWNoICgkc2VhcmNoUmVzdWx0IGluICRzZWFyY2hSZXN1bHRzKQ0KICAgIAkJCQkjc2V0ICgkcmVzdWx0SHRtbCA9IGZhbHNlKQ0KICAgIAkJCQkjc2V0ICgkcmVzdWx0SHRtbCA9ICRzZWFyY2hSZXN1bHQuVmlld0h0bWwoKSkNCiAgICAJCQkJI2lmICgkcmVzdWx0SHRtbCkNCgkJCQkJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4kcmVzdWx0SHRtbDwvbGk+DQogICAgCQkJCSNlbmQNCgkJCQkjZW5kDQoJCQk8L3VsPg0KCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+DQoJCQkJJGNvcmVfdjJfdWkuUGFnZXIoJHNlYXJjaFJlc3VsdHMuUGFnZUluZGV4LCAkc2VhcmNoUmVzdWx0cy5QYWdlU2l6ZSwgJHNlYXJjaFJlc3VsdENvdW50LCAiJXsgQmFzZVVybCA9ICcnIH0iKQ0KCQkJPC9kaXY+DQoJCQkjaWYgKCRkZWZhdWx0QXNrRm9ydW1JZCA+IDApDQoJCQkJPGEgaHJlZj0iIyIgaWQ9IiRjb3JlX3YyX3dpZGdldC5VbmlxdWVJZCgnYXNrRm9ybUxpbmsnKSIgY2xhc3M9ImFzayINCgkJCQkJZGF0YS1maWVsZGZpbHRlcj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY2F0ZWdvcnlsZXNzRmlsdGVycykiDQoJCQkJCWRhdGEtZGF0ZWZpbHRlcj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZGF0ZUZpbHRlcnMpIg0KCQkJCQlkYXRhLXF1ZXJ5dGV4dD0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcXVlcnkpIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX05vUmVzdWx0c0xpbmsnKTwvYT4NCgkJCQk8ZGl2IGlkPSIkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Fza0Zvcm1XcmFwcGVyJykiPjwvZGl2Pg0KCQkJI2VuZA0KCQkjZWxzZQ0KCQkJI2lmICgkZGVmYXVsdEFza0ZvcnVtSWQgPiAwKQ0KCQkJCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9TZWFyY2hSZXN1bHRzX05vUmVzdWx0c19XaXRoRm9ybScpPC9kaXY+DQoJCQkJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdhc2tmb3JtLnZtJykNCgkJCSNlbHNlDQoJCQkJPGRpdiBjbGFzcz0ibWVzc2FnZSBub3JlY29yZHMiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1NlYXJjaFJlc3VsdHNfTm9SZXN1bHRzJyk8L2Rpdj4NCgkJCSNlbmQNCgkJI2VuZA0KCTwvZGl2Pg0KPC9kaXY+DQo8ZGl2IHN0eWxlPSJjbGVhcjpib3RoIj48L2Rpdj4=</file>
			<file name="tagarrows.png">iVBORw0KGgoAAAANSUhEUgAAAB4AAAA5CAYAAAAhmZssAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUZFMTVFQTU0QkI2MTFFMDgxQTBDRDcwOEFGNzFERkQiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUZFMTVFQTY0QkI2MTFFMDgxQTBDRDcwOEFGNzFERkQiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5RkUxNUVBMzRCQjYxMUUwODFBMENENzA4QUY3MURGRCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RkUxNUVBNDRCQjYxMUUwODFBMENENzA4QUY3MURGRCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhDZcYkAAAmYSURBVHjarJhnjI7bFse33nvvE0PUEaKEINEO54aJCaJcEkQNF9cHH3wQQo6jfRCRK6LcEFEi6lXGuTqjDAaj14hxZUYZRu/7rt+6z37untf7znvaSlZm3ud59l57tf9aaxcaP368NX+ArLXm8+fP+n+7du3MgAEDTK1atfh5V7iV8Pto6wqbP0iFChUyxYsXV05LSzO7d+82X79+5VUj4Z9jrYsrmE2Cjb6jL1++mG/fvoW/y5Yta9LT001GRoZ79DfhLr9ZMCasXLmyKV++vArx6dOnT6ZatWqmVKlS4Tu0x/RonZeXx6Miwv8ULhW5d5G2bdvOiSWUjSdPnmxatmxpLl++bD58+GCKFi2qf+vWrWumTJliEhMTTWZmpgovXLiwKVKkiHn27Jl+17x5cw5TORD8S1zBmBYtJ02apAKqVKli6tWrZ65du2ZevnxpEhISzMSJE03VqlVN7dq1TY0aNcylS5dUW7RG+MOHD03jxo31G6EOwv8WflSgqTn5+/fvza1bt3Szjx8/mhYtWpiRI0eapKQkM3bsWFO9enXVEs7Kysrna9a/e/fO7NmzR60TmHy9b/KoGnNqNrp69aopUaKEadKkiQpHGClDEPGe73bs2GFSU1NVS347wtSPHz82lSpVMg0bNuRRPpPH9DGbwNevX1cNWOxM6YJr8+bN5vDhw3o4X6hPWKNp06amYsWKzuT/Es4uMKrRgiC7cOGCauyiloM8f/5cAy5SU5/QOicnRw/vthQ+FTed8E+DBg3Up6VLl1ahAAV+JegE9dTsDrmiZQbrxaruEYHwY4GCWVS/fn0zYcIEjVoHjfgdLRFOunAohEeCjHNLv379NDYCWiR8LKZgNsEn48aNU6Fu023btplly5aFfsX85Pjo0aPVrAhzxLv27dtrMAYEds+Nm05v374158+fDwNt06ZN5sSJE6ZYsWJm+/bt5sCBA4paWIH89jXmf6K5b9+++n1AY/2CUTRWRJMuQB9avH792hw/fjyMXpdGvMvNzTVHjhxR37sg4zC9e/dW0AlojTNxKKOgssjG+JINMWXkOzTjr6eVmpi8nzp1qilTpgyPsoVbCOfmi/h4Jc/fNPJd5GGwElZJTk52QqG/Rwr9U+oxGgMmMHHRtWtXhdeA9gpviZrjf1YjAPXp08f06NHD+fqN8IRY64oC5PE2dhr5CIULIhErJSUlPES0GvybTO2CB+QifRzjX4DE52HDhpktW7b48LgopkLSmNl4gp3mkeQqlJ9GNA+7du3SWhxQ76AW59fYLYzGCGVz2EGgY/fMpZTz9aNHj8ySJUt8QPmHcPHvClC5cuXmxIJNcnjOnDkaqYcOHVJEg12PtXDhQo3gY8eOhT7nL9UIHCefgzqM2Y7mEyCti43kmjVr2jp16tjly5dbRyLEVqhQwUorY8Wcds2aNfpczGvnzZtnpRBY3MZ6gUvbpUsX++TJE7f8o3AjLOM4anBhRnqubt266W/yc/r06dpn8W7+/PlaGN68eaNB1rp163xFguCjVq9YscJtWTww+f+DixNGEw700XWsXbtWzUZt5tmVK1dMhw4d1NyUw71792q3yeF8JOM9mbB161a/Qg0X3ligYKcp0bl69WptX9iMAOIAQCMVivaX7/gdbX2vXr3M+vXr9RBC/xGuW2BwQWxGlJ47d87079/flCxZUlOG5zQEI0aMUHNj2mjEIW/cuKFdCO4QKi/MYLUn7iQB2NPW4nP86/ow3DB06NACRxyeS0CqYI/aFagxZiVYFixYoO0NkOmmCDQhrTAj5jx16lRUCKW3ZigYNWqUe7TR9Vwx00n6LSu+saKllUZAc0KKv+3evbu9ePGiFW2sCLXibzt79mwrLVKYTrDMXLZz585+SrFJnQLTiRf4rVmzZqoF0btv3z5NqbNnz2ovBkjwDdrzHRZw6eSgdMaMGQqhAf0UBFf8dGLAXrdunQ5htLIuel20E60cgG4D1+B/iFZpyJAhmsdBit0NupBPcQU74XSZ+JdhzSt56mt6qlevXmlku06FwGPI27lzp4NMqF/QFPy6RgDt0NYv9o5ILWYjTBzZcwEontCNkUJVYzA2sgT+XmLCpKCAVgCGHJgupKnv21Bj8swJREM0+D1EQLF25syZfqP3UzShKljyOBRM9LoA4Rl5yME6duyoeCsVK2z2Qa6TJ0+aO3fuqKldHnvQmRv009GJEudYgkJZxhcrprISmVamBysBZMWMmrewHEh/P3jwwC5dutQKillJLV0js5K+C2i7Xwp9NtHAA+GLFy+2Es26mr95eXl6AJ8BFygzM9NKd6kHFmi1kkbWo7/+KsEUcYq+IxlP7NGjR1WILxTkSk1NtWfOnNHv7t69a2UcteI6K2XU3rt3z23x3EesqII58cCBA9VUaClToU1MTLSNGjWyaWlpugtCof379+uaVq1aWale+kxmLXWZxIplNOJwAe2JKRgTg7fSW+mX+C8pKUk1AHcFFkPhCE1ISNA2CN9KsbACMHpYDk6LxAE4iEejogrGr/jpxYsXYfBIj2xl8td+Che0adPGynxsBRz0ewRjEQ7C97hDIFYF873ktH369KkT/NI3eSgYzaZNmxb60lUkmYv19FjDHYD/ndCDBw+GLkDjjIwMrWxYkD3nzp3ra/3Ld9WJ/ASXXU3lJRg8ePBgs2jRIs1TvqEi8Y7rBfqxnj17alFwhR9ccE0D6LVq1Sod6AP6QXjVdyNMZCF3NzxctPiNHJuCTlQv/2It2q0RxeX+/fv+41H5BLMBV0g+cXrxX1gSHZqhvaSPGT58uLl582YIke5Gj28dwmGRQYMG+bc+B/MJRiMaMz7mpPxmBqJ1ofRhRoo6t0BsSrW6ffu29tdconIY1gChEqBhbx6B3eOF/5Kv9SFgiOD09HSNAtlU85cIJYL9QFq5cqUGF2sEm21ycrIGI3krB1E8ILBoiTw6ERNAECIa6QZS6O2GDRs0oslZJ1QCLhTO9+S3zE7/21lwndGH5506dYocYZrEFEyzhnY0eRCpRTpJv5UPMhHO4ZifgFQoJydHgcTNVzSGHv0cF6vJVUwOeITHlU4yskA4vIays7NtSkqKCqVIjBkzxkoP5pbfES4eVzCMeQGAWbNm2aysLF2NEAACZkKEQCuswWSIX1kHqkmk+9r+EK06FWJBrCmAVoaJgcad60EmApeb3OZxsXb69Glt8OjBaAoZyskEr98aHvUqIvBngWMMDRyp4kCEVHEXbwh0NwSgGjc/wd10btDSZkfb978CDACxnPT/ftVTIQAAAABJRU5ErkJggg==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpew0KCXZhciB3aW4gPSAkKHdpbmRvdyksDQoJCWhpc3RvcnkgPSBbIHdpbmRvdy5sb2NhdGlvbi5ocmVmIF0sDQoJCWJhY2tCdXR0b25JbmRleCA9IDA7DQoNCgkkLmV2ZW50LnNwZWNpYWwuZGlyZWN0ZWRIYXNoQ2hhbmdlID0gew0KCQlzZXR1cDogZnVuY3Rpb24oZGF0YSkgew0KCQkJdmFyIGNvbXBhcmVyID0gZGF0YS5jdXN0b21Db21wYXJlcjsNCgkJCXdpbi5iaW5kKCdoYXNoY2hhbmdlJywgZnVuY3Rpb24oKXsNCgkJCQl2YXIgaXNSZXZlcnNlLCBjb21wYXJlclJlc3VsdCA9IDA7DQoJCQkJaWYoISFjb21wYXJlcikgew0KCQkJCQljb21wYXJlclJlc3VsdCA9IGNvbXBhcmVyKGhpc3RvcnlbaGlzdG9yeS5sZW5ndGgtMV0sIHdpbmRvdy5sb2NhdGlvbi5ocmVmKTsNCgkJCQkJYmFja0J1dHRvbkluZGV4ID0gaGlzdG9yeS5sZW5ndGg7DQoJCQkJCWhpc3RvcnkucHVzaCh3aW5kb3cubG9jYXRpb24uaHJlZik7DQoJCQkJfQ0KCQkJCWlmKGNvbXBhcmVyUmVzdWx0ICE9PSAwKSB7DQoJCQkJCWlzUmV2ZXJzZSA9IGNvbXBhcmVyUmVzdWx0IDwgMDsNCgkJCQl9IGVsc2Ugew0KCQkJCQlpc1JldmVyc2UgPSAoaGlzdG9yeS5sZW5ndGggPj0gMiAmJiBoaXN0b3J5W2JhY2tCdXR0b25JbmRleCAtIDFdID09PSB3aW5kb3cubG9jYXRpb24uaHJlZik7DQoJCQkJfQ0KCQkJCWlmKGNvbXBhcmVyUmVzdWx0ICE9PSAwKSB7DQoJCQkJCWlmKGlzUmV2ZXJzZSkgew0KCQkJCQkJYmFja0J1dHRvbkluZGV4LS07DQoJCQkJCX0gZWxzZSB7DQoJCQkJCQliYWNrQnV0dG9uSW5kZXgrKzsNCgkJCQkJCWlmKGJhY2tCdXR0b25JbmRleCA9PT0gaGlzdG9yeS5sZW5ndGgpIHsNCgkJCQkJCQloaXN0b3J5LnB1c2god2luZG93LmxvY2F0aW9uLmhyZWYpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJfQ0KCQkJCXdpbi50cmlnZ2VyKCdkaXJlY3RlZEhhc2hDaGFuZ2UnLCB7DQoJCQkJCWRpcmVjdGlvbjogaXNSZXZlcnNlID8gJ2JhY2t3YXJkJyA6ICdmb3J3YXJkJywNCgkJCQkJaGFzaDogd2luZG93LmxvY2F0aW9uLmhyZWYNCgkJCQl9KTsNCgkJCX0pOw0KCQl9DQoJfTsNCg0KfShqUXVlcnkpKTsNCg0KDQovKg0KZ2l2ZW4gbWFya3VwIGxpa2U6DQoNCjxkaXYgY2xhc3M9InNlYXJjaC1maWx0ZXIgZ3JvdXAtZmlsdGVycyIgZGF0YS1maWx0ZXJuYW1lPSJncm91cCI+DQoJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+DQoJCTxzcGFuPlRvcCBHcm91cHM8L3NwYW4+DQoJPC9kaXY+DQoJPHVsIGNsYXNzPSJuYXZpZ2F0aW9uLWxpc3QiPg0KCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBuby1ncm91cC1maWx0ZXIiIGRhdGEtZmlsdGVydmFsdWU9IiI+DQoJCQk8YSBocmVmPSIjIj4NCgkJCQk8c3BhbiBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtLXRpdGxlIj5BbGwgR3JvdXBzPC9zcGFuPg0KCQkJPC9hPg0KCQk8L2xpPg0KCQk8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSBncm91cC1maWx0ZXIiIGRhdGEtZmlsdGVydmFsdWU9ImEiPg0KCQkJPGEgaHJlZj0iIyI+DQoJCQkJPHNwYW4gY2xhc3M9Im5hdmlnYXRpb24taXRlbS10aXRsZSI+R3JvdXAgQTwvc3Bhbj4NCgkJCQk8c3BhbiBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtLWNvdW50Ij4oNTApPC9zcGFuPg0KCQkJPC9hPg0KCQk8L2xpPg0KCQlbLi4uXQ0KCTwvdWw+DQoJPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+DQo8L2Rpdj4NCg0KdXNhZ2U6DQoNCiQoJ2Rpdi5zZWFyY2gtZmlsdGVyJykNCgkuZmlsdGVyU2VsZWN0b3IoKQ0KCS5saXZlKCdmaWx0ZXJBZGQnLCBmdW5jdGlvbihlLCBkYXRhKXsNCgkJY29uc29sZS5sb2coJ2ZpbHRlciBhZGRlZDonKTsNCgkJY29uc29sZS5sb2coZGF0YSk7DQoJCX0pDQoJLmxpdmUoJ2ZpbHRlclJlbW92ZScsIGZ1bmN0aW9uKGUsIGRhdGEpew0KCQljb25zb2xlLmxvZygnZmlsdGVyIHJlbW92ZWQ6Jyk7DQoJCWNvbnNvbGUubG9nKGRhdGEpOw0KCQl9KTsNCg0KLy8gZGF0YSBpcyBvZiBmb3JtYXQgeyBuYW1lOiBGSUxURVJOQU1FLCB2YWx1ZTogRklMVEVSVkFMVUUgfQ0KDQokKCdkaXYuc2VhcmNoLWZpbHRlcicpLmZpbHRlclNlbGVjdG9yKCd2YWwnKTsNCiQoJ2Rpdi5zZWFyY2gtZmlsdGVyJykuZmlsdGVyU2VsZWN0b3IoJ3ZhbCcsJ3dpa2knKTsNCg0KSGFuZGxlZCBhbGwgdmlhIGRlbGVnYXRpb24gaW50ZXJuYWxseSBzbyBhcyB0byBzdXJ2aXZlIGFqYXgtYmFzZWQgY29udGVudCByZXBsYWNlbWVudHMNCg0KKi8NCihmdW5jdGlvbigkKXsNCgl2YXIgaXNOdWxsT3JFbXB0eSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gIiI7IH0sDQoJCV9jb250ZXh0S2V5ID0gJ19maWx0ZXJTZWxjdG9yX2luaXRlZCcsDQoJCV9nZXRDdXJyZW50U2VsZWN0aW9uID0gZnVuY3Rpb24oZmlsdGVyLCBzZXR0aW5ncykgew0KCQkJZmlsdGVyID0gJChmaWx0ZXIpOw0KCQkJcmV0dXJuIHsNCgkJCQluYW1lOiBmaWx0ZXIuYXR0cihzZXR0aW5ncy5uYW1lQXR0cmlidXRlKSwNCgkJCQl2YWx1ZTogZmlsdGVyLmZpbmQoJ2xpLm5hdmlnYXRpb24taXRlbS5zZWxlY3RlZCcpLmF0dHIoc2V0dGluZ3MudmFsdWVBdHRyaWJ1dGUpLA0KCQkJCXZpc2libGU6IChmaWx0ZXIuZmluZCgnbGkubmF2aWdhdGlvbi1pdGVtOnZpc2libGUnKS5sZW5ndGggLSAxKQ0KCQkJfTsNCgkJfSwNCgkJX3VuaXF1ZWx5U2VsZWN0ID0gZnVuY3Rpb24oZmlsdGVyLCB2YWx1ZSwgc2V0dGluZ3MpIHsNCgkJCWZpbHRlciA9ICQoZmlsdGVyKTsNCg0KCQkJdmFyIGZpbHRlck5hbWUgPSBmaWx0ZXIuYXR0cihzZXR0aW5ncy5uYW1lQXR0cmlidXRlKTsNCgkJCXZhciBwcmV2aW91c2x5U2VsZWN0ZWQgPSBmaWx0ZXIuZmluZCgnbGkubmF2aWdhdGlvbi1pdGVtLnNlbGVjdGVkJyk7DQoJCQl2YXIgcHJldmlvdXNseVNlbGVjdGVkVmFsdWUgPSBwcmV2aW91c2x5U2VsZWN0ZWQuYXR0cihzZXR0aW5ncy52YWx1ZUF0dHJpYnV0ZSk7DQoJCQl2YXIgbmV3bHlTZWxlY3RlZCA9IGZpbHRlci5maW5kKCJbIitzZXR0aW5ncy52YWx1ZUF0dHJpYnV0ZSsiPSciK3ZhbHVlKyInXSIpOw0KCQkJdmFyIHRyaWdnZXJlZEFkZE9yUmVtb3ZlID0gZmFsc2U7DQoNCgkJCWlmKHByZXZpb3VzbHlTZWxlY3RlZC5sZW5ndGggPiAwICYmIHByZXZpb3VzbHlTZWxlY3RlZFZhbHVlICE9PSB2YWx1ZSkgew0KCQkJCXByZXZpb3VzbHlTZWxlY3RlZC5yZW1vdmVDbGFzcyhzZXR0aW5ncy5zZWxlY3RlZENsYXNzKTsNCgkJCQlpZighaXNOdWxsT3JFbXB0eShwcmV2aW91c2x5U2VsZWN0ZWRWYWx1ZSkpIHsNCgkJCQkJZmlsdGVyLnRyaWdnZXIoc2V0dGluZ3MucmVtb3ZlRmlsdGVyRXZlbnROYW1lLCB7DQoJCQkJCQluYW1lOiBmaWx0ZXJOYW1lLA0KCQkJCQkJdmFsdWU6IHByZXZpb3VzbHlTZWxlY3RlZFZhbHVlDQoJCQkJCX0pOw0KCQkJCQl0cmlnZ2VyZWRBZGRPclJlbW92ZSA9IHRydWU7DQoJCQkJfQ0KCQkJfQ0KDQoJCQluZXdseVNlbGVjdGVkLmFkZENsYXNzKHNldHRpbmdzLnNlbGVjdGVkQ2xhc3MpOw0KCQkJaWYoIWlzTnVsbE9yRW1wdHkodmFsdWUpICYmIHZhbHVlICE9PSBwcmV2aW91c2x5U2VsZWN0ZWRWYWx1ZSkgew0KCQkJCWZpbHRlci50cmlnZ2VyKHNldHRpbmdzLmFkZEZpbHRlckV2ZW50TmFtZSwgew0KCQkJCQluYW1lOiBmaWx0ZXJOYW1lLA0KCQkJCQl2YWx1ZTogdmFsdWUsDQoJCQkJCWRpc3BsYXlOYW1lOiBuZXdseVNlbGVjdGVkLmZpbmQoJ3NwYW4ubmF2aWdhdGlvbi1pdGVtLXRpdGxlJykuaHRtbCgpDQoJCQkJfSk7DQoJCQkJdHJpZ2dlcmVkQWRkT3JSZW1vdmUgPSB0cnVlOw0KCQkJfQ0KDQoJCQlpZih0cmlnZ2VyZWRBZGRPclJlbW92ZSkgew0KCQkJCWZpbHRlci50cmlnZ2VyKHNldHRpbmdzLmNoYW5nZUZpbHRlckV2ZW50TmFtZSk7DQoJCQl9DQoJCX0sDQoJCV9pbml0ID0gZnVuY3Rpb24ob3B0aW9ucykgew0KCQkJaWYoIXRoaXMuZGF0YShfY29udGV4dEtleSkpIHsNCgkJCQl0aGlzLmRhdGEoX2NvbnRleHRLZXksIHRydWUpOw0KCQkJCXZhciBzZXR0aW5ncyA9ICQuZm4uZmlsdGVyU2VsZWN0b3IuZGVmYXVsdHM7DQoJCQkJLy9yZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkgew0KCQkJCXZhciBzZWxlY3RvciA9IHRoaXMuc2VsZWN0b3I7DQoJCQkJJChzZWxlY3RvciArICcgbGkubmF2aWdhdGlvbi1pdGVtIGEnKQ0KCQkJCQkubGl2ZSgnY2xpY2snLCBmdW5jdGlvbihlKXsNCgkJCQkJCXZhciB0YXJnZXQgPSAkKGUudGFyZ2V0KTsNCgkJCQkJCV91bmlxdWVseVNlbGVjdCgNCgkJCQkJCQl0YXJnZXQuY2xvc2VzdCgnZGl2LnNlYXJjaC1maWx0ZXInKSwNCgkJCQkJCQl0YXJnZXQuY2xvc2VzdCgnbGknKS5hdHRyKHNldHRpbmdzLnZhbHVlQXR0cmlidXRlKSwNCgkJCQkJCQlzZXR0aW5ncyk7DQoJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCX0pOw0KCQkJCSQoc2VsZWN0b3IgKyAnIC5uYXZpZ2F0aW9uLWxpc3QtZm9vdGVyIGEnKQ0KCQkJCQkubGl2ZSgnY2xpY2snLCBmdW5jdGlvbihlKXsNCgkJCQkJCXZhciBoaWRkZW5GaWx0ZXJzID0gJChlLnRhcmdldCkuY2xvc2VzdCgnZGl2LnNlYXJjaC1maWx0ZXInKS5maW5kKCdsaTpoaWRkZW4nKTsNCgkJCQkJCWhpZGRlbkZpbHRlcnMuc2xpY2UoMCwzKS5lYWNoKGZ1bmN0aW9uKCl7DQoJCQkJCQkJJCh0aGlzKS5zbGlkZURvd24oMjAwKTsNCgkJCQkJCX0pOw0KCQkJCQkJdmFyIHJlbWFpbmluZ0hpZGRlbkNvdW50ID0gaGlkZGVuRmlsdGVycy5sZW5ndGggLSAzOw0KCQkJCQkJaWYocmVtYWluaW5nSGlkZGVuQ291bnQgPD0gMCkgew0KCQkJCQkJCSQoZS50YXJnZXQpLnNsaWRlVXAoMjAwKTsNCgkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJJChlLnRhcmdldCkuaHRtbChvcHRpb25zLnZpZXdNb3JlVGV4dC5yZXBsYWNlKC9cezBcfS9naSwgcmVtYWluaW5nSGlkZGVuQ291bnQpKTsNCgkJCQkJCX0NCgkJCQkJCXJldHVybiBmYWxzZTsNCgkJCQkJfSk7DQoJCQl9DQoJCQlyZXR1cm4gdGhpczsNCgkJfTsNCgl2YXIgYXBpID0gew0KCQl2YWw6IGZ1bmN0aW9uKHZhbHVlKSB7DQoJCQl2YXIgc2V0dGluZ3MgPSAkLmZuLmZpbHRlclNlbGVjdG9yLmRlZmF1bHRzOw0KCQkJaWYodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykgew0KCQkJCV91bmlxdWVseVNlbGVjdCh0aGlzLCB2YWx1ZSwgc2V0dGluZ3MpOw0KCQkJfQ0KCQkJcmV0dXJuIF9nZXRDdXJyZW50U2VsZWN0aW9uKHRoaXMsIHNldHRpbmdzKTsNCgkJfQ0KCX07DQoJJC5mbi5maWx0ZXJTZWxlY3RvciA9IGZ1bmN0aW9uKG1ldGhvZCkgew0KCQlpZihtZXRob2QgaW4gYXBpKSB7DQoJCQlyZXR1cm4gYXBpW21ldGhvZF0uYXBwbHkodGhpcywgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKSk7DQoJCX0gZWxzZSBpZiAodHlwZW9mIG1ldGhvZCA9PT0gJ29iamVjdCcgfHwgIW1ldGhvZCkgew0KCQkJcmV0dXJuIF9pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7DQoJCX0NCgkJcmV0dXJuIHRoaXM7DQoJfTsNCgkkLmV4dGVuZCgkLmZuLmZpbHRlclNlbGVjdG9yLCB7DQoJCWRlZmF1bHRzOiB7DQoJCQlzZWxlY3RlZENsYXNzOiAnc2VsZWN0ZWQnLA0KCQkJYWRkRmlsdGVyRXZlbnROYW1lOiAnZmlsdGVyQWRkJywNCgkJCXJlbW92ZUZpbHRlckV2ZW50TmFtZTogJ2ZpbHRlclJlbW92ZScsDQoJCQljaGFuZ2VGaWx0ZXJFdmVudE5hbWU6ICdmaWx0ZXJDaGFuZ2UnLA0KCQkJbmFtZUF0dHJpYnV0ZTogJ2RhdGEtZmlsdGVybmFtZScsDQoJCQl2YWx1ZUF0dHJpYnV0ZTogJ2RhdGEtZmlsdGVydmFsdWUnDQoJCX0NCgl9KTsNCg0KfShqUXVlcnkpKTsNCg0KDQovKiB0YWdMaXN0DQoNCjxkaXYgY2xhc3M9ImJyZWFkY3J1bWItbGlzdC13cmFwcGVyIj4NCgk8ZGl2IGNsYXNzPSJicmVhZGNydW1iLWxpc3QtaGVhZGVyIj5GaWx0ZXIgQnk8L2Rpdj4NCgk8ZGl2IGNsYXNzPSJicmVhZGNydW1iLWxpc3QiPg0KCQk8c3BhbiBjbGFzcz0iYnJlYWRjcnVtYi1pdGVtIj48c3Bhbj5CbG9nczwvc3Bhbj48YSBocmVmPSIjIj54PC9hPjwvc3Bhbj4NCgkJPHNwYW4gY2xhc3M9ImJyZWFkY3J1bWItaXRlbSI+PHNwYW4+R3JvdXAgQSBOYW1lPC9zcGFuPjxhIGhyZWY9IiMiPng8L2E+PC9zcGFuPg0KCTwvZGl2Pg0KCTxkaXYgY2xhc3M9ImJyZWFkY3J1bWItbGlzdC1mb290ZXIiPjwvZGl2Pg0KPC9kaXY+DQoNCg0KPHNwYW4gY2xhc3M9ImJyZWFkY3J1bWItaXRlbSI+PHNwYW4+QmxvZ3M8L3NwYW4+PGEgaHJlZj0iIyI+eDwvYT48L3NwYW4+DQo8c3BhbiBjbGFzcz0ic2VwYXJhdG9yIj48L3NwYW4+DQo8c3BhbiBjbGFzcz0iYnJlYWRjcnVtYi1pdGVtIj48c3Bhbj5Hcm91cCBBIE5hbWU8L3NwYW4+PGEgaHJlZj0iIyI+eDwvYT48L3NwYW4+DQoNCm1ldGhvZHM6DQoJYWRkVGFnKG5hbWUsdmFsdWUpDQoJcmVtb3ZlVGFnKG5hbWUpDQpldmVudHM6DQoJdGFnUmVtb3ZlDQoJCW5hbWUNCg0KbGl2ZS1oYW5kbGVzIGNsaWNrcyBpbnRlcm5hbGx5DQoNCiovDQooZnVuY3Rpb24oJCl7DQoJdmFyIHN1cHBvcnRzQWR2YW5jZWRBbmltYXRpb24gPSAkLmJyb3dzZXIud2Via2l0IHx8ICQuYnJvd3Nlci5tb3ppbGxhOw0KCXZhciByZW1vdmVUYWcgPSBmdW5jdGlvbih0YWcpIHsNCgkJCXRhZw0KCQkJCS5maW5kKCdhJykucmVtb3ZlKCkuZW5kKCkNCgkJCQkuY3NzKHsNCgkJCQkJb3ZlcmZsb3c6ICdoaWRkZW4nLA0KCQkJCQl3aGl0ZVNwYWNlOidub3dyYXAnDQoJCQkJfSk7DQoJCQlpZihzdXBwb3J0c0FkdmFuY2VkQW5pbWF0aW9uKSB7DQoJCQkJdGFnLmFuaW1hdGUoDQoJCQkJCXsNCgkJCQkJCW9wYWNpdHk6IDAsDQoJCQkJCQl3aWR0aDogMCwNCgkJCQkJCXBhZGRpbmdMZWZ0OiAwLA0KCQkJCQkJcGFkZGluZ1JpZ2h0OiAwDQoJCQkJCX0sDQoJCQkJCTMwMCwNCgkJCQkJZnVuY3Rpb24oKXsNCgkJCQkJCXZhciBwYXJlbnQgPSB0YWcucGFyZW50KCk7DQoJCQkJCQl0YWcucmVtb3ZlKCk7DQoJCQkJCQlyZU9yZGVyKHBhcmVudC5maW5kKCdzcGFuLmJyZWFkY3J1bWItaXRlbScpLCBwYXJlbnQucGFyZW50KCkuZmluZCgnZGl2LmJyZWFkY3J1bWItbGlzdC1oZWFkZXInKSk7DQoJCQkJCX0NCgkJCQkpOw0KCQkJfSBlbHNlIHsNCgkJCQl2YXIgcGFyZW50ID0gdGFnLnBhcmVudCgpOw0KCQkJCXRhZy5yZW1vdmUoKTsNCgkJCQlyZU9yZGVyKHBhcmVudC5maW5kKCdzcGFuLmJyZWFkY3J1bWItaXRlbScpLCBwYXJlbnQucGFyZW50KCkuZmluZCgnZGl2LmJyZWFkY3J1bWItbGlzdC1oZWFkZXInKSk7DQoJCQl9DQoJCX0sDQoJCWFkZFRhZyA9IGZ1bmN0aW9uKHNldHRpbmdzLCB3cmFwcGVyLCB0YWdEYXRhKSB7DQoJCQl2YXIgbmV3VGFnID0gJCgnPHNwYW4gY2xhc3M9ImJyZWFkY3J1bWItaXRlbSIgJytzZXR0aW5ncy5uYW1lQXR0cmlidXRlKyc9IicrdGFnRGF0YS5uYW1lKyciICcrc2V0dGluZ3MudmFsdWVBdHRyaWJ1dGUrJz0iJyt0YWdEYXRhLnZhbHVlKyciPjxzcGFuPicrdGFnRGF0YS5kaXNwbGF5TmFtZSsnPC9zcGFuPjxhIGhyZWY9IiMiPng8L2E+PC9zcGFuPicpOw0KCQkJbmV3VGFnLmNzcyh7IG9wYWNpdHk6IDAgfSkuYXBwZW5kVG8od3JhcHBlcik7DQoJCQlyZU9yZGVyKG5ld1RhZy5wYXJlbnQoKS5maW5kKCdzcGFuLmJyZWFkY3J1bWItaXRlbScpLCB3cmFwcGVyLnBhcmVudCgpLmZpbmQoJ2Rpdi5icmVhZGNydW1iLWxpc3QtaGVhZGVyJykpOw0KCQkJaWYoc3VwcG9ydHNBZHZhbmNlZEFuaW1hdGlvbikgew0KCQkJCW5ld1RhZy5hbmltYXRlKHsgb3BhY2l0eTogMSB9LCAzMDApOw0KCQkJfSBlbHNlIHsNCgkJCQluZXdUYWcuY3NzKHsgb3BhY2l0eTogMSB9KTsNCgkJCX0NCgkJfSwNCgkJaW5pdCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsNCgkJCXZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHt9LCAkLmZuLnRhZ0xpc3QuZGVmYXVsdHMsIG9wdGlvbnMgfHwge30pOw0KCQkJcmV0dXJuICQodGhpcy5zZWxlY3RvciArICcgYScpLmxpdmUoJ2NsaWNrJywgZnVuY3Rpb24oZSwgZGF0YSl7DQoJCQkJdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ3NwYW4nKSwNCgkJCQkJbmFtZSA9IHRhcmdldC5hdHRyKHNldHRpbmdzLm5hbWVBdHRyaWJ1dGUpOw0KCQkJCXJlbW92ZVRhZyh0YXJnZXQpOw0KCQkJCSQoZG9jdW1lbnQpLnRyaWdnZXIoc2V0dGluZ3MudGFnUmVtb3ZlZEV2ZW50LCBuYW1lKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KTsNCgkJfSwNCgkJcmVPcmRlciA9IGZ1bmN0aW9uKHRhZ3MsIGhlYWRlcikgew0KCQkJaWYodGFncy5sZW5ndGggPiAwKSB7DQoJCQkJaGVhZGVyLnNob3coKTsNCgkJCX0gZWxzZSB7DQoJCQkJaGVhZGVyLmhpZGUoKTsNCgkJCX0NCgkJCXRhZ3MuZWFjaChmdW5jdGlvbihpbmRleCl7DQoJCQkJJCh0aGlzKS5jc3Moew0KCQkJCQlwb3NpdGlvbjogJ3JlbGF0aXZlJywNCgkJCQkJekluZGV4OiAoMTAwIC0gaW5kZXgpDQoJCQkJfSk7DQoJCQl9KTsNCgkJfTsNCgl2YXIgYXBpID0gew0KCQlhZGRUYWc6IGZ1bmN0aW9uKHRhZ0RhdGEpIHsNCgkJCWFkZFRhZygkLmZuLnRhZ0xpc3QuZGVmYXVsdHMsIHRoaXMuZmluZCgnZGl2LmJyZWFkY3J1bWItbGlzdCcpLCB0YWdEYXRhKTsNCgkJCXJldHVybiB0aGlzOw0KCQl9LA0KCQlyZW1vdmVUYWc6IGZ1bmN0aW9uKG5hbWUpIHsNCgkJCXRoaXMNCgkJCQkuZmluZCgnc3Bhbi5icmVhZGNydW1iLWl0ZW1bJyskLmZuLnRhZ0xpc3QuZGVmYXVsdHMubmFtZUF0dHJpYnV0ZSsnPSInK25hbWUrJyJdJykNCgkJCQkuZWFjaChmdW5jdGlvbigpew0KCQkJCQlyZW1vdmVUYWcoJCh0aGlzKSk7DQoJCQkJfSk7DQoJCQlyZXR1cm4gdGhpczsNCgkJfQ0KCX07DQoJJC5mbi50YWdMaXN0ID0gZnVuY3Rpb24obWV0aG9kKSB7DQoJCWlmKG1ldGhvZCBpbiBhcGkpIHsNCgkJCXJldHVybiBhcGlbbWV0aG9kXS5hcHBseSh0aGlzLCBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTsNCgkJfSBlbHNlIGlmICh0eXBlb2YgbWV0aG9kID09PSAnb2JqZWN0JyB8fCAhbWV0aG9kKSB7DQoJCQlyZXR1cm4gaW5pdC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOw0KCQl9DQoJCXJldHVybiB0aGlzOw0KCX07DQoJJC5mbi50YWdMaXN0LmRlZmF1bHRzID0gew0KCQl0YWdSZW1vdmVkRXZlbnQ6ICd0YWdSZW1vdmUnLA0KCQluYW1lQXR0cmlidXRlOiAnZGF0YS1maWx0ZXJuYW1lJywNCgkJdmFsdWVBdHRyaWJ1dGU6ICdkYXRhLWZpbHRlcnZhbHVlJw0KCX07DQp9KGpRdWVyeSkpOw0KDQoNCg0KKGZ1bmN0aW9uKCQpew0KCXZhciBzdXBwb3J0c0FkdmFuY2VkQW5pbWF0aW9uID0gJC5icm93c2VyLndlYmtpdCB8fCAkLmJyb3dzZXIubW96aWxsYTsNCgl2YXIgZGlzYWJsZUZvcm0gPSBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQljb250ZXh0LmNvbnRlbnRXcmFwcGVyLmNzcyh7IHBvc2l0aW9uOiAncmVsYXRpdmUnIH0pOw0KCQkJY29udGV4dC5vdmVybGF5ID0gJCgnPGRpdj48L2Rpdj4nKQ0KCQkJCS5jc3Moew0KCQkJCQliYWNrZ3JvdW5kQ29sb3I6ICcjZmZmJywNCgkJCQkJcG9zaXRpb246ICdhYnNvbHV0ZScsDQoJCQkJCXdpZHRoOiBjb250ZXh0LmNvbnRlbnRXcmFwcGVyLndpZHRoKCkgKyAncHgnLA0KCQkJCQloZWlnaHQ6IGNvbnRleHQuY29udGVudFdyYXBwZXIuaGVpZ2h0KCkgKyAncHgnLA0KCQkJCQl0b3A6ICcwcHgnLA0KCQkJCQl6SW5kZXg6IDEwMDAsDQoJCQkJCW9wYWNpdHk6IDAsDQoJCQkJCWN1cnNvcjogJ2RlZmF1bHQnDQoJCQkJfSkNCgkJCQkuYXBwZW5kVG8oY29udGV4dC5jb250ZW50V3JhcHBlcik7DQoJCQlpZihzdXBwb3J0c0FkdmFuY2VkQW5pbWF0aW9uKSB7DQoJCQkJY29udGV4dC5vdmVybGF5LmFuaW1hdGUoeyBvcGFjaXR5OiAwLjMgfSwgMjAwKTsNCgkJCX0gZWxzZSB7DQoJCQkJY29udGV4dC5vdmVybGF5LmNzcyh7IG9wYWNpdHk6IDAuMyB9KTsNCgkJCX0NCgkJfSwNCgkJZW5hYmxlRm9ybSA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJCWlmKCEhY29udGV4dC5vdmVybGF5KSB7DQoJCQkJaWYoc3VwcG9ydHNBZHZhbmNlZEFuaW1hdGlvbikgew0KCQkJCQljb250ZXh0Lm92ZXJsYXkNCgkJCQkJCS5hbmltYXRlKHsgb3BhY2l0eTogMCB9LCB7DQoJCQkJCQkJZHVyYXRpb246IDIwMCwNCgkJCQkJCQljb21wbGV0ZTogZnVuY3Rpb24oKXsNCgkJCQkJCQkJY29udGV4dC5vdmVybGF5LmhpZGUoKTsNCgkJCQkJCQl9DQoJCQkJCQl9KTsNCgkJCQl9IGVsc2Ugew0KCQkJCQljb250ZXh0Lm92ZXJsYXkuY3NzKHsgb3BhY2l0eTogMCB9KS5oaWRlKCk7DQoJCQkJfQ0KCQkJfQ0KCQl9LA0KCQkvLyBwZXJmb3JtcyBhIHNlYXJjaCBxdWVyeQ0KCQlwZXJmb3JtUXVlcnkgPSBmdW5jdGlvbihjb250ZXh0LCBxdWVyeSwgdHJhbnNpdGlvbikgew0KCQkJLy8gd29ya2Fyb3VuZCBmb3IgSUUgaXNzdWUgdG8gcmUtc2V0IHRoZSBzb3J0IHNlbGVjdGlvbiBhZnRlciBxdWVyeQ0KCQkJdmFyIHNvcnQgPSBxdWVyeS5zb3J0IHx8ICIiOw0KCQkJdmFyIGFqYXhRdWVyeSA9IHt9Ow0KCQkJJC5lYWNoKHF1ZXJ5LCBmdW5jdGlvbihrZXksIHZhbHVlKXsNCgkJCQlpZihrZXkuaW5kZXhPZigncGknKSA9PT0gMCkgew0KCQkJCQlhamF4UXVlcnlba2V5XSA9IHZhbHVlOw0KCQkJCX0gZWxzZSB7DQoJCQkJCWFqYXhRdWVyeVsnd18nICsga2V5XSA9IHZhbHVlOw0KCQkJCX0NCgkJCX0pOw0KCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJdXJsOiBjb250ZXh0LnNlYXJjaFVybCwNCgkJCQlkYXRhOiBhamF4UXVlcnksDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCgkJCQkJZW5hYmxlRm9ybShjb250ZXh0KTsNCgkJCQkJcmV2ZWFsUmVzdWx0cyhjb250ZXh0LCByZXNwb25zZSwgdHJhbnNpdGlvbik7DQoJCQkJCWJpbmRBc2tGb3JtSGFuZGxlcnMoY29udGV4dCk7DQoJCQkJCXVwZGF0ZVJzc0xpbmtzKGNvbnRleHQsIHF1ZXJ5KTsNCgkJCQkJLy8gd29ya2Fyb3VuZCBmb3IgSUUgaXNzdWUgdG8gcmUtc2V0IHRoZSBzb3J0IHNlbGVjdGlvbiBhZnRlciBxdWVyeQ0KCQkJCQkkKGNvbnRleHQuc2VhcmNoU29ydFNlbGVjdCkudmFsKHNvcnQpOw0KCQkJCX0NCgkJCX0pOw0KCQl9LA0KCQlibGVuZFJlc3VsdEl0ZW1Ub0V4aXN0aW5nID0gZnVuY3Rpb24oY29udGV4dCwgc2VsZWN0b3IsIHRyYW5zaXRpb24pIHsNCgkJCXZhciBleGlzdGluZ0l0ZW0gPSBjb250ZXh0DQoJCQkJLmNvbnRlbnRXcmFwcGVyDQoJCQkJLmZpbmQoc2VsZWN0b3IpOw0KCQkJdmFyIG5ld0l0ZW0gPSBjb250ZXh0DQoJCQkJLnJlc3VsdEhvbGRlcg0KCQkJCS5maW5kKHNlbGVjdG9yKTsNCgkJCS8vIG9ubHkgcGVyZm9ybSB0cmFuc2l0aW9uIGlmIHRoZSBuZXcgY29udGVudCBpcyBhY3R1YWxseSBkaWZmZXJlbnQNCgkJCWlmKGV4aXN0aW5nSXRlbS5odG1sKCkgIT09IG5ld0l0ZW0uaHRtbCgpKSB7DQoJCQkJbmV3SXRlbQ0KCQkJCQkuaGlkZSgpDQoJCQkJCS5pbnNlcnRBZnRlcihleGlzdGluZ0l0ZW0pOw0KCQkJCWlmKCEhdHJhbnNpdGlvbikgew0KCQkJCQlleGlzdGluZ0l0ZW0NCgkJCQkJCS5nbG93VHJhbnNpdGlvbihuZXdJdGVtLCB0cmFuc2l0aW9uKTsNCgkJCQl9IGVsc2Ugew0KCQkJCQlleGlzdGluZ0l0ZW0ucmVtb3ZlKCk7DQoJCQkJCW5ld0l0ZW0uc2hvdygpOw0KCQkJCX0NCgkJCX0NCgkJfSwNCgkJZXhjbHVkZU5vbkZhY2V0ZWRUYWdGaWx0ZXJzID0gZnVuY3Rpb24odGFnRmlsdGVycywgc2VhcmNoUmVzcG9uc2UpIHsNCgkJCXZhciBmdWxsUmVzcG9uc2UgPSAkKHNlYXJjaFJlc3BvbnNlKTsNCgkJCSQoJy5icmVhZGNydW1iLWl0ZW0nLCB0YWdGaWx0ZXJzKS5lYWNoKGZ1bmN0aW9uKCl7DQoJCQkJdmFyIGZpbHRlciA9ICQodGhpcyk7DQoJCQkJaWYoJCgnZGl2LnNlYXJjaC1maWx0ZXJbZGF0YS1maWx0ZXJuYW1lPSInK2ZpbHRlci5hdHRyKCdkYXRhLWZpbHRlcm5hbWUnKSsnIl0gbGknLCBmdWxsUmVzcG9uc2UpLmxlbmd0aCA9PT0gMCkgew0KCQkJCQlmaWx0ZXIucmVtb3ZlKCk7DQoJCQkJfQ0KCQkJfSk7DQoJCQlyZXR1cm4gdGFnRmlsdGVyczsNCgkJfSwNCgkJY29udGFpblNhbWVUYWdzID0gZnVuY3Rpb24oY3VycmVudEZpbHRlcnMsIHJlc3BvbnNlRmlsdGVycywgcmVzcG9uc2UpIHsNCgkJCXRhZ0ZpbHRlcnNCID0gZXhjbHVkZU5vbkZhY2V0ZWRUYWdGaWx0ZXJzKHJlc3BvbnNlRmlsdGVycywgcmVzcG9uc2UpOw0KCQkJdmFyIGZ1bGxSZXNwb25zZSA9ICQocmVzcG9uc2UpOw0KCQkJdmFyIGl0ZW1zQSA9IHt9LCBpdGVtc0IgPSB7fSwgbWF0Y2hlcyA9IHRydWU7DQoJCQkkKCcuYnJlYWRjcnVtYi1pdGVtJywgY3VycmVudEZpbHRlcnMpLmVhY2goZnVuY3Rpb24oKXsNCgkJCQl2YXIgaXRlbSA9ICQodGhpcyk7DQoJCQkJaXRlbXNBW2l0ZW0uYXR0cignZGF0YS1maWx0ZXJuYW1lJyldID0gaXRlbS5hdHRyKCdkYXRhLWZpbHRlcnZhbHVlJyk7DQoJCQl9KTsNCgkJCSQoJy5icmVhZGNydW1iLWl0ZW0nLCB0YWdGaWx0ZXJzQikuZWFjaChmdW5jdGlvbigpew0KCQkJCXZhciBpdGVtID0gJCh0aGlzKTsNCgkJCQlpdGVtc0JbaXRlbS5hdHRyKCdkYXRhLWZpbHRlcm5hbWUnKV0gPSBpdGVtLmF0dHIoJ2RhdGEtZmlsdGVydmFsdWUnKTsNCgkJCX0pOw0KCQkJJC5lYWNoKGl0ZW1zQSwgZnVuY3Rpb24oa2V5LCB2YWx1ZSl7DQoJCQkgICBpZigodHlwZW9mIGl0ZW1zQltrZXldID09PSAndW5kZWZpbmVkJykgfHwgKGl0ZW1zQVtrZXldICE9PSBpdGVtc0Jba2V5XSkpIHsNCgkJCQkgICBtYXRjaGVzID0gZmFsc2U7DQoJCQkJICAgcmV0dXJuIGZhbHNlOw0KCQkJICAgfQ0KCQkJfSk7DQoJCQlpZighbWF0Y2hlcykgew0KCQkJCXJldHVybiBtYXRjaGVzOw0KCQkJfQ0KCQkJJC5lYWNoKGl0ZW1zQiwgZnVuY3Rpb24oa2V5LCB2YWx1ZSl7DQoJCQkgICBpZigodHlwZW9mIGl0ZW1zQVtrZXldID09PSAndW5kZWZpbmVkJykgfHwgKGl0ZW1zQltrZXldICE9PSBpdGVtc0Fba2V5XSkpIHsNCgkJCQkgICBtYXRjaGVzID0gZmFsc2U7DQoJCQkJICAgcmV0dXJuIGZhbHNlOw0KCQkJICAgfQ0KCQkJfSk7DQoJCQlyZXR1cm4gbWF0Y2hlczsNCgkJfSwNCgkJcmV2ZWFsUmVzdWx0cyA9IGZ1bmN0aW9uKGNvbnRleHQsIHJlc3BvbnNlLCB0cmFuc2l0aW9uKSB7DQoJCQkvLyB0cmFuc2l0aW9uLmFuaW1hdGUgPSBmYWxzZTsNCgkJCWlmKCF0cmFuc2l0aW9uLmFuaW1hdGUpIHsNCgkJCQljb250ZXh0LmNvbnRlbnRXcmFwcGVyLmh0bWwocmVzcG9uc2UpOw0KCQkJCWlmIChjb250ZXh0LmNvbnRlbnRXcmFwcGVyLmZpbmQoJ2Rpdi5zZWFyY2gtZmFjZXQtZmlsdGVycyAubmF2aWdhdGlvbi1saXN0JykubGVuZ3RoID09IDApIHsNCgkJCQkJY29udGV4dC5jb250ZW50V3JhcHBlci5maW5kKCdkaXYuZmlsdGVyLWhlYWRpbmctd3JhcHBlcicpLnNsaWRlVXAoMCk7DQoJCQkJfQ0KCQkJfSBlbHNlIHsNCgkJCQl2YXIgY3VycmVudFRhZ3NGaWx0ZXJzID0gJChjb250ZXh0LnRhZ3MpOw0KCQkJCXZhciByZXNwb25zZVRhZ0ZpbHRlcnMgPSAkKHJlc3BvbnNlKS5maW5kKCcuYnJlYWRjcnVtYi1saXN0LXdyYXBwZXInKTsNCgkJCQl2YXIgaWRlbnRpY2FsID0gY29udGFpblNhbWVUYWdzKGN1cnJlbnRUYWdzRmlsdGVycywgcmVzcG9uc2VUYWdGaWx0ZXJzLCByZXNwb25zZSk7DQoJCQkJaWYoIWlkZW50aWNhbCkgew0KCQkJCQljdXJyZW50VGFnc0ZpbHRlcnMucmVwbGFjZVdpdGgocmVzcG9uc2VUYWdGaWx0ZXJzKTsNCgkJCQl9DQoNCgkJCQljb250ZXh0LnJlc3VsdEhvbGRlci5odG1sKHJlc3BvbnNlKTsNCgkJCQlibGVuZFJlc3VsdEl0ZW1Ub0V4aXN0aW5nKGNvbnRleHQsICdkaXYuc2VhcmNoLWZhY2V0LWZpbHRlcnMnKTsNCgkJCQlibGVuZFJlc3VsdEl0ZW1Ub0V4aXN0aW5nKGNvbnRleHQsICdkaXYuc2VhcmNoLXJlc3VsdHMnLA0KCQkJCQlzdXBwb3J0c0FkdmFuY2VkQW5pbWF0aW9uID8geyBkdXJhdGlvbjogMzAwLCB0eXBlOiB0cmFuc2l0aW9uLmRpcmVjdGlvbiwgcmVzaXplOiBmYWxzZSB9IDogbnVsbCk7DQoJCQkJYmxlbmRSZXN1bHRJdGVtVG9FeGlzdGluZyhjb250ZXh0LCAnZGl2LmZpbHRlci1kYXRhJywNCgkJCQkJeyBkdXJhdGlvbjogMjAwLCB0eXBlOiAnc2xpZGVVcCcsIHJlc2l6ZTogZmFsc2UgfSk7DQoNCgkJCQlpZiAoY29udGV4dC5jb250ZW50V3JhcHBlci5maW5kKCdkaXYuc2VhcmNoLWZhY2V0LWZpbHRlcnMgLm5hdmlnYXRpb24tbGlzdCcpLmxlbmd0aCA9PSAwKSB7DQoJCQkJCWNvbnRleHQuY29udGVudFdyYXBwZXIuZmluZCgnZGl2LmZpbHRlci1oZWFkaW5nLXdyYXBwZXInKS5zbGlkZVVwKDIwMCk7DQoJCQkJfSBlbHNlIHsNCgkJCQkJY29udGV4dC5jb250ZW50V3JhcHBlci5maW5kKCdkaXYuZmlsdGVyLWhlYWRpbmctd3JhcHBlcicpLnNsaWRlRG93bigyMDApOw0KCQkJCX0NCgkJCX0NCgkJfSwNCgkJY29uc3RydWN0UXVlcnlGcm9tRmlsdGVycyA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJCXZhciBxdWVyeSA9IHsNCgkJCQlxOiAkKGNvbnRleHQuc2VhcmNoVGV4dElucHV0KS52YWwoKSwNCgkJCQlzb3J0OiAkKGNvbnRleHQuc2VhcmNoU29ydFNlbGVjdCkudmFsKCksDQoJCQkJZGVmYXVsdEFza0ZvcnVtSWQ6IGNvbnRleHQuZGVmYXVsdEFza0ZvcnVtSWQNCgkJCX07DQoJCQlxdWVyeVtjb250ZXh0LnBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5XSA9IDE7DQoJCQkkKGNvbnRleHQuZmlsdGVycykuZWFjaChmdW5jdGlvbigpew0KCQkJCXZhciBmaWx0ZXIgPSAkKHRoaXMpLmZpbHRlclNlbGVjdG9yKCd2YWwnKTsNCgkJCQlpZighIWZpbHRlci52YWx1ZSkgew0KCQkJCQlxdWVyeVtmaWx0ZXIubmFtZV0gPSBmaWx0ZXIudmFsdWU7DQoJCQkJCXF1ZXJ5W2ZpbHRlci5uYW1lICsgJ1Zpc2libGUnXSA9IGZpbHRlci52aXNpYmxlOw0KCQkJCX0NCgkJCX0pOw0KCQkJcmV0dXJuIHF1ZXJ5Ow0KCQl9LA0KCQljb25zdHJ1Y3RSc3NGaWx0ZXJGcm9tUXVlcnkgPSBmdW5jdGlvbihjb250ZXh0LCBxdWVyeSkgew0KCQkJdmFyIHBhdHRlcm4gPSAiIjsNCgkJCXZhciBkYXRlU3RyaW5ncyA9IHsNCgkJCQljdXJyZW50OiBjb250ZXh0LmN1cnJlbnREYXRlLA0KCQkJCXdlZWtBZ286IGNvbnRleHQud2Vla0Fnb0RhdGUsDQoJCQkJbW9udGhBZ286IGNvbnRleHQubW9udGhBZ29EYXRlLA0KCQkJCXllYXJBZ286IGNvbnRleHQueWVhckFnb0RhdGUNCgkJCX07DQoJCQl2YXIgYXBwZW5kID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSkgew0KCQkJCWlmKHBhdHRlcm4ubGVuZ3RoID4gMCkgew0KCQkJCQlwYXR0ZXJuICs9ICImIjsNCgkJCQl9DQoJCQkJcGF0dGVybiArPSAoa2V5ICsgIj0iICsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5lbmNvZGUodmFsdWUpKTsNCgkJCX07DQoJCQkkLmVhY2gocXVlcnksIGZ1bmN0aW9uKGtleSwgdmFsdWUpew0KCQkJCWlmKGtleSA9PT0gInEiKSB7DQoJCQkJCWFwcGVuZCgncScsIHZhbHVlKTsNCgkJCQl9IGVsc2UgaWYoa2V5ID09PSAiY2F0ZWdvcnkiKSB7DQoJCQkJCWFwcGVuZCgnY2F0ZWdvcnknLCB2YWx1ZSk7DQoJCQkJfSBlbHNlIGlmKGtleSA9PT0gImdyb3VwIikgew0KCQkJCQlhcHBlbmQoJ2dyb3VwcycsIHZhbHVlKTsNCgkJCQl9IGVsc2UgaWYoa2V5ID09PSAiYXV0aG9yIikgew0KCQkJCQlhcHBlbmQoJ3VzZXJzJywgdmFsdWUpOw0KCQkJCX0gZWxzZSBpZihrZXkgPT09ICJ0YWciKSB7DQoJCQkJCWFwcGVuZCgndGFncycsIHZhbHVlKTsNCgkJCQl9IGVsc2UgaWYoa2V5ID09PSAiZGF0ZSIpIHsNCgkJCQkJaWYodmFsdWUgPT09ICdwYXN0X3dlZWsnKSB7DQoJCQkJCQlhcHBlbmQoJ3NkYXRlJywgZGF0ZVN0cmluZ3Mud2Vla0Fnbyk7DQoJCQkJCQlhcHBlbmQoJ2VkYXRlJywgZGF0ZVN0cmluZ3MuY3VycmVudCk7DQoJCQkJCX0gZWxzZSBpZih2YWx1ZSA9PT0gJ3Bhc3RfbW9udGgnKSB7DQoJCQkJCQlhcHBlbmQoJ3NkYXRlJywgZGF0ZVN0cmluZ3MubW9udGhBZ28pOw0KCQkJCQkJYXBwZW5kKCdlZGF0ZScsIGRhdGVTdHJpbmdzLmN1cnJlbnQpOw0KCQkJCQl9IGVsc2UgaWYodmFsdWUgPT09ICdwYXN0X3llYXInKSB7DQoJCQkJCQlhcHBlbmQoJ3NkYXRlJywgZGF0ZVN0cmluZ3MueWVhckFnbyk7DQoJCQkJCQlhcHBlbmQoJ2VkYXRlJywgZGF0ZVN0cmluZ3MuY3VycmVudCk7DQoJCQkJCX0NCgkJCQl9IGVsc2UgaWYoa2V5ID09PSAic29ydCIpIHsNCgkJCQkJYXBwZW5kKCdzb3J0JywgdmFsdWUpOw0KCQkJCX0NCgkJCX0pOw0KCQkJcmV0dXJuIHBhdHRlcm47DQoJCX0sDQoJCXVwZGF0ZVJzc0xpbmtzID0gZnVuY3Rpb24oY29udGV4dCwgc2VhcmNoUXVlcnkpIHsNCgkJCXZhciByc3NRdWVyeSA9IGNvbnN0cnVjdFJzc0ZpbHRlckZyb21RdWVyeShjb250ZXh0LCBzZWFyY2hRdWVyeSk7DQoJCQl2YXIgcnNzVXJsID0gY29udGV4dC5zZWFyY2hSc3NVcmwucmVwbGFjZSgvUVVFUlkvLCByc3NRdWVyeSk7DQoJCQkkKGNvbnRleHQucnNzTGluaykuYXR0cignaHJlZicsIHJzc1VybCk7DQoJCQkkKCdoZWFkJykNCgkJCQkuZmluZCgnbGlua1t0eXBlPSJhcHBsaWNhdGlvbi9yc3MreG1sIl0nKQ0KCQkJCS5yZW1vdmUoKQ0KCQkJCS5lbmQoKQ0KCQkJCS5hcHBlbmQoJzxsaW5rIHJlbD0iYWx0ZXJuYXRlIiB0eXBlPSJhcHBsaWNhdGlvbi9yc3MreG1sIiB0aXRsZT0iJyArIGNvbnRleHQuc2VhcmNoUnNzVGl0bGUgKyAnIiBocmVmPSInICsgcnNzVXJsICsgJyI+Jyk7DQoJCX0sDQoJCWNvbnN0cnVjdEFuZEV4ZWN1dGVRdWVyeSA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCgkJCS8vIGJ1aWxkIHF1ZXJ5DQoJCQl2YXIgcXVlcnkgPSBjb25zdHJ1Y3RRdWVyeUZyb21GaWx0ZXJzKGNvbnRleHQpOw0KCQkJLy8gcHVzaCBxdWVyeSB0byBoYXNoDQoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24udXJsLmhhc2hEYXRhKHF1ZXJ5LCB0cnVlKTsNCgkJfSwNCgkJc3VibWl0UXVlc3Rpb24gPSBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQoJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvZm9ydW1zL3tGb3J1bUlkfS90aHJlYWRzLmpzb24nLA0KCQkJCWRhdGE6IHsNCgkJCQkJRm9ydW1JZDogJChjb250ZXh0LmFza0ZvcnVtKS52YWwoKSwNCgkJCQkJU3ViamVjdDogJChjb250ZXh0LmFza1RpdGxlKS5ldm9sdXRpb25Db21wb3NlcigndmFsJyksDQoJCQkJCUJvZHk6ICQoY29udGV4dC5hc2tCb2R5KS5ldm9sdXRpb25Db21wb3NlcigndmFsJyksDQoJCQkJCUlzUXVlc3Rpb246IHRydWUNCgkJCQl9LA0KCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJCXdpbmRvdy5sb2NhdGlvbiA9IHJlc3BvbnNlLlRocmVhZC5Vcmw7DQoJCQkJfQ0KCQkJfSk7DQoJCX0sDQoJCWJpbmRBc2tGb3JtSGFuZGxlcnMgPSBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQkkKGNvbnRleHQuYXNrQm9keSkub25lKCdmb2N1cycsIGZ1bmN0aW9uKCl7DQoJCQkJJCh0aGlzKS5ldm9sdXRpb25Db21wb3Nlcih7DQoJCQkJCXBsdWdpbnM6IFsnbWVudGlvbnMnLCdoYXNodGFncyddDQoJCQkJfSk7DQoJCQl9KTsNCgkJCSQoY29udGV4dC5hc2tUaXRsZSkub25lKCdmb2N1cycsIGZ1bmN0aW9uKCl7DQoJCQkJJCh0aGlzKS5ldm9sdXRpb25Db21wb3Nlcih7DQoJCQkJCXBsdWdpbnM6IFsnaGFzaHRhZ3MnXQ0KCQkJCX0pOw0KCQkJfSk7DQoJCQkkKGNvbnRleHQuYXNrU3VibWl0KQ0KCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCgkJCQkJb25WYWxpZGF0ZWQ6IGZ1bmN0aW9uKGlzVmFsaWQsIGJ1dHRvbkNsaWNrZWQsIGMpIHsNCgkJCQkJCWlmIChpc1ZhbGlkKSB7DQoJCQkJCQkJJChjb250ZXh0LmFza1N1Ym1pdCkucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7DQoJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCSQoY29udGV4dC5hc2tTdWJtaXQpLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KCQkJCQkJfQ0KCQkJCQl9LA0KCQkJCQlvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgew0KCQkJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOw0KCQkJCQkJJChlLnRhcmdldCkuYWRkQ2xhc3MoJ2Rpc2FibGVkJykuYXR0cignZGlzYWJsZWQnLCdkaXNhYmxlZCcpOw0KCQkJCQkJc3VibWl0UXVlc3Rpb24oY29udGV4dCk7DQoJCQkJCX0NCgkJCQl9KQ0KCQkJCS5ldm9sdXRpb25WYWxpZGF0aW9uKCdhZGRGaWVsZCcsDQoJCQkJCWNvbnRleHQuYXNrQm9keSwgeyByZXF1aXJlZDogdHJ1ZSB9LA0KCQkJCQkkKGNvbnRleHQuYXNrQm9keSkuY2xvc2VzdCgnLmZpZWxkLWl0ZW0nKS5maW5kKCcuZmllbGQtaXRlbS12YWxpZGF0aW9uJyksIG51bGwpDQoJCQkJLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywNCgkJCQkJY29udGV4dC5hc2tUaXRsZSwgeyByZXF1aXJlZDogdHJ1ZSB9LA0KCQkJCQkkKGNvbnRleHQuYXNrVGl0bGUpLmNsb3Nlc3QoJy5maWVsZC1pdGVtJykuZmluZCgnLmZpZWxkLWl0ZW0tdmFsaWRhdGlvbicpLCBudWxsKTsNCg0KCQl9LA0KCQlzZXR1cEFza0Zvcm0gPSBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQkvLyBoYW5kbGUgZGlzcGxheSBvZiBhc2sgZm9ybSB3aGVuIGxpbmsgY2xpY2tlZA0KCQkJJChjb250ZXh0LmFza0Zvcm1MaW5rKS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKGUsIGRhdGEpIHsNCgkJCQkvLyByZW5kZXIgYW4gYXNrIGZvcm0sIHBhc3NpbmcgdGhlIGZvcm0gZGF0YSBhYm91dA0KCQkJCS8vIHRoZSBjdXJyZW50IGZpbHRlciByZXN1bHRzIHNvIGl0IGJ1aWxkIGFuIGFzc29jaWF0ZWQgZm9ydW0gbGlzdA0KCQkJCXZhciBhc2tMaW5rID0gJCh0aGlzKTsNCgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCQkJdXJsOiBjb250ZXh0LmFza0Zvcm1VcmwsDQoJCQkJCWRhdGE6IHsNCgkJCQkJCXdfcXVlcnk6IGFza0xpbmsuYXR0cignZGF0YS1xdWVyeXRleHQnKSwNCgkJCQkJCXdfZmllbGRGaWx0ZXJzOiBhc2tMaW5rLmF0dHIoJ2RhdGEtZmllbGRmaWx0ZXInKSwNCgkJCQkJCXdfZGF0ZVJhbmdlRmlsdGVyczogYXNrTGluay5hdHRyKCdkYXRhLWRhdGVmaWx0ZXInKSwNCgkJCQkJCXdfZGVmYXVsdEFza0ZvcnVtSWQ6IGNvbnRleHQuZGVmYXVsdEFza0ZvcnVtSWQNCgkJCQkJfSwNCgkJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCgkJCQkJCS8vIGhpZGUgdGhlIGxpbmsuDQoJCQkJCQkkKGNvbnRleHQuYXNrRm9ybUxpbmspLnNsaWRlVXAoMjAwKTsNCgkJCQkJCS8vIHNob3cgdGhlIG5ld2x5IHJldHVybmVkIGZvcm0NCgkJCQkJCSQoY29udGV4dC5hc2tGb3JtV3JhcHBlcikNCgkJCQkJCQkuaGlkZSgpDQoJCQkJCQkJLmh0bWwocmVzcG9uc2UpDQoJCQkJCQkJLmNzcyh7d2lkdGg6NTAwfSkNCgkJCQkJCQkuc2xpZGVEb3duKDIwMCk7DQoJCQkJCQkvLyBhY3RpdmF0ZSB0aGUgZm9ybQ0KCQkJCQkJYmluZEFza0Zvcm1IYW5kbGVycyhjb250ZXh0KTsNCgkJCQkJfQ0KCQkJCX0pOw0KCQkJCXJldHVybiBmYWxzZTsNCgkJCX0pOw0KCQl9LA0KCQkvLyBnZXRzIHRoZSBjdXJyZW50IHF1ZXJ5LCBwZXJmb3JtcyBuZWNlc3NhcnkgbGVnYWN5IHF1ZXJ5c3RyaW5nIHN1cHBvcnQgdHJhbnNmb3Jtcw0KCQlnZXRDdXJyZW50UXVlcnkgPSBmdW5jdGlvbigpew0KCQkJdmFyIHF1ZXJ5ID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5oYXNoRGF0YSgpOw0KCQkJaWYodHlwZW9mIHF1ZXJ5LmN0eXBlcyAhPT0gJ3VuZGVmaW5lZCcpIHsNCgkJCQlpZiAocXVlcnkuY3R5cGVzLmluZGV4T2YoJywnKSA8IDApIHsNCgkJCQkJcXVlcnkuY2F0ZWdvcnkgPSBxdWVyeS5jdHlwZXM7DQoJCQkJfQ0KCQkJCWRlbGV0ZSBxdWVyeS5jdHlwZXM7DQoJCQl9DQoJCQlpZiAodHlwZW9mIHF1ZXJ5LnVzZXJzICE9PSAndW5kZWZpbmVkJyAmJiAhcXVlcnkucSkgew0KCQkJCXF1ZXJ5LnEgPSAndXNlcjonICsgcXVlcnkudXNlcnM7DQoJCQkJZGVsZXRlIHF1ZXJ5LnVzZXJzOw0KCQkJfQ0KCQkJcmV0dXJuIHF1ZXJ5Ow0KCQl9Ow0KCXZhciBhcGkgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQljb250ZXh0LmNvbnRlbnRXcmFwcGVyID0gJChjb250ZXh0LmNvbnRlbnRXcmFwcGVyKTsNCgkJCWNvbnRleHQucmVzdWx0SG9sZGVyID0gJChjb250ZXh0LnJlc3VsdEhvbGRlcik7DQoJCQkvLyBwZXJmb3JtIGluaXRpYWwgcXVlcnkgZnJvbSBjdXJyZW50IHVybA0KCQkJcGVyZm9ybVF1ZXJ5KGNvbnRleHQsIGdldEN1cnJlbnRRdWVyeSgpLCB7IGFuaW1hdGU6IGZhbHNlIH0pOw0KCQkJLy8gc2V0IHVwIHJpY2ggY2xpZW50LXNpZGUgaXRlbXM6DQoJCQkvLyB0YWcgbGlzdA0KCQkJJChjb250ZXh0LnRhZ3MpLnRhZ0xpc3QoKTsNCgkJCS8vIGZpbHRlcnMNCgkJCSQoY29udGV4dC5maWx0ZXJzKS5maWx0ZXJTZWxlY3Rvcih7IHZpZXdNb3JlVGV4dDogY29udGV4dC52aWV3TW9yZVRleHQgfSk7DQoNCgkJCSQod2luZG93KS5iaW5kKA0KCQkJCSdkaXJlY3RlZEhhc2hDaGFuZ2UnLA0KCQkJCXsNCgkJCQkJY3VzdG9tQ29tcGFyZXI6IGZ1bmN0aW9uKHByZXYsIGN1cnIpDQoJCQkJCXsNCgkJCQkJCXByZXYgPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24udXJsLnBhcnNlUXVlcnkocHJldik7DQoJCQkJCQljdXJyID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnVybC5wYXJzZVF1ZXJ5KGN1cnIpOw0KCQkJCQkJaWYodHlwZW9mIHByZXZbY29udGV4dC5wYWdlSW5kZXhRdWVyeVN0cmluZ0tleV0gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjdXJyW2NvbnRleHQucGFnZUluZGV4UXVlcnlTdHJpbmdLZXldICE9PSAndW5kZWZpbmVkJykgew0KCQkJCQkJCWlmKE51bWJlcihwcmV2W2NvbnRleHQucGFnZUluZGV4UXVlcnlTdHJpbmdLZXldKSA8IE51bWJlcihjdXJyW2NvbnRleHQucGFnZUluZGV4UXVlcnlTdHJpbmdLZXldKSkgew0KCQkJCQkJCQlyZXR1cm4gMTsNCgkJCQkJCQl9IGVsc2UgaWYoTnVtYmVyKHByZXZbY29udGV4dC5wYWdlSW5kZXhRdWVyeVN0cmluZ0tleV0pID4gTnVtYmVyKGN1cnJbY29udGV4dC5wYWdlSW5kZXhRdWVyeVN0cmluZ0tleV0pKSB7DQoJCQkJCQkJCXJldHVybiAtMTsNCgkJCQkJCQl9IGVsc2Ugew0KCQkJCQkJCQlyZXR1cm4gMDsNCgkJCQkJCQl9DQoJCQkJCQl9DQoJCQkJCQlyZXR1cm4gMDsNCgkJCQkJfQ0KCQkJCX0sDQoJCQkJZnVuY3Rpb24oZSwgZGF0YSkNCgkJCQl7DQoJCQkJCXZhciBkYXRhID0gZ2V0Q3VycmVudFF1ZXJ5KCk7DQoJCQkJCWlmKHR5cGVvZiBkYXRhWyJxIl0gIT09ICd1bmRlZmluZWQnKSB7DQoJCQkJCQlwZXJmb3JtUXVlcnkoY29udGV4dCwgZGF0YSwgew0KCQkJCQkJCWFuaW1hdGU6IHN1cHBvcnRzQWR2YW5jZWRBbmltYXRpb24sDQoJCQkJCQkJZGlyZWN0aW9uOiAoZGF0YS5kaXJlY3Rpb24gPT09ICdiYWNrd2FyZCcgPyAnc2xpZGVSaWdodCcgOiAnc2xpZGVMZWZ0JykNCgkJCQkJCQl9KTsNCgkJCQkJfQ0KCQkJCX0NCgkJCSk7DQoJCQkvLyBoYW5kbGUgZmlsdGVyL3RhZyBldmVudHMsIGFuZCBub3RpZnkgcmVsYXRlZCBmaWx0ZXJzL3RhZ3MgYXMgd2VsbCBhcyBtb2RpZnkgdGhlIGN1cnJlbnQgcXVlcnkNCgkJCSQoZG9jdW1lbnQpDQoJCQkJLmJpbmQoJ2ZpbHRlckNoYW5nZScsIGZ1bmN0aW9uKGUsIGRhdGEpew0KCQkJCQljb25zdHJ1Y3RBbmRFeGVjdXRlUXVlcnkoY29udGV4dCk7DQoJCQkJfSkNCgkJCQkuYmluZCgnZmlsdGVyQWRkJywgZnVuY3Rpb24oZSwgZGF0YSl7DQoJCQkJCSQoY29udGV4dC50YWdzKS50YWdMaXN0KCdhZGRUYWcnLCBkYXRhKTsNCgkJCQl9KQ0KCQkJCS5iaW5kKCdmaWx0ZXJSZW1vdmUnLCBmdW5jdGlvbihlLCBkYXRhKXsNCgkJCQkJJChjb250ZXh0LnRhZ3MpLnRhZ0xpc3QoJ3JlbW92ZVRhZycsIGRhdGEubmFtZSk7DQoJCQkJfSkNCgkJCQkuYmluZCgndGFnUmVtb3ZlJywgZnVuY3Rpb24oZSwgZGF0YSl7DQoJCQkJCSQoY29udGV4dC5maWx0ZXJzKydbZGF0YS1maWx0ZXJuYW1lPSInK2RhdGErJyJdJykuZmlsdGVyU2VsZWN0b3IoJ3ZhbCcsJycpOw0KCQkJCX0pOw0KCQkJLy8gaGFuZGxlIGVudGVyIHByZXNzZXMgaW4gc2VhcmNoIGJveA0KCQkJJChjb250ZXh0LnNlYXJjaFRleHRJbnB1dCkubGl2ZSgna2V5cHJlc3MnLCBmdW5jdGlvbihlLCBkYXRhKSB7DQoJCQkJaWYoZS53aGljaCA9PT0gMTMpIHsNCgkJCQkJY29uc3RydWN0QW5kRXhlY3V0ZVF1ZXJ5KGNvbnRleHQpOw0KCQkJCQllLnByZXZlbnREZWZhdWx0KCk7DQoJCQkJCWUuc3RvcFByb3BhZ2F0aW9uKCk7DQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9DQoJCQl9KTsNCgkJCS8vIGhhbmRsZSBzZWFyY2ggYnV0dG9uIGNsaWNrcw0KCQkJJChjb250ZXh0LnNlYXJjaFN1Ym1pdElucHV0KS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKGUsIGRhdGEpew0KCQkJCWNvbnN0cnVjdEFuZEV4ZWN1dGVRdWVyeShjb250ZXh0KTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KTsNCgkJCS8vIGhhbmRsZSByZXN1bHQgc29ydCBjaGFuZ2VzDQoJCQkkKGNvbnRleHQuc2VhcmNoU29ydFNlbGVjdCkubGl2ZSgnY2hhbmdlJywgZnVuY3Rpb24oZSwgZGF0YSl7DQoJCQkJY29uc3RydWN0QW5kRXhlY3V0ZVF1ZXJ5KGNvbnRleHQpOw0KCQkJfSk7DQoJCQkvLyBoYW5kbGUgcGFnaW5hdGlvbiBsaW5rIGNsaWNrcyAoaW5lcmNlcHQgYW5kIGNvbnZlcnQgdGhlbSB0byBjbGllbnQtc2lkZSBxdWVyeS1tb2RpZnlpbmcgZXZlbnRzKQ0KCQkJJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgZGl2LnNlYXJjaC1yZXN1bHRzIGRpdi5jb250ZW50LWxpc3QtZm9vdGVyIGEnKS5saXZlKCdjbGljaycsIGZ1bmN0aW9uKGUsIGRhdGEpIHsNCgkJCQl2YXIgcGFnZSA9IE51bWJlcigkKHRoaXMpLmF0dHIoJ2hyZWYnKS5zcGxpdCgnPScpWzFdLnNwbGl0KCcjJylbMF0pOw0KCQkJCXZhciBwYWdpbmF0aW9uRGF0YSA9IHt9Ow0KCQkJCXBhZ2luYXRpb25EYXRhW2NvbnRleHQucGFnZUluZGV4UXVlcnlTdHJpbmdLZXldID0gcGFnZTsNCgkJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24udXJsLmhhc2hEYXRhKHBhZ2luYXRpb25EYXRhKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9KTsNCgkJCXNldHVwQXNrRm9ybShjb250ZXh0KTsNCgkJfQ0KCX07DQoNCglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQ0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnNlYXJjaFJlc3VsdHNMaXN0ID0gYXBpOw0KDQp9KGpRdWVyeSkpOw==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_SiteSearch_Name}" version="7.5.0.32466" description="${resource:Core_SiteSearch_Description}" instanceIdentifier="3af92e56f24148e0abb8d8b314389bfd" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="site-search">
		<contentScript>
#set($group = $core_v2_group.Current)

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list"&gt;
	&lt;ul class="field-list"&gt;
		&lt;li class="field-item"&gt;
			&lt;label class="field-item-header query" for="$core_v2_widget.UniqueId('query')"&gt;$core_v2_language.GetResource('Core_SiteSearch_QueryLabel')&lt;/label&gt;
			&lt;span class="field-item-input"&gt;&lt;input type="text" id="$core_v2_widget.UniqueId('query')" length="15" maxlength="64" class="search empty" /&gt;&lt;/span&gt;
		&lt;/li&gt;
		#if ($group.Id != $core_v2_group.Root.Id)
			&lt;li class="field-item"&gt;
				&lt;span class="field-item-input"&gt;
					&lt;a class="internal-link search-options" id="$core_v2_widget.UniqueId('options')" title="$core_v2_language.GetResource('Search_ChangeSearchScope')"&gt;&amp;nbsp;&lt;/a&gt;
				&lt;/span&gt;
			&lt;/li&gt;
		#end
	&lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#if ($group.Id != $core_v2_group.Root.Id)
	&lt;div id="$core_v2_widget.UniqueId('filter-options')" style="display: none;"&gt;
		&lt;div class="field-list-header"&gt;&lt;/div&gt;
		&lt;fieldset class="field-list"&gt;
			&lt;legend class="field-list-description"&gt;$core_v2_language.GetResource('Core_Header_SearchOptions')&lt;/legend&gt;
			&lt;ul class="field-list"&gt;
				&lt;li class="field-item"&gt;
					&lt;label class="field-item-header" for="$core_v2_widget.UniqueId('filter')"&gt;$core_v2_language.GetResource('CF_Search_SearchFilter_Everything')&lt;/label&gt;
					&lt;span class="field-item-input"&gt;&lt;input type="radio" value="" name="$core_v2_widget.UniqueId('filter')" id="$core_v2_widget.UniqueId('filter')" /&gt;&lt;/span&gt;
				&lt;/li&gt;
				&lt;li class="field-item"&gt;
					&lt;label class="field-item-header" for="$core_v2_widget.UniqueId('filter')"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('CF_Search_SearchFilter'), $group.Name)&lt;/label&gt;
					&lt;span class="field-item-input"&gt;&lt;input type="radio" value="$group.Id" name="$core_v2_widget.UniqueId('filter')" id="$core_v2_widget.UniqueId('filter')" /&gt;&lt;/span&gt;
				&lt;/li&gt;
			&lt;/ul&gt;
		&lt;/fieldset&gt;
		&lt;div class="field-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
#end

#registerEndOfPageHtml('telligent.evolution.widgets.siteSearch')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.siteSearch.register({
				searchUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('search.vm'))',
				searchResultsUrl: '$core_v2_encoding.JavascriptEncode($core_v2_urls.Search("%{ QueryString = '{0}' }"))',
				query: jQuery('#$core_v2_widget.UniqueId('query')'),
				optionsLink: jQuery('#$core_v2_widget.UniqueId('options')'),
				optionsContent: jQuery('#$core_v2_widget.UniqueId('filter-options')'),
				filterName: '$core_v2_widget.UniqueId('filter')',
				loading: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Search_Searching'))',
				error: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_Search_Error'))',
				groupId: ''
			});
		});
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_SiteSearch_Name}'))
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_SiteSearch_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Core_SiteSearch_Name">Site - Search</resource><resource name="Core_SiteSearch_Description">Enables searching the entire site or the current group and provides inline results.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Core_SiteSearch_QueryLabel">Search</resource><resource name="Search_ChangeSearchScope">Change Search Scope</resource><resource name="Core_Header_SearchOptions">Search Options</resource><resource name="CF_Search_SearchFilter_Everything">Search Everything</resource><resource name="CF_Search_SearchFilter">Search {0}</resource><resource name="CF_Search_Searching">Searching...</resource><resource name="CF_Search_Error">Search is currently unavailable.</resource><resource name="CF_Search_ShowAll">Show All...</resource><resource name="CF_Search_Other">Other</resource><resource name="CF_Search_NoSearchResults">No results found</resource></language></languageResources>
		<files>
			<file name="search.vm">I3NldCgkc2VhcmNoVGV4dCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19zZWFyY2h0ZXh0JykpDQojc2V0KCRncm91cElkID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2dyb3VwSWQnKSkNCiNzZXQoJHF1ZXJ5U3RyaW5nID0gInE9JGNvcmVfdjJfZW5jb2RpbmcuVXJsRW5jb2RlKCRzZWFyY2hUZXh0KSIpDQoNCiNzZXQoJGNvbGxhcHNlID0gdHJ1ZSkNCiNzZXQoJHF1ZXJ5ID0gIiV7UXVlcnk9JHNlYXJjaFRleHQsUGFnZVNpemU9MTAsQ29sbGFwc2U9JGNvbGxhcHNlfSIpDQojaWYoJGdyb3VwSWQgJiYgJGdyb3VwSWQgIT0gJycpDQoJJHF1ZXJ5LkFkZCgnRmlsdGVycycsICJncm91cDo6JGdyb3VwSWQiKQ0KCSNzZXQoJHF1ZXJ5U3RyaW5nID0gIiRxdWVyeVN0cmluZyZncm91cHM9JGdyb3VwSWQiKQ0KI2VuZA0KDQojc2V0KCRyZXN1bHRzID0gJGNvcmVfdjJfc2VhcmNoUmVzdWx0Lkxpc3QoJHF1ZXJ5KSkNCg0KI2lmICgkcmVzdWx0cy5Db3VudCA+IDApDQoJPGRpdj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3VybHMuU2VhcmNoKCIleyBRdWVyeVN0cmluZyA9ICRxdWVyeVN0cmluZyB9IikpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBzZWFyY2giPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfU2VhcmNoX1Nob3dBbGwnKTwvYT48L2Rpdj4NCg0KCSMjIHJlc3VsdHMgZm9yIGtub3duIGNhdGVnb3JpZXMNCgkjc2V0ICgkc2VhcmNoQ2F0ZWdvcmllcyA9ICRjb3JlX3YyX3NlYXJjaENhdGVnb3J5Lkxpc3QoKSkNCgkjZm9yZWFjaCAoJHNlYXJjaENhdGVnb3J5IGluICRzZWFyY2hDYXRlZ29yaWVzKQ0KDQoJCSNzZXQoJHNob3duSGVhZGVyID0gZmFsc2UpDQoJCSNmb3JlYWNoKCRyZXN1bHQgaW4gJHJlc3VsdHMpDQoJCQkjaWYgKCRyZXN1bHQuQ2F0ZWdvcnkgPT0gJHNlYXJjaENhdGVnb3J5LkNhdGVnb3J5KQ0KCQkJCSNpZiAoISRzaG93bkhlYWRlcikNCgkJCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJCQkJCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1uYW1lIj4kc2VhcmNoQ2F0ZWdvcnkuSHRtbE5hbWU8L2Rpdj4NCgkJCQkJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KCQkJCQkjc2V0KCRzaG93bkhlYWRlciA9IHRydWUpDQoJCQkJI2VuZA0KCQkJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRyZXN1bHQuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1ncm91cCI+PHNwYW4+JHJlc3VsdC5UaXRsZTwvc3Bhbj48L2E+DQoJCQkjZW5kDQoJCSNlbmQNCgkJI2lmICgkc2hvd25IZWFkZXIpDQoJCQk8L3VsPg0KCQkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+DQoJCSNlbmQNCg0KCSNlbmQNCg0KCSMjIHJlc3VsdHMgd2l0aCBubyBrbm93biBjYXRlZ29yeSBncm91cGVkIHVuZGVyICdPdGhlcicNCgkjc2V0KCRzaG93bkhlYWRlciA9IGZhbHNlKQ0KCSNmb3JlYWNoKCRyZXN1bHQgaW4gJHJlc3VsdHMpDQoJCSNzZXQgKCRzZWFyY2hDYXRlZ29yeSA9IGZhbHNlKQ0KCQkjc2V0ICgkc2VhcmNoQ2F0ZWdvcnkgPSAkY29yZV92Ml9zZWFyY2hDYXRlZ29yeS5HZXQoJHJlc3VsdC5DYXRlZ29yeSkpDQoJCSNpZiAoISRzZWFyY2hDYXRlZ29yeSkNCgkJCSNpZiAoISRzaG93bkhlYWRlcikNCgkJCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIj48L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtbmFtZSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX1NlYXJjaF9PdGhlcicpPC9kaXY+DQoJCQkJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KCQkJCSNzZXQoJHNob3duSGVhZGVyID0gdHJ1ZSkNCgkJCSNlbmQNCgkJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRyZXN1bHQuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0Ij48c3Bhbj4kcmVzdWx0LlRpdGxlPC9zcGFuPjwvYT4NCgkJI2VuZA0KCSNlbmQNCgkjaWYgKCRzaG93bkhlYWRlcikNCgkJPC91bD4NCgkJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciI+PC9kaXY+DQoJI2VuZA0KDQojZWxzZQ0KCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfU2VhcmNoX05vU2VhcmNoUmVzdWx0cycpPC9kaXY+DQojZW5kDQo=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciBzaG93T3B0aW9ucyA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJew0KCQloaWRlU2VhcmNoKGNvbnRleHQpOw0KCQljb250ZXh0Lm9wdGlvbnNQb3B1cC5nbG93UG9wVXBQYW5lbCgnc2hvdycsIGNvbnRleHQub3B0aW9uc0xpbmspOw0KCQljb250ZXh0Lm9wdGlvbnNMaW5rLmFkZENsYXNzKCdhY3RpdmUgYWN0aXZlX19pbnRlcm5hbC1saW5rIGFjdGl2ZV9faW50ZXJuYWwtbGlua19fc2VhcmNoLW9wdGlvbnMgYWN0aXZlX19zZWFyY2gtb3B0aW9ucycpOw0KCX0sDQoJaGlkZU9wdGlvbnMgPSBmdW5jdGlvbihjb250ZXh0KQ0KCXsNCgkJaGlkZVNlYXJjaChjb250ZXh0KTsNCgkJY29udGV4dC5vcHRpb25zUG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2hpZGUnKTsNCgkJY29udGV4dC5vcHRpb25zTGluay5yZW1vdmVDbGFzcygnYWN0aXZlIGFjdGl2ZV9faW50ZXJuYWwtbGluayBhY3RpdmVfX2ludGVybmFsLWxpbmtfX3NlYXJjaC1vcHRpb25zIGFjdGl2ZV9fc2VhcmNoLW9wdGlvbnMnKTsNCgl9LA0KCWhpZGVTZWFyY2ggPSBmdW5jdGlvbihjb250ZXh0KQ0KCXsNCgkJY29udGV4dC5zZWFyY2hSZXN1bHRzUG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2hpZGUnKTsNCgl9LA0KCXNob3dMb2FkaW5nID0gZnVuY3Rpb24oY29udGV4dCkNCgl7DQoJCWNvbnRleHQuc2VhcmNoUmVzdWx0c1BvcHVwLmdsb3dQb3BVcFBhbmVsKCdodG1sJywgJzxkaXYgY2xhc3M9Im1lc3NhZ2UgbG9hZGluZyBsb2FkaW5nX19tZXNzYWdlIj4nICsgY29udGV4dC5sb2FkaW5nICsgJzwvZGl2PicpOw0KDQoJCWlmIChjb250ZXh0LnNlYXJjaFJlc3VsdHNQb3B1cC5nbG93UG9wVXBQYW5lbCgnaXNTaG93bicpKQ0KCQl7DQoJCQljb250ZXh0LnNlYXJjaFJlc3VsdHNQb3B1cC5nbG93UG9wVXBQYW5lbCgncmVmcmVzaCcpOw0KCQl9DQoJCWVsc2UNCgkJew0KCQkJY29udGV4dC5zZWFyY2hSZXN1bHRzUG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ3Nob3cnLCBjb250ZXh0LnF1ZXJ5KTsNCgkJfQ0KCX0sDQoJc2VhcmNoID0gZnVuY3Rpb24oY29udGV4dCkNCgl7DQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KCQkJdXJsOiBjb250ZXh0LnNlYXJjaFVybCwNCgkJCWRhdGE6IHsNCgkJCQl3X3NlYXJjaFRleHQ6IGNvbnRleHQucXVlcnkudmFsKCksDQoJCQkJd19ncm91cElkOiAgY29udGV4dC5ncm91cElkDQoJCQl9LA0KCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQl7DQoJCQkJY29udGV4dC5zZWFyY2hSZXN1bHRzUG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2h0bWwnLCByZXNwb25zZSk7DQoJCQkJaWYgKGNvbnRleHQuc2VhcmNoUmVzdWx0c1BvcHVwLmdsb3dQb3BVcFBhbmVsKCdpc1Nob3duJykpDQoJCQkJew0KCQkJCQljb250ZXh0LnNlYXJjaFJlc3VsdHNQb3B1cC5nbG93UG9wVXBQYW5lbCgncmVmcmVzaCcpOw0KCQkJCX0NCgkJCQllbHNlDQoJCQkJew0KCQkJCQljb250ZXh0LnNlYXJjaFJlc3VsdHNQb3B1cC5nbG93UG9wVXBQYW5lbCgnc2hvdycsIGNvbnRleHQucXVlcnkpOw0KCQkJCX0NCgkJCX0sDQoJCQlkZWZhdWx0RXJyb3JNZXNzYWdlOiBjb250ZXh0LmVycm9yLA0KCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQoJCQl7DQoJCQkJY29udGV4dC5zZWFyY2hSZXN1bHRzUG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2h0bWwnLCAnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciBlcnJvcl9fbWVzc2FnZSI+JyArIGRlc2MgKyAnPC9kaXY+Jyk7DQoJCQl9DQoJCX0pOw0KCX0sDQoJY2hlY2tGb3JTZWFyY2hRdWVyeUNoYW5nZSA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJew0KCQljbGVhclRpbWVvdXQoY29udGV4dC5jaGFuZ2VUaW1lb3V0KTsNCg0KCQl2YXIgdmFsdWUgPSBjb250ZXh0LnF1ZXJ5LnZhbCgpOw0KCQlpZiAodmFsdWUgIT09IGNvbnRleHQubGFzdFF1ZXJ5KQ0KCQl7DQoJCQljb250ZXh0Lmxhc3RRdWVyeSA9IHZhbHVlOw0KCQkJY29udGV4dC5sYXN0S2V5Q29kZSA9IC0xOw0KDQoJCQljbGVhclRpbWVvdXQoY29udGV4dC5zZWFyY2hUaW1lb3V0KTsNCg0KCQkJaWYgKGNvbnRleHQubGFzdFF1ZXJ5Lmxlbmd0aCA+IDApDQoJCQl7DQoJCQkJY29udGV4dC5xdWVyeS5yZW1vdmVDbGFzcygnZW1wdHknKTsNCgkJCQlzaG93TG9hZGluZyhjb250ZXh0KTsNCgkJCQljb250ZXh0LnNlYXJjaFRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBzZWFyY2goY29udGV4dCk7IH0sIDQ5OSk7DQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJY29udGV4dC5xdWVyeS5hZGRDbGFzcygnZW1wdHknKTsNCgkJCQloaWRlU2VhcmNoKGNvbnRleHQpOw0KCQkJfQ0KCQl9DQoNCgkJY29udGV4dC5jaGFuZ2VUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2hlY2tGb3JTZWFyY2hRdWVyeUNoYW5nZShjb250ZXh0KTsgfSwgOTkpOw0KCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy5zaXRlU2VhcmNoID0gew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KCQkJY29udGV4dC5zZWFyY2hSZXN1bHRzUG9wdXAgPSAkKCc8ZGl2PjwvZGl2PicpLmdsb3dQb3BVcFBhbmVsKHsNCgkJCQljc3NDbGFzczogJ21lbnUgc2VhcmNoLWNvbnRlbnQgcmVzdWx0cyBtZW51X19yZXN1bHRzIG1lbnVfX3NlYXJjaC1jb250ZW50IG1lbnVfX3Jlc3VsdHNfX3NlYXJjaC1jb250ZW50IHJlc3VsdHNfX3NlYXJjaC1jb250ZW50JywNCgkJCQlwb3NpdGlvbjogJ2Rvd25yaWdodCcsDQoJCQkJekluZGV4OiAxMDAwLA0KCQkJCWhpZGVPbkRvY3VtZW50Q2xpY2s6IHRydWUNCgkJCX0pOw0KDQoJCQlpZiAoY29udGV4dC5vcHRpb25zTGluay5sZW5ndGggPiAwICYmIGNvbnRleHQub3B0aW9uc0NvbnRlbnQubGVuZ3RoID4gMCkNCgkJCXsNCgkJCQljb250ZXh0Lm9wdGlvbnNQb3B1cCA9IGNvbnRleHQub3B0aW9uc0NvbnRlbnQuc2hvdygpLmdsb3dQb3BVcFBhbmVsKHsNCgkJCQkJY3NzQ2xhc3M6ICdtZW51IHNlYXJjaC1jb250ZW50IG9wdGlvbnMgbWVudV9fb3B0aW9ucyBtZW51X3NlYXJjaC1jb250ZW50IG1lbnVfX29wdGlvbnNfX3NlYXJjaC1jb250ZW50IG9wdGlvbnNfX3NlYXJjaC1jb250ZW50JywNCgkJCQkJcG9zaXRpb246ICdkb3dubGVmdCcsDQoJCQkJCXpJbmRleDogMTAwMCwNCgkJCQkJaGlkZU9uRG9jdW1lbnRDbGljazogZmFsc2UNCgkJCQl9KQ0KCQkJCQkuYmluZCgnZ2xvd1BvcFVwUGFuZWxNb3VzZU92ZXInLCBmdW5jdGlvbigpIHsgY29udGV4dC5tb3VzZUluT3B0aW9uc1BvcHVwID0gdHJ1ZTsgfSkNCgkJCQkJLmJpbmQoJ2dsb3dQb3BVcFBhbmVsTW91c2VPdXQnLCBmdW5jdGlvbigpIHsgY29udGV4dC5tb3VzZUluT3B0aW9uc1BvcHVwID0gZmFsc2U7IH0pOw0KDQoJCQkJY29udGV4dC5vcHRpb25zTGluay5jbGljayhmdW5jdGlvbigpDQoJCQkJew0KCQkJCQlpZiAoIWNvbnRleHQub3B0aW9uc1BvcHVwLmdsb3dQb3BVcFBhbmVsKCdpc1Nob3duJykpDQoJCQkJCXsNCgkJCQkJCXNob3dPcHRpb25zKGNvbnRleHQpOw0KCQkJCQl9DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJaGlkZU9wdGlvbnMoY29udGV4dCk7DQoJCQkJCX0NCg0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfSk7DQoNCgkJCQljb250ZXh0Lm9wdGlvbnNQb3B1cC5nbG93UG9wVXBQYW5lbCgnY2hpbGRyZW4nKS5maW5kKCdpbnB1dFtuYW1lPSInICsgY29udGV4dC5maWx0ZXJOYW1lICsgJyJdJykuY2xpY2soZnVuY3Rpb24oKQ0KCQkJCXsNCgkJCQkJaGlkZU9wdGlvbnMoY29udGV4dCk7DQoJCQkJCWlmICgkKHRoaXMpLmlzKCc6Y2hlY2tlZCcpKQ0KCQkJCQl7DQoJCQkJCQljb250ZXh0Lmdyb3VwSWQgPSAkKHRoaXMpLnZhbCgpOw0KCQkJCQl9DQoJCQkJCWNvbnRleHQucXVlcnkuZm9jdXMoKTsNCgkJCQl9KS5maWx0ZXIoJzpbdmFsdWU9IicgKyBjb250ZXh0Lmdyb3VwSWQgKyAnIl0nKS5hdHRyKCdjaGVja2VkJywgdHJ1ZSk7DQoJCQl9DQoNCgkJCWNvbnRleHQucXVlcnkNCgkJCQkuYXR0cignYXV0b2NvbXBsZXRlJywgJ29mZicpDQoJCQkJLmtleWRvd24oZnVuY3Rpb24oZSkNCgkJCQl7DQoJCQkJCWlmIChlLmtleUNvZGUgPT09IDEzKQ0KCQkJCQl7DQoJCQkJCQljbGVhclRpbWVvdXQoY29udGV4dC5zZWFyY2hUaW1lb3V0KTsNCg0KCQkJCQkJdmFyIHNlbGVjdGVkTGluayA9IGNvbnRleHQuc2VhcmNoUmVzdWx0c1BvcHVwLmdsb3dQb3BVcFBhbmVsKCdjaGlsZHJlbicpLmZpbmQoJ2Euc2VsZWN0ZWQnKTsNCgkJCQkJCWlmIChzZWxlY3RlZExpbmsubGVuZ3RoID4gMCkNCgkJCQkJCXsNCgkJCQkJCQl3aW5kb3cubG9jYXRpb24gPSBzZWxlY3RlZExpbmsuZmlyc3QoKS5hdHRyKCdocmVmJyk7DQoJCQkJCQl9DQoJCQkJCQllbHNlDQoJCQkJCQl7DQoJCQkJCQkJdmFyIHBhcmFtcyA9IHsgcTogY29udGV4dC5xdWVyeS52YWwoKSB9Ow0KCQkJCQkJCQ0KCQkJCQkJCWlmIChjb250ZXh0Lmdyb3VwSWQgPiAwKQ0KCQkJCQkJCXsNCgkJCQkJCQkJcGFyYW1zLmdyb3VwID0gY29udGV4dC5ncm91cElkOw0KCQkJCQkJCX0NCgkJCQkJCQkNCgkJCQkJCQl3aW5kb3cubG9jYXRpb24gPSBjb250ZXh0LnNlYXJjaFJlc3VsdHNVcmwucmVwbGFjZSgvXHswXH0vZ2ksICQucGFyYW0ocGFyYW1zKSkucmVwbGFjZSgvXCsvZ2ksICclMjAnKS5yZXBsYWNlKC8nL2dpLCAnJTI3Jyk7DQoJCQkJCQl9DQoNCgkJCQkJCWhpZGVTZWFyY2goY29udGV4dCk7DQoJCQkJCQljb250ZXh0LnF1ZXJ5LmJsdXIoKTsNCgkJCQkJCXJldHVybiBmYWxzZTsNCgkJCQkJfQ0KCQkJCQllbHNlIGlmIChlLmtleUNvZGUgPT09IDM4KQ0KCQkJCQl7DQoJCQkJCQkvLyB1cA0KCQkJCQkJdmFyIHByZXZpb3VzTm9kZSA9IG51bGw7DQoJCQkJCQljb250ZXh0LnNlYXJjaFJlc3VsdHNQb3B1cC5nbG93UG9wVXBQYW5lbCgnY2hpbGRyZW4nKS5maW5kKCdhJykuZWFjaChmdW5jdGlvbigpDQoJCQkJCQl7DQoJCQkJCQkJaWYgKCQodGhpcykuaGFzQ2xhc3MoJ3NlbGVjdGVkJykpDQoJCQkJCQkJew0KCQkJCQkJCQkkKHRoaXMpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOw0KCQkJCQkJCQlpZiAocHJldmlvdXNOb2RlKQ0KCQkJCQkJCQl7DQoJCQkJCQkJCQkkKHByZXZpb3VzTm9kZSkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQoJCQkJCQkJCX0NCg0KCQkJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCQkJfQ0KCQkJCQkJCWVsc2UNCgkJCQkJCQl7DQoJCQkJCQkJCXByZXZpb3VzTm9kZSA9IHRoaXM7DQoJCQkJCQkJfQ0KCQkJCQkJfSk7DQoNCgkJCQkJCXJldHVybiBmYWxzZTsNCgkJCQkJfQ0KCQkJCQllbHNlIGlmIChlLmtleUNvZGUgPT09IDQwKQ0KCQkJCQl7DQoJCQkJCQkvLyBkb3duDQoJCQkJCQl2YXIgc2VsZWN0TmV4dCA9IGZhbHNlOw0KCQkJCQkJdmFyIGRvbmUgPSBmYWxzZTsNCgkJCQkJCWNvbnRleHQuc2VhcmNoUmVzdWx0c1BvcHVwLmdsb3dQb3BVcFBhbmVsKCdjaGlsZHJlbicpLmZpbmQoJ2EnKS5lYWNoKGZ1bmN0aW9uKCkNCgkJCQkJCXsNCgkJCQkJCQlpZiAoJCh0aGlzKS5oYXNDbGFzcygnc2VsZWN0ZWQnKSkNCgkJCQkJCQl7DQoJCQkJCQkJCXNlbGVjdE5leHQgPSB0cnVlOw0KCQkJCQkJCQkkKHRoaXMpLnJlbW92ZUNsYXNzKCdzZWxlY3RlZCcpOw0KCQkJCQkJCX0NCgkJCQkJCQllbHNlIGlmIChzZWxlY3ROZXh0KQ0KCQkJCQkJCXsNCgkJCQkJCQkJJCh0aGlzKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCgkJCQkJCQkJZG9uZSA9IHRydWU7DQoJCQkJCQkJCXJldHVybiBmYWxzZTsNCgkJCQkJCQl9DQoJCQkJCQl9KTsNCg0KCQkJCQkJaWYgKCFkb25lKQ0KCQkJCQkJew0KCQkJCQkJCWlmIChzZWxlY3ROZXh0KQ0KCQkJCQkJCXsNCgkJCQkJCQkJY29udGV4dC5zZWFyY2hSZXN1bHRzUG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2NoaWxkcmVuJykuZmluZCgnYScpLmxhc3QoKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCgkJCQkJCQl9DQoJCQkJCQkJZWxzZQ0KCQkJCQkJCXsNCgkJCQkJCQkJY29udGV4dC5zZWFyY2hSZXN1bHRzUG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2NoaWxkcmVuJykuZmluZCgnYScpLmZpcnN0KCkuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KDQoJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJCX0NCgkJCQl9KQ0KCQkJCS5mb2N1cyhmdW5jdGlvbigpDQoJCQkJew0KCQkJCQlpZighJCh0aGlzKS5oYXNDbGFzcygnZW1wdHknKSkNCgkJCQkJew0KCQkJCQkJY29udGV4dC5sYXN0S2V5Q29kZSA9IC0xOw0KCQkJCQkJY2xlYXJUaW1lb3V0KGNvbnRleHQuc2VhcmNoVGltZW91dCk7DQoJCQkJCQlzZWFyY2goY29udGV4dCk7DQoJCQkJCX0NCg0KCQkJCQljbGVhclRpbWVvdXQoY29udGV4dC5jaGFuZ2VUaW1lb3V0KTsNCgkJCQkJY29udGV4dC5jaGFuZ2VUaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2hlY2tGb3JTZWFyY2hRdWVyeUNoYW5nZShjb250ZXh0KTsgfSwgOTkpOw0KCQkJCX0pDQoJCQkJLmJsdXIoZnVuY3Rpb24oKQ0KCQkJCXsNCgkJCQkJY2xlYXJUaW1lb3V0KGNvbnRleHQuc2VhcmNoVGltZW91dCk7DQoJCQkJCWNsZWFyVGltZW91dChjb250ZXh0LmNoYW5nZVRpbWVvdXQpOw0KCQkJCX0pOw0KDQoJCQkkKGRvY3VtZW50KS5jbGljayhmdW5jdGlvbigpDQoJCQl7DQoJCQkJaWYgKGNvbnRleHQub3B0aW9uc1BvcHVwICYmIGNvbnRleHQub3B0aW9uc1BvcHVwLmdsb3dQb3BVcFBhbmVsKCdpc1Nob3duJykgJiYgIWNvbnRleHQubW91c2VJbk9wdGlvbnNQb3B1cCkNCgkJCQl7DQoJCQkJCWhpZGVPcHRpb25zKGNvbnRleHQpOw0KCQkJCX0NCgkJCX0pOw0KCQl9DQoJfTsNCn0oalF1ZXJ5KSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_SiteUserNavigation_Name}" version="7.5.0.32466" description="${resource:Core_SiteUserNavigation_Description}" instanceIdentifier="36ff5d3358ec4209ab3b8a85ada9970e" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="site-user-navigation">
		<contentScript>
#set ($links = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('links','Link=UserInformation&amp;amp;Link=Invite&amp;amp;Link=Conversations&amp;amp;Link=Settings&amp;amp;Link=Register&amp;amp;Link=SignIn&amp;amp;Link=SignOut')))
#set ($hasLinks = false)
#set ($user = $core_v2_user.Accessing)
#set ($isRegistered = $core_v2_user.IsRegistered($user.Id))
#set ($isImpersonated = $core_v2_authentication.IsImpersonated())
#set ($impersonator = $core_v2_authentication.Impersonator())
#set ($queueTemplate = 'site-user-navigation-queue-template')
#set ($notificationPreferenceTemplate = 'site-user-navigation-notification-preferences-template')
#set ($bookmarkFilterTemplate = 'site-user-navigation-bookmark-filter-template')
#set ($groupsFilterTemplate = 'site-user-navigation-group-filter-template')
#set ($notificationsUnread = 0)
#set ($conversationsUnread = 0)
#set ($includeJavascript = false)
&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
    #foreach($link in $links.Values('Link'))
        #set($url = false)
        #if ($link == 'BrowseGroups')
            &lt;li class="navigation-item browse-groups"&gt;
                &lt;a href="#" class="internal-link browse-groups" id="$core_v2_widget.UniqueId('browse-groups')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('BrowseGroups')&lt;/a&gt;
            &lt;/li&gt;
            #set($hasLinks = true)
            #set($includeJavascript = true)
        #elseif($link == 'FavoritePlaces' &amp;&amp; $isRegistered)
            &lt;li class="navigation-item favorite-places"&gt;
                &lt;a href="#" class="internal-link favorite-list" id="$core_v2_widget.UniqueId('bookmarks')" title="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Bookmarks'))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Bookmarks')&lt;/a&gt;
            &lt;/li&gt;
            #set ($hasLinks = true)
            #set ($includeJavascript = true)

            ## build dynamic lists of all content types, application types, and container types for filtering
            #set ($allContentTypes = $core_v2_contentType.List())
            #set ($contentTypes = "")
            #set ($applicationContentTypes = "")
            #set ($containerContentTypes = "")
            #foreach ($type in $allContentTypes)
                #if ($core_v2_bookmark.SupportsBookmarks($type.Id))
                    #set ($containerType = false)
                    #set ($containerType = $core_v2_containerType.Get($type.Id))
                    #if ($containerType &amp;&amp; $containerType.Id)
                        #set ($containerContentTypes = "${containerContentTypes}${type.Id}:${type.Name},")
                    #else
                        #set ($applicationType = false)
                        #set ($applicationType = $core_v2_applicationType.Get($type.Id))
                        #if ($applicationType &amp;&amp; $applicationType.Id)
                            #set ($applicationContentTypes = "${applicationContentTypes}${type.Id},")
                        #else
                            #set ($contentTypes = "${contentTypes}${type.Id},")
                        #end
                    #end
                #end
            #end

        #elseif($link == 'Notifications' &amp;&amp; $isRegistered)
            &lt;li class="navigation-item notifications"&gt;
                &lt;a href="#" class="internal-link view-notifications notification-list" id="$core_v2_widget.UniqueId('notifications')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Notifications')&lt;/a&gt;
            &lt;/li&gt;
            #set ($hasLinks = true)
            #set ($includeJavascript = true)
            #set ($options = "%{ IsRead = 'False', PageSize = 1 }")
            #set ($conversationMessageNotificationFilterName = "_Filters_${core_v2_conversationMessage.NotificationTypeId}")
            $options.Add($conversationMessageNotificationFilterName, 'Exclude')
            #set ($notificationsUnread = $core_v2_notification.List($options).TotalCount)
        #elseif($link == 'Register')
            #if (!$isRegistered)
                #set($url = $core_v2_urls.AddUser())
                #if ($url)
                    &lt;li class="navigation-item user-registration"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link user-registration"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('register')&lt;/a&gt;&lt;/li&gt;
                    #set($hasLinks = true)
                #end
            #end
        #elseif($link == 'SignIn')
            #if (!$isRegistered)
                #set($url = $core_v2_urls.Login())
                #if ($url)
                    &lt;li class="navigation-item login"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link login"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('A_Login')&lt;/a&gt;&lt;/li&gt;
                    #set($hasLinks = true)
                #end
            #end
        #elseif($link == 'SignOut')
            #if ($isRegistered)
                #set($url = $core_v2_urls.LogOut())
                #if ($url)
                    &lt;li class="navigation-item logout"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link logout"&gt;&lt;span&gt;&lt;/span&gt;#if($isImpersonated)$core_v2_language.GetResource('StopImpersonating')#else$core_v2_language.GetResource('logout')#end&lt;/a&gt;&lt;/li&gt;
                    #set($hasLinks = true)
                #end
            #end
        #elseif($link == 'UserInformation')
            #if ($isRegistered)
                &lt;li class="navigation-item user-information"&gt;
                    #set($authType = false)
                    #set($authType = $core_v2_authentication.GetLastLoginType())
                    #if ($authType &amp;&amp; $authType != '')
                        #set($oathProvider = false)
                        #set($oathProvider = $core_v2_authentication.GetOAuthProvider($authType))
                        #if ($oathProvider)
                            &lt;span class="oauth-provider"&gt;$core_v2_ui.GetResizedImageHtml($oathProvider.IconUrl, 27, 27, "%{border='0'}")&lt;/span&gt;
                        #end
                    #end
                    #if ($user.ProfileUrl)
                        &lt;span class="avatar"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($user.ProfileUrl)" class="internal-link view-user-profile"&gt;$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 27, 27, "%{border='0', alt=$user.DisplayName}")&lt;/a&gt;&lt;/span&gt;
                    #else
                        &lt;span class="avatar"&gt;$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 27, 27, "%{border='0', alt=$user.DisplayName}")&lt;/span&gt;
                    #end
                    &lt;span class="user-name"&gt;
                        &lt;a href="$core_v2_encoding.HtmlAttributeEncode($user.ProfileUrl)" class="internal-link view-user-profile"&gt;&lt;span&gt;&lt;/span&gt;$user.DisplayName&lt;/a&gt;
                        #set($pendingFriendships = $core_v2_friendship.List("%{RecipientId=$user.Id,FriendshipState='Pending',PageSize=1}"))
                        #if ($pendingFriendships.TotalCount &gt; 0)
                            &lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AdjustQueryString($core_v2_urls.Friends($user.Id), 'Show=Review'))" class="internal-link view-friends-pending" title="$core_v2_language.GetResource('FriendRequest_PendingFriends_Help')"&gt;&lt;span&gt;&lt;/span&gt;($pendingFriendships.TotalCount)&lt;/a&gt;
                        #end
                        #if ($isImpersonated)
                            &lt;span class="user-name impersonator"&gt;($impersonator.DisplayName)&lt;/span&gt;
                        #end
                    &lt;/span&gt;
                &lt;/li&gt;
                #set($hasLinks = true)
            #end
        #elseif($link == 'Invite')
            #set($url = $core_v2_urls.Invite())
            #if ($url)
                &lt;li class="navigation-item invite-user"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link invite-user"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('invite')&lt;/a&gt;&lt;/li&gt;
            #end
        #elseif($link == 'Conversations')
            #if ($isRegistered)
                #set($url = $core_v2_urls.Conversations())
                #if ($url)
                    #set($conversationsUnread = $core_v2_conversation.List("%{PageSize=1,ReadStatus='Unread'}").TotalCount)
                    &lt;li class="navigation-item conversations"&gt;
                        &lt;a href="#" class="internal-link view-conversations" id="$core_v2_widget.UniqueId('conversations')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Conversation_Conversations')&lt;/a&gt;
                    &lt;/li&gt;
                    #set($hasLinks = true)
                #end
            #end
        #elseif($link == 'Settings')
            #set($url = $core_v2_urls.Settings())
            #if ($url)
                &lt;li class="navigation-item settings"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-user-profile"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('settings')&lt;/a&gt;&lt;/li&gt;
                #set($hasLinks = true)
            #end
        #end
    #end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;

#if($hasLinks == false)
    $core_v2_widget.Hide()
#end

#if ($includeJavascript)
    #registerEndOfPageHtml('telligent.evolution.widgets.siteUserLinks')
        &lt;script type="text/html" id="$core_v2_encoding.HtmlAttributeEncode($notificationPreferenceTemplate)"&gt;
            &lt;div class="notification-preference"&gt;
                &lt;span class="description"&gt;$core_v2_language.GetResource('TurnOffQuestion') &lt;strong&gt;&lt;%: notificationTypeName %&gt;&lt;/strong&gt;$core_v2_language.GetResource('TurnOffQuestionSuffix')&lt;/span&gt;
                &lt;a href="#" class="confirm internal-link button submit-button" data-notificationtypeid="&lt;%: notificationTypeId %&gt;"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('TurnOff')&lt;/a&gt;
                &lt;a href="#" class="cancel internal-link button submit-button"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Cancel')&lt;/a&gt;
            &lt;/div&gt;
        &lt;/script&gt;
        &lt;script type="text/html" id="$core_v2_encoding.HtmlAttributeEncode($queueTemplate)"&gt;
            &lt;div&gt;
                &lt;div class="multiple-column-list columns-1"&gt;
                    &lt;div class="multiple-column-item column-1"&gt;
                        &lt;div class="content-list-header"&gt;&lt;/div&gt;
                        &lt;div class="content-list-name"&gt;&lt;%= headingLabel %&gt;&lt;/div&gt;
                        &lt;ul class="content-list"&gt;
                        &lt;/ul&gt;
                        &lt;div class="content-list-footer"&gt;
                            &lt;% if(endlessScroll) { %&gt;
                                &lt;span class="loading" style="display:none;"&gt;$core_v2_language.GetResource('Loading')&lt;/span&gt;
                            &lt;% } %&gt;
                            &lt;% if(showMoreUrl) { %&gt;
                                &lt;a href="&lt;%: showMoreUrl %&gt;" class="internal-link"&gt;&lt;%: showMoreLabel %&gt;&lt;/a&gt;
                            &lt;% } %&gt;
                        &lt;/div&gt;
                    &lt;/div&gt;
                &lt;/div&gt;
            &lt;/div&gt;
        &lt;/script&gt;
        &lt;script type="text/html" id="$core_v2_encoding.HtmlAttributeEncode($bookmarkFilterTemplate)"&gt;
            &lt;div class="navigation-list-header"&gt;&lt;/div&gt;
            &lt;ul class="navigation-list"&gt;
                &lt;% if(contentTypeIds &amp;&amp; contentTypeIds.length &gt; 0) { %&gt;
                    &lt;li class="navigation-item conversations"&gt;
                        &lt;a class="internal-link" href="#" data-contenttypeids="&lt;%: contentTypeIds %&gt;"&gt;$core_v2_language.GetResource('Bookmark_Filter_Content')&lt;/a&gt;
                    &lt;/li&gt;
                &lt;% } %&gt;
                &lt;% if(applicationContentTypeIds &amp;&amp; applicationContentTypeIds.length &gt; 0) { %&gt;
                    &lt;li class="navigation-item conversations"&gt;
                        &lt;a class="internal-link" href="#" data-contenttypeids="&lt;%: applicationContentTypeIds %&gt;"&gt;$core_v2_language.GetResource('Bookmark_Filter_Application')&lt;/a&gt;
                    &lt;/li&gt;
                &lt;% } %&gt;
                &lt;% if(containerTypes &amp;&amp; containerTypes.length &gt; 0) { %&gt;
                    &lt;% foreach(containerTypes, function(containerType) {  %&gt;
                        &lt;li class="navigation-item conversations"&gt;
                            &lt;a class="internal-link" href="#" data-contenttypeids="&lt;%: containerType.id %&gt;"&gt;&lt;%: containerType.name %&gt;&lt;/a&gt;
                        &lt;/li&gt;
                    &lt;% }); %&gt;
                &lt;% } %&gt;
            &lt;/ul&gt;
            &lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
        &lt;/script&gt;
        &lt;script type="text/html" id="$core_v2_encoding.HtmlAttributeEncode($groupsFilterTemplate)"&gt;
            &lt;fieldset class="field-list"&gt;
                &lt;ul class="field-list"&gt;
                    &lt;li class="field-item"&gt;
                        &lt;span class="field-item-input"&gt;
                            &lt;input type="text" placeholder="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Groups_Search'))"&gt;
                        &lt;/span&gt;
                    &lt;/li&gt;
                &lt;/ul&gt;
            &lt;/fieldset&gt;
        &lt;/script&gt;
        &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
    #end
    #registerEndOfPageHtml()
        &lt;script type="text/javascript"&gt;
            #set($DQ = '"')

            #set($newConversationUrl = $core_v2_urls.AddConversation())
            #set($conversationLabel = "$core_v2_language.GetResource('Conversation_Conversations') &lt;a href=${DQ}#${DQ} onclick=${DQ}jQuery.glowModal('$core_v2_encoding.HtmlAttributeEncode($core_v2_encoding.JavascriptEncode($newConversationUrl))',{width: 550,height: 360});return false;${DQ}&gt;$core_v2_language.GetResource('Conversation_Send')&lt;/a&gt;")

            #set($notificationSettingsUrl = $core_v2_urls.Settings())
            #set($notificationsLabel = "$core_v2_language.GetResource('Notifications') &lt;a href=${DQ}${notificationSettingsUrl}${DQ}&gt;$core_v2_language.GetResource('settings')&lt;/a&gt;")

            #set($newGroupUrl = $core_v2_groupUrls.AddGroup($core_v2_group.Current.Id))
            #if ($newGroupUrl)
                #set($groupsLabel = "$core_v2_language.GetResource('Groups') &lt;a href=${DQ}${newGroupUrl}${DQ}&gt;$core_v2_language.GetResource('BrowseGroups_CreateGroup')&lt;/a&gt;")
            #else
                #set($groupsLabel = "$core_v2_language.GetResource('Groups')")
            #end

            jQuery(function(){
                jQuery.telligent.evolution.widgets.siteUserLinks.register({
                    notificationsTemplate: '$core_v2_encoding.JavascriptEncode($queueTemplate)',
                    notificationsUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('notifications.vm'))',
                    notificationsLink: jQuery('#$core_v2_widget.UniqueId('notifications')'),
                    notificationsUnread: $notificationsUnread,
                    notificationsLabel: '$core_v2_encoding.JavascriptEncode($notificationsLabel)',
                    notificationPreferenceTemplate: '$core_v2_encoding.JavascriptEncode($notificationPreferenceTemplate)',
                    notificationssUnreadCountMessageSingular: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Notifications_UnreadCountMessageSingular'))',
                    notificationssUnreadCountMessagePlural: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Notifications_UnreadCountMessagePlural'))',

                    conversationsTemplate: '$core_v2_encoding.JavascriptEncode($queueTemplate)',
                    conversationsUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('conversations.vm'))',
                    conversationsLink: jQuery('#$core_v2_widget.UniqueId('conversations')'),
                    conversationsUnread: $conversationsUnread,
                    conversationsMoreUrl: '$core_v2_encoding.JavascriptEncode($core_v2_urls.Conversations())',
                    conversationsMoreLabel: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Conversations_More'))',
                    conversationNotificationTypeId: '$core_v2_conversationMessage.NotificationTypeId',
                    conversationsLabel: '$core_v2_encoding.JavascriptEncode($conversationLabel)',
                    conversationsUnreadCountMessageSingular: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Conversations_UnreadCountMessageSingular'))',
                    conversationsUnreadCountMessagePlural: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Conversations_UnreadCountMessagePlural'))',

                    bookmarksTemplate: '$core_v2_encoding.JavascriptEncode($queueTemplate)',
                    bookmarksUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('bookmarks.vm'))',
                    bookmarksLink: jQuery('#$core_v2_widget.UniqueId('bookmarks')'),
                    bookmarksMoreUrl: '$core_v2_encoding.JavascriptEncode($core_v2_urls.Favorites($core_v2_user.Accessing.Id))',
                    bookmarksMoreLabel: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Bookmarks_More'))',
                    bookmarksLabel: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Bookmarks'))',
                    bookmarksContentTypes: '$core_v2_encoding.JavascriptEncode($contentTypes)',
                    bookmarksApplicationContentTypes: '$core_v2_encoding.JavascriptEncode($applicationContentTypes)',
                    bookmarksContainerContentTypes: '$core_v2_encoding.JavascriptEncode($containerContentTypes)',
                    bookmarksFilterTemplate: '$core_v2_encoding.JavascriptEncode($bookmarkFilterTemplate)',

                    groupsTemplate: '$core_v2_encoding.JavascriptEncode($queueTemplate)',
                    groupsUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('groups.vm'))',
                    groupsLink: jQuery('#$core_v2_widget.UniqueId('browse-groups')'),
                    groupsMoreUrl: '$core_v2_encoding.JavascriptEncode($core_v2_groupUrls.Home())',
                    groupsMoreLabel: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Groups_More'))',
                    groupsLabel: '$core_v2_encoding.JavascriptEncode($groupsLabel)',
                    groupsSearchLabel: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Groups_Search'))',
                    groupsFilterTemplate: '$core_v2_encoding.JavascriptEncode($groupsFilterTemplate)'
                });
            });
        &lt;/script&gt;
    #end
#end
            </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_SiteUserNavigation_Name}'))
            </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_SiteUserNavigation_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
    &lt;property id="links" resourceName="MediaGalleries_MediaGalleryLinks_Links" dataType="custom" defaultValue="Link=UserInformation&amp;amp;Link=Conversations&amp;amp;Link=Notifications&amp;amp;Link=FavoritePlaces&amp;amp;Link=Invite&amp;amp;Link=Settings&amp;amp;Link=Register&amp;amp;Link=SignIn&amp;amp;Link=SignOut" controlType="Telligent.Evolution.Controls.SortableListControl, Telligent.Evolution.Controls" height="275" key="Link" &gt;
        &lt;propertyValue value="BrowseGroups" resourceName="Core_SiteUserNavigation_Links_BrowseGroups" /&gt;
        &lt;propertyValue value="FavoritePlaces" resourceName="Core_SiteUserNavigation_Links_FavoritePlaces" /&gt;
        &lt;propertyValue value="Register" resourceName="Core_SiteUserNavigation_Links_Register" /&gt;
        &lt;propertyValue value="SignIn" resourceName="Core_SiteUserNavigation_Links_SignIn" /&gt;
        &lt;propertyValue value="SignOut" resourceName="Core_SiteUserNavigation_Links_SignOut" /&gt;
        &lt;propertyValue value="UserInformation" resourceName="Core_SiteUserNavigation_Links_UserInformation" /&gt;
        &lt;propertyValue value="Invite" resourceName="Core_SiteUserNavigation_Links_Invite" /&gt;
        &lt;propertyValue value="Conversations" resourceName="Core_SiteUserNavigation_Links_Conversations" /&gt;
        &lt;propertyValue value="Settings" resourceName="Core_SiteUserNavigation_Links_Settings" /&gt;
        &lt;propertyValue value="Notifications" resourceName="Core_SiteUserNavigation_Links_Notifications" /&gt;
    &lt;/property&gt;
&lt;/propertyGroup&gt;
            </configuration>
		<languageResources><language key="en-us"><resource name="Core_SiteUserNavigation_Name">Site - User Navigation</resource><resource name="Core_SiteUserNavigation_Description">Provides site-level links for users.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="MediaGalleries_MediaGalleryLinks_Links">Select, rearrange, and enable the links to be displayed</resource><resource name="Core_SiteUserNavigation_Links_BrowseGroups">Groups</resource><resource name="Core_SiteUserNavigation_Links_FavoritePlaces">Bookmarks</resource><resource name="Core_SiteUserNavigation_Links_Register">Register</resource><resource name="Core_SiteUserNavigation_Links_SignIn">Sign In</resource><resource name="Core_SiteUserNavigation_Links_SignOut">Sign Out</resource><resource name="Core_SiteUserNavigation_Links_UserInformation">User Information</resource><resource name="Core_SiteUserNavigation_Links_Invite">Invite</resource><resource name="Core_SiteUserNavigation_Links_Conversations">Inbox</resource><resource name="Core_SiteUserNavigation_Links_Settings">Settings</resource><resource name="Core_SiteUserNavigation_Links_Notifications">Notifications</resource><resource name="BrowseGroups">Groups</resource><resource name="FavoritePlaces">Bookmarks</resource><resource name="Notifications">Notifications</resource><resource name="Notifications_None">No notifications. Go get busy in the community!</resource><resource name="register">Join</resource><resource name="A_Login">Sign in </resource><resource name="StopImpersonating">Stop Impersonating</resource><resource name="logout">Sign out</resource><resource name="FriendRequest_PendingFriends_Help">Pending ${friend_propercase} Requests</resource><resource name="invite">Invite</resource><resource name="Conversations_Inbox">Inbox</resource><resource name="Conversation_Conversations">Inbox</resource><resource name="Conversations_More">See More</resource><resource name="Conversations_None">You have no messages.</resource><resource name="Conversation_Send">New Message</resource><resource name="settings">Settings</resource><resource name="BrowseGroups_CreateGroup">Add new group</resource><resource name="BrowseGroups_AndMore">and {0} more...</resource><resource name="BrowseGroups_NoGroups_CreateGroup">
 There are no groups created in this site yet. &lt;a href="{0}"&gt;Click here&lt;/a&gt; to create one!
 </resource><resource name="BrowseGroups_NoGroups">There are no groups created in this site yet.</resource><resource name="BrowseGroups_ViewAll">See More</resource><resource name="BrowseGroups_None_CreateGroup">No groups found, would you like to &lt;a href="{0}" class="internal-link none-create-group"&gt;create a new group&lt;/a&gt;?</resource><resource name="BrowseGroups_None">No groups found.</resource><resource name="Loading">Loading...</resource><resource name="Cancel">Cancel</resource><resource name="TurnOffNotifications">Turn off...</resource><resource name="TurnOff">Confirm</resource><resource name="TurnOffQuestion">Do not notify me when someone</resource><resource name="TurnOffQuestionSuffix">?</resource><resource name="Notifications_UnreadCountMessageSingular">You have {0} unread notification</resource><resource name="Notifications_UnreadCountMessagePlural">You have {0} unread notifications</resource><resource name="Conversations_UnreadCountMessageSingular">You have {0} unread message</resource><resource name="Conversations_UnreadCountMessagePlural">You have {0} unread messages</resource><resource name="Bookmarks">Bookmarks</resource><resource name="Bookmarks_More">See More</resource><resource name="Bookmarks_None">You have no bookmarks.</resource><resource name="Bookmark_Filter_Content">Content</resource><resource name="Bookmark_Filter_Application">Application</resource><resource name="Groups">Groups</resource><resource name="Groups_None">There are no groups created in this site yet. &lt;a href="{0}"&gt;Click here&lt;/a&gt; to create one!</resource><resource name="Groups_More">See More</resource><resource name="Groups_Search">Search groups</resource><resource name="Groups_Search_NoResults">There are no matching groups.</resource></language></languageResources>
		<files>
			<file name="bookmarks.vm">I3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkKI3NldCAoJGNvbnRlbnRUeXBlSWRzID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X2NvbnRlbnRUeXBlSWRzJykpCiNpZiAoJGNvbnRlbnRUeXBlSWRzICYmICRjb250ZW50VHlwZUlkcy5MZW5ndGggPiAwKQogICAgI3NldCAoJGJvb2ttYXJrcyA9ICRjb3JlX3YyX2Jvb2ttYXJrLkxpc3QoIiV7IFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFBhZ2VTaXplID0gMTAsIFNvcnRCeSA9ICdEYXRlJywgU29ydE9yZGVyID0gJ0Rlc2NlbmRpbmcnLCBDb250ZW50VHlwZUlkcyA9ICRjb250ZW50VHlwZUlkcyB9IikpCiNlbHNlCiAgICAjc2V0ICgkYm9va21hcmtzID0gJGNvcmVfdjJfYm9va21hcmsuTGlzdCgiJXsgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgUGFnZVNpemUgPSAxMCwgU29ydEJ5ID0gJ0RhdGUnLCBTb3J0T3JkZXIgPSAnRGVzY2VuZGluZycgfSIpKQojZW5kCiNzZXQgKCRhY2Nlc3NpbmdVc2VyID0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcpCgojc2V0ICgkaGFzTW9yZSA9IGZhbHNlKQojc2V0ICgkY3VycmVudFBhZ2VkUXVhbnRpdHkgPSAoJGJvb2ttYXJrcy5QYWdlSW5kZXggKyAxKSAqICRib29rbWFya3MuUGFnZVNpemUpCiNpZiAoJGJvb2ttYXJrcy5Ub3RhbENvdW50ID4gJGN1cnJlbnRQYWdlZFF1YW50aXR5KQogICAgI3NldCAoJGhhc01vcmUgPSB0cnVlKQojZW5kCgojZm9yZWFjaCAoJGJvb2ttYXJrIGluICRib29rbWFya3MpCiAgICAjIyByZW5kZXIgYm9va21hcmsKICAgICNzZXQgKCRjb250ZW50ID0gZmFsc2UpCiAgICAjc2V0ICgkY29udGVudCA9ICRib29rbWFyay5Db250ZW50KQogICAgI2lmICgkY29udGVudCkKICAgICAgICAjIyBkZXRlcm1pbmUgYW4gaW1hZ2UgdG8gdXNlLiBQcmVmZXJyaW5nIGNvbnRlbnQgb3ZlciBhcHBsaWNhdGlvbiBvdmVyIGNvbnRhaW5lcgogICAgICAgICNzZXQgKCRpbWFnZVVybCA9IGZhbHNlKQogICAgICAgICNzZXQgKCRpbWFnZVVybCA9ICRjb250ZW50LkF2YXRhclVybCkKICAgICAgICAjaWYgKCEkaW1hZ2VVcmwgJiYgJGNvbnRlbnQuQXBwbGljYXRpb24pCiAgICAgICAgICAgICNzZXQgKCRpbWFnZVVybCA9ICRjb250ZW50LkFwcGxpY2F0aW9uLkF2YXRhclVybCkKICAgICAgICAgICAgI2lmICghJGltYWdlVXJsICYmICRjb250ZW50LkFwcGxpY2F0aW9uLkNvbnRhaW5lcikKICAgICAgICAgICAgICAgICNzZXQgKCRpbWFnZVVybCA9ICRjb250ZW50LkFwcGxpY2F0aW9uLkNvbnRhaW5lci5BdmF0YXJVcmwpCiAgICAgICAgICAgICNlbmQKICAgICAgICAjZW5kCiAgICAgICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iIGRhdGEtY29udGVudHVybD0iJGNvbnRlbnQuVXJsIiAjaWYoJGhhc01vcmUpIGRhdGEtaGFzbW9yZT0idHJ1ZSIgI2VuZD4KICAgICAgICAgICAgI2lmICgkaW1hZ2VVcmwpCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+CiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF2YXRhciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvbnRlbnQuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkaW1hZ2VVcmwsIDQwLCA0MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRjb250ZW50Lkh0bWxOYW1lKCdXZWInKSwgUmVzaXplTWV0aG9kPSdab29tQW5kQ3JvcCcsYm9yZGVyPScwJ30iKQogICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPgogICAgICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29udGVudCI+CiAgICAgICAgICAgICAgICAjc2V0ICgkbmFtZSA9ICRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRjb250ZW50Lkh0bWxOYW1lKCdXZWInKSwgNTAsICfigKYnKSkKICAgICAgICAgICAgICAgICNpZiAoJG5hbWUubGVuZ3RoID09IDApCiAgICAgICAgICAgICAgICAgICAgI3NldCAoJG5hbWUgPSAkY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkY29udGVudC5IdG1sRGVzY3JpcHRpb24oJ1dlYicpLCA1MCwgJ+KApicpKQogICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgJG5hbWUKICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgICNpZiAoJGNvbnRlbnQgJiYgJGNvbnRlbnQuQXBwbGljYXRpb24gJiYgJGNvbnRlbnQuQXBwbGljYXRpb24uQ29udGFpbmVyICYmICRjb250ZW50LlVybCAhPSAkY29udGVudC5BcHBsaWNhdGlvbi5Db250YWluZXIuVXJsKQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImNvbnRlbnQtZ3JvdXAiPgogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvbnRlbnQuQXBwbGljYXRpb24uQ29udGFpbmVyLlVybCkiPiRjb250ZW50LkFwcGxpY2F0aW9uLkNvbnRhaW5lci5IdG1sTmFtZSgnV2ViJyk8L2E+CiAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICNlbmQKICAgICAgICA8L2xpPgogICAgI2VuZAojbm9kYXRhCiAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Jvb2ttYXJrc19Ob25lJyk8L2Rpdj4KI2VuZA==</file>
			<file name="conversations.vm">I3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkKI3NldCAoJGNvbnZlcnNhdGlvbnMgPSAkY29yZV92Ml9jb252ZXJzYXRpb24uTGlzdCgiJXsgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgUGFnZVNpemUgPSAxMCB9IikpCiNzZXQgKCRhY2Nlc3NpbmdVc2VyID0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcpCiNzZXQgKCRtYXhQYXJ0aWNpcGFudEF2YXRhcnMgPSA1KQoKI3NldCAoJGhhc01vcmUgPSBmYWxzZSkKI3NldCAoJGN1cnJlbnRQYWdlZFF1YW50aXR5ID0gKCRjb252ZXJzYXRpb25zLlBhZ2VJbmRleCArIDEpICogJGNvbnZlcnNhdGlvbnMuUGFnZVNpemUpCiNpZiAoJGNvbnZlcnNhdGlvbnMuVG90YWxDb3VudCA+ICRjdXJyZW50UGFnZWRRdWFudGl0eSkKICAgICNzZXQgKCRoYXNNb3JlID0gdHJ1ZSkKI2VuZAoKI2ZvcmVhY2ggKCRjb252ZXJzYXRpb24gaW4gJGNvbnZlcnNhdGlvbnMpCiAgICAjc2V0ICgkbGFzdE1lc3NhZ2UgPSAkY29udmVyc2F0aW9uLkxhc3RNZXNzYWdlKQoKICAgICMjIHJlbmRlciBjb252ZXJzYXRpb24KICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtIHdpdGgtYXV0aG9ycyAjaWYoISRjb252ZXJzYXRpb24uSGFzUmVhZCkgdW5yZWFkICNlbmQiIGRhdGEtY29udGVudHVybD0iJGNvbnZlcnNhdGlvbi5VcmwiICNpZigkaGFzTW9yZSkgZGF0YS1oYXNtb3JlPSJ0cnVlIiAjZW5kPgogICAgICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQiPgogICAgICAgICAgICAjc2V0ICgkZXhjZXJwdCA9ICRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRsYXN0TWVzc2FnZS5IdG1sRGVzY3JpcHRpb24oJ1dlYicpLCA1MCwgJ+KApicpKQogICAgICAgICAgICAjaWYgKCRleGNlcnB0Lmxlbmd0aCA9PSAwKQogICAgICAgICAgICAgICAgI3NldCAoJGV4Y2VycHQgPSAkY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkY29udmVyc2F0aW9uLkZpcnN0TWVzc2FnZS5TdWJqZWN0LCA1MCwgJ+KApicpKQogICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICRleGNlcnB0CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4KICAgICAgICAgICAgPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRjb252ZXJzYXRpb24uTGFzdE1lc3NhZ2UuQ3JlYXRlZERhdGUpPC9zcGFuPgogICAgICAgIDwvZGl2PgogICAgICAgICNzZXQgKCRwYXJ0aWNpcGFudHMgPSBmYWxzZSkKICAgICAgICAjc2V0ICgkcGFydGljaXBhbnRzID0gJGNvbnZlcnNhdGlvbi5QYXJ0aWNpcGFudHMpCiAgICAgICAgI3NldCAoJHBhcnRpY2lwYW50TGVuZ3RoV2l0aG91dEFjY2Vzc2luZyA9ICRwYXJ0aWNpcGFudHMuTGVuZ3RoIC0gMSkKICAgICAgICAjaWYgKCRwYXJ0aWNpcGFudHMpCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIgYXV0aG9ycyI+PC9kaXY+CiAgICAgICAgICAgIDx1bCBjbGFzcz0iY29udGVudC1saXN0IGF1dGhvcnMiPgogICAgICAgICAgICAjc2V0ICgkcGFydGljaXBhbnRJbmRleCA9IDApCiAgICAgICAgICAgICNmb3JlYWNoICgkcGFydGljaXBhbnQgaW4gJHBhcnRpY2lwYW50cykKICAgICAgICAgICAgICAgICNpZiAoJGFjY2Vzc2luZ1VzZXIuSWQgIT0gJHBhcnRpY2lwYW50LklkKQogICAgICAgICAgICAgICAgICAgICNzZXQgKCRwYXJ0aWNpcGFudEluZGV4ID0gJHBhcnRpY2lwYW50SW5kZXggKyAxKQogICAgICAgICAgICAgICAgICAgICNpZiAoJHBhcnRpY2lwYW50SW5kZXggPD0gJG1heFBhcnRpY2lwYW50QXZhdGFycykKICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRwYXJ0aWNpcGFudC5Qcm9maWxlVXJsKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcGFydGljaXBhbnQuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRwYXJ0aWNpcGFudC5BdmF0YXJVcmwsIDI0LCAyNCwgIiV7Ym9yZGVyPScwJywgYWx0PSRwYXJ0aWNpcGFudC5EaXNwbGF5TmFtZX0iKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZWxzZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkcGFydGljaXBhbnQuQXZhdGFyVXJsLCAyNCwgMjQsICIle2JvcmRlcj0nMCcsIGFsdD0kcGFydGljaXBhbnQuRGlzcGxheU5hbWV9IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkcGFydGljaXBhbnQuUHJvZmlsZVVybCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBhcnRpY2lwYW50LlByb2ZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSI+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBhcnRpY2lwYW50LkRpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcGFydGljaXBhbnQuRGlzcGxheU5hbWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICAgICA8L2xpPgogICAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgI2VuZAogICAgICAgICAgICA8L3VsPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIGF1dGhvcnMiPgogICAgICAgICAgICAgICAgIyMgaWYgdGhlcmUgYXJlIGFueSBtb3JlIHBhcnRpY2lwYW50cywgaWRlbnRpZnkgdGhlIHJlbWFpbmluZyBjb3VudAoKICAgICAgICAgICAgICAgICNzZXQgKCRvdmVyZmxvd1BhcnRpY2lwYW50Q291bnQgPSAwKQogICAgICAgICAgICAgICAgI2lmICgkcGFydGljaXBhbnRMZW5ndGhXaXRob3V0QWNjZXNzaW5nID4gJG1heFBhcnRpY2lwYW50QXZhdGFycykKICAgICAgICAgICAgICAgICAgICAjc2V0ICgkb3ZlcmZsb3dQYXJ0aWNpcGFudENvdW50ID0gJHBhcnRpY2lwYW50TGVuZ3RoV2l0aG91dEFjY2Vzc2luZyAtICRtYXhQYXJ0aWNpcGFudEF2YXRhcnMpCiAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICAjaWYgKCRvdmVyZmxvd1BhcnRpY2lwYW50Q291bnQgPiAwKQogICAgICAgICAgICAgICAgICAgICsgJG92ZXJmbG93UGFydGljaXBhbnRDb3VudAogICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAjZW5kCiAgICA8L2xpPgojbm9kYXRhCiAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnZlcnNhdGlvbnNfTm9uZScpPC9kaXY+CiNlbmQ=</file>
			<file name="groups.vm">I3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkKI3NldCAoJHF1ZXJ5ID0gZmFsc2UpCiNzZXQgKCRxdWVyeSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19xdWVyeScpKQojc2V0ICgkaXNTZWFyY2hSZXN1bHQgPSBmYWxzZSkKCiNzZXQgKCRuZXdHcm91cFVybCA9IGZhbHNlKQojc2V0ICgkbmV3R3JvdXBVcmwgPSAkY29yZV92Ml9ncm91cFVybHMuQWRkR3JvdXAoJGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCkpCgoKI2lmICgkcXVlcnkgJiYgJHF1ZXJ5Lkxlbmd0aCA+IDApCiAgICAjc2V0ICgkcmVzdWx0cyA9ICRjb3JlX3YyX2dyb3VwLlNlYXJjaCgkcXVlcnksICIleyBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBQYWdlU2l6ZSA9IDEwIH0iKSkKICAgICNzZXQgKCRpc1NlYXJjaFJlc3VsdCA9IHRydWUpCiNlbHNlCiAgICAjc2V0ICgkcmVzdWx0cyA9ICRjb3JlX3YyX2dyb3VwLkxpc3QoIiV7IFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFBhZ2VTaXplID0gMTAsIFNvcnRCeSA9ICdMYXN0VXBkYXRlJywgU29ydE9yZGVyID0gJ0Rlc2NlbmRpbmcnLCBQYXJlbnRHcm91cElkPSRjb3JlX3YyX2dyb3VwLlJvb3QuSWQgfSIpKQojZW5kCiNzZXQgKCRhY2Nlc3NpbmdVc2VyID0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcpCgojc2V0ICgkaGFzTW9yZSA9IGZhbHNlKQojc2V0ICgkY3VycmVudFBhZ2VkUXVhbnRpdHkgPSAoJHJlc3VsdHMuUGFnZUluZGV4ICsgMSkgKiAkcmVzdWx0cy5QYWdlU2l6ZSkKI2lmICgkcmVzdWx0cy5Ub3RhbENvdW50ID4gJGN1cnJlbnRQYWdlZFF1YW50aXR5KQogICAgI3NldCAoJGhhc01vcmUgPSB0cnVlKQojZW5kCgojZm9yZWFjaCAoJHJlc3VsdCBpbiAkcmVzdWx0cykKICAgICNpZiAoJGlzU2VhcmNoUmVzdWx0KQogICAgICAgICNzZXQgKCRncm91cCA9ICRyZXN1bHQuR3JvdXApCiAgICAjZWxzZQogICAgICAgICNzZXQgKCRncm91cCA9ICRyZXN1bHQpCiAgICAjZW5kCgogICAgI3NldCgkc3ViR3JvdXBzID0gJGNvcmVfdjJfZ3JvdXAuTGlzdCgiJXsgUGFyZW50R3JvdXBJZCA9ICRncm91cC5JZCwgUGFnZVNpemUgPSA1LCBTb3J0QnkgPSAnTGFzdFVwZGF0ZScsIFNvcnRPcmRlciA9ICdEZXNjZW5kaW5nJyB9IikpCgogICAgIyMgcmVuZGVyIGdyb3VwCiAgICAjc2V0ICgkaW1hZ2VVcmwgPSBmYWxzZSkKICAgICNzZXQgKCRpbWFnZVVybCA9ICRncm91cC5BdmF0YXJVcmwpCiAgICA8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSIgZGF0YS1jb250ZW50dXJsPSIkZ3JvdXAuVXJsIiAjaWYoJGhhc01vcmUpIGRhdGEtaGFzbW9yZT0idHJ1ZSIgI2VuZD4KICAgICAgICAjaWYgKCRpbWFnZVVybCkKICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF2YXRhciI+CiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZ3JvdXAuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsiPgogICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRpbWFnZVVybCwgNDAsIDQwLCAiJXtib3JkZXI9JzAnLCBhbHQ9JGdyb3VwLk5hbWUsIFJlc2l6ZU1ldGhvZD0nWm9vbUFuZENyb3AnLGJvcmRlcj0nMCd9IikKICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICNlbmQKICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50Ij4KICAgICAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGdyb3VwLk5hbWUsIDUwLCAn4oCmJykKICAgICAgICA8L2Rpdj4KICAgICAgICA8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCBzdWIiPgogICAgICAgICAgICAjZm9yZWFjaCgkc3ViR3JvdXAgaW4gJHN1Ykdyb3VwcykKICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRzdWJHcm91cC5VcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayI+JHN1Ykdyb3VwLk5hbWU8L2E+PC9saT4KICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAjaWYgKCRzdWJHcm91cHMuVG90YWxDb3VudCA+IDUpCiAgICAgICAgICAgICAgICAjc2V0KCRyZW1haW5pbmdJdGVtcyA9ICRzdWJHcm91cHMuVG90YWxDb3VudCAtIDUpCiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZ3JvdXAuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1tb3JlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Jyb3dzZUdyb3Vwc19BbmRNb3JlJyksICRyZW1haW5pbmdJdGVtcy5Ub1N0cmluZygpKTwvYT48L2xpPgogICAgICAgICAgICAgICAgI3NldCgkY3VycmVudEl0ZW1zID0gJGN1cnJlbnRJdGVtcyArIDEpCiAgICAgICAgICAgICNlbmQKICAgICAgICA8L3VsPgogICAgPC9saT4KI25vZGF0YQogICAgI2lmICgkaXNTZWFyY2hSZXN1bHQpCiAgICAgICAgI2lmICgkbmV3R3JvdXBVcmwpCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Jyb3dzZUdyb3Vwc19Ob25lX0NyZWF0ZUdyb3VwJyksICRuZXdHcm91cFVybCk8L2Rpdj4KICAgICAgICAjZWxzZQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19TZWFyY2hfTm9SZXN1bHRzJyk8L2Rpdj4KICAgICAgICAjZW5kCiAgICAjZWxzZQogICAgICAgICNpZigkbmV3R3JvdXBVcmwpCiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRTdHJpbmcoJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19Ob25lJyksICRuZXdHcm91cFVybCk8L2Rpdj4KICAgICAgICAjZWxzZQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0Jyb3dzZUdyb3Vwc19Ob0dyb3VwcycpPC9kaXY+CiAgICAgICAgI2VuZAogICAgI2VuZAojZW5k</file>
			<file name="notifications.vm">I3NldCAoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3BhZ2VJbmRleCcpKSkKI3NldCAoJHBhZ2VTaXplID0gMTApCgojc2V0ICgkb3B0aW9ucyA9ICIleyBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSB9IikKI3NldCAoJGNvbnZlcnNhdGlvbk1lc3NhZ2VOb3RpZmljYXRpb25GaWx0ZXJOYW1lID0gIl9GaWx0ZXJzXyR7Y29yZV92Ml9jb252ZXJzYXRpb25NZXNzYWdlLk5vdGlmaWNhdGlvblR5cGVJZH0iKQokb3B0aW9ucy5BZGQoJGNvbnZlcnNhdGlvbk1lc3NhZ2VOb3RpZmljYXRpb25GaWx0ZXJOYW1lLCAnRXhjbHVkZScpCiNzZXQgKCRub3RpZmljYXRpb25zID0gJGNvcmVfdjJfbm90aWZpY2F0aW9uLkxpc3QoJG9wdGlvbnMpKQoKI3NldCAoJGhhc01vcmUgPSBmYWxzZSkKI3NldCAoJGN1cnJlbnRQYWdlZFF1YW50aXR5ID0gKCRub3RpZmljYXRpb25zLlBhZ2VJbmRleCArIDEpICogJG5vdGlmaWNhdGlvbnMuUGFnZVNpemUpCiNpZiAoJG5vdGlmaWNhdGlvbnMuVG90YWxDb3VudCA+ICRjdXJyZW50UGFnZWRRdWFudGl0eSkKICAgICNzZXQgKCRoYXNNb3JlID0gdHJ1ZSkKI2VuZAoKI2ZvcmVhY2ggKCRub3RpZmljYXRpb24gaW4gJG5vdGlmaWNhdGlvbnMpCiAgICAjc2V0ICgkbGFzdEFjdG9yID0gZmFsc2UpCiAgICAjc2V0ICgkYWN0b3JzID0gJG5vdGlmaWNhdGlvbi5BY3RvcnMpCiAgICAjc2V0ICgkbGFzdEluZGV4ID0gJGFjdG9ycy5Db3VudCAtIDEpCiAgICAjc2V0ICgkbGFzdEFjdG9yID0gJGFjdG9ycy5Ub0FycmF5KCkuZ2V0KCRsYXN0SW5kZXgpLlVzZXIpCiAgICAjc2V0ICgkbm90aWZpY2F0aW9uVHlwZSA9ICRjb3JlX3YyX25vdGlmaWNhdGlvblR5cGUuR2V0KCRub3RpZmljYXRpb24uTm90aWZpY2F0aW9uVHlwZUlkKSkKCiAgICAjaWYgKCRub3RpZmljYXRpb25UeXBlLk5vdGlmaWNhdGlvblR5cGVJZCA9PSAkY29yZV92Ml9yYXRlZEl0ZW0uTm90aWZpY2F0aW9uVHlwZUlkKQogICAgICAgICNzZXQgKCRsYXN0QWN0b3IgPSBmYWxzZSkKICAgICNlbmQKCiAgICAjIyByZW5kZXIgbm90aWZpY2F0aW9uCiAgICAjc2V0ICgkbm90aWZpY2F0aW9uTWVzc2FnZSA9IGZhbHNlKQogICAgI3NldCAoJG5vdGlmaWNhdGlvbk1lc3NhZ2UgPSAkbm90aWZpY2F0aW9uLk1lc3NhZ2UoJ0h0bWwnKSkKICAgICNpZiAoJG5vdGlmaWNhdGlvbk1lc3NhZ2UpCiAgICAgICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gI2lmKCEkbm90aWZpY2F0aW9uLklzUmVhZCkgdW5yZWFkICNlbmQgI2lmICghJGxhc3RBY3Rvcikgbm8tYXV0aG9yICNlbmQiIGRhdGEtY29udGVudHVybD0iJG5vdGlmaWNhdGlvbi5UYXJnZXRVcmwiCiAgICAgICAgICAgIGRhdGEtbm90aWZpY2F0aW9uaWQ9IiRub3RpZmljYXRpb24uTm90aWZpY2F0aW9uSWQiCiAgICAgICAgICAgIGRhdGEtbm90aWZpY2F0aW9udHlwZWlkPSIkbm90aWZpY2F0aW9uLk5vdGlmaWNhdGlvblR5cGVJZCIKICAgICAgICAgICAgZGF0YS1ub3RpZmljYXRpb250eXBlbmFtZT0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbm90aWZpY2F0aW9uVHlwZS5EZXNjcmlwdGlvbikiCiAgICAgICAgICAgICNpZigkaGFzTW9yZSkgZGF0YS1oYXNtb3JlPSJ0cnVlIiAjZW5kPgoKICAgICAgICAgICAgI2lmICgkbGFzdEFjdG9yKQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPgogICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRsYXN0QWN0b3IuUHJvZmlsZVVybCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGxhc3RBY3Rvci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGxhc3RBY3Rvci5BdmF0YXJVcmwsIDQwLCA0MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRsYXN0QWN0b3IuRGlzcGxheU5hbWUsIFJlc2l6ZU1ldGhvZD0nWm9vbUFuZENyb3AnLGJvcmRlcj0nMCd9IikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4KICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UKICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGxhc3RBY3Rvci5BdmF0YXJVcmwsIDQwLCA0MCwgIiV7Ym9yZGVyPScwJywgYWx0PSRsYXN0QWN0b3IuRGlzcGxheU5hbWUsIFJlc2l6ZU1ldGhvZD0nWm9vbUFuZENyb3AnLGJvcmRlcj0nMCd9IikKICAgICAgICAgICAgICAgICAgICAgICAgI2VuZAogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkbGFzdEFjdG9yLlByb2ZpbGVVcmwpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRsYXN0QWN0b3IuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGFzdEFjdG9yLkRpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+CiAgICAgICAgICAgICAgICAgICAgICAgICNlbHNlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkbGFzdEFjdG9yLkRpc3BsYXlOYW1lCiAgICAgICAgICAgICAgICAgICAgICAgICNlbmQKICAgICAgICAgICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgI2VuZAogICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50Ij4KICAgICAgICAgICAgICAgICRub3RpZmljYXRpb25NZXNzYWdlCiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWRhdGUiPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRub3RpZmljYXRpb24uTGFzdFVwZGF0ZWREYXRlKTwvc3Bhbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InByZWZlcmVuY2UiPgogICAgICAgICAgICAgICAgPGEgaHJlZj0iIyIgY2xhc3M9InByZWZlcmVuY2UiIHRpdGxlPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdUdXJuT2ZmTm90aWZpY2F0aW9ucycpKSI+PHNwYW4+PC9zcGFuPlg8L2E+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvbGk+CgogICAgICAgICMjIG1hcmsgaXQgYXMgcmVhZCBub3cgdGhhdCBpdCdzIGJlZW4gZGlzcGxheWVkCiAgICAgICAgI2lmKCEkbm90aWZpY2F0aW9uLklzUmVhZCkKICAgICAgICAgICAgI3NldCAoJHVwZGF0ZWQgPSAkY29yZV92Ml9ub3RpZmljYXRpb24uVXBkYXRlKCRub3RpZmljYXRpb24uTm90aWZpY2F0aW9uSWQsICIleyBNYXJrQXNSZWFkID0gJ1RydWUnIH0iKSkKICAgICAgICAjZW5kCiAgICAjZW5kCiNub2RhdGEKICAgIDxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTm90aWZpY2F0aW9uc19Ob25lJyk8L2Rpdj4KI2VuZAo=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsNCg0KICAgIHZhciBvcGVuUXVldWVDb250ZXh0ID0gbnVsbDsNCg0KICAgIC8vIHJlYWQgcXVldWUgVUkgd2hpY2ggY2FuIHJlbmRlciBlbmRsZXNzbHktc2Nyb2xsaW5nIGl0ZW1zIGluIGEgcG9wdXAgYW5kIG5vdGlmaWNhdGlvbiBidWJibGVzDQogICAgdmFyIFJlYWRRdWV1ZSA9IChmdW5jdGlvbigkKXsNCiAgICAgICAgLy8gcHJpdmF0ZSBzdGF0aWMgc3R1ZmYNCiAgICAgICAgdmFyIHRpdGxlQ291bnQgPSAvXlwoWzAtOV0rXClccysvLA0KICAgICAgICAgICAgdG90YWxUaXRsZUNvdW50ID0gMCwgLy8gdGl0bGUgYmFyIGNvdW50IHdoaWNoIG11bHRpcGxlIGluc3RhbmNlcyBjYW4gY29udHJpYnV0ZSB0bw0KICAgICAgICAgICAgZGVmYXVsdHMgPSB7DQogICAgICAgICAgICAgICAgbGluazogJycsDQogICAgICAgICAgICAgICAgaW5pdGlhbFVucmVhZENvdW50OiAwLA0KICAgICAgICAgICAgICAgIGhlYWRpbmdMYWJlbDogJ1F1ZXVlJywNCiAgICAgICAgICAgICAgICBzaG93Q291bnQ6IHRydWUsDQogICAgICAgICAgICAgICAgZW5kbGVzc1Njcm9sbDogZmFsc2UsDQogICAgICAgICAgICAgICAgc2hvd01vcmVVcmw6IG51bGwsDQogICAgICAgICAgICAgICAgc2hvd01vcmVMYWJlbDogbnVsbCwNCiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogJycsDQogICAgICAgICAgICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICAgICAgICAgICAgdGl0bGVDb3VudDogZmFsc2UsDQogICAgICAgICAgICAgICAgcHJldmlvdXNDb3VudDogMCwNCiAgICAgICAgICAgICAgICB1bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogJ1lvdSBoYXZlIHswfSB1bnJlYWQgaXRlbScsDQogICAgICAgICAgICAgICAgdW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsOiAnWW91IGhhdmUgezB9IHVucmVhZCBpdGVtcycsDQogICAgICAgICAgICAgICAgb25TaG93OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gY2FsbGVkIG9uIGVhY2ggc2hvdw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbihwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLCBjb21wbGV0ZSkgew0KICAgICAgICAgICAgICAgICAgICAvLyBsb2FkIG1vcmUgaXRlbXMNCiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGVhY2ggaXRlbSBsb2FkZWQsIG1hcmtzIGl0IGFzIHJlYWQNCiAgICAgICAgICAgICAgICAgICAgLy8gYWZ0ZXIgaXRlbXMgbG9hZGVkIGFuZCBtYXJrcyBhcyByZWFkLCBnZXRzIG5ldyB1bnJlYWQgY291bnQgYW5kIHVwZGF0ZXMgdmlhIHVwZGF0ZVVucmVhZENvdW50IHZpYSByZWZyZXNoVW5yZWFkQ291bnQNCiAgICAgICAgICAgICAgICAgICAgLy8gY29tcGxldGUoY29udGVudFRvU2hvdykNCiAgICAgICAgICAgICAgICAgICAgY29tcGxldGUoJycpOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgb25SZWZyZXNoVW5yZWFkQ291bnQ6IGZ1bmN0aW9uKGNvbXBsZXRlKSB7DQogICAgICAgICAgICAgICAgICAgIC8vIGdldCBuZXcgdW5yZWFkIGNvdW50DQogICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBpdCB2aWEgY29tcGxldGUoKQ0KICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZSg1KTsNCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIG9uQnVpbGRGaWx0ZXI6IG51bGwgLy8gZnVuY3Rpb24oZmlsdGVyZWQpIHsNCiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiBkZWZpbmVkLCByZXR1cm5zIGEgRE9NIG5vZGUgdG8gYmUgaW5zZXJ0ZWQgYXQgdGhlIHRvcCB3aGljaCBwcmVzZW50ZXMgYSBmaWx0ZXJpbmcgVUkNCiAgICAgICAgICAgICAgICAgICAgLy8gZmlsdGVyZWQoZmlsdGVyKSBjYW4gYmUgY2FsbGVkIHRvIHJhaXNlIGEgZmlsdGVyDQogICAgICAgICAgICAgICAgLy8gfQ0KICAgICAgICAgICAgfTsNCg0KICAgICAgICBmdW5jdGlvbiB1cGRhdGVUaXRsZSgpIHsNCiAgICAgICAgICAgIGlmKHRvdGFsVGl0bGVDb3VudCA8PSAwKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBkb2N1bWVudC50aXRsZS5yZXBsYWNlKHRpdGxlQ291bnQsICcnKTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSAnICgnICsgdG90YWxUaXRsZUNvdW50ICsgJykgJyArIGRvY3VtZW50LnRpdGxlLnJlcGxhY2UodGl0bGVDb3VudCwgJycpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gYmxvY2tTY3JvbGxpbmdXaGlsZU92ZXIoZWxlbWVudCkgew0KICAgICAgICAgICAgdmFyIGVsID0gJChlbGVtZW50KTsNCiAgICAgICAgICAgIGVsLm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICBlbC5vbignRE9NTW91c2VTY3JvbGwgbW91c2V3aGVlbCcsIGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgICAgICAgICB2YXIgZSA9IGUgfHwgd2luZG93LmV2ZW50LA0KICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFdmVudCA9IGUub3JpZ2luYWxFdmVudCB8fCBlLA0KICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSAwLA0KICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wID0gZWwuZ2V0KDApLnNjcm9sbFRvcCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEhlaWdodCA9IGVsLmdldCgwKS5zY3JvbGxIZWlnaHQsDQogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBlbC5oZWlnaHQoKTsNCg0KICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxFdmVudC53aGVlbERlbHRhKQ0KICAgICAgICAgICAgICAgICAgICAgICAgZGVsdGEgPSBvcmlnaW5hbEV2ZW50LndoZWVsRGVsdGEvMTIwOw0KICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxFdmVudC5kZXRhaWwpDQogICAgICAgICAgICAgICAgICAgICAgICBkZWx0YSA9IC1vcmlnaW5hbEV2ZW50LmRldGFpbC8zOw0KDQogICAgICAgICAgICAgICAgICAgIGlmKChzY3JvbGxUb3AgPT09IChzY3JvbGxIZWlnaHQgLSBoZWlnaHQpICYmIGRlbHRhIDwgMCkgfHwgKHNjcm9sbFRvcCA9PT0gMCAmJiBkZWx0YSA+IDApKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihlLnByZXZlbnREZWZhdWx0KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIGUucmV0dXJuVmFsdWUgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9KQ0KICAgICAgICAgICAgLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICBlbC5vZmYoJ0RPTU1vdXNlU2Nyb2xsIG1vdXNld2hlZWwnKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gYnVpbGRDb3VudEJ1YmJsZShjb250ZXh0KSB7DQogICAgICAgICAgICB2YXIgd3JhcHBlciA9IGNvbnRleHQubGluay53cmFwKCc8c3Bhbj48L3NwYW4+JykucGFyZW50KCdzcGFuJykuY3NzKHsNCiAgICAgICAgICAgICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB2YXIgY291bnQgPSAkKCc8YSBocmVmPSIjIiBjbGFzcz0icmVhZC1xdWV1ZS1jb3VudCI+PC9hPicpOw0KICAgICAgICAgICAgY291bnQuYXBwZW5kVG8od3JhcHBlcikuaGlkZSgpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmsuY2xpY2soKTsNCiAgICAgICAgICAgICAgICAvL2hhbmRsZVBvcG91cE9wZW5lckNsaWNrKGNvbnRleHQpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICByZXR1cm4gY291bnQ7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBidWlsZFVucmVhZENvdW50TWVzc2FnZShjb250ZXh0LCBjb3VudCkgew0KICAgICAgICAgICAgY291bnQgPSBjb3VudCB8fCAwOw0KICAgICAgICAgICAgaWYoY291bnQgPT09IDEpIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC51bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhci5yZXBsYWNlKC9cezBcfS9naSwgY291bnQpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC51bnJlYWRDb3VudE1lc3NhZ2VQbHVyYWwucmVwbGFjZSgvXHswXH0vZ2ksIGNvdW50KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHNob3dVbnJlYWRDb3VudChjb250ZXh0LCBjb3VudCkgew0KICAgICAgICAgICAgaWYoIWNvbnRleHQuc2hvd0NvdW50KQ0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIHZhciBkaWZmZXJlbmNlID0gY291bnQgLSBjb250ZXh0LnByZXZpb3VzQ291bnQ7DQogICAgICAgICAgICBjb250ZXh0LnByZXZpb3VzQ291bnQgPSBjb3VudDsNCiAgICAgICAgICAgIGlmKGNvbnRleHQudGl0bGVDb3VudCkgew0KICAgICAgICAgICAgICAgIHRvdGFsVGl0bGVDb3VudCArPSBkaWZmZXJlbmNlOw0KICAgICAgICAgICAgICAgIHVwZGF0ZVRpdGxlKCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgdW5yZWFkQ291bnRNZXNzYWdlID0gYnVpbGRVbnJlYWRDb3VudE1lc3NhZ2UoY29udGV4dCwgY291bnQpOw0KICAgICAgICAgICAgaWYoY291bnQgPD0gMCkgew0KICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBidWJibGUgdWkNCiAgICAgICAgICAgICAgICBpZihjb250ZXh0LmNvdW50KQ0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmNvdW50LmZhZGVPdXQoMjAwKTsNCiAgICAgICAgICAgICAgICBjb250ZXh0LmxpbmsuYXR0cigndGl0bGUnLCB1bnJlYWRDb3VudE1lc3NhZ2UpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAvLyBhZGQgYnViYmxlIHVpIGlmIG5vdCB0aGVyZQ0KICAgICAgICAgICAgICAgIGNvbnRleHQuY291bnQgPSBjb250ZXh0LmNvdW50IHx8IGJ1aWxkQ291bnRCdWJibGUoY29udGV4dCk7DQogICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBjb3VudCBhbmQgZGlzcGxheSBpdA0KICAgICAgICAgICAgICAgIGNvbnRleHQuY291bnQNCiAgICAgICAgICAgICAgICAgICAgLmh0bWwoY291bnQpDQogICAgICAgICAgICAgICAgICAgIC5hdHRyKCd0aXRsZScsIHVucmVhZENvdW50TWVzc2FnZSkNCiAgICAgICAgICAgICAgICAgICAgLmZhZGVJbigyMDApOw0KICAgICAgICAgICAgICAgIGNvbnRleHQubGluay5hdHRyKCd0aXRsZScsIHVucmVhZENvdW50TWVzc2FnZSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBsb2FkQ29udGVudChjb250ZXh0LCBwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCkgew0KICAgICAgICAgICAgY29udGV4dC5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgICAgICAgIGNvbnRleHQucG9wdXBDb250ZW50TG9hZGVyLnNob3coKTsNCiAgICAgICAgICAgIC8vIGNhbGwgdGhlIGluamVjdGVkIGxvYWRpbmcgbWV0aG9kLCBhbmQgcmV0dXJuIGEgcHJvbWlzZQ0KICAgICAgICAgICAgLy8gd2hpY2gsIHdoZW4gZG9uZSwgcHJvdmlkZXMgdGhlIGNvbnRlbnQgZnJvbSB0aGUgbG9hZGluZyBtZXRob2QNCiAgICAgICAgICAgIHJldHVybiAkLkRlZmVycmVkKGZ1bmN0aW9uKGRmZCl7DQogICAgICAgICAgICAgICAgY29udGV4dC5vbkxvYWQocGFnZUluZGV4LCBzaG91bGRSZWZyZXNoVW5yZWFkQ291bnQsIGNvbnRleHQuZmlsdGVyIHx8ICcnLCBmdW5jdGlvbihjb250ZW50KXsNCiAgICAgICAgICAgICAgICAgICAgZGZkLnJlc29sdmUoY29udGVudCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9KS5wcm9taXNlKCk7DQogICAgICAgIH0NCg0KICAgICAgICBmdW5jdGlvbiBidWlsZFBvcFVwKGNvbnRleHQpIHsNCiAgICAgICAgICAgIGNvbnRleHQuY29tcGlsZWRUZW1wbGF0ZSA9IGNvbnRleHQuY29tcGlsZWRUZW1wbGF0ZSB8fCAkLnRlbGxpZ2VudC5ldm9sdXRpb24udGVtcGxhdGUuY29tcGlsZShjb250ZXh0LnRlbXBsYXRlKTsNCg0KICAgICAgICAgICAgY29udGV4dC5wb3B1cCA9ICQoY29udGV4dC5jb21waWxlZFRlbXBsYXRlKGNvbnRleHQpKTsNCiAgICAgICAgICAgIGNvbnRleHQucG9wdXBDb250ZW50TGlzdCA9IGNvbnRleHQucG9wdXAuZmluZCgnLmNvbnRlbnQtbGlzdCcpOw0KICAgICAgICAgICAgY29udGV4dC5wb3B1cENvbnRlbnRMb2FkZXIgPSBjb250ZXh0LnBvcHVwLmZpbmQoJy5sb2FkaW5nJyk7DQogICAgICAgICAgICBjb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKHsNCiAgICAgICAgICAgICAgICBjc3NDbGFzczogJ21lbnUgcmVhZC1xdWV1ZSBxdWV1ZS1jb250ZW50JywNCiAgICAgICAgICAgICAgICBoaWRlT25Eb2N1bWVudENsaWNrOiB0cnVlLA0KICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZG93bicsDQogICAgICAgICAgICAgICAgekluZGV4OiAxMDAwDQogICAgICAgICAgICB9KS5vbignZ2xvd1BvcFVwUGFuZWxIaWRkZW4nLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIGNvbnRleHQubGluay5yZW1vdmVDbGFzcygnYWN0aXZlJyk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmKGNvbnRleHQub25CdWlsZEZpbHRlciAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBjb250ZXh0Lm9uQnVpbGRGaWx0ZXIoZnVuY3Rpb24ocmVzdWx0KXsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5maWx0ZXIgPSByZXN1bHQ7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY3VycmVudFBhZ2VJbmRleCA9IDA7DQogICAgICAgICAgICAgICAgICAgIGxvYWRDb250ZW50KGNvbnRleHQsIGNvbnRleHQuY3VycmVudFBhZ2VJbmRleCwgdHJ1ZSkudGhlbihmdW5jdGlvbihjb250ZW50KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBvcHVwQ29udGVudExvYWRlci5oaWRlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb1BvcHVwKGNvbnRleHQsIGNvbnRlbnQsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICBpZihmaWx0ZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgJChmaWx0ZXIpLmluc2VydEJlZm9yZShjb250ZXh0LnBvcHVwQ29udGVudExpc3QpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIHNob3dQb3B1cChjb250ZXh0LCBjb250ZW50KSB7DQogICAgICAgICAgICBpZihvcGVuUXVldWVDb250ZXh0KSB7DQogICAgICAgICAgICAgICAgaGlkZVBvcHVwKG9wZW5RdWV1ZUNvbnRleHQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgb3BlblF1ZXVlQ29udGV4dCA9IGNvbnRleHQ7DQogICAgICAgICAgICBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuaHRtbChjb250ZW50KTsNCiAgICAgICAgICAgIGNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ3Nob3cnLCBjb250ZXh0LmxpbmspOw0KICAgICAgICAgICAgY29udGV4dC5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICBjb250ZXh0Lmhhc01vcmUgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuY2hpbGRyZW4oJ2xpOmxhc3QnKS5kYXRhKCdoYXNtb3JlJykgPyB0cnVlIDogZmFsc2U7DQogICAgICAgICAgICBibG9ja1Njcm9sbGluZ1doaWxlT3Zlcihjb250ZXh0LnBvcHVwQ29udGVudExpc3QpOw0KICAgICAgICAgICAgY29udGV4dC5saW5rLmFkZENsYXNzKCdhY3RpdmUnKTsNCiAgICAgICAgICAgIGlmKGNvbnRleHQub25TaG93KQ0KICAgICAgICAgICAgICAgIGNvbnRleHQub25TaG93KCk7DQogICAgICAgICAgICBjb250ZXh0LnBvcHVwQ29udGVudExvYWRlci5oaWRlKCk7DQogICAgICAgICAgICBjb250ZXh0LnBvcHVwQ29udGVudCA9IGNvbnRleHQucG9wdXBDb250ZW50TGlzdC5jbG9zZXN0KCcucmVhZC1xdWV1ZScpOw0KICAgICAgICAgICAgY29udGV4dC5wb3B1cENvbnRhaW5lciA9IGNvbnRleHQucG9wdXBDb250ZW50LnBhcmVudCgpOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaGlkZVBvcHVwKGNvbnRleHQpIHsNCiAgICAgICAgICAgIGNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2hpZGUnKTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGFwcGVuZFRvUG9wdXAoY29udGV4dCwgY29udGVudCwgc2hvdWxkUmVwbGFjZSkgew0KICAgICAgICAgICAgaWYoc2hvdWxkUmVwbGFjZSkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQucG9wdXBDb250ZW50TGlzdC5odG1sKGNvbnRlbnQpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuYXBwZW5kKGNvbnRlbnQpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29udGV4dC5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgICAgICBjb250ZXh0Lmhhc01vcmUgPSBjb250ZXh0LnBvcHVwQ29udGVudExpc3QuY2hpbGRyZW4oJ2xpOmxhc3QnKS5kYXRhKCdoYXNtb3JlJykgPyB0cnVlIDogZmFsc2U7DQogICAgICAgICAgICBjb250ZXh0LnBvcHVwQ29udGVudExvYWRlci5oaWRlKCk7DQogICAgICAgICAgICBjb250ZXh0LnBvcHVwQ29udGFpbmVyLmNzcyh7IGhlaWdodDogY29udGV4dC5wb3B1cENvbnRlbnQub3V0ZXJIZWlnaHQoKSB9KTsNCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGhhbmRsZVBvcG91cE9wZW5lckNsaWNrKGNvbnRleHQpIHsNCiAgICAgICAgICAgIGlmKGNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2lzT3BlbmluZycpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfSBlbHNlIGlmKGNvbnRleHQucG9wdXAuZ2xvd1BvcFVwUGFuZWwoJ2lzU2hvd24nKSkgew0KICAgICAgICAgICAgICAgIGhpZGVQb3B1cChjb250ZXh0KTsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50UGFnZUluZGV4ID0gMDsNCiAgICAgICAgICAgICAgICBjb250ZXh0Lmhhc01vcmUgPSB0cnVlOw0KICAgICAgICAgICAgICAgIGxvYWRDb250ZW50KGNvbnRleHQsIGNvbnRleHQuY3VycmVudFBhZ2VJbmRleCwgdHJ1ZSkudGhlbihmdW5jdGlvbihjb250ZW50KSB7DQogICAgICAgICAgICAgICAgICAgIHNob3dQb3B1cChjb250ZXh0LCBjb250ZW50KTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KDQogICAgICAgIGZ1bmN0aW9uIGhhbmRsZUV2ZW50cyhjb250ZXh0KSB7DQogICAgICAgICAgICBjb250ZXh0Lmxpbmsub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGhhbmRsZVBvcG91cE9wZW5lckNsaWNrKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgLy8gaGFuZGxlIGVuZGxlc3Mgc2Nyb2xsaW5nIGlmIGVuYWJsZWQNCiAgICAgICAgICAgIGlmKGNvbnRleHQuZW5kbGVzc1Njcm9sbCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQucG9wdXBDb250ZW50TGlzdC5vbignc2Nyb2xsZW5kJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgaWYoIWNvbnRleHQuaGFzTW9yZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGNvbnRleHQubG9hZGluZykgew0KICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQucG9wdXBDb250ZW50TG9hZGVyLnNob3coKTsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50UGFnZUluZGV4Kys7DQogICAgICAgICAgICAgICAgICAgIGxvYWRDb250ZW50KGNvbnRleHQsIGNvbnRleHQuY3VycmVudFBhZ2VJbmRleCwgdHJ1ZSkudGhlbihmdW5jdGlvbihjb250ZW50KSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBvcHVwQ29udGVudExvYWRlci5oaWRlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb1BvcHVwKGNvbnRleHQsIGNvbnRlbnQpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Lm9uKCdjbGljaycsJy5jb250ZW50LWl0ZW0nLCBmdW5jdGlvbihlKXsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgdmFyIHVybCA9ICQodGhpcykuZGF0YSgnY29udGVudHVybCcpOw0KICAgICAgICAgICAgICAgIGlmKHVybCkgew0KICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSB1cmw7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBjb250ZXh0LnBvcHVwQ29udGVudExpc3Qub24oJ2NsaWNrJywnYScsZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQoNCiAgICAgICAgZnVuY3Rpb24gaW5pdENvbnRleHQoY29udGV4dCkgew0KICAgICAgICAgICAgY29udGV4dC5saW5rID0gJChjb250ZXh0LmxpbmspOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGFwaSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsNCiAgICAgICAgICAgIC8vIHByaXZhdGUgaW5zdGFuY2Ugc3R1ZmYNCiAgICAgICAgICAgIHZhciBjb250ZXh0ID0gJC5leHRlbmQoe30sIGRlZmF1bHRzLCBvcHRpb25zIHx8IHt9KTsNCiAgICAgICAgICAgIGluaXRDb250ZXh0KGNvbnRleHQpOw0KDQogICAgICAgICAgICAvLyBsYXp5LXNldHVwIHVudGlsIGNsaWNrZWQNCiAgICAgICAgICAgIGNvbnRleHQubGluay5vbmUoJ2NsaWNrJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGJ1aWxkUG9wVXAoY29udGV4dCk7DQogICAgICAgICAgICAgICAgaGFuZGxlRXZlbnRzKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgIGNvbnRleHQubGluay5jbGljaygpOw0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBzaG93VW5yZWFkQ291bnQoY29udGV4dCwgY29udGV4dC5pbml0aWFsVW5yZWFkQ291bnQpOw0KDQogICAgICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgICAgIHJlZnJlc2hVbnJlYWRDb3VudDogZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZXh0Lm9uUmVmcmVzaFVucmVhZENvdW50KGZ1bmN0aW9uKG5ld0NvdW50KXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNob3dVbnJlYWRDb3VudChjb250ZXh0LCBuZXdDb3VudCk7DQogICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgcmVmcmVzaENvbnRlbnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAvLyByZWZyZXNoaW5nIGNvbnRlbnQgb25seSBoYXMgYW4gZWZmZWN0IGlmIGFscmVhZHkgc2hvd24NCiAgICAgICAgICAgICAgICAgICAgaWYoY29udGV4dC5wb3B1cCAmJiBjb250ZXh0LnBvcHVwLmdsb3dQb3BVcFBhbmVsKCdpc1Nob3duJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY3VycmVudFBhZ2VJbmRleCA9IDA7DQogICAgICAgICAgICAgICAgICAgICAgICBsb2FkQ29udGVudChjb250ZXh0LCBjb250ZXh0LmN1cnJlbnRQYWdlSW5kZXgsIGZhbHNlKS50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBlbmRUb1BvcHVwKGNvbnRleHQsIGNvbnRlbnQsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5wb3B1cENvbnRlbnRMaXN0Ow0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH07DQogICAgICAgIH07DQogICAgICAgIGFwaS5oaWRlQ3VycmVudCA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgaWYob3BlblF1ZXVlQ29udGV4dCkgew0KICAgICAgICAgICAgICAgIGhpZGVQb3B1cChvcGVuUXVldWVDb250ZXh0KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfTsNCg0KICAgICAgICByZXR1cm4gYXBpOw0KDQogICAgfSkoJCk7DQoNCiAgICB2YXIgaW5pdE5vdGlmaWNhdGlvblF1ZXVlID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICB2YXIgaW5pdFByZWZlcmVuY2VIYW5kbGVycyA9IGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgLy8gZGlzcGxheSBwcmVmZXJlbmNlIGNoYW5nZSB1aSBvbiAneCcgY2xpY2sNCiAgICAgICAgICAgIGNvbnRleHQubm90aWZpY2F0aW9uc1F1ZXVlLmNvbnRlbnQoKS5vbignY2xpY2snLCAnYS5wcmVmZXJlbmNlJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICBkaXNwbGF5Tm90aWZpY2F0aW9uUHJlZmVyZW5jZShjb250ZXh0LCAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyBoYW5kbGUgY2FuY2VscyBvZiBwcmVmZXJlbmNlIGNoYW5nZSB3aGVuIGNsaWNraW5nICdjYW5jZWwnDQogICAgICAgICAgICBjb250ZXh0Lm5vdGlmaWNhdGlvbnNRdWV1ZS5jb250ZW50KCkub24oJ2NsaWNrJywgJy5ub3RpZmljYXRpb24tcHJlZmVyZW5jZSAuY2FuY2VsJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgaGlkZU5vdGlmaWNhdGlvblByZWZlcmVuY2UoY29udGV4dCwgJCh0aGlzKS5jbG9zZXN0KCcubm90aWZpY2F0aW9uLXByZWZlcmVuY2UnKSk7DQogICAgICAgICAgICAgICAgY29udGV4dC5wcmVmZXJlbmNlVWkgPSBudWxsOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyBoYW5kbGUgY2FuY2VscyBvZiBwcmVmZXJlbmNlIGNoYW5nZSBieSBjbGlja2luZyBhbnl0aGluZyBvdGhlciB0aGFuICd0dXJuIG9mZicNCiAgICAgICAgICAgIGNvbnRleHQubm90aWZpY2F0aW9uc1F1ZXVlLmNvbnRlbnQoKS5vbignY2xpY2snLCAnLm5vdGlmaWNhdGlvbi1wcmVmZXJlbmNlJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgaGlkZU5vdGlmaWNhdGlvblByZWZlcmVuY2UoY29udGV4dCwgJCh0aGlzKSk7DQogICAgICAgICAgICAgICAgY29udGV4dC5wcmVmZXJlbmNlVWkgPSBudWxsOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAvLyBoYW5kbGUgY29uZmlybWVkIHByZWZlcmVuY2UgY2hhbmdlcw0KICAgICAgICAgICAgY29udGV4dC5ub3RpZmljYXRpb25zUXVldWUuY29udGVudCgpLm9uKCdjbGljaycsICcubm90aWZpY2F0aW9uLXByZWZlcmVuY2UgLmNvbmZpcm0nLCBmdW5jdGlvbihlKXsNCiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvblByZWZlcmVuY2UgPSAkKHRoaXMpLmNsb3Nlc3QoJy5ub3RpZmljYXRpb24tcHJlZmVyZW5jZScpLA0KICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25JdGVtID0gbm90aWZpY2F0aW9uUHJlZmVyZW5jZS5jbG9zZXN0KCdsaScpOw0KICAgICAgICAgICAgICAgIGRpc2FibGVOb3RpZmljYXRpb25UeXBlKGNvbnRleHQsICQodGhpcykuZGF0YSgnbm90aWZpY2F0aW9udHlwZWlkJykpLnRoZW4oZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uSXRlbS5mYWRlT3V0KDIwMCwgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25QcmVmZXJlbmNlLnJlbW92ZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uSXRlbS5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQucHJlZmVyZW5jZVVpID0gbnVsbDsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfTsNCg0KICAgICAgICBjb250ZXh0Lm5vdGlmaWNhdGlvbnNRdWV1ZSA9IFJlYWRRdWV1ZSh7DQogICAgICAgICAgICBoZWFkaW5nTGFiZWw6IGNvbnRleHQubm90aWZpY2F0aW9uc0xhYmVsLA0KICAgICAgICAgICAgaW5pdGlhbFVucmVhZENvdW50OiBjb250ZXh0Lm5vdGlmaWNhdGlvbnNVbnJlYWQsDQogICAgICAgICAgICBsaW5rOiBjb250ZXh0Lm5vdGlmaWNhdGlvbnNMaW5rLA0KICAgICAgICAgICAgZW5kbGVzc1Njcm9sbDogdHJ1ZSwNCiAgICAgICAgICAgIHRpdGxlQ291bnQ6IHRydWUsDQogICAgICAgICAgICB1bnJlYWRDb3VudE1lc3NhZ2VTaW5ndWxhcjogY29udGV4dC5ub3RpZmljYXRpb25zc1VucmVhZENvdW50TWVzc2FnZVNpbmd1bGFyLA0KICAgICAgICAgICAgdW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsOiBjb250ZXh0Lm5vdGlmaWNhdGlvbnNzVW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsLA0KICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbihwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLCBjb21wbGV0ZSkgew0KICAgICAgICAgICAgICAgIGlmKCFjb250ZXh0LmlzSW5pdGVkKSB7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQuaXNJbml0ZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICBpbml0UHJlZmVyZW5jZUhhbmRsZXJzKCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIGlmKGNvbnRleHQubm90aWZpY2F0aW9uTGlzdCkgeyBjb250ZXh0Lm5vdGlmaWNhdGlvbkxpc3QuY3NzKHsgaGVpZ2h0OiAnYXV0bycgfSk7IH0NCiAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCiAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0Lm5vdGlmaWNhdGlvbnNVcmwsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdfcGFnZUluZGV4OiBwYWdlSW5kZXgNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3cgcmVzcG9uc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBjb3VudA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2hvdWxkUmVmcmVzaFVucmVhZENvdW50KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQubm90aWZpY2F0aW9uc1F1ZXVlLnJlZnJlc2hVbnJlYWRDb3VudCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25SZWZyZXNoVW5yZWFkQ291bnQ6IGZ1bmN0aW9uKGNvbXBsZXRlKSB7DQogICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gew0KICAgICAgICAgICAgICAgICAgICBJc1JlYWQ6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBQYWdlU2l6ZTogMSwNCiAgICAgICAgICAgICAgICAgICAgUGFnZUluZGV4OiAwLA0KICAgICAgICAgICAgICAgIH07DQogICAgICAgICAgICAgICAgLy8gZXhjbHVkZSBjb252ZXJzYXRpb24gbm90aWZpY2F0aW9ucw0KICAgICAgICAgICAgICAgIHF1ZXJ5WydfRmlsdGVyc18nICsgY29udGV4dC5jb252ZXJzYXRpb25Ob3RpZmljYXRpb25UeXBlSWRdID0gJ0V4Y2x1ZGUnOw0KICAgICAgICAgICAgICAgIHJldHVybiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCiAgICAgICAgICAgICAgICAgICAgdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvbm90aWZpY2F0aW9ucy5qc29uJywNCiAgICAgICAgICAgICAgICAgICAgY2FjaGU6IGZhbHNlLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiBxdWVyeSwNCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJlc3BvbnNlLlRvdGFsQ291bnQpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgdGVtcGxhdGU6IGNvbnRleHQubm90aWZpY2F0aW9uc1RlbXBsYXRlDQogICAgICAgIH0pOw0KDQogICAgICAgIC8vIHVwZGF0ZSB0aGUgbm90aWZpY2F0aW9uIHF1ZXVlJ3MgY291bnQgd2hlbiBhIG5ldyBub3RpZmljYXRpb24gaXMgcmVjZWl2ZWQgd2hpY2ggaXNuJ3QgYSBjb252ZXJzYXRpb24gdHlwZQ0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnN1YnNjcmliZSgnbm90aWZpY2F0aW9uLnJhaXNlZCcsIGZ1bmN0aW9uKG5vdGlmaWNhdGlvbikgew0KICAgICAgICAgICAgaWYobm90aWZpY2F0aW9uLnR5cGVJZCAhPT0gY29udGV4dC5jb252ZXJzYXRpb25Ob3RpZmljYXRpb25UeXBlSWQpIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0Lm5vdGlmaWNhdGlvbnNRdWV1ZS5yZWZyZXNoVW5yZWFkQ291bnQoKS50aGVuKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgIGNvbnRleHQubm90aWZpY2F0aW9uc1F1ZXVlLnJlZnJlc2hDb250ZW50KCk7DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgZGlzcGxheU5vdGlmaWNhdGlvblByZWZlcmVuY2UgPSBmdW5jdGlvbihjb250ZXh0LCBub3RpZmljYXRpb25JdGVtKSB7DQogICAgICAgIC8vIHNldCB0aGUgbm90aWZpY2F0aW9uIGxpc3Qgc2l6ZSBkdXJpbmcgcHJlZmVyZW5jZS1kaXNwbGF5aW5nIHNvIHRoYXQgaXQgZG9lcyBub3QgcmVzaXplIG91dCBvZiB0aGUgYm91bmRzIG9mIHRoZSBwb3B1cA0KICAgICAgICBjb250ZXh0Lm5vdGlmaWNhdGlvbkxpc3QgPSBjb250ZXh0Lm5vdGlmaWNhdGlvbkxpc3QgfHwgbm90aWZpY2F0aW9uSXRlbS5jbG9zZXN0KCd1bCcpOw0KICAgICAgICBjb250ZXh0Lm5vdGlmaWNhdGlvbkxpc3QuY3NzKHsNCiAgICAgICAgICAgIGhlaWdodDogY29udGV4dC5ub3RpZmljYXRpb25MaXN0LmhlaWdodCgpDQogICAgICAgIH0pOw0KICAgICAgICBpZihjb250ZXh0LnByZWZlcmVuY2VVaSkgew0KICAgICAgICAgICAgaGlkZU5vdGlmaWNhdGlvblByZWZlcmVuY2UoY29udGV4dCwgY29udGV4dC5wcmVmZXJlbmNlVWkpOw0KICAgICAgICAgICAgY29udGV4dC5wcmVmZXJlbmNlVWkgPSBudWxsOw0KICAgICAgICB9DQogICAgICAgIGNvbnRleHQucHJlZmVyZW5jZVRlbXBsYXRlID0gY29udGV4dC5wcmVmZXJlbmNlVGVtcGxhdGUgfHwgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnRlbXBsYXRlLmNvbXBpbGUoY29udGV4dC5ub3RpZmljYXRpb25QcmVmZXJlbmNlVGVtcGxhdGUpOw0KICAgICAgICBjb250ZXh0LnByZWZlcmVuY2VVaSA9ICQoY29udGV4dC5wcmVmZXJlbmNlVGVtcGxhdGUoew0KICAgICAgICAgICAgICAgIG5vdGlmaWNhdGlvblR5cGVOYW1lOiBub3RpZmljYXRpb25JdGVtLmRhdGEoJ25vdGlmaWNhdGlvbnR5cGVuYW1lJyksDQogICAgICAgICAgICAgICAgbm90aWZpY2F0aW9uVHlwZUlkOiBub3RpZmljYXRpb25JdGVtLmRhdGEoJ25vdGlmaWNhdGlvbnR5cGVpZCcpDQogICAgICAgICAgICB9KSkNCiAgICAgICAgICAgIC5oaWRlKCkNCiAgICAgICAgICAgIC5hcHBlbmRUbyhub3RpZmljYXRpb25JdGVtKTsNCiAgICAgICAgY29udGV4dC5wcmVmZXJlbmNlVWkuY3NzKHsNCiAgICAgICAgICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLA0KICAgICAgICAgICAgdG9wOiAwLA0KICAgICAgICAgICAgbGVmdDogMCwNCiAgICAgICAgICAgIHpJbmRleDogMjAwMCwNCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogJyNmZmYnDQogICAgICAgIH0pOw0KDQogICAgICAgIG5vdGlmaWNhdGlvbkl0ZW0uYWRkQ2xhc3MoJ3dpdGgtcHJlZmVyZW5jZScpOw0KICAgICAgICBub3RpZmljYXRpb25JdGVtLmRhdGEoJ29yaWdpbmFsSGVpZ2h0Jywgbm90aWZpY2F0aW9uSXRlbS5oZWlnaHQoKSk7DQogICAgICAgIG5vdGlmaWNhdGlvbkl0ZW0uYW5pbWF0ZSh7IGhlaWdodDogY29udGV4dC5wcmVmZXJlbmNlVWkuaGVpZ2h0KCkgfSwgMTUwKTsNCg0KICAgICAgICBjb250ZXh0LnByZWZlcmVuY2VVaS5mYWRlVG8oMTUwLCAwLjk1KTsNCiAgICB9LA0KICAgIGhpZGVOb3RpZmljYXRpb25QcmVmZXJlbmNlID0gZnVuY3Rpb24oY29udGV4dCwgcHJlZmVyZW5jZUl0ZW0pIHsNCiAgICAgICAgY29udGV4dC5ub3RpZmljYXRpb25MaXN0LmNzcyh7IGhlaWdodDogJ2F1dG8nIH0pOw0KICAgICAgICBpZihwcmVmZXJlbmNlSXRlbSkgew0KICAgICAgICAgICAgdmFyIG5vdGlmaWNhdGlvbkl0ZW0gPSBwcmVmZXJlbmNlSXRlbS5wYXJlbnQoKTsNCiAgICAgICAgICAgIG5vdGlmaWNhdGlvbkl0ZW0uYW5pbWF0ZSh7IGhlaWdodDogbm90aWZpY2F0aW9uSXRlbS5kYXRhKCdvcmlnaW5hbEhlaWdodCcpIH0sIDE1MCk7DQogICAgICAgICAgICBwcmVmZXJlbmNlSXRlbS5mYWRlT3V0KDE1MCwgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICBub3RpZmljYXRpb25JdGVtLnJlbW92ZUNsYXNzKCd3aXRoLXByZWZlcmVuY2UnKTsNCiAgICAgICAgICAgICAgICBwcmVmZXJlbmNlSXRlbS5yZW1vdmUoKTsNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9DQogICAgfSwNCiAgICBkaXNhYmxlTm90aWZpY2F0aW9uVHlwZSA9IGZ1bmN0aW9uKGNvbnRleHQsIG5vdGlmaWNhdGlvblR5cGVJZCkgew0KICAgICAgICByZXR1cm4gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnB1dCh7DQogICAgICAgICAgICB1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ub3RpZmljYXRpb25wcmVmZXJlbmNlLmpzb24nLA0KICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvblR5cGVJZDogbm90aWZpY2F0aW9uVHlwZUlkLA0KICAgICAgICAgICAgICAgIElzRW5hYmxlZDogZmFsc2UNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nDQogICAgICAgIH0pOw0KICAgIH0sDQogICAgaW5pdENvbnZlcnNhdGlvblF1ZXVlID0gZnVuY3Rpb24oY29udGV4dCkgew0KDQogICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uc1F1ZXVlID0gUmVhZFF1ZXVlKHsNCiAgICAgICAgICAgIGhlYWRpbmdMYWJlbDogY29udGV4dC5jb252ZXJzYXRpb25zTGFiZWwsDQogICAgICAgICAgICBpbml0aWFsVW5yZWFkQ291bnQ6IGNvbnRleHQuY29udmVyc2F0aW9uc1VucmVhZCwNCiAgICAgICAgICAgIGxpbms6IGNvbnRleHQuY29udmVyc2F0aW9uc0xpbmssDQogICAgICAgICAgICBlbmRsZXNzU2Nyb2xsOiB0cnVlLA0KICAgICAgICAgICAgdGl0bGVDb3VudDogdHJ1ZSwNCiAgICAgICAgICAgIHNob3dNb3JlVXJsOiBjb250ZXh0LmNvbnZlcnNhdGlvbnNNb3JlVXJsLA0KICAgICAgICAgICAgc2hvd01vcmVMYWJlbDogY29udGV4dC5jb252ZXJzYXRpb25zTW9yZUxhYmVsLA0KICAgICAgICAgICAgdW5yZWFkQ291bnRNZXNzYWdlU2luZ3VsYXI6IGNvbnRleHQuY29udmVyc2F0aW9uc1VucmVhZENvdW50TWVzc2FnZVNpbmd1bGFyLA0KICAgICAgICAgICAgdW5yZWFkQ291bnRNZXNzYWdlUGx1cmFsOiBjb250ZXh0LmNvbnZlcnNhdGlvbnNVbnJlYWRDb3VudE1lc3NhZ2VQbHVyYWwsDQogICAgICAgICAgICBvbkxvYWQ6IGZ1bmN0aW9uKHBhZ2VJbmRleCwgc2hvdWxkUmVmcmVzaFVucmVhZENvdW50LCBmaWx0ZXIsY29tcGxldGUpIHsNCiAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCiAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LmNvbnZlcnNhdGlvbnNVcmwsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHdfcGFnZUluZGV4OiBwYWdlSW5kZXgNCiAgICAgICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNob3cgcmVzcG9uc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBsZXRlKHJlc3BvbnNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBjb3VudA0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2hvdWxkUmVmcmVzaFVucmVhZENvdW50KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uc1F1ZXVlLnJlZnJlc2hVbnJlYWRDb3VudCgpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25SZWZyZXNoVW5yZWFkQ291bnQ6IGZ1bmN0aW9uKGNvbXBsZXRlKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KICAgICAgICAgICAgICAgICAgICB1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9jb252ZXJzYXRpb25zLmpzb24nLA0KICAgICAgICAgICAgICAgICAgICBjYWNoZTogZmFsc2UsDQogICAgICAgICAgICAgICAgICAgIGRhdGE6IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWRTdGF0dXM6ICdVbnJlYWQnDQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyZXNwb25zZS5Ub3RhbENvdW50KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHRlbXBsYXRlOiBjb250ZXh0LmNvbnZlcnNhdGlvbnNUZW1wbGF0ZQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyB1cGRhdGUgdGhlIG1lc3NhZ2UgcXVldWUncyBjb3VudCB3aGVuIGEgbmV3IG5vdGlmaWNhdGlvbiBpcyByZWNlaXZlZCB3aGljaCBpcyBhIGNvbnZlcnNhdGlvbiB0eXBlDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKCdub3RpZmljYXRpb24ucmFpc2VkJywgZnVuY3Rpb24obm90aWZpY2F0aW9uKSB7DQogICAgICAgICAgICBpZihub3RpZmljYXRpb24udHlwZUlkID09PSBjb250ZXh0LmNvbnZlcnNhdGlvbk5vdGlmaWNhdGlvblR5cGVJZCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQuY29udmVyc2F0aW9uc1F1ZXVlLnJlZnJlc2hVbnJlYWRDb3VudCgpLnRoZW4oZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jb252ZXJzYXRpb25zUXVldWUucmVmcmVzaENvbnRlbnQoKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQoNCiAgICAgICAgLy8gdXBkYXRlIHRoZSBtZXNzYWdlIHF1ZXVlJ3MgY291bnQgd2hlbiBhIG1lc3NhZ2Ugd2FzIHJlYWQgb24gdGhlIGNvbnZlcnNhdGlvbiBsaXN0DQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5tZXNzYWdpbmcuc3Vic2NyaWJlKCd1aS5tZXNzYWdlcmVhZCcsIGZ1bmN0aW9uKG5vdGlmaWNhdGlvbikgew0KICAgICAgICAgICAgY29udGV4dC5jb252ZXJzYXRpb25zUXVldWUucmVmcmVzaFVucmVhZENvdW50KCk7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgaW5pdEJvb2ttYXJrc0xpc3QgPSBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgIC8vIGdldHMgYWxsIHNlbGVjdGVkIGNvbnRlbnQgdHlwZXMgZnJvbSB0aGUgY29udGVudCB0eXBlIGZpbHRlcg0KICAgICAgICB2YXIgZ2V0Q3VycmVudENvbnRlbnRUeXBlcyA9IGZ1bmN0aW9uKGJvb2ttYXJrRmlsdGVyKSB7DQogICAgICAgICAgICB2YXIgY29udGVudFR5cGVzID0gW107DQogICAgICAgICAgICB2YXIgc2VsZWN0ZWRGaWx0ZXJzID0gY29udGV4dC5ib29rbWFya0ZpbHRlci5maW5kKCdhLnNlbGVjdGVkJykuZWFjaChmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgIGNvbnRlbnRUeXBlcy5wdXNoKCQodGhpcykuZGF0YSgnY29udGVudHR5cGVpZHMnKSk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIHJldHVybiBjb250ZW50VHlwZXMuam9pbignLCcpOw0KICAgICAgICB9Ow0KICAgICAgICBjb250ZXh0LmJvb2ttYXJrc0xpc3QgPSBSZWFkUXVldWUoew0KICAgICAgICAgICAgaGVhZGluZ0xhYmVsOiBjb250ZXh0LmJvb2ttYXJrc0xhYmVsLA0KICAgICAgICAgICAgbGluazogY29udGV4dC5ib29rbWFya3NMaW5rLA0KICAgICAgICAgICAgZW5kbGVzc1Njcm9sbDogdHJ1ZSwNCiAgICAgICAgICAgIHRpdGxlQ291bnQ6IGZhbHNlLA0KICAgICAgICAgICAgc2hvd0NvdW50OiBmYWxzZSwNCiAgICAgICAgICAgIHNob3dNb3JlVXJsOiBjb250ZXh0LmJvb2ttYXJrc01vcmVVcmwsDQogICAgICAgICAgICBzaG93TW9yZUxhYmVsOiBjb250ZXh0LmJvb2ttYXJrc01vcmVMYWJlbCwNCiAgICAgICAgICAgIG9uTG9hZDogZnVuY3Rpb24ocGFnZUluZGV4LCBzaG91bGRSZWZyZXNoVW5yZWFkQ291bnQsIGZpbHRlciwgY29tcGxldGUpIHsNCiAgICAgICAgICAgICAgICB2YXIgZmlsdGVyZWRDb250ZW50VHlwZUlkcyA9IGZpbHRlciB8fCBnZXRDdXJyZW50Q29udGVudFR5cGVzKGNvbnRleHQuYm9va21hcmtGaWx0ZXIpOw0KICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KICAgICAgICAgICAgICAgICAgICB1cmw6IGNvbnRleHQuYm9va21hcmtzVXJsLA0KICAgICAgICAgICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAgICAgICAgICAgICB3X3BhZ2VJbmRleDogcGFnZUluZGV4LA0KICAgICAgICAgICAgICAgICAgICAgICAgd19jb250ZW50VHlwZUlkczogZmlsdGVyZWRDb250ZW50VHlwZUlkcw0KICAgICAgICAgICAgICAgICAgICB9LA0KICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZmlsdGVyZWRDb250ZW50VHlwZUlkcyAmJiBmaWx0ZXJlZENvbnRlbnRUeXBlSWRzLmxlbmd0aCA+IDAgJiYgZ2V0Q3VycmVudENvbnRlbnRUeXBlcyhjb250ZXh0LmJvb2ttYXJrRmlsdGVyKSAhPT0gZmlsdGVyZWRDb250ZW50VHlwZUlkcykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93IHJlc3BvbnNlDQogICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyZXNwb25zZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgY291bnQNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0LmJvb2ttYXJrc0xpc3QucmVmcmVzaFVucmVhZENvdW50KCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvblJlZnJlc2hVbnJlYWRDb3VudDogZnVuY3Rpb24oY29tcGxldGUpIHsNCiAgICAgICAgICAgICAgICBjb21wbGV0ZSgwKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvbkJ1aWxkRmlsdGVyOiBmdW5jdGlvbihmaWx0ZXJlZCkgew0KICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJUZW1wbGF0ZSA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi50ZW1wbGF0ZS5jb21waWxlKGNvbnRleHQuYm9va21hcmtzRmlsdGVyVGVtcGxhdGUpLA0KICAgICAgICAgICAgICAgICAgICBmaWx0ZXJUZW1wbGF0ZURhdGEgPSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50VHlwZUlkczogJycsDQogICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWNhdGlvbkNvbnRlbnRUeXBlSWRzOiAnJywNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lclR5cGVzOiBbXQ0KICAgICAgICAgICAgICAgICAgICB9Ow0KICAgICAgICAgICAgICAgIGlmKGNvbnRleHQuYm9va21hcmtzQ29udGVudFR5cGVzLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgICAgIGZpbHRlclRlbXBsYXRlRGF0YS5jb250ZW50VHlwZUlkcyA9IGNvbnRleHQuYm9va21hcmtzQ29udGVudFR5cGVzLnN1YnN0cigwLCBjb250ZXh0LmJvb2ttYXJrc0NvbnRlbnRUeXBlcy5sZW5ndGggLSAxKQ0KICAgICAgICAgICAgICAgIGlmKGNvbnRleHQuYm9va21hcmtzQXBwbGljYXRpb25Db250ZW50VHlwZXMubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGVtcGxhdGVEYXRhLmFwcGxpY2F0aW9uQ29udGVudFR5cGVJZHMgPSBjb250ZXh0LmJvb2ttYXJrc0FwcGxpY2F0aW9uQ29udGVudFR5cGVzLnN1YnN0cigwLCBjb250ZXh0LmJvb2ttYXJrc0FwcGxpY2F0aW9uQ29udGVudFR5cGVzLmxlbmd0aCAtIDEpDQogICAgICAgICAgICAgICAgaWYoY29udGV4dC5ib29rbWFya3NDb250YWluZXJDb250ZW50VHlwZXMubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmF3Q29udGFpbmVycyA9IGNvbnRleHQuYm9va21hcmtzQ29udGFpbmVyQ29udGVudFR5cGVzLnNwbGl0KCcsJyk7DQogICAgICAgICAgICAgICAgICAgICQuZWFjaChyYXdDb250YWluZXJzLCBmdW5jdGlvbihpLCByYXdDb250YWluZXIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJhd0NvbnRhaW5lciAmJiByYXdDb250YWluZXIubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJDb21wb25lbnRzID0gcmF3Q29udGFpbmVyLnNwbGl0KCc6JywgMik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY29udGFpbmVyQ29tcG9uZW50cy5sZW5ndGggPT09IDIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyVGVtcGxhdGVEYXRhLmNvbnRhaW5lclR5cGVzLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogY29udGFpbmVyQ29tcG9uZW50c1sxXSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjb250YWluZXJDb21wb25lbnRzWzBdDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgY29udGV4dC5ib29rbWFya0ZpbHRlciA9ICQoZmlsdGVyVGVtcGxhdGUoZmlsdGVyVGVtcGxhdGVEYXRhKSk7DQogICAgICAgICAgICAgICAgY29udGV4dC5ib29rbWFya0ZpbHRlci5maW5kKCdhOmZpcnN0JykuYWRkQ2xhc3MoJ3NlbGVjdGVkJyk7DQogICAgICAgICAgICAgICAgY29udGV4dC5ib29rbWFya0ZpbHRlci5vbignY2xpY2snLCdhJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldCA9ICQoZS50YXJnZXQpOw0KICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2xvc2VzdCgndWwnKS5maW5kKCdhJykucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJyk7DQogICAgICAgICAgICAgICAgICAgIHRhcmdldC5hZGRDbGFzcygnc2VsZWN0ZWQnKTsNCiAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQoZ2V0Q3VycmVudENvbnRlbnRUeXBlcyhjb250ZXh0LmJvb2ttYXJrRmlsdGVyKSk7DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5ib29rbWFya0ZpbHRlcjsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0ZW1wbGF0ZTogY29udGV4dC5ib29rbWFya3NUZW1wbGF0ZQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIGluaXRHcm91cHNMaXN0ID0gZnVuY3Rpb24oY29udGV4dCkgew0KDQogICAgICAgIGNvbnRleHQuZ3JvdXBzTGlzdCA9IFJlYWRRdWV1ZSh7DQogICAgICAgICAgICBoZWFkaW5nTGFiZWw6IGNvbnRleHQuZ3JvdXBzTGFiZWwsDQogICAgICAgICAgICBsaW5rOiBjb250ZXh0Lmdyb3Vwc0xpbmssDQogICAgICAgICAgICBlbmRsZXNzU2Nyb2xsOiB0cnVlLA0KICAgICAgICAgICAgdGl0bGVDb3VudDogZmFsc2UsDQogICAgICAgICAgICBzaG93Q291bnQ6IGZhbHNlLA0KICAgICAgICAgICAgc2hvd01vcmVVcmw6IGNvbnRleHQuZ3JvdXBzTW9yZVVybCwNCiAgICAgICAgICAgIHNob3dNb3JlTGFiZWw6IGNvbnRleHQuZ3JvdXBzTW9yZUxhYmVsLA0KICAgICAgICAgICAgb25Mb2FkOiBmdW5jdGlvbihwYWdlSW5kZXgsIHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCwgZmlsdGVyLCBjb21wbGV0ZSkgew0KICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJRdWVyeSA9IGZpbHRlcjsNCiAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCiAgICAgICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0Lmdyb3Vwc1VybCwNCiAgICAgICAgICAgICAgICAgICAgZGF0YTogew0KICAgICAgICAgICAgICAgICAgICAgICAgd19wYWdlSW5kZXg6IHBhZ2VJbmRleCwNCiAgICAgICAgICAgICAgICAgICAgICAgIHdfcXVlcnk6IGZpbHRlclF1ZXJ5DQogICAgICAgICAgICAgICAgICAgIH0sDQogICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBpZihmaWx0ZXJRdWVyeSAmJiBmaWx0ZXJRdWVyeS5sZW5ndGggPiAwICYmIGNvbnRleHQuZ3JvdXBGaWx0ZXJJbnB1dC52YWwoKSAhPT0gZmlsdGVyUXVlcnkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAvLyBzaG93IHJlc3BvbnNlDQogICAgICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZShyZXNwb25zZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAvLyB1cGRhdGUgY291bnQNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNob3VsZFJlZnJlc2hVbnJlYWRDb3VudCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lmdyb3Vwc0xpc3QucmVmcmVzaFVucmVhZENvdW50KCk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvblJlZnJlc2hVbnJlYWRDb3VudDogZnVuY3Rpb24oY29tcGxldGUpIHsNCiAgICAgICAgICAgICAgICBjb21wbGV0ZSgwKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvbkJ1aWxkRmlsdGVyOiBmdW5jdGlvbihmaWx0ZXJlZCkgew0KICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJJbnRlcnZhbDsNCg0KICAgICAgICAgICAgICAgIHZhciBncm91cEZpbHRlciA9ICQoJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnRlbXBsYXRlLmNvbXBpbGUoY29udGV4dC5ncm91cHNGaWx0ZXJUZW1wbGF0ZSkoKSk7DQogICAgICAgICAgICAgICAgY29udGV4dC5ncm91cEZpbHRlcklucHV0ID0gZ3JvdXBGaWx0ZXIuZmluZCgnaW5wdXQnKTsNCg0KICAgICAgICAgICAgICAgIC8vIGxpdmUgZ3JvdXAgZmlsdGVyaW5nDQogICAgICAgICAgICAgICAgY29udGV4dC5ncm91cEZpbHRlcklucHV0DQogICAgICAgICAgICAgICAgICAgIC5vbignY2xpY2snLCBmdW5jdGlvbihlKXsgZS5zdG9wUHJvcGFnYXRpb24oKTsgfSkNCiAgICAgICAgICAgICAgICAgICAgLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZSl7DQogICAgICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoZmlsdGVySW50ZXJ2YWwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVySW50ZXJ2YWwgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcmVkKGNvbnRleHQuZ3JvdXBGaWx0ZXJJbnB1dC52YWwoKSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9LCAyMDApOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoZS53aGljaCA9PT0gMTMpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyZWQoY29udGV4dC5ncm91cEZpbHRlcklucHV0LnZhbCgpKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICByZXR1cm4gZ3JvdXBGaWx0ZXI7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgb25TaG93OiBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICBjb250ZXh0Lmdyb3VwRmlsdGVySW5wdXQudmFsKCcnKTsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICB0ZW1wbGF0ZTogY29udGV4dC5ncm91cHNUZW1wbGF0ZQ0KICAgICAgICB9KTsNCiAgICB9Ow0KDQogICAgdmFyIGFwaSA9IHsNCiAgICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCiAgICAgICAgICAgIGlmKGNvbnRleHQubm90aWZpY2F0aW9uc0xpbmsubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICBpbml0Tm90aWZpY2F0aW9uUXVldWUoY29udGV4dCk7DQogICAgICAgICAgICBpZihjb250ZXh0LmNvbnZlcnNhdGlvbnNMaW5rLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgaW5pdENvbnZlcnNhdGlvblF1ZXVlKGNvbnRleHQpOw0KICAgICAgICAgICAgaWYoY29udGV4dC5ncm91cHNMaW5rLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgaW5pdEdyb3Vwc0xpc3QoY29udGV4dCk7DQogICAgICAgICAgICBpZihjb250ZXh0LmJvb2ttYXJrc0xpbmsubGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICBpbml0Qm9va21hcmtzTGlzdChjb250ZXh0KTsNCiAgICAgICAgfQ0KICAgIH07DQoNCiAgICAkLnRlbGxpZ2VudCA9ICQudGVsbGlnZW50IHx8IHt9Ow0KICAgICQudGVsbGlnZW50LmV2b2x1dGlvbiA9ICQudGVsbGlnZW50LmV2b2x1dGlvbiB8fCB7fTsNCiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzIHx8IHt9Ow0KICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnNpdGVVc2VyTGlua3MgPSBhcGk7DQoNCn0oalF1ZXJ5KSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_TagCloud_Name}" version="7.5.0.32466" description="${resource:Core_TagCloud_Description}" instanceIdentifier="8c838436a4184f83a6f70318e8cc031a" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="tag-cloud">
		<contentScript>
#set ($applicationType = $core_v2_widget.GetStringValue('applicationType', 'Unknown'))
#set ($filterTags = $core_v2_widget.GetStringValue('filterTags',''))
#set ($ignoreFilterTags = $core_v2_widget.GetBoolValue('ignoreFilterTags', false))
#set ($maximumTags = $core_v2_widget.GetIntValue('maximumTags', 25))
#set ($minimumPostsPerTag = $core_v2_widget.GetIntValue('minimumPostsPerTag', 1))
#set ($showTagCounts = $core_v2_widget.GetBoolValue('showTagCounts',false))
#set ($enableNoTagsMessage = $core_v2_widget.GetBoolValue('enableNoTagsMessage',false))
#set ($noTagsText = $core_v2_widget.GetStringValue('noTagsText','${resource:TagCloud_NoTagsDefined}'))
#set ($linkTo = $core_v2_widget.GetStringValue('linkTo','ContextualTagBrowser'))
#set ($cssClasses = $core_v2_utility.MakeList('level-6','level-5','level-4','level-3','level-2','level-1'))
#set ($currentTags = $core_v2_tags.Current)

## build base tag query
#set ($query = "%{PageSize=100,PageIndex=0,SortBy='ContentCount',SortOrder='Descending'}")
#set ($linkQuery = "%{}")
#if (!$ignoreFilterTags)
	#if($filterTags.Length == 0 &amp;&amp; $currentTags &amp;&amp; $currentTags.Count &gt; 0)
		#set ($filterTags = $core_v2_utility.Join(',',$currentTags))
	#end
	#if ($filterTags &amp;&amp; $filterTags.Length &gt; 0)
		$query.Add('Tags', $filterTags)
	#end
#end

#if ($core_v2_container.Current)
	$query.Add('ContainerIds', $core_v2_container.Current.ContainerId)
	$linkQuery.Add('ContainerId', $core_v2_container.Current.ContainerId)
	$linkQuery.Add('ContainerTypeId', $core_v2_container.Current.ContainerTypeId)
#end

## load tags
#set ($tags = false)
#set ($urlGenerator = false)
#if ($applicationType == "Forum")
	#set ($currentForum = $core_v2_forum.Current)
	$query.Add('ApplicationTypeIds', $core_v2_forum.ApplicationTypeId)
	$linkQuery.Add('ApplicationTypeId', $core_v2_forum.ApplicationTypeId)
	#if ($currentForum)
		$query.Add('ApplicationIds', $currentForum.ApplicationId)
		$linkQuery.Add('ApplicationId', $currentForum.ApplicationId)
	#end
#elseif ($applicationType == "Weblog")
	#set ($currentBlog = $core_v2_blog.Current)
	$query.Add('ApplicationTypeIds', $core_v2_blog.ApplicationTypeId)
	$linkQuery.Add('ApplicationTypeId', $core_v2_blog.ApplicationTypeId)
	#if ($currentBlog)
		$query.Add('ApplicationIds', $currentBlog.ApplicationId)
		$linkQuery.Add('ApplicationId', $currentBlog.ApplicationId)
	#end
#elseif ($applicationType == "MediaGallery")
	#set ($currentGallery = $core_v2_gallery.Current)
	$query.Add('ApplicationTypeIds', $core_v2_gallery.ApplicationTypeId)
	$linkQuery.Add('ApplicationTypeId', $core_v2_gallery.ApplicationTypeId)
	#if ($currentGallery)
		$query.Add('ApplicationIds', $currentGallery.ApplicationId)
		$linkQuery.Add('ApplicationId', $currentGallery.ApplicationId)
	#end
#elseif ($applicationType == "Wiki")
	#set ($currentWiki = $core_v2_wiki.Current)
	$query.Add('ApplicationTypeIds', $core_v2_wiki.ApplicationTypeId)
	$linkQuery.Add('ApplicationTypeId', $core_v2_wiki.ApplicationTypeId)
	#if ($currentWiki)
		$query.Add('ApplicationIds', $currentWiki.ApplicationId)
		$linkQuery.Add('ApplicationId', $currentWiki.ApplicationId)
	#end
#elseif ($applicationType == "Unknown")
	#if($core_v2_application.Current)
		$query.Add('ApplicationIds', $core_v2_application.Current.ApplicationId)
		$linkQuery.Add('ApplicationId', $core_v2_application.Current.ApplicationId)
	#end
	#if ($core_v2_applicationType.Current)
		$query.Add('ApplicationTypeIds', $core_v2_applicationType.Current.Id)
		$linkQuery.Add('ApplicationTypeId', $core_v2_applicationType.Current.Id)
	#end
#end

#set ($tags = $core_v2_tags.List($query))
#set ($sortedTags = $core_v2_tags.Sort($tags, "%{ MinimumItemsPerTag = $minimumPostsPerTag, MaximumNumberOfTags = $maximumTags, CssClasses = $cssClasses }"))

#foreach ($tag in $sortedTags)
#beforeall
	&lt;div class="tag-list-header"&gt;&lt;/div&gt;
	&lt;ul class="tag-list"&gt;
#each
	#set ($tagName = $tag.Name)
	#if ($showTagCounts)
		#set ($tagName = "${tagName} ($tag.ContentCount)")
	#end
	&lt;li class="tag-item ${tag.CssClass}"&gt;
		#set ($tagUrl = false)
		#if($linkTo != 'Nothing')
			#set ($tagsToLink = false)
			#set ($tagsToLink = $core_v2_tags.Current)
			#if ($tagsToLink)
				#set ($addIndex = $tagsToLink.Add($tag.Name))
			#else
				#set ($tagsToLink = $core_v2_utility.MakeList($tag.Name))
			#end
			#if($linkTo == 'SiteTagBrowser')
				#set($tagUrl = $core_v2_urls.Tags($tagsToLink))
			#else
				$linkQuery.Remove('Tags')
				$linkQuery.Add('Tags', $core_v2_utility.Join(',', $tagsToLink))
				#set($tagUrl = $core_v2_urls.Tags($linkQuery))
			#end
		#end
		#if ($tagUrl)
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($tagUrl)" rel="nofollow tag"&gt;&lt;span&gt;&lt;/span&gt;$tagName&lt;/a&gt;
		#else
			$tagName
		#end
	&lt;/li&gt;
#afterall
	&lt;/ul&gt;
	&lt;div class="tag-list-footer"&gt;&lt;/div&gt;
#nodata
	#set ($noTagsText = $core_v2_widget.ApplyTokens($noTagsText))
	#if ($filterTags &amp;&amp; $filterTags.Count &gt; 0)
		&lt;div class="tag-list"&gt;$core_v2_language.GetResource('TagCloud_NoSubTagsDefined')&lt;/div&gt;
	#elseif($noTagsText &amp;&amp; $enableNoTagsMessage)
		&lt;div class="tag-list"&gt;$noTagsText&lt;/div&gt;
	#else
		$core_v2_widget.Hide()
	#end
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:TagCloud_Title}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:TagCloud_Title}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="applicationType" resourceName="CF_AppType" dataType="string" defaultValue="Unknown"&gt;
		&lt;propertyValue value="Forum" resourceName="CF_Forum" /&gt;
		&lt;propertyValue value="Weblog" resourceName="CF_Weblog" /&gt;
		&lt;propertyValue value="MediaGallery" resourceName="CF_MediaGallery" /&gt;
		&lt;propertyValue value="Wiki" resourceName="CF_Wiki" /&gt;
		&lt;propertyValue value="Unknown" resourceName="CF_Unknown" /&gt;
	&lt;/property&gt;
	&lt;property id="ignoreFilterTags" resourceName="CF_IgnoreFilterTags" descriptionResourceName="CF_IgnoreFilterTags_Description" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="maximumTags" resourceName="CF_MaxTags" descriptionResourceName="CF_MaxTags_Description" dataType="int" defaultValue="25"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="minimumPostsPerTag" resourceName="CF_MinPostsPerTag" descriptionResourceName="CF_MinPostsPerTag_Description" dataType="int" defaultValue="1"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="10000" /&gt;
	&lt;/property&gt;
	&lt;property id="filterTags" resourceName="CF_TagsToFilter" descriptionResourceName="CF_TagsToFilter_Description" dataType="string" defaultValue="" /&gt;
	&lt;property id="showTagCounts" resourceName="CF_ShowTagCount" descriptionResourceName="CF_ShowTagCount_Description" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="enableNoTagsMessage" resourceName="CF_EnableNoTagsMessage" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="noTagsText" resourceName="CF_NoTagsText" dataType="string" defaultValue="${resource:TagCloud_NoTagsDefined}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="linkTo" resourceName="CF_LinkTagsTo" dataType="string" defaultValue="ContextualTagBrowser"&gt;
		&lt;propertyValue value="SiteTagBrowser" resourceName="CF_SiteTagBrowser" /&gt;
		&lt;propertyValue value="ContextualTagBrowser" resourceName="CF_ContextualTagBrowser" /&gt;
		&lt;propertyValue value="Nothing" resourceName="CF_Nothing" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_TagCloud_Name">Tag Cloud</resource><resource name="Core_TagCloud_Description">Displays a tag cloud.</resource><resource name="TagCloud_NoTagsDefined">No tags have been created or used yet.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_AppType">Application</resource><resource name="CF_Forum">Forums</resource><resource name="CF_Weblog">Weblogs</resource><resource name="CF_MediaGallery">Media Galleries</resource><resource name="CF_Wiki">Wikis</resource><resource name="CF_Unknown">(Automatically Detect)</resource><resource name="CF_IgnoreFilterTags">Ignore Filter Tags</resource><resource name="CF_MaxTags">Maximum Number of Tags</resource><resource name="CF_MinPostsPerTag">Minimum Number of Posts per Tag</resource><resource name="CF_TagsToFilter">Tags to Filter by</resource><resource name="CF_ShowTagCount">Show Post Count</resource><resource name="CF_EnableNoTagsMessage">Enable No Tags Message</resource><resource name="CF_NoTagsText">Text to Display when No Tags are Available</resource><resource name="CF_LinkTagsTo">Link each Tag to</resource><resource name="CF_SiteTagBrowser">Site Tag Browser</resource><resource name="CF_ContextualTagBrowser">Contextual Tag Browser</resource><resource name="CF_Nothing">(Nothing)</resource><resource name="CF_IgnoreFilterTags_Description">If set to true, the tag cloud will not be filtered by tags identified in the URL. This can be useful if the tag cloud will be shown on a 'Tag Browser' page.</resource><resource name="CF_MaxTags_Description">Only the most popular tags, up to the maximum number defined, will be displayed.</resource><resource name="CF_MinPostsPerTag_Description">Only tags related to this minimum will be displayed.</resource><resource name="CF_TagsToFilter_Description">A comma-separated list of tags to filter the tag cloud by.</resource><resource name="CF_ShowTagCount_Description">If enabled, the number of posts referencing each tag will be shown with each tag.</resource><resource name="TagCloud_NoSubTagsDefined">Sorry, but there are no more tags available to filter with.</resource><resource name="Core_TagCloud_Title_Tags">Tags</resource><resource name="Core_TagCloud_Title_GroupTags">Tags</resource><resource name="TagCloud_Title">Related Tags</resource></language></languageResources>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_TaggedContentList_Name}" version="7.5.0.32466" description="${resource:Core_TaggedContentList_Description}" instanceIdentifier="ec913ce1a28f4602af498bf572f374e1" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="tagged-content-list">
		<contentScript>
#set ($viewType = $core_v2_widget.GetStringValue('viewType', 'standard'))
#set ($dataSource = $core_v2_widget.GetStringValue('dataSource','context'))

#set ($pageIndex = $core_v2_ui.GetCurrentPageIndex())
#set ($pageSize = $core_v2_widget.GetIntValue('pageSize', 25))
#if ($viewType == 'simple')
	#set ($pageSize = $core_v2_widget.GetIntValue('pageSizeForSimpleView',5))
#end

##
## Get tagged content
##
#set ($taggedContent = false)
#set ($query = "%{ PageSize = $pageSize, PageIndex = $pageIndex }")

## context-defined content source
#if ($dataSource == 'context')
	#set($currentTags = $core_v2_tags.Current)
	#if($currentTags &amp;&amp; $currentTags.Count &gt; 0)
		$query.Add('Tags', $core_v2_utility.Join(',',$currentTags))
	#else
		$core_v2_widget.Hide()
	#end

	#if($core_v2_application.Current)
	$query.Add('ApplicationIds', $core_v2_application.Current.ApplicationId)
	#else
	    #if ($core_v2_applicationType.Current)
	        $query.Add('ApplicationTypeIds', $core_v2_applicationType.Current.Id)
	    #end
	    #if ($core_v2_container.Current)
	        $query.Add('ContainerIds', $core_v2_container.Current.ContainerId)
	   #end
	#end
## user-defined content source
#else
	#set ($userTags = $core_v2_widget.GetStringValue('userDefinedTags',''))
	#if ($userTags &amp;&amp; $userTags.Length &gt; 0)
		#set ($logicallyOrTags = $core_v2_widget.GetBoolValue('logicallyOrTags',true))

		$query.Add('Tags',$userTags)
		$query.Add('LogicallyOrTags',$logicallyOrTags)

		## parse search settings
		#set ($searchSettingsValue = $core_v2_widget.GetCustomValue('searchSettings',''))
		#set ($searchSettings = false)
		#set ($searchSettings = $core_v2_page.ParseQueryString($searchSettingsValue))
		#if ($searchSettings)
			## determine container type group or one of the app types
			#set ($containerType = 'group')
			#set ($containerType = $searchSettings.Value('Search'))
			#if ($containerType == 'group')
				## if it was a group, determine what sub apps are included
				#set ($subGroups = false)
				#set ($subGroups = $core_v2_utility.ParseBool($searchSettings.Value('SubGroups')))
				#set ($groupId = -1)
				#set ($groupId = $core_v2_utility.ParseInt($searchSettings.Value('ID')))
				#set ($includeBlogs = true)
				#set ($includeBlogs = $core_v2_utility.ParseBool($searchSettings.Value('Blogs')))
				#set ($includeForums = true)
				#set ($includeForums = $core_v2_utility.ParseBool($searchSettings.Value('Forums')))
				#set ($includeFiles = true)
				#set ($includeFiles = $core_v2_utility.ParseBool($searchSettings.Value('Files')))
				#set ($includeWikis = true)
				#set ($includeWikis = $core_v2_utility.ParseBool($searchSettings.Value('Wikis')))

				## get either the current group or user-specified group
				#set ($group = false)
				#if ($groupId &gt; 0)
					#set ($group = $core_v2_group.Get("%{ Id = $groupId }"))
				#else
					#set ($group = $core_v2_group.Current)
				#end
				#if ($group &amp;&amp; $group.Id != $core_v2_group.Root.Id)

					## add filters for the group and any optional subgrops
					#set($contentContainerIds = "$group.ContainerId")
					#if ($subGroups)
						#set ($groups = $core_v2_group.List("%{ IncludeAllSubGroups = 'true', PageSize = 50, ParentGroupId = $group.Id, Permission = 'Group_ReadGroup' }"))
						#foreach ($subGroup in $groups)
							#set ($contentContainerIds = "${contentContainerIds},${subGroup.ContainerId}")
						#end
					#end
					$query.Add('ContainerIds', $contentContainerIds)

					## add filters regarding which content types are to be searched
					#if ($includeBlogs || $includeForums || $includeWikis || $includeFiles)
					    #set ($applicationTypeIds = "")
    					#if ($includeBlogs)
    					    #if ($applicationTypeIds.Length &gt; 0)
    					       #set ($applicationTypeIds = "${applicationTypeIds},")
    					    #end
    						#set ($applicationTypeIds = "${applicationTypeIds}$core_v2_blog.ApplicationTypeId")
    					#end
    					#if ($includeForums)
    					    #if ($applicationTypeIds.Length &gt; 0)
    					       #set ($applicationTypeIds = "${applicationTypeIds},")
    					    #end
    						#set ($applicationTypeIds = "${applicationTypeIds}$core_v2_forum.ApplicationTypeId")
    					#end
    					#if ($includeWikis)
    					    #if ($applicationTypeIds.Length &gt; 0)
    					       #set ($applicationTypeIds = "${applicationTypeIds},")
    					    #end
    						#set ($applicationTypeIds = "${applicationTypeIds}$core_v2_wiki.ApplicationTypeId")
    					#end
    					#if ($includeFiles)
    					    #if ($applicationTypeIds.Length &gt; 0)
    					       #set ($applicationTypeIds = "${applicationTypeIds},")
    					    #end
    						#set ($applicationTypeIds = "${applicationTypeIds}$core_v2_gallery.ApplicationTypeId")
    					#end

    					$query.Add('ApplicationTypeIds', $applicationTypeIds)
					#end
				#end
			## otherwise, user specified a specific app type and selections of that type
			#else
				#set($applicationIds = '')

				## if it was for a particular app type, get all the selected ids for that app type
				#if ($containerType == 'wiki')
					$query.Add('ApplicationTypeIds',$core_v2_wiki.ApplicationTypeId)
					#foreach($wikiId in $searchSettings.Values($containerType))
						#set($wiki = false)
						#set($wiki = $core_v2_wiki.Get("%{Id=$core_v2_utility.ParseInt($wikiId)}"))
						#if ($wiki)
							#if ($applicationIds.Length &gt; 0)
								#set($applicationIds = "$applicationIds,")
							#end
							#set($applicationids = "$applicationIds$wiki.ApplicationId")
						#end
					#end
				#elseif ($containerType == 'blog')
					$query.Add('ApplicationTypeIds',$core_v2_blog.ApplicationTypeId)
					#foreach($blogId in $searchSettings.Values($containerType))
						#set($blog = false)
						#set($blog = $core_v2_blog.Get("%{Id=$core_v2_utility.ParseInt($blogId)}"))
						#if ($blog)
							#if ($applicationIds.Length &gt; 0)
								#set($applicationIds = "$applicationIds,")
							#end
							#set($applicationids = "$applicationIds$blog.ApplicationId")
						#end
					#end
				#elseif ($containerType == 'forum')
					$query.Add('ApplicationTypeIds',$core_v2_forum.ApplicationTypeId)
					#foreach($forumId in $searchSettings.Values($containerType))
						#set($forum = false)
						#set($forum = $core_v2_forum.Get($core_v2_utility.ParseInt($forumId)))
						#if ($forum)
							#if ($applicationIds.Length &gt; 0)
								#set($applicationIds = "$applicationIds,")
							#end
							#set($applicationids = "$applicationIds$forum.ApplicationId")
						#end
					#end
				#elseif ($containerType == 'file')
					$query.Add('ApplicationTypeIds',$core_v2_gallery.ApplicationTypeId)
					#foreach($galleryId in $searchSettings.Values($containerType))
						#set($gallery = false)
						#set($gallery = $core_v2_gallery.Get("%{Id=$core_v2_utility.ParseInt($galleryId)}"))
						#if ($gallery)
							#if ($applicationIds.Length &gt; 0)
								#set($applicationIds = "$applicationIds,")
							#end
							#set($applicationids = "$applicationIds$gallery.ApplicationId")
						#end
					#end
				#end
			#end
		#end
	#else
		$core_v2_widget.Hide()
	#end
#end

#set($taggedContent = $core_v2_taggedContent.List($query))
#if ($taggedContent)
	$core_v2_widget.ExecuteFile("${viewType}.vm")
#end
	</contentScript>
		<headerScript>
#set($header = $core_v2_widget.GetStringValue('fragmentHeader', ''))
#if ($header &amp;&amp; $header.Length &gt; 0)
	$core_v2_widget.ApplyTokens($header)
#elseif ($core_v2_widget.GetStringValue('dataSource','context') == 'context')
	#set($currentTags = $core_v2_tags.Current)
	#if($currentTags &amp;&amp; $currentTags.Count &gt; 0)
		$core_v2_language.FormatString($core_v2_language.GetResource('ResultsForTags'), $core_v2_utility.Join(', ', $currentTags))
	#end
#else
	#set ($userTags = $core_v2_widget.GetStringValue('userDefinedTags',''))
	#if ($userTags &amp;&amp; $userTags.Length &gt; 0)
		$core_v2_language.FormatString($core_v2_language.GetResource('ResultsForTags'), $core_v2_utility.Join(', ', $core_v2_utility.Split(',', $userTags)))
	#end
#end
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="viewType" resourceName="CF_Core_TaggedContentList_ViewType" dataType="string" defaultValue="standard" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls"&gt;
		&lt;propertyValue value="standard" resourceName="CF_Core_TaggedContentList_ViewType_Standard" propertiesToShow="pageSize" propertiesToHide="pageSizeForSimpleView" /&gt;
		&lt;propertyValue value="simple" resourceName="CF_Core_TaggedContentList_ViewType_Simple" propertiesToShow="pageSizeForSimpleView" propertiesToHide="pageSize" /&gt;
	&lt;/property&gt;
	&lt;property id="pageSize" resourceName="CF_Core_TaggedContentList_PageSize" dataType="int" defaultValue="25"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="pageSizeForSimpleView" resourceName="CF_Core_TaggedContentList_PageSize" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="dataSource" resourceName="CF_Core_TaggedContentList_DataSource" dataType="string" defaultValue="context" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls"&gt;
		&lt;propertyValue value="context" resourceName="CF_Core_TaggedContentList_DataSource_Context" propertiesToHide="userDefinedTags,logicallyOrTags,searchSettings" /&gt;
		&lt;propertyValue value="userDefined" resourceName="CF_Core_TaggedContentList_DataSource_UserDefined" propertiesToShow="userDefinedTags,logicallyOrTags,searchSettings" /&gt;
	&lt;/property&gt;
	&lt;property id="logicallyOrTags" resourceName="CF_Core_TaggedContentList_MatchAnyTags" dataType="bool" defaultValue="true"  /&gt;
	&lt;property id="userDefinedTags" resourceName="CF_Core_TaggedContentList_Tags" dataType="string" defaultValue=""	/&gt;
	&lt;property id="searchSettings" resourceName="CF_Core_TaggedContentList_SelectGroup" dataType="custom" defaultValue="" controlType="Telligent.Evolution.Controls.GroupOrApplicationSelectionControl, Telligent.Evolution.Controls" width="300" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_TaggedContentList_Name">Tagged Content List</resource><resource name="Core_TaggedContentList_Description">Displays a list of tagged content.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_Core_TaggedContentList_ViewType">View Type</resource><resource name="CF_Core_TaggedContentList_ViewType_Standard">Expanded</resource><resource name="CF_Core_TaggedContentList_ViewType_Simple">Simple</resource><resource name="CF_Core_TaggedContentList_PageSize">Number of items to display</resource><resource name="CF_Core_TaggedContentList_DataSource">Source</resource><resource name="CF_Core_TaggedContentList_DataSource_Context">Contextual tags</resource><resource name="CF_Core_TaggedContentList_DataSource_UserDefined">User-defined tags</resource><resource name="CF_Core_TaggedContentList_MatchAnyTags">Match ANY of these tags</resource><resource name="CF_Core_TaggedContentList_Tags">Tags</resource><resource name="CF_Core_TaggedContentList_SelectGroup">Select the group or application(s) to search</resource><resource name="SearchResults_On">on</resource><resource name="Core_TaggedContentList_Title_RelatedContent">Related Content</resource><resource name="TaggedContent_NotFound">There are no posts with the requested tag.</resource><resource name="Scope_Filter_Label">View more results: </resource><resource name="Scope_Filter_Site">All Community</resource><resource name="ResultsForTags">Results for {0}</resource></language></languageResources>
		<files>
			<file name="simple.vm">I2ZvcmVhY2ggKCRjb250ZW50IGluICR0YWdnZWRDb250ZW50KQojbm9kYXRhCiAgICAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVGFnZ2VkQ29udGVudF9Ob3RGb3VuZCcpCiNiZWZvcmVhbGwKCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIgc2ltcGxlIj48L2Rpdj4KCTx1bCBjbGFzcz0iY29udGVudC1saXN0IHNpbXBsZSI+CiNlYWNoCgkjc2V0ICgkdXNlciA9IGZhbHNlKQoJI3NldCAoJGNvbnRlbnRUeXBlID0gJycpCgkjaWYgKCRjb250ZW50LkNvbnRlbnQuQ3JlYXRlZEJ5VXNlcklkKQoJCSNzZXQgKCR1c2VyID0gJGNvcmVfdjJfdXNlci5HZXQoIiV7SWQ9JGNvbnRlbnQuQ29udGVudC5DcmVhdGVkQnlVc2VySWR9IikpCgkjZW5kCgkjc2V0ICgkY29udGVudFR5cGUgPSAkY29yZV92Ml9jb250ZW50VHlwZS5HZXQoJGNvbnRlbnQuQ29udGVudC5Db250ZW50VHlwZUlkKSkKCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSI+CgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPjwvZGl2PgoJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QiPgoJCQk8aDQgY2xhc3M9InBvc3QtbmFtZSI+CgkJCQkjaWYoJGNvbnRlbnRUeXBlKQoJCQkJCSRjb250ZW50VHlwZS5OYW1lOgoJCQkJI2VuZAoJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29udGVudC5Db250ZW50LlVybCkiPiRjb250ZW50LkNvbnRlbnQuSHRtbE5hbWUoJ1dlYicpPC9hPgoJCQk8L2g0PgoJCQk8ZGl2IGNsYXNzPSJwb3N0LWRhdGUiPgoJCQkJPHNwYW4gY2xhc3M9ImxhYmVsIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2VhcmNoUmVzdWx0c19PbicpPC9zcGFuPgoJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRjb250ZW50LkNvbnRlbnQuQ3JlYXRlZERhdGUpPC9zcGFuPgoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgoJCQkJPHNwYW4gY2xhc3M9InBvc3QtYXV0aG9yLWJ5Ij5ieTwvc3Bhbj4KCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPgoJCQkJCSNpZiAoJHVzZXIpCgkJCQkJCSNpZiAoJHVzZXIuUHJvZmlsZVVybCkKCQkJCQkJCTxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIj4KCQkJCQkJCQk8c3Bhbj48L3NwYW4+JHVzZXIuRGlzcGxheU5hbWUKCQkJCQkJCTwvYT4KCQkJCQkJI2Vsc2UKCQkJCQkJCSR1c2VyLkRpc3BsYXlOYW1lCgkJCQkJCSNlbmQKCQkJCQkjZW5kCgkJCQk8L3NwYW4+CgkJCTwvZGl2PgoJCTwvZGl2PgoJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtZm9vdGVyIj48L2Rpdj4KCTwvbGk+CiNhZnRlcmFsbAoJPC91bD4KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIgc2ltcGxlIj48L2Rpdj4KI2VuZAoKJGNvcmVfdjJfdWkuUGFnZXIoJHRhZ2dlZENvbnRlbnQuUGFnZUluZGV4LCAkdGFnZ2VkQ29udGVudC5QYWdlU2l6ZSwgJHRhZ2dlZENvbnRlbnQuVG90YWxDb3VudCkK</file>
			<file name="standard.vm">I2lmICgkZGF0YVNvdXJjZSA9PSAnY29udGV4dCcgJiYgJGNvcmVfdjJfY29udGFpbmVyLkN1cnJlbnQpCgkjc2V0KCRzY29wZVNpdGVVcmwgPSBmYWxzZSkKCSNzZXQoJHNjb3BlQ29udGFpbmVyVXJsID0gZmFsc2UpCgkjc2V0KCRzY29wZUFwcGxpY2F0aW9udXJsID0gZmFsc2UpCgkjc2V0KCRjdXJyZW50VGFncyA9ICRjb3JlX3YyX3V0aWxpdHkuSm9pbignLCcsJGNvcmVfdjJfdGFncy5DdXJyZW50KSkKCSNpZiAoJGNvcmVfdjJfYXBwbGljYXRpb24uQ3VycmVudCAmJiAkY29yZV92Ml9hcHBsaWNhdGlvbi5DdXJyZW50LkFwcGxpY2F0aW9uSWQgIT0gJGNvcmVfdjJfY29udGFpbmVyLkN1cnJlbnQuQ29udGFpbmVySWQpCgkJI3NldCgkc2NvcGVBcHBsaWNhdGlvblVybCA9ICRjb3JlX3YyX3VybHMuVGFncygiJXtBcHBsaWNhdGlvbklkPSRjb3JlX3YyX2FwcGxpY2F0aW9uLkN1cnJlbnQuQXBwbGljYXRpb25JZCxBcHBsaWNhdGlvblR5cGVJZD0kY29yZV92Ml9hcHBsaWNhdGlvbi5DdXJyZW50LkFwcGxpY2F0aW9uVHlwZUlkLFRhZ3M9JGN1cnJlbnRUYWdzfSIpKQoJI2VuZAoJI3NldCgkc2NvcGVDb250YWluZXJVcmwgPSAkY29yZV92Ml91cmxzLlRhZ3MoIiV7Q29udGFpbmVySWQ9JGNvcmVfdjJfY29udGFpbmVyLkN1cnJlbnQuQ29udGFpbmVySWQsQ29udGFpbmVyVHlwZUlkPSRjb3JlX3YyX2NvbnRhaW5lci5DdXJyZW50LkNvbnRhaW5lclR5cGVJZCxUYWdzPSRjdXJyZW50VGFnc30iKSkKCSNzZXQoJHNjb3BlU2l0ZVVybCA9ICRjb3JlX3YyX3VybHMuVGFncygiJXtUYWdzPSRjdXJyZW50VGFnc30iKSkKCgkjaWYgKCRzY29wZVNpdGVVcmwgfHwgJHNjb3BlQ29udGFpbmVyVXJsIHx8ICRzY29wZUFwcGxpY2F0aW9uVXJsKQoJCTxkaXYgY2xhc3M9Im1lc3NhZ2UgaW5mb3JtYXRpb24iPgoJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2NvcGVfRmlsdGVyX0xhYmVsJykKCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkc2NvcGVTaXRlVXJsKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdTY29wZV9GaWx0ZXJfU2l0ZScpPC9hPgoJCQkjaWYoJHNjb3BlQ29udGFpbmVyVXJsICYmICRzY29wZUNvbnRhaW5lclVybCAhPSAkc2NvcGVTaXRlVXJsKQoJCQkJfCA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRzY29wZUNvbnRhaW5lclVybCkiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9jb250YWluZXIuQ3VycmVudC5IdG1sTmFtZSgnV2ViJyk8L2E+CgkJCSNlbmQKCgkJCSNpZigkc2NvcGVBcHBsaWNhdGlvblVybCAmJiAkc2NvcGVBcHBsaWNhdGlvblVybCAhPSAkc2NvcGVTaXRlVXJsICYmICRzY29wZUFwcGxpY2F0aW9uVXJsICE9ICRzY29wZUNvbnRhaW5lclVybCkKCQkJCXwgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkc2NvcGVBcHBsaWNhdGlvblVybCkiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9hcHBsaWNhdGlvbi5DdXJyZW50Lkh0bWxOYW1lKCdXZWInKTwvYT4KCQkJI2VuZAoJCTwvZGl2PgoJI2VuZAojZW5kCgoKI2ZvcmVhY2ggKCRjb250ZW50IGluICR0YWdnZWRDb250ZW50KQojbm9kYXRhIA0KICAgICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdUYWdnZWRDb250ZW50X05vdEZvdW5kJykKI2JlZm9yZWFsbAoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciBzdGFuZGFyZCI+PC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCBzdGFuZGFyZCI+CiNlYWNoCgkjc2V0ICgkdXNlciA9IGZhbHNlKQoJI3NldCAoJGNvbnRlbnRUeXBlID0gZmFsc2UpCgkjaWYgKCRjb250ZW50LkNvbnRlbnQuQ3JlYXRlZEJ5VXNlcklkKQoJCSNzZXQgKCR1c2VyID0gJGNvcmVfdjJfdXNlci5HZXQoIiV7SWQ9JGNvbnRlbnQuQ29udGVudC5DcmVhdGVkQnlVc2VySWR9IikpCgkjZW5kCgkjc2V0ICgkY29udGVudFR5cGUgPSAkY29yZV92Ml9jb250ZW50VHlwZS5HZXQoJGNvbnRlbnQuQ29udGVudC5Db250ZW50VHlwZUlkKSkKCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSI+CgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPjwvZGl2PgoJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QiPgoJCQk8aDQgY2xhc3M9InBvc3QtbmFtZSI+CgkJCQkjaWYoJGNvbnRlbnRUeXBlKQoJCQkJCSRjb250ZW50VHlwZS5OYW1lOgkKCQkJCSNlbmQKCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvbnRlbnQuQ29udGVudC5VcmwpIj4kY29udGVudC5Db250ZW50Lkh0bWxOYW1lKCdXZWInKTwvYT4KCQkJPC9oND4KCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPgoJCQkJI2lmICgkdXNlcikKCQkJCQkjaWYoJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJHVzZXIuSWQpKQoJCQkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4KCQkJCQkJCSNpZiAoJHVzZXIuUHJvZmlsZVVybCkKCQkJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIj4KCQkJCQkJCQkJJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkdXNlci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7Ym9yZGVyPScwJywgYWx0PSR1c2VyLkRpc3BsYXlOYW1lfSIpCgkJCQkJCQkJPC9hPgoJCQkJCQkJI2Vsc2UKCQkJCQkJCQkkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCR1c2VyLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JHVzZXIuRGlzcGxheU5hbWV9IikKCQkJCQkJCSNlbmQKCQkJCQkJPC9zcGFuPgoJCQkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4KCQkJCQkJCSNpZiAoJHVzZXIuUHJvZmlsZVVybCkKCQkJCQkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXVzZXItcHJvZmlsZSIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXNlci5Qcm9maWxlVXJsKSI+CgkJCQkJCQkJCTxzcGFuPjwvc3Bhbj4kdXNlci5EaXNwbGF5TmFtZQoJCQkJCQkJCTwvYT4KCQkJCQkJCSNlbHNlCgkJCQkJCQkJPHNwYW4+PC9zcGFuPiR1c2VyLkRpc3BsYXlOYW1lCgkJCQkJCQkjZW5kCgkJCQkJCTwvc3Bhbj4KCQkJCQkjZWxzZQoJCQkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj4KCQkJCQkJCSRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCAzMiwgMzIsICIle2JvcmRlcj0nMCcsIGFsdD0kdXNlci5EaXNwbGF5TmFtZX0iKQoJCQkJCQk8L3NwYW4+CgkJCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPgoJCQkJCQkJJHVzZXIuRGlzcGxheU5hbWUKCQkJCQkJPC9zcGFuPgoJCQkJCSNlbmQKCQkJCSNlbmQKCQkJPC9kaXY+CgkJCTxkaXYgY2xhc3M9InBvc3Qtc3VtbWFyeSI+JGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGNvbnRlbnQuQ29udGVudC5IdG1sRGVzY3JpcHRpb24oJ1dlYicpLCAzMDAsICcuLi4nKTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJwb3N0LWRhdGUiPgoJCQkJPHNwYW4gY2xhc3M9ImxhYmVsIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnU2VhcmNoUmVzdWx0c19PbicpPC9zcGFuPgoJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlKCRjb250ZW50LkNvbnRlbnQuQ3JlYXRlZERhdGUpPC9zcGFuPgoJCQk8L2Rpdj4KCQk8L2Rpdj4KCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciI+PC9kaXY+Cgk8L2xpPgojYWZ0ZXJhbGwKCTwvdWw+Cgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIHN0YW5kYXJkIj48L2Rpdj4KI2VuZAoKJGNvcmVfdjJfdWkuUGFnZXIoJHRhZ2dlZENvbnRlbnQuUGFnZUluZGV4LCAkdGFnZ2VkQ29udGVudC5QYWdlU2l6ZSwgJHRhZ2dlZENvbnRlbnQuVG90YWxDb3VudCkK</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:CF_RssFeed}" version="7.5.0.32466" description="${resource:CF_TempRssDesc}" instanceIdentifier="0edc7cfd95f242658d0c3ba139252b75" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="temporary-rss-feed-item-list">
		<contentScript>
#set ($feedUrl = $core_v2_widget.GetStringValue('feedUrl', ''))
#set ($viewType = $core_v2_widget.GetStringValue('viewType', 'simple'))
#set ($pageSize = $core_v2_widget.GetIntValue('pageSize', 5))
#if ($feedUrl.length == 0)
	$core_v2_widget.Hide()
#end

&lt;div id="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.UniqueId('feedWrapper'))"&gt;
	&lt;div class="content-list-header"&gt;&lt;/div&gt;
	&lt;div class="content-list-name"&gt;
		&lt;a class="external-link rss" href="$core_v2_encoding.HtmlAttributeEncode($feedUrl)"&gt;
			&lt;span&gt;&lt;/span&gt;$core_v2_encoding.HtmlAttributeEncode($feedUrl)
		&lt;/a&gt;
	&lt;/div&gt;
	&lt;ul class="content-list"&gt;&lt;/ul&gt;
	&lt;div class="content-list-footer"&gt;&lt;/div&gt;
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.temporaryRssFeedItemList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.temporaryRssFeedItemList.register({
				feedWrapper: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.UniqueId('feedWrapper'))',
				feedItemsUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('feeditems.vm'))",
				feedUrl: '$core_v2_encoding.JavascriptEncode($feedUrl)',
				viewType: '$core_v2_encoding.JavascriptEncode($viewType)',
				pageSize: $pageSize
			});
		});
	&lt;/script&gt;
#end
	</contentScript>
		<headerScript>
#set ($feedUrl = $core_v2_widget.GetStringValue('feedUrl', ''))
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:CF_RssFeed}'))
#if ($feedUrl.length &gt; 0)
	&lt;a class="internal-link rss" href="$core_v2_encoding.HtmlAttributeEncode($feedUrl)"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Rss')&lt;/a&gt;
#end
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:CF_RssFeed}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="feedUrl" resourceName="CF_FeedUrl" descriptionResourceName="CF_FeedUrl_Description" dataType="url" defaultValue="" controlType="Telligent.Evolution.Controls.RssFeedSettings, Telligent.Evolution.Controls" /&gt;
	&lt;property id="viewType" resourceName="CF_TempFeed_ViewType" dataType="string" defaultValue="simple"&gt;
		&lt;propertyValue value="simple" resourceName="CF_TempFeed_NotFiltered" /&gt;
		&lt;propertyValue value="simpleExpanded" resourceName="CF_TempFeed_FirstPostExcerpt" /&gt;
	&lt;/property&gt;
	&lt;property id="pageSize" resourceName="CF_TempFeed_PageSize" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="CF_RssFeed">RSS Feed</resource><resource name="CF_TempRssDesc">Displays the latest items from an RSS feed.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_FeedUrl">Feed URL</resource><resource name="CF_TempFeed_ViewType">View type</resource><resource name="CF_TempFeed_NotFiltered">Not Paged/Not Filtered</resource><resource name="CF_TempFeed_FirstPostExcerpt">Not Paged/Not Filtered/First Post Excerpt</resource><resource name="CF_TempFeed_PageSize">Number of items to show</resource><resource name="CF_FeedUrl_Description">The full URL of the RSS feed to retrieve and display.</resource><resource name="Rss">RSS</resource><resource name="CF_TempFeed_PostedBy">by {0}</resource></language></languageResources>
		<files>
			<file name="feeditems.vm">I3NldCAoJGZlZWRVcmwgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZmVlZFVybCcpKQojc2V0ICgkcGFnZVNpemUgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlU2l6ZScpKSkKI3NldCAoJGZlZWRJdGVtcyA9ICRjb3JlX3YyX3Jzc0ZlZWRJdGVtLkxpc3QoJGZlZWRVcmwsICIleyBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSB9IikpCiNzZXQgKCR2aWV3VHlwZSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd192aWV3VHlwZScpKQoKI3NldCAoJGNzc0NsYXNzID0gInNpbXBsZSIpCiNpZiAoJHZpZXdUeXBlID09ICJzaW1wbGVFeHBhbmRlZCIpCgkjc2V0ICgkY3NzQ2xhc3MgPSAic2ltcGxlLWV4cGFuZGVkIikKI2VuZAojc2V0ICgkaW5kZXggPSAwKQoKI2ZvcmVhY2ggKCRpdGVtIGluICRmZWVkSXRlbXMpCiNiZWZvcmVhbGwKCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIgJGNzc0NsYXNzIj48L2Rpdj4KCTx1bCBjbGFzcz0iY29udGVudC1saXN0ICRjc3NDbGFzcyI+CiNlYWNoCgkjaWYgKCR2aWV3VHlwZSA9PSAic2ltcGxlIiB8fCAkaW5kZXggPiAwKQoJCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4KCQkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPjwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0Ij4KCQkJCTxoNCBjbGFzcz0icG9zdC1uYW1lIj4KCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRpdGVtLlVybCkiIGNsYXNzPSJleHRlcm5hbC1saW5rIHZpZXctcnNzLWl0ZW0iPgoJCQkJCQk8c3Bhbj48L3NwYW4+JGNvcmVfdjJfZW5jb2RpbmcuSHRtbEVuY29kZSgkaXRlbS5UaXRsZSkKCQkJCQk8L2E+CgkJCQk8L2g0PgoJCQkJPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4KCQkJCQk8c3BhbiBjbGFzcz0idmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdEFnb0RhdGUoJGl0ZW0uRGF0ZSk8L3NwYW4+CgkJCQk8L2Rpdj4KCQkJCSNpZiAoJGl0ZW0uQXV0aG9yICYmICRpdGVtLkF1dGhvciAhPSAnJykKCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9UZW1wRmVlZF9Qb3N0ZWRCeScpLCAkY29yZV92Ml9lbmNvZGluZy5IdG1sRW5jb2RlKCRpdGVtLkF1dGhvcikpPC9kaXY+CgkJCQkjZW5kCgkJCTwvZGl2PgoJCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciI+PC9kaXY+CgkJPC9saT4KCSNlbHNlCgkJPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0iPgoJCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciI+PC9kaXY+CgkJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QiPgoJCQkJPGg0IGNsYXNzPSJwb3N0LW5hbWUgZmlyc3QgZmlqaS1maXJzdCI+CgkJCQkJPGEgY2xhc3M9ImV4dGVybmFsLWxpbmsgdmlldy1yc3MtaXRlbSIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkaXRlbS5VcmwpIj4KCQkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2VuY29kaW5nLkh0bWxFbmNvZGUoJGl0ZW0uVGl0bGUpCgkJCQkJPC9hPgoJCQkJPC9oND4KCQkJCTxkaXYgY2xhc3M9InBvc3Qtc3VtbWFyeSI+JGNvcmVfdjJfZW5jb2RpbmcuSHRtbEVuY29kZSgkaXRlbS5EZXNjcmlwdGlvbik8L2Rpdj4KCQkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+CgkJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRpdGVtLkRhdGUpPC9zcGFuPgoJCQkJPC9kaXY+CgkJCQkjaWYgKCRpdGVtLkF1dGhvciAmJiAkaXRlbS5BdXRob3IgIT0gJycpCgkJCQkJPGRpdiBjbGFzcz0icG9zdC1hdXRob3IiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ0ZfVGVtcEZlZWRfUG9zdGVkQnknKSwgJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEVuY29kZSgkaXRlbS5BdXRob3IpKTwvZGl2PgoJCQkJI2VuZAoJCQk8L2Rpdj4KCQkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIiPjwvZGl2PgoJCTwvbGk+CgkjZW5kCgkjc2V0ICgkaW5kZXggPSAoJGluZGV4ICsgMSkpCiNhZnRlcmFsbAoJPC91bD4KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIgJGNzc0NsYXNzIj48L2Rpdj4KI25vZGF0YQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+Cgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtbmFtZSI+CgkJPGEgY2xhc3M9ImV4dGVybmFsLWxpbmsgcnNzIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRmZWVkVXJsKSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZlZWRVcmwpPC9hPgoJPC9kaXY+Cgk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+PC91bD4KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2PgojZW5kCg==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsKCgl2YXIgYXBpID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7CgkJCWNvbnRleHQuZmVlZFdyYXBwZXIgPSAkKGNvbnRleHQuZmVlZFdyYXBwZXIpOwoKCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7CgkJCQl1cmw6IGNvbnRleHQuZmVlZEl0ZW1zVXJsLAoJCQkJZGF0YTogewoJCQkJCXdfZmVlZFVybDogY29udGV4dC5mZWVkVXJsLAoJCQkJCXdfcGFnZVNpemU6IGNvbnRleHQucGFnZVNpemUsCgkJCQkJd192aWV3VHlwZTogY29udGV4dC52aWV3VHlwZQoJCQkJfSwKCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJY29udGV4dC5mZWVkV3JhcHBlci5odG1sKHJlc3BvbnNlKTsKCQkJCX0KCQkJfSk7CgkJfQoJfTsKCglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnRlbXBvcmFyeVJzc0ZlZWRJdGVtTGlzdCA9IGFwaTsKCn0oalF1ZXJ5KSk7Cg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_TemporaryRssFeedList_Name}" version="7.5.0.32466" description="${resource:Core_TemporaryRssFeedList_Description}" instanceIdentifier="76353b15e99d4e619b0fda589505a222" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="temporary-rss-feed-list">
		<contentScript>
#set ($user = $core_v2_user.Current)
#set ($feeds = $user.RssFeeds)
#set ($pageSize = $core_v2_widget.GetIntValue('rssPageSize', 5))

#foreach ($feed in $feeds)
	&lt;div&gt;
		&lt;div class="content-list-header"&gt;&lt;/div&gt;
		&lt;div class="content-list-name"&gt;
			&lt;a class="external-link rss" href="$core_v2_encoding.HtmlAttributeEncode($feed)"&gt;&lt;span&gt;&lt;/span&gt;$feed&lt;/a&gt;
		&lt;/div&gt;
		&lt;ul class="content-list"&gt;&lt;/ul&gt;
		&lt;div class="content-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
#nodata
	#if ($core_v2_user.Accessing &amp;&amp; $core_v2_user.Accessing.Id == $user.Id)
		&lt;div class="message norecords"&gt;
			$core_v2_language.FormatString($core_v2_language.GetResource('ViewUserProfile_NoSharedFeeds'), $user.DisplayName)
		&lt;/div&gt;
	#else
		$core_v2_widget.Hide()
	#end
#end

#if ($feeds.Count &gt; 0)
	#registerEndOfPageHtml('telligent.evolution.widgets.temporaryRssFeedList')
		&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
	#end
	#registerEndOfPageHtml()
		&lt;script type="text/javascript"&gt;
			jQuery(function(){
				jQuery.telligent.evolution.widgets.temporaryRssFeedList.register({
					wrapperId: '$core_v2_widget.WrapperElementId',
					feedItemsUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('feeditems.vm'))",
					pageSize: $pageSize
				});
			});
		&lt;/script&gt;
	#end
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_TemporaryRssFeedList_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_TemporaryRssFeedList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="rssPageSize" resourceName="Core_TemporaryRssFeedList_PageSize" dataType="int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_TemporaryRssFeedList_Name">User - Shared RSS Feeds</resource><resource name="Core_TemporaryRssFeedList_Description">Displays a list of items in various RSS feeds.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Core_TemporaryRssFeedList_PageSize">Number of items per RSS feed to display</resource><resource name="ViewUserProfile_NoSharedFeeds">{0} has not entered any shared feeds.</resource><resource name="ViewUserProfile_EditToAddFeeds">Edit your profile to add feeds</resource><resource name="CF_TempFeed_PostedBy">by {0}</resource><resource name="Core_TemporaryRssFeedList_Title_SharedFeeds">Shared Feeds</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
		</requiredContext>
		<files>
			<file name="feeditems.vm">I3NldCAoJGZlZWRVcmwgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZmVlZFVybCcpKQojc2V0ICgkcGFnZVNpemUgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlU2l6ZScpKSkKI3NldCAoJGZlZWRJdGVtcyA9ICRjb3JlX3YyX3Jzc0ZlZWRJdGVtLkxpc3QoJGZlZWRVcmwsICIleyBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSB9IikpCgojZm9yZWFjaCAoJGl0ZW0gaW4gJGZlZWRJdGVtcykKI2VhY2gKCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4KCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciI+PC9kaXY+CgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCI+CgkJCTxoNCBjbGFzcz0icG9zdC1uYW1lIj4KCQkJCTxhIGNsYXNzPSJleHRlcm5hbC1saW5rIHZpZXctcnNzLWl0ZW0iIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGl0ZW0uVXJsKSI+CgkJCQkJPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2VuY29kaW5nLkh0bWxFbmNvZGUoJGl0ZW0uVGl0bGUpCgkJCQk8L2E+CgkJCTwvaDQ+CgkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+CgkJCQk8c3BhbiBjbGFzcz0idmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdEFnb0RhdGUoJGl0ZW0uRGF0ZSk8L3NwYW4+CgkJCTwvZGl2PgoJCQkjaWYgKCRpdGVtLkF1dGhvciAmJiAkaXRlbS5BdXRob3IgIT0gJycpCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+JGNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0U3RyaW5nKCRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDRl9UZW1wRmVlZF9Qb3N0ZWRCeScpLCAkY29yZV92Ml9lbmNvZGluZy5IdG1sRW5jb2RlKCRpdGVtLkF1dGhvcikpPC9kaXY+CgkJCSNlbmQKCQk8L2Rpdj4KCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciI+PC9kaXY+Cgk8L2xpPgojYmVmb3JlYWxsCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIj48L2Rpdj4KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1uYW1lIj4KCQk8YSBjbGFzcz0iZXh0ZXJuYWwtbGluayByc3MiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGZlZWRJdGVtcy5VcmwpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfZW5jb2RpbmcuSHRtbEVuY29kZSgkZmVlZEl0ZW1zLlRpdGxlKTwvYT4KCTwvZGl2PgoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPgojYWZ0ZXJhbGwKCTwvdWw+Cgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4KI25vZGF0YQoJPGRpdj4KCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIj48L2Rpdj4KCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtbmFtZSI+CgkJCTxhIGNsYXNzPSJleHRlcm5hbC1saW5rIHJzcyIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZmVlZFVybCkiPjxzcGFuPjwvc3Bhbj4kZmVlZFVybDwvYT4KCQk8L2Rpdj4KCQk8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCI+PC91bD4KCQk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4KCTwvZGl2PgojZW5kCg==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpewoKCXZhciBsb2FkRmVlZEludG9XcmFwcGVyID0gZnVuY3Rpb24oY29udGV4dCwgd3JhcHBlcikgewoJCXZhciBmZWVkVXJsID0gd3JhcHBlci5maW5kKCdhJykuYXR0cignaHJlZicpOwoKCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsKCQkJdXJsOiBjb250ZXh0LmZlZWRJdGVtc1VybCwKCQkJZGF0YTogewoJCQkJd19mZWVkVXJsOiBmZWVkVXJsLAoJCQkJd19wYWdlU2l6ZTogY29udGV4dC5wYWdlU2l6ZQoJCQl9LAoJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgewoJCQkJd3JhcHBlci5odG1sKHJlc3BvbnNlKTsKCQkJfQoJCX0pOwoJfTsKCgl2YXIgYXBpID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7CgkJCSQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGRpdi5jb250ZW50LWZyYWdtZW50LWNvbnRlbnQgPiBkaXYnKQoJCQkJLmVhY2goZnVuY3Rpb24oKXsgbG9hZEZlZWRJbnRvV3JhcHBlcihjb250ZXh0LCAkKHRoaXMpKTsgfSk7CgkJfQoJfTsKCgkvLyBleHBvc2UgQVBJCglpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9CglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307IH0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0KCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLnRlbXBvcmFyeVJzc0ZlZWRMaXN0ID0gYXBpOwoKfShqUXVlcnkpKQ==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_Thread_Name}" version="7.5.0.32466" description="${resource:Forums_Thread_Description}" instanceIdentifier="70eb79f7675b42078f78355560839784" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="thread">
		<contentScript>

#set($forum = $core_v2_forum.Current)
#set($thread = $core_v2_forumThread.Current)
#set($wikiPage = $core_v2_wikiPage.Current)
#set($currentUser = $core_v2_user.Current)
#set($accessingUser = $core_v2_user.Accessing)
#set($replies = [])
#set($isQuestionAndAnswer = false)
#set($showInlineReplies = $core_v2_widget.GetBoolValue('showInlineReplies', false))
#set($hasModeratePermission = $core_v2_nodePermission.Get('forums', $forum.Id, 'Forum_Moderate').IsAllowed)
#set($threadReplyUrl = $core_v2_page.AbsoluteUrl($core_v2_forumUrls.Thread($thread.Id)))
#set($hasModifyThreadPermission = $core_v2_nodePermission.Get("forums", $forum.Id, "Forum_ModifyPost", "%{ PostId = '${thread.Id}', PostType = 'threads'}").IsAllowed)
#set($removeCaptureButtonId = $core_v2_widget.UniqueId("deleteWikiPage"))
#set($posts = false)
#set($isOnFirstPage = true)
#set($pageIndex = $core_v2_ui.GetCurrentPageIndex())
#set($currentReply = false)
#set($currentReply = $core_v2_forumReply.Current)
#set($showRatingsOrLikes = $core_v2_widget.GetStringValue('showRatingsOrLikes', 'likes'))
#set($showRatings = false)
#if ($showRatingsOrLikes == 'ratings' || $showRatingsOrLikes == 'ratingsAndLikes')
	#set($showRatings = true)
#end
#set($showLikes = false)
#if ($showRatingsOrLikes == 'likes' || $showRatingsOrLikes == 'ratingsAndLikes')
	#set($showLikes = true)
#end

#if($thread.ThreadType == "QuestionAndAnswer")
    #set($isQuestionAndAnswer = true)
#end

#if(!$core_v2_nodePermission.Get('forums', $forum.Id, 'Forum_ReadForum').IsAllowed)
    $core_v2_widget.Hide()
#end

$core_v2_forumThread.IncrementViewCount($thread.Id)

#if($isQuestionAndAnswer)
	#if($currentReply &amp;&amp; $currentReply.Id != $thread.Id)
		#set($pageIndex = $core_v2_forumReply.GetForumReplyPageIndex($thread.Id, $currentReply.Id, "%{PageSize = '15', IncludeThreadStarter = 'False'}"))
	#end
	#set($posts = $core_v2_forumReply.List($thread.Id, "%{PageIndex = $pageIndex, PageSize = 15, IncludeThreadStarter = 'False'}"))
#else
	#if($currentReply &amp;&amp; $currentReply.Id != $thread.Id)
		#set($pageIndex = $core_v2_forumReply.GetForumReplyPageIndex($thread.Id, $currentReply.Id, "%{PageSize = '15', IncludeThreadStarter = 'True'}"))
	#end
    #set($posts = $core_v2_forumReply.List($thread.Id, "%{PageIndex = $pageIndex, PageSize = 15, IncludeThreadStarter = 'True'}"))
#end

#if ($posts)
#foreach($postItem in $posts)
	#set($lastPostId = $postItem.Id)
#end
#end

#set($totalCountPlusOne = $posts.TotalCount + 1)
#set($lastPageIndex = $core_v2_ui.GetLastPageIndex($posts.PageSize, $totalCountPlusOne))
#if($lastPageIndex &amp;&amp; $lastPageIndex != $posts.PageIndex)
    #set($threadReplyUrl = $core_v2_page.AdjustQueryString($threadReplyUrl, "$core_v2_ui.PageIndexQueryStringKey=${lastPageIndex}"))
#end
#if($posts.PageIndex &gt; 1)
    #set($isOnFirstPage = false)
#end

#if($wikiPage)
    #set($wikiPageUrl = $core_v2_wikiUrls.Page($wikiPage.Id))
	#set($wikiEditPageUrl = $core_v2_wikiUrls.EditPage($wikiPage.Id, $thread.Id))
    &lt;div class="message capture"&gt;
        &lt;strong&gt;$core_v2_language.FormatString($core_v2_language.GetResource("Wiki_CapturedThread"), "&lt;a href='$wikiPageUrl' class='internal-link view-post'&gt;$wikiPage.Title&lt;/a&gt;")&lt;/strong&gt;
		#if($wikiEditPageUrl)
		&lt;a href='$wikiEditPageUrl'&gt;$core_v2_language.GetResource("Wiki_Recapture")&lt;/a&gt;
		#end
        #if($hasModifyThreadPermission)
        #if($wikiEditPageUrl)&lt;span class="separator"&gt;|&lt;/span&gt;#end
        &lt;a href="javascript:void(0);" id="$removeCaptureButtonId"&gt;$core_v2_language.GetResource("Wiki_Capture_Delete")&lt;/a&gt;
        #end
    &lt;/div&gt;
#end

#if($isQuestionAndAnswer)
    $core_v2_widget.ExecuteFile("view-questionandanswer.vm")
#else
    $core_v2_widget.ExecuteFile("view-flat.vm")
#end
#if($posts &amp;&amp; $posts.TotalCount &gt; 0)
    $core_v2_ui.Pager($posts.PageIndex, $posts.PageSize, $posts.TotalCount, "%{BaseUrl = '${threadReplyUrl}', ShowPrevious = 'true', ShowNext = 'true'}")
#end

&lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.thread')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
    &lt;script type="text/javascript"&gt;
    //&lt;![CDATA[
    jQuery(function(){
    #set ($allTags = '')
    #if ($hasModifyPostPermission)
			#set ($tags = $core_v2_utility.Slice($core_v2_tags.ToStrings($core_v2_forum.ListTags("%{ ForumId = $forum.Id }")), 0, 100))
            #foreach($tag in $tags)
                #each
                    #set($allTags = "$allTags'$core_v2_encoding.JavascriptEncode($core_v2_encoding.HtmlDecode($tag))'")
                #between
                    #set($allTags = "$allTags,")
            #end
    #end
            jQuery.telligent.evolution.widgets.thread.register({
				wrapperSelector: '#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)',
				threadId:$thread.Id,
				forumId:$forum.Id,
				advancedReplyUrl:"$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('advanced-reply.vm'))",
				replyUrl:"$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('reply.vm'))",
				threadReplyUrl: "$core_v2_encoding.JavascriptEncode($threadReplyUrl)",
				markAnswerUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('markanswer.vm'))",
				isQuestion: #if($isQuestionAndAnswer) true #else false #end,
				showInlineReplies: #if($showInlineReplies) true #else false #end,
				replyBodyRequiredText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ForumApplication_MissingBody'))",
				removeCaptureButtonSelector: '#${removeCaptureButtonId}',
				deleteWikiConfirmationText: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_ForumThread_ConfirmDeleteLink'))",
				deletePageAssociationUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('delete-page-association.vm'))",
				moderationMenuUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('moderation-menu.vm'))",
				totalPosts: #if ($posts) $posts.Count #else 0 #end,
				toggleLockErrorMessage: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ModerateThread_Lock_Toggle_Error'))",
				toggleUserModerationErrorMessage: "$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ModerateThread_UserModeration_Toggle_Error'))",
				toggleLockUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('toggle-lock.vm'))",
				toggleUserModerationUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('toggle-user-moderation.vm'))"
            });
    });
    //]]&gt;
    &lt;/script&gt;
#end
</contentScript>
		<headerScript>
	#set($forum = false)
	#set($forum = $core_v2_forum.Current)
	#if($forum)
		$forum.Name
	#end
</headerScript>
		<configuration>
	&lt;propertyGroup id="options" resourceName="Options"&gt;
		&lt;property id="showRatingsOrLikes" resourceName="CF_Forum_ShowRatingsOrLikes" dataType="string" defaultValue="likes"&gt;
			&lt;propertyValue value="ratings" resourceName="CF_Forum_Ratings" /&gt;
			&lt;propertyValue value="likes" resourceName="CF_Forum_Likes" /&gt;
			&lt;propertyValue value="ratingsAndLikes" resourceName="CF_Forum_RatingsAndLikes" /&gt;
		&lt;/property&gt;
		&lt;property id="showInlineReplies" resourceName="CF_Forum_ShowInlineReply" dataType="bool" defaultValue="false" /&gt;
	&lt;/propertyGroup&gt;
</configuration>
		<languageResources><language key="en-us"><resource name="Forums_Thread_Name">Forum - Thread</resource><resource name="Forums_Thread_Description">Displays the contents of a forum thread.</resource><resource name="Options">Options</resource><resource name="CF_Forum_ShowInlineReply">Show Inline Replies</resource><resource name="CF_Forum_ShowRatingsOrLikes">Show ratings or likes for threads and posts</resource><resource name="CF_Forum_Ratings">Ratings</resource><resource name="CF_Forum_Likes">Likes</resource><resource name="CF_Forum_RatingsAndLikes">Ratings and Likes</resource><resource name="Wiki_CapturedThread">Captured to {0} wiki page</resource><resource name="Wiki_Recapture">Recapture</resource><resource name="Wiki_Capture_Delete">Remove link to wiki</resource><resource name="ForumApplication_MissingBody">You must enter a reply before you attempt to submit.</resource><resource name="CF_ForumThread_ConfirmDeleteLink">Are you sure you want to delete this link?</resource><resource name="ModerationMenu_DeletePost">Delete</resource><resource name="ModerateThread_Join">Join</resource><resource name="ModeratePost_Move">Move</resource><resource name="ModerateThread_UnLock_Thread">Unlock</resource><resource name="ModerateThread_Lock_Toggle_Error">There was an error trying to lock or unluck the thread.</resource><resource name="ModerateThread_Lock_Thread">Lock</resource><resource name="ModerateThread_UnModerate_User">Unmoderate User</resource><resource name="ModerateThread_UserModeration_Toggle_Error">There was an error changing the moderation level for the user</resource><resource name="ModerateThread_Moderate_User">Moderate User</resource><resource name="Posted_by">Posted by</resource><resource name="on">on</resource><resource name="Status_SuggestedAnswer">Suggested Answer</resource><resource name="Status_VerifiedAnswer">Verified Answer</resource><resource name="Forums_ForumPost_Preview_VerifiedBy">Verified by</resource><resource name="Forum_PostAttachmentDetails">View in Media Gallery</resource><resource name="Status_MarkedAsAnswerQuestion">This is marked as an answer.</resource><resource name="Status_DidThisAnswerQuestion">Did this answer your question?</resource><resource name="Status_DidThisAnswerTheQuestion">Did this answer the question?</resource><resource name="Status_RejectAnswer">Reject Answer</resource><resource name="Yes">Yes</resource><resource name="No">No</resource><resource name="Forums_ReportAbusive_Title">Report this post as abusive</resource><resource name="Report">Report Abuse</resource><resource name="Forums_EditPost_Title">Edit this post</resource><resource name="Edit">Edit</resource><resource name="Forums_DeletePost_Title">Delete this post</resource><resource name="Delete">Delete</resource><resource name="ModerationPopupMenu_Text">Moderate</resource><resource name="Reply">Reply</resource><resource name="Button_Reply">Reply</resource><resource name="CF_Core_QuickPost_PostModerated">You have posted to a forum that requires a moderator to approve posts before they are publicly available.</resource><resource name="Application_PostReply">Reply</resource><resource name="Application_PostAdvancedReply">Use rich formatting</resource><resource name="Application_Cancel">Cancel</resource><resource name="Theme_Forum_ThisQuestionIsAnswered">This question is answered</resource><resource name="Theme_Forum_ThisQuestionHasSuggestedAnswers">This question has suggested answer(s)</resource><resource name="Theme_Forum_ThisQuestionHasNoAnswers">This question is not answered</resource><resource name="PostQuestionAnswerView_AllVerifiedAnswer">Verified Answer</resource><resource name="PostQuestionAnswerView_AllReplies">All Replies</resource><resource name="ModeratePost_EditPost">Edit Post</resource><resource name="ModerateThread_Split">Split Thread</resource><resource name="ModeratePost_EditUser">Edit User</resource><resource name="RateThis">Rate this post:</resource></language></languageResources>
		<additionalCssScript>
	#set($thread = $core_v2_forumThread.Current)
	#if($thread.ThreadType == "QuestionAndAnswer" &amp;&amp; $thread.ThreadStatus == "Answered")
		verified-answer
	#elseif($thread.ThreadType == "QuestionAndAnswer" &amp;&amp; $thread.ThreadStatus == "NotAnswered")
		not-answered
	#end
</additionalCssScript>
		<requiredContext>
			<context id="3e42a61fe20447f78ea9b0bb99a5c6a5" />
		</requiredContext>
		<files>
			<file name="advanced-reply.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkjc2V0KCRyZXBseUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgncmVwbHlJZCcpKSkNCgkjc2V0KCR0aHJlYWRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3RocmVhZElkJykpKQ0KCSNzZXQoJGlzVGhyZWFkID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtdmFsdWUoJ2lzVGhyZWFkJykpDQoJI3NldCgkcmVwbHlCb2R5ID0gZmFsc2UpDQoJI3NldCgkcmVwbHlCb2R5ID0gJGNvcmVfdjJfdWkuRm9ybWF0VGV4dEFzSHRtbCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgncmVwbHlCb2R5JyksICIle0RldGVjdE1lZGlhVXJscz0nVHJ1ZSd9IikpDQoJI3NldCgkaXNTdWdnZXN0aW9uID0gZmFsc2UpDQoJI3NldCgkaXNTdWdnZXN0aW9uID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUJvb2woJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2lzU3VnZ2VzdGlvbicpKSkNCg0KCSNzZXQoJGRhdGEgPSAkY29yZV92Ml9wYWdlLk1ha2VRdWVyeVN0cmluZygiJXt9IikpDQoNCgkjaWYoJHJlcGx5Qm9keSkNCgkJJGRhdGEuQWRkKCdib2R5JywgJHJlcGx5Qm9keSkNCgkjZW5kDQoNCgkjaWYoJGlzU3VnZ2VzdGlvbikNCgkJJGRhdGEuQWRkKCdpc3N1Z2dlc3Rpb24nLCAnVHJ1ZScpDQoJI2VuZA0KDQoJI3NldCgkc3RvcmVJZCA9ICRjb3JlX3YyX3V0aWxpdHkuU3RvcmVUZW1wb3JhcnlEYXRhKCRkYXRhLlRvU3RyaW5nKCkpKQ0KDQoJI2lmICgkaXNUaHJlYWQgIT0gJ1RydWUnKQ0KCQl7InJlcGx5VXJsIjoiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YVNjcmlwdEVuY29kZSgkY29yZV92Ml9mb3J1bVVybHMuUmVwbHlUb0ZvcnVtUmVwbHkoJHJlcGx5SWQsICRzdG9yZUlkKSkifQ0KCSNlbHNlDQoJCXsicmVwbHlVcmwiOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhU2NyaXB0RW5jb2RlKCRjb3JlX3YyX2ZvcnVtVXJscy5SZXBseVRvRm9ydW1UaHJlYWQoJHJlcGx5SWQsICRzdG9yZUlkKSkifQ0KCSNlbmQNCiNlbmQ=</file>
			<file name="delete-page-association.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCR0aHJlYWRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3RocmVhZElkJykpKQ0KCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfZm9ydW1UaHJlYWQuRGVsZXRlV2lraVBhZ2VBc3NvY2lhdGlvbigkdGhyZWFkSWQpKQ0KCSNpZiAoJHJlc3BvbnNlLkVycm9ycy5Db3VudCA+IDApDQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigkcmVzcG9uc2UuRXJyb3JzKQ0KCSNlbHNlDQoJCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQ0KCQl7ImlzU3VjY2VzcyI6InRydWUifQ0KCSNlbmQNCiNlbmQ=</file>
			<file name="markanswer.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRyZXBseUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgncmVwbHlJZCcpKSkNCgkjc2V0KCR0aHJlYWRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3RocmVhZElkJykpKQ0KCSNzZXQoJGZvcnVtSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdmb3J1bUlkJykpKQ0KCSNzZXQoJHNob3VsZE1hcmtBbnN3ZXIgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlQm9vbCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnc2hvdWxkTWFya0Fuc3dlcicpKSkNCg0KCSNpZigkc2hvdWxkTWFya0Fuc3dlcikNCgkgICAgI3NldCgkcmVwbHkgPSAkY29yZV92Ml9mb3J1bVJlcGx5LlVwZGF0ZSgkcmVwbHlJZCwgJHRocmVhZElkLCAkZm9ydW1JZCwgIiV7IElzQW5zd2VyID0gJ1RydWUnIH0iKSkNCgkjZWxzZQ0KCSAgICAjc2V0KCRyZXBseSA9ICRjb3JlX3YyX2ZvcnVtUmVwbHkuVXBkYXRlKCRyZXBseUlkLCAkdGhyZWFkSWQsICRmb3J1bUlkLCAiJXsgSXNBbnN3ZXIgPSAnRmFsc2UnIH0iKSkNCgkjZW5kDQoNCgkjaWYgKCRyZXBseS5FcnJvcnMuQ291bnQgPiAwKQ0KCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJHJlcGx5LkVycm9ycykNCgkjZWxzZQ0KCQkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkJeyJpc0FwcHJvdmVkIjojaWYoJHJlcGx5LkFwcHJvdmVkKSJ0cnVlIiAjZWxzZSAiZmFsc2UiICNlbmQsICJpc09uTGFzdFBhZ2UiOiAiZmFsc2UifQ0KCSNlbmQNCiNlbmQ=</file>
			<file name="moderation-menu.vm">JGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQojc2V0ICgkcmVwbHlJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdyZXBseUlkJykpKQ0KI3NldCAoJHRocmVhZElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3RocmVhZElkJykpKQ0KI3NldCAoJHRocmVhZCA9ICRjb3JlX3YyX2ZvcnVtVGhyZWFkLkdldCgkdGhyZWFkSWQpKQ0KI3NldCAoJGZvcnVtSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnZm9ydW1JZCcpKSkNCiNzZXQgKCRyZXBseSA9IGZhbHNlKQ0KI3NldCAoJHJlcGx5ID0gJGNvcmVfdjJfZm9ydW1SZXBseS5HZXQoJHJlcGx5SWQpKQ0KI3NldCAoJGhhc01vZGVyYXRlUGVybWlzc2lvbiA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgnZm9ydW1zJywgJGZvcnVtSWQsICdGb3J1bV9Nb2RlcmF0ZScpLklzQWxsb3dlZCkNCiNzZXQgKCRoYXNNb2RlcmF0ZVVzZXJzUGVybWlzc2lvbiA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgnU2l0ZV9NYW5hZ2VNZW1iZXJzaGlwJykuSXNBbGxvd2VkKQ0KI3NldCAoJGlzVGhyZWFkU3RhcnRlciA9IGZhbHNlKQ0KI3NldCAoJERRID0gJyInKQkNCiNzZXQgKCR1c2VySXNNb2RlcmF0ZWQgPSBmYWxzZSkNCg0KI2lmICgkcmVwbHkpDQoJI3NldCAoJGhhc01vZGlmeVBvc3RQZXJtaXNzaW9uID0gJGNvcmVfdjJfbm9kZVBlcm1pc3Npb24uR2V0KCJmb3J1bXMiLCAkZm9ydW1JZCwgIkZvcnVtX01vZGlmeVBvc3QiLCAiJXsgUG9zdElkID0gJyR7cmVwbHlJZH0nLCBQb3N0VHlwZSA9ICdyZXBsaWVzJ30iKS5Jc0FsbG93ZWQpDQoJI3NldCAoJGhhc0RlbGV0ZVBvc3RQZXJtaXNzaW9uID0gJGNvcmVfdjJfbm9kZVBlcm1pc3Npb24uR2V0KCJmb3J1bXMiLCAkZm9ydW1JZCwgIkZvcnVtX0RlbGV0ZVBvc3QiLCAiJXsgUG9zdElkID0gJyR7cmVwbHlJZH0nLCBQb3N0VHlwZSA9ICdyZXBsaWVzJ30iKS5Jc0FsbG93ZWQpDQoJI3NldCAoJGVkaXRVcmwgPSAkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2ZvcnVtVXJscy5FZGl0Rm9ydW1SZXBseSgkcmVwbHkuSWQpKSkNCgkjc2V0ICgkZGVsZXRlVXJsID0gJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9mb3J1bVVybHMuRGVsZXRlRm9ydW1SZXBseSgkcmVwbHkuSWQpKSkNCgkjc2V0ICgkdXNlcklkID0gJHJlcGx5LkF1dGhvci5JZCkNCgkjaWYgKCRyZXBseS5BdXRob3IuTW9kZXJhdGlvbkxldmVsID09ICJNb2RlcmF0ZWQiKQ0KCQkjc2V0ICgkdXNlcklzTW9kZXJhdGVkID0gdHJ1ZSkNCgkjZW5kDQojZWxzZQ0KCSNzZXQgKCRoYXNNb2RpZnlQb3N0UGVybWlzc2lvbiA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgiZm9ydW1zIiwgJGZvcnVtSWQsICJGb3J1bV9Nb2RpZnlQb3N0IiwgIiV7IFBvc3RJZCA9ICcke3RocmVhZElkfScsIFBvc3RUeXBlID0gJ3RocmVhZHMnfSIpLklzQWxsb3dlZCkNCgkjc2V0ICgkaGFzRGVsZXRlUG9zdFBlcm1pc3Npb24gPSAkY29yZV92Ml9ub2RlUGVybWlzc2lvbi5HZXQoImZvcnVtcyIsICRmb3J1bUlkLCAiRm9ydW1fRGVsZXRlUG9zdCIsICIleyBQb3N0SWQgPSAnJHt0aHJlYWRJZH0nLCBQb3N0VHlwZSA9ICd0aHJlYWRzJ30iKS5Jc0FsbG93ZWQpDQoJI3NldCAoJGVkaXRVcmwgPSAkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2ZvcnVtVXJscy5FZGl0VGhyZWFkKCR0aHJlYWRJZCkpKQ0KCSNzZXQgKCRkZWxldGVVcmwgPSAkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2ZvcnVtVXJscy5EZWxldGV0aHJlYWQoJHRocmVhZElkKSkpDQoJI3NldCAoJGlzVGhyZWFkU3RhcnRlciA9IHRydWUpDQoJI3NldCAoJHVzZXJJZCA9ICR0aHJlYWQuQXV0aG9yLklkKQ0KCSNpZiAoJHRocmVhZC5BdXRob3IuTW9kZXJhdGlvbkxldmVsID09ICJNb2RlcmF0ZWQiKQ0KCQkjc2V0ICgkdXNlcklzTW9kZXJhdGVkID0gdHJ1ZSkNCgkjZW5kDQojZW5kDQoNCiNzZXQgKCRtZW51SXRlbXMgPSBbXSkNCg0KI2lmICgkaGFzTW9kaWZ5UG9zdFBlcm1pc3Npb24pDQoJI3NldCAoJGluZGV4ID0gJG1lbnVJdGVtcy5BZGQoInske0RRfXRleHQke0RRfToke0RRfSR7Y29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTW9kZXJhdGVQb3N0X0VkaXRQb3N0Jyl9JHtEUX0sICR7RFF9aHJlZiR7RFF9OiR7RFF9JHtlZGl0VXJsfSR7RFF9fSIpKQ0KI2VuZA0KI2lmICgkaGFzRGVsZXRlUG9zdFBlcm1pc3Npb24pDQoJI3NldCAoJGluZGV4ID0gJG1lbnVJdGVtcy5BZGQoInske0RRfXRleHQke0RRfToke0RRfSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdNb2RlcmF0aW9uTWVudV9EZWxldGVQb3N0Jykke0RRfSwgJHtEUX1ocmVmJHtEUX06JHtEUX0ke2RlbGV0ZVVybH0ke0RRfX0iKSkNCiNlbmQNCg0KI2lmICgkaGFzTW9kZXJhdGVQZXJtaXNzaW9uKQ0KCSNpZiAoJGlzVGhyZWFkU3RhcnRlcikNCgkJI3NldCAoJGluZGV4ID0gJG1lbnVJdGVtcy5BZGQoInske0RRfXRleHQke0RRfToke0RRfSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdNb2RlcmF0ZVRocmVhZF9Kb2luJykke0RRfSwgJHtEUX1ocmVmJHtEUX06JHtEUX0kY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2ZvcnVtVXJscy5NZXJnZVRocmVhZCgkdGhyZWFkSWQpKSR7RFF9fSIpKQ0KCQkjc2V0ICgkaW5kZXggPSAkbWVudUl0ZW1zLkFkZCgieyR7RFF9dGV4dCR7RFF9OiR7RFF9JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ01vZGVyYXRlUG9zdF9Nb3ZlJykke0RRfSwgJHtEUX1ocmVmJHtEUX06JHtEUX0kY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX2ZvcnVtVXJscy5Nb3ZlVGhyZWFkKCR0aHJlYWRJZCkpJHtEUX19IikpDQoJCSNpZigkdGhyZWFkLklzTG9ja2VkKQ0KCQkJI3NldCAoJGluZGV4ID0gJG1lbnVJdGVtcy5BZGQoInske0RRfXRleHQke0RRfToke0RRfSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdNb2RlcmF0ZVRocmVhZF9VbkxvY2tfVGhyZWFkJykke0RRfSwgJHtEUX1ocmVmJHtEUX06JHtEUX0jJHtEUX0sICR7RFF9Y2xhc3NOYW1lJHtEUX06JHtEUX10b2dnbGVMb2NrJHtEUX19IikpDQoJCSNlbHNlDQoJCQkjc2V0ICgkaW5kZXggPSAkbWVudUl0ZW1zLkFkZCgieyR7RFF9dGV4dCR7RFF9OiR7RFF9JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ01vZGVyYXRlVGhyZWFkX0xvY2tfVGhyZWFkJykke0RRfSwgJHtEUX1ocmVmJHtEUX06JHtEUX0jJHtEUX0sICR7RFF9Y2xhc3NOYW1lJHtEUX06JHtEUX10b2dnbGVMb2NrJHtEUX19IikpDQoJCSNlbmQNCgkjZWxzZWlmICgkaGFzTW9kaWZ5UG9zdFBlcm1pc3Npb24pDQoJCSNzZXQgKCRpbmRleCA9ICRtZW51SXRlbXMuQWRkKCJ7JHtEUX10ZXh0JHtEUX06JHtEUX0ke2NvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ01vZGVyYXRlVGhyZWFkX1NwbGl0Jyl9JHtEUX0sICR7RFF9aHJlZiR7RFF9OiR7RFF9JGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9mb3J1bVVybHMuU3BsaXRGb3J1bVJlcGx5KCRyZXBseS5JZCwgJHJlcGx5LkNvbnRlbnRUeXBlSWQpKSR7RFF9fSIpKQ0KCSNlbmQNCg0KCSNpZiAoJGhhc01vZGVyYXRlVXNlcnNQZXJtaXNzaW9uICYmICR1c2VySXNNb2RlcmF0ZWQpDQoJCSNzZXQgKCRpbmRleCA9ICRtZW51SXRlbXMuQWRkKCJ7JHtEUX10ZXh0JHtEUX06JHtEUX0kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTW9kZXJhdGVUaHJlYWRfVW5Nb2RlcmF0ZV9Vc2VyJykke0RRfSwgJHtEUX1ocmVmJHtEUX06JHtEUX0jJHtEUX0sICR7RFF9Y2xhc3NOYW1lJHtEUX06JHtEUX10b2dnbGVVc2VyTW9kZXJhdGlvbiR7RFF9fSIpKQ0KCSNlbHNlaWYgKCRoYXNNb2RlcmF0ZVVzZXJzUGVybWlzc2lvbikNCgkJI3NldCAoJGluZGV4ID0gJG1lbnVJdGVtcy5BZGQoInske0RRfXRleHQke0RRfToke0RRfSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdNb2RlcmF0ZVRocmVhZF9Nb2RlcmF0ZV9Vc2VyJykke0RRfSwgJHtEUX1ocmVmJHtEUX06JHtEUX0jJHtEUX0sICR7RFF9Y2xhc3NOYW1lJHtEUX06JHtEUX10b2dnbGVVc2VyTW9kZXJhdGlvbiR7RFF9fSIpKQ0KCSNlbmQNCg0KCSNpZiAoJGhhc01vZGVyYXRlVXNlcnNQZXJtaXNzaW9uKQ0KCQkjc2V0ICgkaW5kZXggPSAkbWVudUl0ZW1zLkFkZCgieyR7RFF9dGV4dCR7RFF9OiR7RFF9JHtjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdNb2RlcmF0ZVBvc3RfRWRpdFVzZXInKX0ke0RRfSwgJHtEUX1ocmVmJHtEUX06JHtEUX0kY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRjb3JlX3YyX3VybHMuRWRpdFVzZXIoJHVzZXJJZCkpJHtEUX19IikpDQoJI2VuZA0KI2VuZA0KDQp7ImxpbmtzIjpbDQoJI2ZvcmVhY2goJG1lbnVJdGVtIGluICRtZW51SXRlbXMpDQoJCSRtZW51SXRlbQ0KCSNiZXR3ZWVuDQoJCSwNCgkjZW5kDQpdfQ0K</file>
			<file name="reply.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkjc2V0KCR0aHJlYWRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3RocmVhZElkJykpKQ0KCSNzZXQoJHJlcGx5Qm9keSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdyZXBseUJvZHknKSkNCgkjc2V0KCRpc1N1Z2dlc3Rpb24gPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlQm9vbCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnaXNTdWdnZXN0aW9uJykpKQ0KCSNzZXQoJHJlcGx5Qm9keSA9ICRjb3JlX3YyX3VpLkZvcm1hdFRleHRBc0h0bWwoJHJlcGx5Qm9keSkpDQoJI3NldCgkcGFyZW50UmVwbHlJZCA9IGZhbHNlKQ0KCSNzZXQoJHBhcmVudFJlcGx5SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdwYXJlbnRSZXBseUlkJykpKQ0KDQoJI2lmICgkcGFyZW50UmVwbHlJZCAmJiAkcGFyZW50UmVwbHlJZCA+IDApDQoJCSNzZXQoJHJlcGx5ID0gJGNvcmVfdjJfZm9ydW1SZXBseS5DcmVhdGUoJHRocmVhZElkLCAkcmVwbHlCb2R5LCAiJXsgSXNTdWdnZXN0ZWRBbnN3ZXIgPSAnJHtpc1N1Z2dlc3Rpb259JywgRm9ydW1SZXBseUlkID0gJyR7cGFyZW50UmVwbHlJZH0nIH0iKSkNCgkjZWxzZQ0KCQkjc2V0KCRyZXBseSA9ICRjb3JlX3YyX2ZvcnVtUmVwbHkuQ3JlYXRlKCR0aHJlYWRJZCwgJHJlcGx5Qm9keSwgIiV7IElzU3VnZ2VzdGVkQW5zd2VyID0gJyR7aXNTdWdnZXN0aW9ufScgfSIpKQ0KCSNlbmQNCgkjaWYgKCRyZXBseS5FcnJvcnMuQ291bnQgPiAwKQ0KCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJHJlcGx5LkVycm9ycykNCgkjZW5kDQoNCgkjc2V0KCRyZXBseVVybCA9IGZhbHNlKQ0KCSNzZXQoJHJlcGx5VXJsID0gJGNvcmVfdjJfcGFnZS5BYnNvbHV0ZVVybCgkY29yZV92Ml9mb3J1bVVybHMuRm9ydW1SZXBseSgkcmVwbHkuSWQpKSkNCg0KCSNpZigkcmVwbHlVcmwpDQoJCXsiaXNBcHByb3ZlZCI6I2lmKCRyZXBseS5BcHByb3ZlZCkidHJ1ZSIgI2Vsc2UgImZhbHNlIiAjZW5kICwgInJlcGx5VXJsIjogIiR7cmVwbHlVcmx9In0NCgkjZWxzZQ0KCQl7ImlzQXBwcm92ZWQiOiNpZigkcmVwbHkuQXBwcm92ZWQpInRydWUiICNlbHNlICJmYWxzZSIgI2VuZCAsICJyZXBseVVybCI6ICIifQ0KCSNlbmQNCiNlbmQ=</file>
			<file name="toggle-lock.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCR0aHJlYWRJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3RocmVhZElkJykpKQ0KCSNzZXQoJGZvcnVtSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdmb3J1bUlkJykpKQ0KDQoJI3NldCgkdGhyZWFkID0gJGNvcmVfdjJfZm9ydW1UaHJlYWQuR2V0KCR0aHJlYWRJZCkpDQoJI3NldCgkaXNMb2NrZWQgPSAkdGhyZWFkLklzTG9ja2VkKQ0KDQoJI2lmKCRpc0xvY2tlZCkNCgkJI3NldCgkdGhyZWFkID0gJGNvcmVfdjJfZm9ydW1UaHJlYWQuVXBkYXRlKCRmb3J1bUlkLCAkdGhyZWFkSWQsICIleyBJc0xvY2tlZCA9ICdGYWxzZScgfSIpKQ0KCSNlbHNlDQoJCSNzZXQoJHRocmVhZCA9ICRjb3JlX3YyX2ZvcnVtVGhyZWFkLlVwZGF0ZSgkZm9ydW1JZCwgJHRocmVhZElkLCAiJXsgSXNMb2NrZWQgPSAnVHJ1ZScgfSIpKQ0KCSNlbmQNCg0KCSNpZiAoJHRocmVhZC5FcnJvcnMuQ291bnQgPiAwKQ0KCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJHRocmVhZC5FcnJvcnMpDQoJI2Vsc2UNCgkJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpDQoJCXsiaXNTdWNjZXNzIjojaWYoJGlzTG9ja2VkICE9ICR0aHJlYWQuSXNMb2NrZWQpInRydWUiICNlbHNlICJmYWxzZSIgI2VuZCB9DQoJI2VuZA0KI2VuZA==</file>
			<file name="toggle-user-moderation.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCR1c2VySWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd1c2VySWQnKSkpDQoNCgkjc2V0KCR1c2VyID0gJGNvcmVfdjJfdXNlci5HZXQoIiV7IElkID0gJyR1c2VySWQnIH0iKSkNCgkjc2V0KCRtb2RlcmF0aW9uTGV2ZWwgPSAkdXNlci5Nb2RlcmF0aW9uTGV2ZWwpDQoNCgkjaWYoJG1vZGVyYXRpb25MZXZlbCA9PSAiTW9kZXJhdGVkIikNCgkJI3NldCgkdXNlciA9ICRjb3JlX3YyX3VzZXIuVXBkYXRlKCIleyBJZCA9ICckdXNlcklkJywgTW9kZXJhdGlvbkxldmVsID0gJ1VubW9kZXJhdGVkJyB9IikpDQoJI2Vsc2UNCgkJI3NldCgkdXNlciA9ICRjb3JlX3YyX3VzZXIuVXBkYXRlKCIleyBJZCA9ICckdXNlcklkJywgTW9kZXJhdGlvbkxldmVsID0gJ01vZGVyYXRlZCcgfSIpKQ0KCSNlbmQNCg0KCSNpZiAoJHVzZXIuRXJyb3JzLkNvdW50ID4gMCkNCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCR1c2VyLkVycm9ycykNCgkjZWxzZQ0KCQkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkJeyJpc1N1Y2Nlc3MiOiNpZigkdXNlci5Nb2RlcmF0aW9uTGV2ZWwgIT0gJG1vZGVyYXRpb25MZXZlbCkidHJ1ZSIgI2Vsc2UgImZhbHNlIiAjZW5kIH0NCgkjZW5kDQojZW5k</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQogICAgICAgICAgICAkLnRlbGxpZ2VudCA9IHt9Ow0KDQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQogICAgdmFyIHNob3dSZXBseSA9IGZ1bmN0aW9uKGNvbnRleHQsIHJlcGx5SWQsIGlzVGhyZWFkLCByZXBseUJ1dHRvbiwgcmVwbHlXcmFwcGVyLCBtb2RlcmF0ZWRXcmFwcGVyLCBmb2N1c0lucHV0KQ0KICAgIHsNCiAgICAgICAgJCgnLmZpZWxkLWl0ZW0taW5wdXQucHJvY2Vzc2luZycsIHJlcGx5V3JhcHBlcikucmVtb3ZlQ2xhc3MoJ3Byb2Nlc3NpbmcnKTsNCiAgICAgICAgcmVwbHlXcmFwcGVyLnNob3coKTsNCiAgICAgICAgcmVwbHlCdXR0b24uaGlkZSgpOw0KICAgICAgICBtb2RlcmF0ZWRXcmFwcGVyLmhpZGUoKTsNCiAgICAgICAgdmFyIHJlcGx5SW5wdXQgPSAkKCd0ZXh0YXJlYTpsYXN0JywgcmVwbHlXcmFwcGVyKTsNCiAgICAgICAgcmVwbHlJbnB1dC5vbmUoJ2ZvY3VzJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgIHJlcGx5SW5wdXQuZXZvbHV0aW9uQ29tcG9zZXIoew0KICAgICAgICAgICAgICAgIHBsdWdpbnM6IFsnbWVudGlvbnMnLCdoYXNodGFncyddDQogICAgICAgICAgICB9KS5ldm9sdXRpb25Db21wb3NlcigndmFsJywnJyk7DQogICAgICAgIH0pOw0KDQogICAgICAgIGlmIChmb2N1c0lucHV0KQ0KICAgICAgICAgICAgcmVwbHlJbnB1dC5mb2N1cygpLmZvY3VzKCk7DQoNCiAgICAgICAgdmFyIHJlcGx5Qm91bmQgPSAkKHJlcGx5V3JhcHBlcikuZGF0YSgncmVwbHlCb3VuZCcpOw0KICAgICAgICBpZighcmVwbHlCb3VuZCkgew0KICAgICAgICAgICAgJChyZXBseVdyYXBwZXIpLmRhdGEoJ3JlcGx5Qm91bmQnLCB0cnVlKTsNCg0KICAgICAgICAgICAgJCgnLmNhbmNlbC1yZXBseScsIHJlcGx5V3JhcHBlcikuY2xpY2soZnVuY3Rpb24oKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGhpZGVSZXBseShyZXBseUJ1dHRvbiwgcmVwbHlXcmFwcGVyKTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAkKCcuYWRkLXBvc3QnLCByZXBseVdyYXBwZXIpLmNsaWNrKGZ1bmN0aW9uKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBhZGRBZHZhbmNlZFJlcGx5KGNvbnRleHQsIHJlcGx5SWQsIGlzVGhyZWFkLCByZXBseVdyYXBwZXIsIG1vZGVyYXRlZFdyYXBwZXIpOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIHZhciB2YWxpZGF0aW9uSXRlbSA9ICQoJy5maWVsZC1pdGVtLXZhbGlkYXRpb24nLCByZXBseVdyYXBwZXIpOw0KDQogICAgICAgICAgICAkKCcuYWRkLWlubGluZS1wb3N0JywgcmVwbHlXcmFwcGVyKS5ldm9sdXRpb25WYWxpZGF0aW9uKA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHZhbGlkYXRlT25Mb2FkOiBmYWxzZSwNCiAgICAgICAgICAgICAgICBvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkNCiAgICAgICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgICAgIGFkZFJlcGx5KGNvbnRleHQsIHJlcGx5V3JhcHBlciwgcmVwbHlCdXR0b24sIG1vZGVyYXRlZFdyYXBwZXIpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywgJCgndGV4dGFyZWE6bGFzdCcsIHJlcGx5V3JhcHBlciksDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsDQogICAgICAgICAgICAgICAgbWVzc2FnZXM6IHsgcmVxdWlyZWQ6IGNvbnRleHQucmVwbHlCb2R5UmVxdWlyZWRUZXh0IH0NCiAgICAgICAgICAgIH0sIHZhbGlkYXRpb25JdGVtLCBudWxsKTsNCiAgICAgICAgfQ0KICAgIH0sDQogICAgaGlkZVJlcGx5ID0gZnVuY3Rpb24ocmVwbHlCdXR0b24sIHJlcGx5V3JhcHBlcikNCiAgICB7DQogICAgICAgIHJlcGx5V3JhcHBlci5oaWRlKCJmYXN0Iik7DQogICAgICAgIHJlcGx5QnV0dG9uLnNob3coKTsNCiAgICB9LA0KICAgIGFkZEFkdmFuY2VkUmVwbHkgPSBmdW5jdGlvbihjb250ZXh0LCByZXBseUlkLCBpc1RocmVhZCwgcmVwbHlXcmFwcGVyKQ0KICAgIHsNCiAgICAgICAgdmFyIGRhdGEgPSB7DQogICAgICAgICAgICByZXBseUlkOiByZXBseUlkLA0KICAgICAgICAgICAgaXNUaHJlYWQ6IGlzVGhyZWFkID8gJ1RydWUnIDogJ0ZhbHNlJywNCiAgICAgICAgICAgIHRocmVhZElkOiBjb250ZXh0LnRocmVhZElkLA0KICAgICAgICAgICAgcmVwbHlCb2R5OiAkKCd0ZXh0YXJlYScsIHJlcGx5V3JhcHBlcikuZXZvbHV0aW9uQ29tcG9zZXIoJ3ZhbCcpIHx8ICcnLA0KICAgICAgICAgICAgaXNTdWdnZXN0aW9uOiAhY29udGV4dC5pc1F1ZXN0aW9uIHx8IHJlcGx5V3JhcHBlci5maW5kKCc6Y2hlY2tib3gnKS5pcygnOmNoZWNrZWQnKQ0KICAgICAgICB9Ow0KDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC5hZHZhbmNlZFJlcGx5VXJsLA0KICAgICAgICAgICAgZGF0YTogZGF0YSwNCiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSByZXNwb25zZS5yZXBseVVybDsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBhZGRSZXBseSA9IGZ1bmN0aW9uKGNvbnRleHQsIHJlcGx5V3JhcHBlciwgcmVwbHlCdXR0b24sIG1vZGVyYXRlZFdyYXBwZXIpDQogICAgew0KICAgICAgICB2YXIgcCA9ICQocmVwbHlXcmFwcGVyKS5wYXJlbnRzKCcuZnVsbC1wb3N0LWNvbnRhaW5lcicpOw0KICAgICAgICB2YXIgcGFyZW50UmVwbHlJZCA9IDA7DQogICAgICAgIGlmIChwLmxlbmd0aCA+IDAgJiYgcC5hdHRyKCdkYXRhLXRocmVhZC1zdGFydGVyJykgIT09ICd0cnVlJykgew0KICAgICAgICAgICAgcGFyZW50UmVwbHlJZCA9IHAuYXR0cignZGF0YS1yZXBseS1pZCcpOw0KICAgICAgICB9DQoNCiAgICAgICAgdmFyIGRhdGEgPSB7DQogICAgICAgICAgICByZXBseUJvZHk6ICQoJ3RleHRhcmVhOmxhc3QnLCByZXBseVdyYXBwZXIpLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSwNCiAgICAgICAgICAgIHRocmVhZElkOmNvbnRleHQudGhyZWFkSWQsDQogICAgICAgICAgICBpc1N1Z2dlc3Rpb246ICFjb250ZXh0LmlzUXVlc3Rpb24gfHwgISQoJ2lucHV0OmNoZWNrYm94JywgcmVwbHlXcmFwcGVyKS5pcygnOmNoZWNrZWQnKSA/ICdGYWxzZScgOiAnVHJ1ZScsDQogICAgICAgICAgICBwYXJlbnRSZXBseUlkOiBwYXJlbnRSZXBseUlkDQogICAgICAgIH07DQoNCiAgICAgICAgJCgnLmZpZWxkLWl0ZW0taW5wdXQnLCByZXBseVdyYXBwZXIpLmFkZENsYXNzKCdwcm9jZXNzaW5nJyk7DQoNCiAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KICAgICAgICAgICAgdXJsOiBjb250ZXh0LnJlcGx5VXJsLA0KICAgICAgICAgICAgZGF0YTogZGF0YSwNCiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNBcHByb3ZlZCA9PSAiZmFsc2UiKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgbW9kZXJhdGVkV3JhcHBlci5zaG93KCk7DQogICAgICAgICAgICAgICAgICAgICQoJy5hZGQtaW5saW5lLXBvc3QnLCByZXBseVdyYXBwZXIpLmV2b2x1dGlvblZhbGlkYXRpb24oJ3Jlc2V0Jyk7DQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBoaWRlUmVwbHkocmVwbHlCdXR0b24sIHJlcGx5V3JhcHBlcik7IH0sIDk5OSk7DQogICAgICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBtb2RlcmF0ZWRXcmFwcGVyLmhpZGUoKTsgfSwgMTk5OTkpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICBlbHNlIGlmIChyZXNwb25zZS5yZXBseVVybCAmJiByZXNwb25zZS5yZXBseVVybC5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSByZXNwb25zZS5yZXBseVVybDsNCiAgICAgICAgICAgICAgICBlbHNlDQogICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gY29udGV4dC50aHJlYWRSZXBseVVybDsNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24oeGhyLCBkZXNjKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5ub3RpZmljYXRpb25zLnNob3coZGVzYyx7dHlwZTonZXJyb3InfSk7DQogICAgICAgICAgICAgICAgJCgnLmZpZWxkLWl0ZW0taW5wdXQnLCByZXBseVdyYXBwZXIpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgY2hhbmdlQW5zd2VyU3RhdHVzID0gZnVuY3Rpb24oY29udGV4dCwgcmVwbHlJZCwgc2hvdWxkTWFya0Fuc3dlcikNCiAgICB7DQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC5tYXJrQW5zd2VyVXJsLA0KICAgICAgICAgICAgZGF0YTogeyByZXBseUlkOiByZXBseUlkLCB0aHJlYWRJZDogY29udGV4dC50aHJlYWRJZCwgZm9ydW1JZDogY29udGV4dC5mb3J1bUlkLCBzaG91bGRNYXJrQW5zd2VyOiBzaG91bGRNYXJrQW5zd2VyID8gJ1RydWUnIDogJ0ZhbHNlJyB9LA0KICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJywNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHJlbG9hZFBhZ2UoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICB0b2dnbGVMb2NrID0gZnVuY3Rpb24oY29udGV4dCkNCiAgICB7DQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC50b2dnbGVMb2NrVXJsLA0KICAgICAgICAgICAgZGF0YTogeyB0aHJlYWRJZDogY29udGV4dC50aHJlYWRJZCwgZm9ydW1JZDogY29udGV4dC5mb3J1bUlkIH0sDQogICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmlzU3VjY2VzcykNCiAgICAgICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpOw0KICAgICAgICAgICAgICAgIGVsc2UNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoY29udGV4dC50b2dnbGVMb2NrRXJyb3JNZXNzYWdlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICB0b2dnbGVVc2VyTW9kZXJhdGlvbiA9IGZ1bmN0aW9uKGNvbnRleHQsIHVzZXJJZCkNCiAgICB7DQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC50b2dnbGVVc2VyTW9kZXJhdGlvblVybCwNCiAgICAgICAgICAgIGRhdGE6IHsgdXNlcklkOiB1c2VySWQgfSwNCiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuaXNTdWNjZXNzKQ0KICAgICAgICAgICAgICAgICAgICByZWxvYWRQYWdlKCk7DQogICAgICAgICAgICAgICAgZWxzZQ0KICAgICAgICAgICAgICAgICAgICBhbGVydChjb250ZXh0LnRvZ2dsZVVzZXJNb2RlcmF0aW9uRXJyb3JNZXNzYWdlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBkZWxldGVQYWdlQXNzb2NpYXRpb24gPSBmdW5jdGlvbihjb250ZXh0KQ0KICAgIHsNCiAgICAgICAgaWYgKCFjb25maXJtKGNvbnRleHQuZGVsZXRlV2lraUNvbmZpcm1hdGlvblRleHQpKQ0KICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC5kZWxldGVQYWdlQXNzb2NpYXRpb25VcmwsDQogICAgICAgICAgICBkYXRhOiB7IHRocmVhZElkOiBjb250ZXh0LnRocmVhZElkIH0sDQogICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLA0KICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgcmVsb2FkUGFnZSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIHJlbG9hZFBhZ2UgPSBmdW5jdGlvbigpDQogICAgew0KICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKHRydWUpOw0KICAgIH07DQoNCiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy50aHJlYWQgPQ0KICAgIHsNCiAgICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpDQogICAgICAgIHsNCiAgICAgICAgICAgICQoJ3RleHRhcmVhJykuZXZvbHV0aW9uUmVzaXplKCk7DQoNCiAgICAgICAgICAgIHZhciB3cmFwcGVyID0gJChjb250ZXh0LndyYXBwZXJTZWxlY3Rvcik7DQoNCiAgICAgICAgICAgICQoY29udGV4dC5yZW1vdmVDYXB0dXJlQnV0dG9uU2VsZWN0b3IpLmNsaWNrKGZ1bmN0aW9uKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBkZWxldGVQYWdlQXNzb2NpYXRpb24oY29udGV4dCk7DQogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICQoJy5pbnRlcm5hbC1saW5rLm5vdC1hbnN3ZXInLCB3cmFwcGVyKS5jbGljayhmdW5jdGlvbiAoKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHZhciBwID0gJCh0aGlzKS5wYXJlbnRzKCcuZnVsbC1wb3N0LWNvbnRhaW5lcicpOw0KICAgICAgICAgICAgICAgIGlmIChwLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YXIgaWQgPSBwLmF0dHIoJ2RhdGEtcmVwbHktaWQnKTsNCiAgICAgICAgICAgICAgICAgICAgY2hhbmdlQW5zd2VyU3RhdHVzKGNvbnRleHQsICBpZCwgZmFsc2UpOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAkKCcuaW50ZXJuYWwtbGluay52ZXJpZnktYW5zd2VyJywgd3JhcHBlcikuY2xpY2soZnVuY3Rpb24gKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICB2YXIgcCA9ICQodGhpcykucGFyZW50cygnLmZ1bGwtcG9zdC1jb250YWluZXInKTsNCiAgICAgICAgICAgICAgICBpZiAocC5sZW5ndGggPiAwKQ0KICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgdmFyIGlkID0gcC5hdHRyKCdkYXRhLXJlcGx5LWlkJyk7DQogICAgICAgICAgICAgICAgICAgIGNoYW5nZUFuc3dlclN0YXR1cyhjb250ZXh0LCBpZCwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGlmIChjb250ZXh0LnNob3dJbmxpbmVSZXBsaWVzKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICQoJy5yZXBseS13cmFwcGVyJywgd3JhcHBlcikuZWFjaChmdW5jdGlvbigpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICB2YXIgcmVwbHlXcmFwcGVyID0gJCh0aGlzKTsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3dSZXBseUZvcm0gPSAkKHRoaXMpLmF0dHIoJ2RhdGEtc2hvdy1yZXBseScpID09ICJ0cnVlIjsNCiAgICAgICAgICAgICAgICAgICAgdmFyIHAgPSAkKHRoaXMpLnBhcmVudHMoJy5mdWxsLXBvc3QtY29udGFpbmVyJyk7DQogICAgICAgICAgICAgICAgICAgIGlmIChwLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpZCA9IHAuYXR0cignZGF0YS1yZXBseS1pZCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzVGhyZWFkID0gcC5hdHRyKCdkYXRhLXRocmVhZC1zdGFydGVyJykgPT0gInRydWUiOw0KICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlubGluZVJlcGx5QnV0dG9uID0gJCgnLmlubGluZS1yZXBseS1idXR0b24nLCBwKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNob3dSZXBseUZvcm0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd1JlcGx5KGNvbnRleHQsIGlkLCBpc1RocmVhZCwgaW5saW5lUmVwbHlCdXR0b24sIHJlcGx5V3JhcHBlciwgJCgnLm1vZGVyYXRlZC1tZXNzYWdlJywgcCksIGZhbHNlKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaW5saW5lUmVwbHlCdXR0b24uY2xpY2soZnVuY3Rpb24gKCkNCiAgICAgICAgICAgICAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG93UmVwbHkoY29udGV4dCwgaWQsIGlzVGhyZWFkLCBpbmxpbmVSZXBseUJ1dHRvbiwgcmVwbHlXcmFwcGVyLCAkKCcubW9kZXJhdGVkLW1lc3NhZ2UnLCBwKSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAkKCcuZnVsbC1wb3N0LWNvbnRhaW5lcicsIHdyYXBwZXIpLmJpbmQoJ2V2b2x1dGlvbk1vZGVyYXRlTGlua0NsaWNrZWQnLCBmdW5jdGlvbihlLCBsaW5rKSB7DQogICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lciA9ICQodGhpcyksDQogICAgICAgICAgICAgICAgICAgIGxpbmsgPSAkKGxpbmspOw0KICAgICAgICAgICAgICAgIGlmKGxpbmsuaGFzQ2xhc3MoJ3RvZ2dsZUxvY2snKSkgew0KICAgICAgICAgICAgICAgICAgICB0b2dnbGVMb2NrKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSBpZihsaW5rLmhhc0NsYXNzKCd0b2dnbGVVc2VyTW9kZXJhdGlvbicpKSB7DQogICAgICAgICAgICAgICAgICAgIHRvZ2dsZVVzZXJNb2RlcmF0aW9uKGNvbnRleHQsIGNvbnRhaW5lci5kYXRhKCdhdXRob3JpZCcpKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgIH07DQp9KShqUXVlcnkpOw0K</file>
			<file name="view-flat.vm">PGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPjwvZGl2Pg0KPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCI+DQogICAgPGg0IGNsYXNzPSJwb3N0LW5hbWUiPiR0aHJlYWQuU3ViamVjdDwvaDQ+DQo8L2Rpdj4NCjxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIj48L2Rpdj4NCjxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2ZvcmVhY2goJHBvc3QgaW4gJHBvc3RzKQ0KICAgICNpZiAoJHBvc3QuUG9zdExldmVsID09IDEpDQogICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gcG9zdC1zdGFydGVyIj4NCiAgICAgICAgJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCJ2aWV3LXBvc3Qudm0iKQ0KICAgIDwvbGk+DQogICAgI2Vsc2UNCiAgICA8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSI+DQogICAgICAgICRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgidmlldy1wb3N0LnZtIikNCiAgICA8L2xpPg0KICAgICNlbmQNCiNlbmQNCjwvdWw+DQo8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4NCg==</file>
			<file name="view-post.vm">I3NldCAoJGF2ZXJhZ2VSYXRpbmcgPSAwKQ0KI3NldCAoJGVkaXRVcmwgPSBmYWxzZSkNCiNzZXQgKCRkZWxldGVVcmwgPSBmYWxzZSkNCiNzZXQgKCRhY2Nlc3NpbmdVc2VySXNSZWdpc3RlcmVkID0gJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpKQ0KDQojaWYgKCRwb3N0LlBvc3RMZXZlbCA9PSAxKQ0KICAgICNzZXQgKCRpc1RocmVhZFN0YXJ0ZXIgPSB0cnVlKQ0KICAgICNzZXQgKCRwb3N0SWQgPSAkdGhyZWFkLklkKQ0KICAgICNzZXQgKCRhdmVyYWdlUmF0aW5nID0gJGNvcmVfdjJfZm9ydW1UaHJlYWQuR2V0UmF0aW5nKCR0aHJlYWQuSWQpLkF2ZXJhZ2UpDQogICAgI3NldCAoJGhhc1JhdGVQb3N0UGVybWlzc2lvbiA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgiZm9ydW1zIiwgJGZvcnVtLklkLCAiRm9ydW1fUmF0ZVBvc3QiLCAiJXsgUG9zdElkID0gJyR7cG9zdElkfScsIFBvc3RUeXBlID0gJ3RocmVhZHMnfSIpLklzQWxsb3dlZCkNCiAgICAjc2V0ICgkaGFzTWFya0Fuc3dlclBlcm1pc3Npb24gPSAkY29yZV92Ml9ub2RlUGVybWlzc2lvbi5HZXQoImZvcnVtcyIsICRmb3J1bS5JZCwgIkZvcnVtX01hcmtBc0Fuc3dlciIsICIleyBQb3N0SWQgPSAnJHtwb3N0SWR9JywgUG9zdFR5cGUgPSAndGhyZWFkcyd9IikuSXNBbGxvd2VkKQ0KICAgICNzZXQgKCRoYXNEZWxldGVQb3N0UGVybWlzc2lvbiA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgiZm9ydW1zIiwgJGZvcnVtLklkLCAiRm9ydW1fRGVsZXRlUG9zdCIsICIleyBQb3N0SWQgPSAnJHtwb3N0SWR9JywgUG9zdFR5cGUgPSAndGhyZWFkcyd9IikuSXNBbGxvd2VkKQ0KICAgICNzZXQgKCRjYW5DcmVhdGVSZXBseSA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgiZm9ydW1zIiwgJGZvcnVtLklkLCAiRm9ydW1fQ3JlYXRlUmVwbHkiLCAiJXsgUG9zdElkID0gJyR7cG9zdElkfScsIFBvc3RUeXBlID0gJ3RocmVhZHMnfSIpLklzQWxsb3dlZCkNCiAgICAjc2V0ICgkcGVybWFMaW5rID0gJGNvcmVfdjJfZm9ydW1VcmxzLlRocmVhZCgkcG9zdElkKSkNCiAgICAjc2V0ICgkYXJlUmF0aW5nc0VuYWJsZWQgPSAkY29yZV92Ml9mb3J1bVRocmVhZC5BcmVSYXRpbmdzRW5hYmxlZCgkcG9zdElkKSAmJiAkc2hvd1JhdGluZ3MpDQogICAgI3NldCAoJGRlbGV0ZVVybCA9ICRjb3JlX3YyX2ZvcnVtVXJscy5EZWxldGVUaHJlYWQoJHBvc3RJZCkpDQogICAgI3NldCAoJGVkaXRVcmwgPSAkY29yZV92Ml9mb3J1bVVybHMuRWRpdFRocmVhZCgkcG9zdElkKSkNCiNlbHNlDQogICAgI3NldCAoJGlzVGhyZWFkU3RhcnRlciA9IGZhbHNlKQ0KICAgICNzZXQgKCRwb3N0SWQgPSAkcG9zdC5JZCkNCiAgICAjc2V0ICgkYXZlcmFnZVJhdGluZyA9ICRjb3JlX3YyX2ZvcnVtUmVwbHkuR2V0UmF0aW5nKCRwb3N0SWQpLkF2ZXJhZ2UpDQogICAgI3NldCAoJGhhc1JhdGVQb3N0UGVybWlzc2lvbiA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgiZm9ydW1zIiwgJGZvcnVtLklkLCAiRm9ydW1fUmF0ZVBvc3QiLCAiJXsgUG9zdElkID0gJyR7cG9zdElkfScsIFBvc3RUeXBlID0gJ3JlcGxpZXMnfSIpLklzQWxsb3dlZCkNCiAgICAjc2V0ICgkaGFzTWFya0Fuc3dlclBlcm1pc3Npb24gPSAkY29yZV92Ml9ub2RlUGVybWlzc2lvbi5HZXQoImZvcnVtcyIsICRmb3J1bS5JZCwgIkZvcnVtX01hcmtBc0Fuc3dlciIsICIleyBQb3N0SWQgPSAnJHtwb3N0SWR9JywgUG9zdFR5cGUgPSAncmVwbGllcyd9IikuSXNBbGxvd2VkKQ0KCSNzZXQgKCRoYXNEZWxldGVQb3N0UGVybWlzc2lvbiA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgiZm9ydW1zIiwgJGZvcnVtLklkLCAiRm9ydW1fRGVsZXRlUG9zdCIsICIleyBQb3N0SWQgPSAnJHtwb3N0SWR9JywgUG9zdFR5cGUgPSAncmVwbGllcyd9IikuSXNBbGxvd2VkKQ0KICAgICNzZXQgKCRjYW5DcmVhdGVSZXBseSA9ICRjb3JlX3YyX25vZGVQZXJtaXNzaW9uLkdldCgiZm9ydW1zIiwgJGZvcnVtLklkLCAiRm9ydW1fQ3JlYXRlUmVwbHkiLCAiJXsgUG9zdElkID0gJyR7cG9zdElkfScsIFBvc3RUeXBlID0gJ3JlcGxpZXMnfSIpLklzQWxsb3dlZCkNCiAgICAjc2V0ICgkcGVybWFMaW5rID0gJGNvcmVfdjJfZm9ydW1VcmxzLkZvcnVtUmVwbHkoJHBvc3RJZCkpDQogICAgI3NldCAoJGFyZVJhdGluZ3NFbmFibGVkID0gJGNvcmVfdjJfZm9ydW1SZXBseS5BcmVSYXRpbmdzRW5hYmxlZCgkcG9zdElkKSAmJiAkc2hvd1JhdGluZ3MpDQogICAgI3NldCAoJGRlbGV0ZVVybCA9ICRjb3JlX3YyX2ZvcnVtVXJscy5EZWxldGVGb3J1bVJlcGx5KCRwb3N0SWQpKQ0KICAgICNzZXQgKCRlZGl0VXJsID0gJGNvcmVfdjJfZm9ydW1VcmxzLkVkaXRGb3J1bVJlcGx5KCRwb3N0SWQpKQ0KI2VuZA0KDQojc2V0ICgkc2hvd1JlcGx5ID0gZmFsc2UpDQojc2V0ICgkaXNMYXN0UG9zdCA9IGZhbHNlKQ0KDQojaWYgKCRsYXN0UG9zdElkID09ICRwb3N0SWQpDQogICAgI3NldCAoJGlzTGFzdFBvc3QgPSB0cnVlKQ0KI2VuZA0KDQojaWYgKCRpc1F1ZXN0aW9uQW5kQW5zd2VyICYmICRpc1RocmVhZFN0YXJ0ZXIpDQogICAgI3NldCAoJHNob3dSZXBseSA9IHRydWUpDQojZWxzZWlmICgkaXNRdWVzdGlvbkFuZEFuc3dlciAmJiAhJHBvc3QuSXNBbnN3ZXIgJiYgJGlzTGFzdFBvc3QpDQogICAgI3NldCAoJHNob3dSZXBseSA9IHRydWUpDQojZWxzZWlmICghJGlzUXVlc3Rpb25BbmRBbnN3ZXIgJiYgJGlzTGFzdFBvc3QpDQogICAgI3NldCAoJHNob3dSZXBseSA9IHRydWUpDQojZW5kDQojaWYoJHBvc3QuSXNBbnN3ZXIpDQo8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyIHZlcmlmaWVkLWFuc3dlciI+PC9kaXY+DQo8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtY29udGFpbmVyIGZpamktZnVsbC1wb3N0LWNvbnRhaW5lciBldm9sdXRpb24yLWZ1bGwtcG9zdC1jb250YWluZXIiIGRhdGEtcmVwbHktaWQ9IiR7cG9zdElkfSIgI2lmICgkaXNUaHJlYWRTdGFydGVyKSBkYXRhLXRocmVhZC1zdGFydGVyPSJ0cnVlIiAjZWxzZSBkYXRhLXRocmVhZC1zdGFydGVyPSJmYWxzZSIgI2VuZCAjaWYgKCRpc1RocmVhZFN0YXJ0ZXIpIGRhdGEtYXV0aG9yaWQ9IiR0aHJlYWQuQXV0aG9yLklkIiAjZWxzZSBkYXRhLWF1dGhvcmlkPSIkcG9zdC5BdXRob3IuSWQiICNlbmQ+DQo8ZGl2IGNsYXNzPSJmdWxsLXBvc3QgdmVyaWZpZWQtYW5zd2VyIj4NCiNlbHNlaWYoJHBvc3QuSXNTdWdnZXN0ZWRBbnN3ZXIpDQo8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyIHN1Z2dlc3RlZC1hbnN3ZXIiPjwvZGl2Pg0KPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWNvbnRhaW5lciBmaWppLWZ1bGwtcG9zdC1jb250YWluZXIgZXZvbHV0aW9uMi1mdWxsLXBvc3QtY29udGFpbmVyIiAgZGF0YS1yZXBseS1pZD0iJHtwb3N0SWR9IiAjaWYgKCRpc1RocmVhZFN0YXJ0ZXIpIGRhdGEtdGhyZWFkLXN0YXJ0ZXI9InRydWUiICNlbHNlIGRhdGEtdGhyZWFkLXN0YXJ0ZXI9ImZhbHNlIiAjZW5kICNpZiAoJGlzVGhyZWFkU3RhcnRlcikgZGF0YS1hdXRob3JpZD0iJHRocmVhZC5BdXRob3IuSWQiICNlbHNlIGRhdGEtYXV0aG9yaWQ9IiRwb3N0LkF1dGhvci5JZCIgI2VuZD4NCjxkaXYgY2xhc3M9ImZ1bGwtcG9zdCBzdWdnZXN0ZWQtYW5zd2VyIj4NCiNlbHNlaWYoJGlzUXVlc3Rpb24gJiYgISRpc1RocmVhZFN0YXJ0ZXIpDQo8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyIG5vdC1hbnN3ZXJlZCI+PC9kaXY+DQo8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtY29udGFpbmVyIGZpamktZnVsbC1wb3N0LWNvbnRhaW5lciBldm9sdXRpb24yLWZ1bGwtcG9zdC1jb250YWluZXIiICBkYXRhLXJlcGx5LWlkPSIke3Bvc3RJZH0iICNpZiAoJGlzVGhyZWFkU3RhcnRlcikgZGF0YS10aHJlYWQtc3RhcnRlcj0idHJ1ZSIgI2Vsc2UgZGF0YS10aHJlYWQtc3RhcnRlcj0iZmFsc2UiICNlbmQgI2lmICgkaXNUaHJlYWRTdGFydGVyKSBkYXRhLWF1dGhvcmlkPSIkdGhyZWFkLkF1dGhvci5JZCIgI2Vsc2UgZGF0YS1hdXRob3JpZD0iJHBvc3QuQXV0aG9yLklkIiAjZW5kPg0KPGRpdiBjbGFzcz0iZnVsbC1wb3N0IG5vdC1hbnN3ZXJlZCI+DQojZWxzZQ0KPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWhlYWRlciAjaWYoJGlzVGhyZWFkU3RhcnRlcikgcG9zdC1zdGFydGVyICNlbmQiPjwvZGl2Pg0KPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWNvbnRhaW5lciBmaWppLWZ1bGwtcG9zdC1jb250YWluZXIgZXZvbHV0aW9uMi1mdWxsLXBvc3QtY29udGFpbmVyIiAgZGF0YS1yZXBseS1pZD0iJHtwb3N0SWR9IiAjaWYgKCRpc1RocmVhZFN0YXJ0ZXIpIGRhdGEtdGhyZWFkLXN0YXJ0ZXI9InRydWUiICNlbHNlIGRhdGEtdGhyZWFkLXN0YXJ0ZXI9ImZhbHNlIiAjZW5kICNpZiAoJGlzVGhyZWFkU3RhcnRlcikgZGF0YS1hdXRob3JpZD0iJHRocmVhZC5BdXRob3IuSWQiICNlbHNlIGRhdGEtYXV0aG9yaWQ9IiRwb3N0LkF1dGhvci5JZCIgI2VuZD4NCjxkaXYgY2xhc3M9ImZ1bGwtcG9zdCAjaWYoJGlzVGhyZWFkU3RhcnRlcikgcG9zdC1zdGFydGVyICNlbmQiPg0KI2VuZA0KICAgIDxhIG5hbWU9IiR7cG9zdElkfSI+PC9hPg0KICAgIDxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4NCiAgICAgICAgPHRhYmxlIGNsYXNzPSJwb3N0LWF1dGhvci1kZXRhaWxzLXRhYmxlIGZpamktcG9zdC1hdXRob3ItZGV0YWlscy10YWJsZSBldm9sdXRpb24yLXBvc3QtYXV0aG9yLWRldGFpbHMtdGFibGUiIGNlbGxwYWRkaW5nPSIwIiBjZWxsc3BhY2luZz0iMCIgYm9yZGVyPSIwIj4NCiAgICAgICAgICAgIDx0cj4NCiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InBvc3QtYXV0aG9yLWF2YXRhci1jZWxsIGZpamktcG9zdC1hdXRob3ItYXZhdGFyLWNlbGwgZXZvbHV0aW9uMi1wb3N0LWF1dGhvci1hdmF0YXItY2VsbCI+DQogICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkcG9zdC5BdXRob3IuUHJvZmlsZVVybCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRwb3N0LkF1dGhvci5Qcm9maWxlVXJsKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHBvc3QuQXV0aG9yLkF2YXRhclVybCwgMzIsIDMyLCAiJXtib3JkZXI9JzAnLCBhbHQ9JHBvc3QuQXV0aG9yLkRpc3BsYXlOYW1lfSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRwb3N0LkF1dGhvci5BdmF0YXJVcmwsIDMyLCAzMiwgIiV7Ym9yZGVyPScwJywgYWx0PSRwb3N0LkF1dGhvci5EaXNwbGF5TmFtZX0iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICAgICA8L3NwYW4+DQogICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9InBvc3QtYXV0aG9yLXVzZXItY2VsbCBmaWppLXBvc3QtYXV0aG9yLXVzZXItY2VsbCBldm9sdXRpb24yLXBvc3QtYXV0aG9yLXVzZXItY2VsbCI+DQogICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0idXNlci1uYW1lLXBvc3QtZGF0ZSBmaWppLXVzZXItbmFtZS1wb3N0LWRhdGUgZXZvbHV0aW9uMi11c2VyLW5hbWUtcG9zdC1kYXRlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJwb3N0ZWQtYnkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJQb3N0ZWRfYnkiKTwvc3Bhbj4gPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkcG9zdC5BdXRob3IuUHJvZmlsZVVybCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHBvc3QuQXV0aG9yLlByb2ZpbGVVcmwpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj4kcG9zdC5BdXRob3IuRGlzcGxheU5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj4kcG9zdC5BdXRob3IuRGlzcGxheU5hbWUNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWRhdGUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZigkaXNUaHJlYWRTdGFydGVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIm9uIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2ZvcnVtVXJscy5UaHJlYWQoJHRocmVhZC5JZCkiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJvbiIpPC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ2YWx1ZSI+PGEgaHJlZj0nJHBlcm1hTGluaycgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0Ij4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlQW5kVGltZSgkcG9zdC5EYXRlKTwvYT48L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICNpZigkcG9zdC5Vc2VySG9zdEFkZHJlc3MgJiYgJHBvc3QuVXNlckhvc3RBZGRyZXNzICE9ICIiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iaXAtYW5kLXBvc3Qtc3RhdHVzLW5vdGUgZmlqaS1pcC1hbmQtcG9zdC1zdGF0dXMtbm90ZSBldm9sdXRpb24yLWlwLWFuZC1wb3N0LXN0YXR1cy1ub3RlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWhvc3QtYWRkcmVzcyBmaWppLXBvc3QtaG9zdC1hZGRyZXNzIGV2b2x1dGlvbjItcG9zdC1ob3N0LWFkZHJlc3MiPjxzcGFuPjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJHBvc3QuVXNlckhvc3RBZGRyZXNzDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICNpZigkcG9zdC5Jc0Fuc3dlcikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjc2V0KCR2ZXJpZmllZEJ5ID0gJGNvcmVfdjJfdXNlci5HZXQoIiV7IElkID0gJyR7cG9zdC5BbnN3ZXJWZXJpZmllZEJ5VXNlcklkfScgfSIpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InZlcmlmaWVkLXRleHQgZmlqaS12ZXJpZmllZC10ZXh0IGV2b2x1dGlvbjItdmVyaWZpZWQtdGV4dCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJTdGF0dXNfVmVyaWZpZWRBbnN3ZXIiKTwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3Qtc3RhdHVzLWF1dGhvciB2ZXJpZmllciI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJsYWJlbCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkZvcnVtc19Gb3J1bVBvc3RfUHJldmlld19WZXJpZmllZEJ5Iik8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJHZlcmlmaWVkQnkuUHJvZmlsZVVybCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ2YWx1ZSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdmVyaWZpZWRCeS5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPiR2ZXJpZmllZEJ5LkRpc3BsYXlOYW1lPC9hPjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ2YWx1ZSI+JHZlcmlmaWVkQnkuRGlzcGxheU5hbWU8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCgkJCQkJCSNlbHNlaWYoJHBvc3QuSXNTdWdnZXN0ZWRBbnN3ZXIpDQoJCQkJCQkJPGRpdiBjbGFzcz0ic3VnZ2VzdGVkLXRleHQgZmlqaS1zdWdnZXN0ZWQtdGV4dCBldm9sdXRpb24yLXN1Z2dlc3RlZC10ZXh0Ij48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlN0YXR1c19TdWdnZXN0ZWRBbnN3ZXIiKTwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICA8L3RkPg0KICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0icG9zdC1tb2RlcmF0aW9uLWNlbGwiPg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LW1vZGVyYXRlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpKQ0KCQkJCQkJCSNzZXQgKCRhZGRpdGlvbmFsTGlua3NVcmwgPSAkY29yZV92Ml93aWRnZXQuR2V0RXhlY3V0ZWRGaWxlVXJsKCdtb2RlcmF0aW9uLW1lbnUudm0nKSkNCgkJCQkJCQkjc2V0ICgkYWRkaXRpb25hbExpbmtzVXJsID0gJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkYWRkaXRpb25hbExpbmtzVXJsLCAidGhyZWFkSWQ9JHt0aHJlYWQuSWR9JmZvcnVtSWQ9JHtmb3J1bS5JZH0iKSkNCgkJCQkJCQkjaWYgKCRpc1RocmVhZFN0YXJ0ZXIpDQoJCQkJCQkJCSNzZXQgKCRhZGRpdGlvbmFsTGlua3NVcmwgPSAkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRhZGRpdGlvbmFsTGlua3NVcmwsICJyZXBseUlkPS0xIikpDQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJI3NldCAoJGFkZGl0aW9uYWxMaW5rc1VybCA9ICRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGFkZGl0aW9uYWxMaW5rc1VybCwgInJlcGx5SWQ9JHtwb3N0SWR9IikpDQoJCQkJCQkJI2VuZA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZigkaXNUaHJlYWRTdGFydGVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5Nb2RlcmF0ZSgkdGhyZWFkLkNvbnRlbnRJZCwgJGNvcmVfdjJfZm9ydW1UaHJlYWQuQ29udGVudFR5cGVJZCwgIiV7IENzc0NsYXNzID0gJ2V4cGFuZGVkJywgQWRkaXRpb25hbExpbmtzVXJsID0gJGFkZGl0aW9uYWxMaW5rc1VybCB9IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5Nb2RlcmF0ZSgkcG9zdC5Db250ZW50SWQsICRjb3JlX3YyX2ZvcnVtUmVwbHkuQ29udGVudFR5cGVJZCwgIiV7IENzc0NsYXNzID0gJ2V4cGFuZGVkJywgQWRkaXRpb25hbExpbmtzVXJsID0gJGFkZGl0aW9uYWxMaW5rc1VybCB9IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvdGQ+DQogICAgICAgICAgICA8L3RyPg0KICAgICAgICA8L3RhYmxlPg0KICAgIDwvZGl2Pg0KICAgICNpZigkcG9zdC5GaWxlKQ0KICAgIDxkaXYgY2xhc3M9InBvc3QtYXR0YWNobWVudC1jb250YWluZXIgZmlqaS1wb3N0LWF0dGFjaG1lbnQtY29udGFpbmVyIGV2b2x1dGlvbjItcG9zdC1hdHRhY2htZW50LWNvbnRhaW5lciI+DQogICAgICAgIDxkaXYgY2xhc3M9InBvc3QtYXR0YWNobWVudC12aWV3ZXIiPg0KICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcG9zdC5GaWxlLkZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBkb3dubG9hZC1hdHRhY2htZW50Ij4NCiAgICAgICAgICAgICAgICAkIWNvcmVfdjJfdWkuR2V0UHJldmlld0h0bWwoJHBvc3QuRmlsZS5GaWxlVXJsLCAiJXtXaWR0aCA9IDQwLCBIZWlnaHQgPSA0MH0iKQ0KICAgICAgICAgICAgPC9hPg0KICAgICAgICA8L2Rpdj4NCiAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdHRhY2htZW50Ij4NCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ2YWx1ZSI+DQogICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkcG9zdC5GaWxlLkZpbGVVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBkb3dubG9hZC1hdHRhY2htZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAkcG9zdC5GaWxlLkZpbGVOYW1lDQogICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgICAjZW5kDQoNCiAgICAjaWYoJHBvc3QuRW1haWxGaWxlcyAmJiAkcG9zdC5FbWFpbEZpbGVzLkNvdW50KCkgPiAwKQ0KICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWF0dGFjaG1lbnQtY29udGFpbmVyIGZpamktcG9zdC1hdHRhY2htZW50LWNvbnRhaW5lciBldm9sdXRpb24yLXBvc3QtYXR0YWNobWVudC1jb250YWluZXIiPg0KICAgICAgICAgICAgI2ZvcmVhY2goJGVtYWlsRmlsZSBpbiAkcG9zdC5FbWFpbEZpbGVzKQ0KICAgICAgICAgICAgI2VhY2gNCiAgICAgICAgICAgICAgICAjaWYoJGVtYWlsRmlsZS5Eb3dubG9hZFVybCAhPSAkZW1haWxGaWxlLlZpZXdVcmwpDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtYXR0YWNobWVudC12aWV3ZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZW1haWxGaWxlLkRvd25sb2FkVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgZG93bmxvYWQtYXR0YWNobWVudCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCFjb3JlX3YyX3VpLkdldFByZXZpZXdIdG1sKCRlbWFpbEZpbGUuRGlyZWN0RG93bmxvYWRVcmwsICIle1dpZHRoID0gNDAsIEhlaWdodCA9IDQwfSIpDQogICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWF0dGFjaG1lbnQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InZhbHVlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRlbWFpbEZpbGUuRG93bmxvYWRVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBkb3dubG9hZC1hdHRhY2htZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2VuY29kaW5nLkh0bWxFbmNvZGUoJGVtYWlsRmlsZS5GaWxlTmFtZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZW1haWxGaWxlLlZpZXdVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXBvc3QgbWVkaWEtZ2FsbGVyeSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRm9ydW1fUG9zdEF0dGFjaG1lbnREZXRhaWxzIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtYXR0YWNobWVudC12aWV3ZXIiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZW1haWxGaWxlLkRvd25sb2FkVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgZG93bmxvYWQtYXR0YWNobWVudCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCFjb3JlX3YyX3VpLkdldFByZXZpZXdIdG1sKCRlbWFpbEZpbGUuRGlyZWN0RG93bmxvYWRVcmwsICIle1dpZHRoID0gNDAsIEhlaWdodCA9IDQwfSIpDQogICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWF0dGFjaG1lbnQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InZhbHVlIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRlbWFpbEZpbGUuRG93bmxvYWRVcmwpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBkb3dubG9hZC1hdHRhY2htZW50Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+PC9zcGFuPiRjb3JlX3YyX2VuY29kaW5nLkh0bWxFbmNvZGUoJGVtYWlsRmlsZS5GaWxlTmFtZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICNiZXR3ZWVuDQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF0dGFjaG1lbnQtc2VwYXJhdG9yIj48L3NwYW4+DQogICAgICAgICAgICAjZW5kDQogICAgICAgIDwvZGl2Pg0KICAgICNlbmQNCg0KICAgIDxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj4NCiAgICAgICAgI2lmKCRpc1RocmVhZFN0YXJ0ZXIpDQogICAgICAgICAgICAkdGhyZWFkLkJvZHkNCiAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICRwb3N0LkJvZHkNCiAgICAgICAgI2VuZA0KICAgICAgICAjaWYoJHBvc3QuRWRpdE5vdGVzICYmICRwb3N0LkVkaXROb3RlcyAhPSAiIiAmJiAkY29yZV92Ml9mb3J1bUNvbmZpZ3VyYXRpb24uRGlzcGxheUVkaXROb3RlcykNCiAgICAgICAgICAgIDxiciAvPjxiciAvPg0KICAgICAgICAgICAgJHBvc3QuRWRpdE5vdGVzDQogICAgICAgICNlbmQNCiAgICA8L2Rpdj4NCg0KICAgICNpZigkcG9zdC5BdXRob3IuU2lnbmF0dXJlRm9ybWF0dGVkKQ0KICAgICAgICA8ZGl2IGNsYXNzPSJ1c2VyLXNpZ25hdHVyZSB1c2VyLWRlZmluZWQtbWFya3VwIj4kcG9zdC5BdXRob3IuU2lnbmF0dXJlRm9ybWF0dGVkPC9kaXY+DQogICAgI2VuZA0KDQojaWYgKCRpc1RocmVhZFN0YXJ0ZXIpDQogICAgI2lmICgkdGhyZWFkLlRhZ3MuQ291bnQgPiAwIHx8ICRjb3JlX3YyX3RhZ3MuQ2FuQWRkVGFncygkdGhyZWFkLkNvbnRlbnRJZCwgJGNvcmVfdjJfZm9ydW1UaHJlYWQuQ29udGVudFR5cGVJZCkpDQogICAgICAgIDxkaXYgY2xhc3M9InBvc3QtdGFncy1jb250YWluZXIgZmlqaS1wb3N0LXRhZ3MtY29udGFpbmVyIGV2b2x1dGlvbjItcG9zdC10YWdzLWNvbnRhaW5lciI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LXRhZ3MiPg0KICAgICAgICAgICAgICAgICNzZXQoJHRhZ1VybEZvcm1hdCA9ICRjb3JlX3YyX3BhZ2UuQWJzb2x1dGVVcmwoJGNvcmVfdjJfZm9ydW1VcmxzLlRhZ3MoJGZvcnVtLklkLCAkY29yZV92Ml91dGlsaXR5Lk1ha2VMaXN0KCdUQUdOQU1FJykpLlJlcGxhY2UoJ1RBR05BTUUnLCd7dGFnfScpKSkNCiAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5UYWcoJHRocmVhZC5Db250ZW50SWQsICRjb3JlX3YyX2ZvcnVtVGhyZWFkLkNvbnRlbnRUeXBlSWQsICIle1VybEZvcm1hdD0kdGFnVXJsRm9ybWF0fSIpDQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgI2VuZA0KI2Vsc2UNCiAgICAjaWYgKCRwb3N0LlRhZ3MuQ291bnQgPiAwIHx8ICRjb3JlX3YyX3RhZ3MuQ2FuQWRkVGFncygkcG9zdC5Db250ZW50SWQsICRjb3JlX3YyX2ZvcnVtUmVwbHkuQ29udGVudFR5cGVJZCkpDQogICAgICAgIDxkaXYgY2xhc3M9InBvc3QtdGFncy1jb250YWluZXIgZmlqaS1wb3N0LXRhZ3MtY29udGFpbmVyIGV2b2x1dGlvbjItcG9zdC10YWdzLWNvbnRhaW5lciI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LXRhZ3MiPg0KICAgICAgICAgICAgICAgICNzZXQoJHRhZ1VybEZvcm1hdCA9ICRjb3JlX3YyX3BhZ2UuQWJzb2x1dGVVcmwoJGNvcmVfdjJfZm9ydW1VcmxzLlRhZ3MoJGZvcnVtLklkLCAkY29yZV92Ml91dGlsaXR5Lk1ha2VMaXN0KCdUQUdOQU1FJykpLlJlcGxhY2UoJ1RBR05BTUUnLCd7dGFnfScpKSkNCiAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5UYWcoJHBvc3QuQ29udGVudElkLCAkY29yZV92Ml9mb3J1bVJlcGx5LkNvbnRlbnRUeXBlSWQsICIle1VybEZvcm1hdD0kdGFnVXJsRm9ybWF0fSIpDQogICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgPC9kaXY+DQogICAgI2VuZA0KI2VuZA0KDQojaWYgKCRpc1F1ZXN0aW9uQW5kQW5zd2VyICYmICRoYXNNYXJrQW5zd2VyUGVybWlzc2lvbiAmJiAhJGlzVGhyZWFkU3RhcnRlcikNCiAgICA8ZGl2IGNsYXNzPSJwb3N0LWFuc3dlci1mb3JtIGZpamktcG9zdC1hbnN3ZXItZm9ybSBldm9sdXRpb24yLXBvc3QtYW5zd2VyLWZvcm0iPg0KICAgICAgICA8ZGl2IGNsYXNzPSJpbm5lci1wb3N0LWFuc3dlci1mb3JtIGZpamktaW5uZXItcG9zdC1hbnN3ZXItZm9ybSBldm9sdXRpb24yLWlubmVyLXBvc3QtYW5zd2VyLWZvcm0iPg0KICAgICAgICAjaWYoJHBvc3QuSXNBbnN3ZXIpDQogICAgICAgICAgICA8c3BhbiBjbGFzcz0iaW5uZXItcG9zdC1hbnN3ZXItcXVlc3Rpb24iPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJTdGF0dXNfTWFya2VkQXNBbnN3ZXJRdWVzdGlvbiIpPC9zcGFuPg0KICAgICAgICAjZWxzZWlmKCR0aHJlYWQuQXV0aG9yLklkID09ICRhY2Nlc3NpbmdVc2VyLklkKQ0KICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImlubmVyLXBvc3QtYW5zd2VyLXF1ZXN0aW9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiU3RhdHVzX0RpZFRoaXNBbnN3ZXJRdWVzdGlvbiIpPC9zcGFuPg0KICAgICAgICAjZWxzZQ0KICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImlubmVyLXBvc3QtYW5zd2VyLXF1ZXN0aW9uIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiU3RhdHVzX0RpZFRoaXNBbnN3ZXJUaGVRdWVzdGlvbiIpPC9zcGFuPg0KICAgICAgICAjZW5kDQoNCiAgICAgICAgI2lmKCRwb3N0LklzQW5zd2VyKQ0KICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyIgY2xhc3M9ImludGVybmFsLWxpbmsgbm90LWFuc3dlciI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJTdGF0dXNfUmVqZWN0QW5zd2VyIik8L2E+DQogICAgICAgICNlbHNlaWYoJHBvc3QuSXNTdWdnZXN0ZWRBbnN3ZXIpDQogICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBjbGFzcz0iaW50ZXJuYWwtbGluayB2ZXJpZnktYW5zd2VyIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlllcyIpPC9hPg0KICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyIgY2xhc3M9ImludGVybmFsLWxpbmsgbm90LWFuc3dlciI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJObyIpPC9hPg0KICAgICAgICAjZWxzZQ0KICAgICAgICAgICAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApOyIgY2xhc3M9ImludGVybmFsLWxpbmsgdmVyaWZ5LWFuc3dlciI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJZZXMiKTwvYT4NCiAgICAgICAgI2VuZA0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiNlbmQNCg0KI3NldCgkaXNGaXJzdCA9IHRydWUpDQo8ZGl2IGNsYXNzPSJmaWppLXBvc3QtZGV0YWlscy1jb250YWluZXItb3V0ZXIgZXZvbHV0aW9uMi1wb3N0LWRldGFpbHMtY29udGFpbmVyLW91dGVyIj4NCiAgICA8dGFibGUgY2xhc3M9InBvc3QtZGV0YWlscy1jb250YWluZXIgZmlqaS1wb3N0LWRldGFpbHMtY29udGFpbmVyIGV2b2x1dGlvbjItcG9zdC1kZXRhaWxzLWNvbnRhaW5lciIgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBib3JkZXI9IjAiPg0KICAgICAgICA8dHI+DQogICAgICAgICAgICAjaWYoJGFyZVJhdGluZ3NFbmFibGVkKQ0KICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz0icG9zdC1yYXRpbmctY2VsbCBmaWppLXBvc3QtcmF0aW5nLWNlbGwgZXZvbHV0aW9uMi1wb3N0LXJhdGluZy1jZWxsICNpZigkaXNGaXJzdCkgZmlqaS1maXJzdCBldm9sdXRpb24yLWZpcnN0I2VuZCI+DQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtcmF0aW5nIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJSYXRlVGhpcyIpDQogICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRpc1RocmVhZFN0YXJ0ZXIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuUmF0ZSgkdGhyZWFkLkNvbnRlbnRJZCwgJGNvcmVfdjJfZm9ydW1UaHJlYWQuQ29udGVudFR5cGVJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuUmF0ZSgkcG9zdC5Db250ZW50SWQsICRjb3JlX3YyX2ZvcnVtUmVwbHkuQ29udGVudFR5cGVJZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgICAgICAgICAjc2V0KCRpc0ZpcnN0ID0gZmFsc2UpDQogICAgICAgICAgICAjZW5kDQoNCgkJCSNpZiAoJHNob3dMaWtlcykNCiAgICAgICAgICAgIDx0ZCBjbGFzcz0ibGlrZS1wb3N0LWNlbGwiPg0KICAgICAgICAgICAgICAgICNpZiAoJGFjY2Vzc2luZ1VzZXJJc1JlZ2lzdGVyZWQpDQogICAgICAgICAgICAgICAgICAgICNzZXQgKCRsaWtlRm9ybWF0ID0gJ3t0b2dnbGV9IDxzcGFuIGNsYXNzPSJjb3VudCI+PHNwYW4gY2xhc3M9Imljb24iPjwvc3Bhbj57Y291bnR9PC9zcGFuPicpDQogICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgI3NldCAoJGxpa2VGb3JtYXQgPSAnPHNwYW4gY2xhc3M9ImNvdW50Ij48c3BhbiBjbGFzcz0iaWNvbiI+PC9zcGFuPntjb3VudH08L3NwYW4+JykNCiAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1saWtlIj4NCiAgICAgICAgICAgICAgICAgICAgI2lmICgkaXNUaHJlYWRTdGFydGVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuTGlrZSgkdGhyZWFkLkNvbnRlbnRJZCwgJGNvcmVfdjJfZm9ydW1UaHJlYWQuQ29udGVudFR5cGVJZCwgIiV7IEZvcm1hdCA9ICRsaWtlRm9ybWF0IH0iKQ0KICAgICAgICAgICAgICAgICAgICAjZWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgJGNvcmVfdjJfdWkuTGlrZSgkcG9zdC5Db250ZW50SWQsICRjb3JlX3YyX2ZvcnVtUmVwbHkuQ29udGVudFR5cGVJZCwgIiV7IEZvcm1hdCA9ICRsaWtlRm9ybWF0IH0iKQ0KICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICA8L3RkPg0KCQkJI2VuZA0KDQogICAgICAgICAgICA8dGQgY2xhc3M9InBvc3QtYWN0aW9ucy1jZWxsIGZpamktcG9zdC1hY3Rpb25zLWNlbGwgZXZvbHV0aW9uMi1wb3N0LWFjdGlvbnMtY2VsbCI+DQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hY3Rpb25zIj4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWhlYWRlciI+PC9kaXY+DQogICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0ibmF2aWdhdGlvbi1saXN0Ij4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0ibmF2aWdhdGlvbi1pdGVtIGFkZC1wb3N0Ij4NCg0KICAgICAgICAgICAgICAgICAgICAgICAgI2lmKCgkaGFzTW9kZXJhdGVQZXJtaXNzaW9uIHx8ICEkcG9zdC5Jc0xvY2tlZCkgJiYgJGNhbkNyZWF0ZVJlcGx5KQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZigkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCJzaG93SW5saW5lUmVwbGllcyIsIHRydWUpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBjbGFzcz0iaW50ZXJuYWwtbGluayBhZGQtcG9zdCBpbmxpbmUtcmVwbHktYnV0dG9uIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlJlcGx5Iik8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkaXNUaHJlYWRTdGFydGVyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9mb3J1bVVybHMuUmVwbHlUb0ZvcnVtVGhyZWFkKCRwb3N0SWQpKSIgY2xhc3M9ImludGVybmFsLWxpbmsgYWRkLXBvc3QiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQnV0dG9uX1JlcGx5Iik8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX2ZvcnVtVXJscy5SZXBseVRvRm9ydW1SZXBseSgkcG9zdElkKSkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGFkZC1wb3N0Ij48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkJ1dHRvbl9SZXBseSIpPC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+DQogICAgICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgPC90ZD4NCiAgICAgICAgPC90cj4NCiAgICA8L3RhYmxlPg0KPC9kaXY+DQogICAgPGRpdiBjbGFzcz0ibW9kZXJhdGVkLW1lc3NhZ2UiIHN0eWxlPSJkaXNwbGF5Om5vbmUiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWhlYWRlciI+PC9kaXY+DQogICAgICAgIDxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCI+DQogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIHdhcm5pbmciPg0KICAgICAgICAgICAgICAgICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJDRl9Db3JlX1F1aWNrUG9zdF9Qb3N0TW9kZXJhdGVkIikNCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2ZpZWxkc2V0Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWZvb3RlciI+PC9kaXY+DQogICAgPC9kaXY+DQogICAgI2lmKCRzaG93SW5saW5lUmVwbGllcyAmJiAkY2FuQ3JlYXRlUmVwbHkpDQogICAgPGRpdiBjbGFzcz0icmVwbHktd3JhcHBlciIgc3R5bGU9ImRpc3BsYXk6bm9uZSIgI2lmICgkc2hvd1JlcGx5KSBkYXRhLXNob3ctcmVwbHk9InRydWUiICNlbHNlIGRhdGEtc2hvdy1yZXBseT0iZmFsc2UiICNlbmQ+DQogICAgICAgIDxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtaGVhZGVyIj48L2Rpdj4NCiAgICAgICAgPGZpZWxkc2V0IGNsYXNzPSJmaWVsZC1saXN0Ij4NCiAgICAgICAgICAgIDx1bCBjbGFzcz0iZmllbGQtbGlzdCI+DQogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJmaWVsZC1pdGVtIj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPg0KICAgICAgICAgICAgICAgICAgICAgICAgI2lmKCRpc1F1ZXN0aW9uQW5kQW5zd2VyKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJjaGVja2JveCIgY2xhc3M9InN1Z2dlc3QtYW5zd2VyIiBuYW1lPSJzdWdnZXN0LWFuc3dlciIgLz48bGFiZWwgY2xhc3M9InN1Z2dlc3QtYW5zd2VyLWxhYmVsIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiU3RhdHVzX1N1Z2dlc3RlZEFuc3dlciIpPC9sYWJlbD4NCiAgICAgICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjb2xzPSIxNjAiIHJvd3M9IjMiPjwvdGV4dGFyZWE+DQogICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmllbGQtaXRlbS12YWxpZGF0aW9uIiBzdHlsZT0iZGlzcGxheTogbm9uZTsiPjwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGFkZC1pbmxpbmUtcG9zdCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJBcHBsaWNhdGlvbl9Qb3N0UmVwbHkiKTwvYT4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKTsiIGNsYXNzPSJpbnRlcm5hbC1saW5rIGFkZC1wb3N0Ij48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkFwcGxpY2F0aW9uX1Bvc3RBZHZhbmNlZFJlcGx5Iik8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBjbGFzcz0iaW50ZXJuYWwtbGluayBjYW5jZWwtcmVwbHkiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQXBwbGljYXRpb25fQ2FuY2VsIik8L2E+DQogICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2xpPg0KICAgICAgICAgICAgPC91bD4NCiAgICAgICAgPC9maWVsZHNldD4NCiAgICAgICAgPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KICAgIDwvZGl2Pg0KICAgICNlbmQNCjwvZGl2Pg0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtZm9vdGVyICNpZigkaXNUaHJlYWRTdGFydGVyKSBwb3N0LXN0YXJ0ZXIgI2VuZCI+PC9kaXY+</file>
			<file name="view-questionandanswer.vm">I3NldCgkdmVyaWZpZWRBbnN3ZXJzID0gJGNvcmVfdjJfZm9ydW1SZXBseS5MaXN0KCR0aHJlYWQuSWQsICIleyBGb3J1bVJlcGx5UXVlcnlUeXBlID0gJ3ZlcmlmaWVkLWFuc3dlcnMnLCBQYWdlSW5kZXggPSAnMCcgfSIpKQ0KDQojaWYoJHRocmVhZC5UaHJlYWRTdGF0dXMgPT0gIkFuc3dlcmVkIikNCjxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIHZlcmlmaWVkLWFuc3dlciI+PC9kaXY+DQo8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0IHZlcmlmaWVkLWFuc3dlciI+DQojZWxzZWlmKCR0aHJlYWQuVGhyZWFkU3RhdHVzID09ICJBbnN3ZXJlZE5vdFZlcmlmaWVkIikNCjxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIHN1Z2dlc3RlZC1hbnN3ZXIiPjwvZGl2Pg0KPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCBzdWdnZXN0ZWQtYW5zd2VyIj4NCiNlbHNlDQo8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciBub3QtYW5zd2VyZWQiPjwvZGl2Pg0KPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCBub3QtYW5zd2VyZWQiPg0KI2VuZA0KICAgIDxoNCBjbGFzcz0icG9zdC1uYW1lIj4kdGhyZWFkLlN1YmplY3Q8L2g0Pg0KICAgIDxkaXYgY2xhc3M9InBvc3Qtc3RhdHVzIj48c3Bhbj48L3NwYW4+DQojaWYoJHRocmVhZC5UaHJlYWRTdGF0dXMgPT0gIkFuc3dlcmVkIikNCiAgICAgICAgJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlRoZW1lX0ZvcnVtX1RoaXNRdWVzdGlvbklzQW5zd2VyZWQiKQ0KICAgIDwvZGl2Pg0KPC9kaXY+DQo8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciB2ZXJpZmllZC1hbnN3ZXIiPjwvZGl2Pg0KI2Vsc2VpZigkdGhyZWFkLlRocmVhZFN0YXR1cyA9PSAiQW5zd2VyZWROb3RWZXJpZmllZCIpDQogICAgICAgICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJUaGVtZV9Gb3J1bV9UaGlzUXVlc3Rpb25IYXNTdWdnZXN0ZWRBbnN3ZXJzIikNCiAgICA8L2Rpdj4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIgc3VnZ2VzdGVkLWFuc3dlciI+PC9kaXY+DQojZWxzZQ0KICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiVGhlbWVfRm9ydW1fVGhpc1F1ZXN0aW9uSGFzTm9BbnN3ZXJzIikNCiAgICA8L2Rpdj4NCjwvZGl2Pg0KPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIgbm90LWFuc3dlcmVkIj48L2Rpdj4NCiNlbmQNCg0KI3NldCgkcG9zdCA9ICR0aHJlYWQpDQokY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoInZpZXctcG9zdC52bSIpDQoNCiNpZigkaXNPbkZpcnN0UGFnZSkNCiAgICAjaWYoJHZlcmlmaWVkQW5zd2VycyAmJiAkdmVyaWZpZWRBbnN3ZXJzLlRvdGFsQ291bnQgPiAwKQ0KICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIgdmVyaWZpZWQtYW5zd2VycyI+PC9kaXY+DQogICAgPGRpdiBjbGFzcz0iY29udGVudC1saXN0LW5hbWUgdmVyaWZpZWQtYW5zd2VycyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlBvc3RRdWVzdGlvbkFuc3dlclZpZXdfQWxsVmVyaWZpZWRBbnN3ZXIiKTwvZGl2Pg0KICAgIDx1bCBjbGFzcz0iY29udGVudC1saXN0IHZlcmlmaWVkLWFuc3dlcnMiPg0KICAgICAgICAjZm9yZWFjaCgkcG9zdCBpbiAkdmVyaWZpZWRBbnN3ZXJzKQ0KICAgICAgICAgICA8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSI+DQogICAgICAgICAgICAgICAkY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoInZpZXctcG9zdC52bSIpDQogICAgICAgICAgPC9saT4NCiAgICAgICNlbmQNCiAgICA8L3VsPg0KICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIgdmVyaWZpZWQtYW5zd2VycyI+PC9kaXY+DQogICAgI2VuZA0KI2VuZA0KDQojaWYgKCRwb3N0cyAmJiAkcG9zdHMuVG90YWxDb3VudCA+IDApDQo8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIGFsbC1yZXBsaWVzIj48L2Rpdj4NCjxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1uYW1lIGFsbC1yZXBsaWVzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiUG9zdFF1ZXN0aW9uQW5zd2VyVmlld19BbGxSZXBsaWVzIik8L2Rpdj4NCjx1bCBjbGFzcz0iY29udGVudC1saXN0IGFsbC1yZXBsaWVzIj4NCiNmb3JlYWNoKCRwb3N0IGluICRwb3N0cykNCiAgICA8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSI+DQogICAgICAgICRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgidmlldy1wb3N0LnZtIikNCiAgICA8L2xpPg0KI2VuZA0KPC91bD4NCjxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIgYWxsLXJlcGxpZXMiPjwvZGl2Pg0KI2VuZA==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_ForumThreadDetails_Name}" version="7.5.0.32466" description="${resource:Forums_ForumThreadDetails_Description}" instanceIdentifier="c5a67495cd7a4188b4a4b7b952c7b1e4" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="thread-details">
		<contentScript>
#set ($forumThread = $core_v2_forumThread.Current)
#if (!$forumThread)
	$core_v2_widget.Hide()
#end

#set ($replyCount = $forumThread.ReplyCount)
#set ($replyLabel = $core_v2_language.GetResource('Replies'))
#if ($replyCount == 1)
	#set ($replyLabel = $core_v2_language.GetResource('Reply'))
#end

#set ($subscriberCount = $forumThread.SubscriberCount)
#set ($subscriberLabel = $core_v2_language.GetResource('Subscribers'))
#if ($subscriberCount == 1)
	#set ($subscriberLabel = $core_v2_language.GetResource('Subscriber'))
#end

&lt;div class="abbreviated-post-header"&gt;&lt;/div&gt;
&lt;div class="abbreviated-post"&gt;
	#if ($core_v2_configuration.SectionRatingType == 'ThreadRating')
		&lt;div class="post-rating"&gt;
			$core_v2_language.GetResource('RateThis')
			$core_v2_ui.Rate($forumThread.ContentId, $core_v2_forumThread.ContentTypeId, "%{ReadOnly='true'}")
		&lt;/div&gt;
	#end
	&lt;div class="post-attributes"&gt;
		&lt;div class="attribute-list-header"&gt;&lt;/div&gt;
		&lt;ul class="attribute-list"&gt;
			&lt;li class="attribute-item post-reply-count"&gt;
        &lt;span class="attribute-icon"&gt;&lt;/span&gt;
        &lt;span class="attribute-value"&gt;$replyCount&lt;/span&gt;
				&lt;span class="attribute-name"&gt;$replyLabel&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="attribute-item post-subscriber-count"&gt;
        &lt;span class="attribute-icon"&gt;&lt;/span&gt;
        &lt;span class="attribute-value"&gt;$subscriberCount&lt;/span&gt;
				&lt;span class="attribute-name"&gt;$subscriberLabel&lt;/span&gt;
			&lt;/li&gt;
			&lt;li class="attribute-item post-days-old"&gt;
        &lt;span class="attribute-icon"&gt;&lt;/span&gt;
				&lt;span class="attribute-name"&gt;$core_v2_language.GetResource('Posted')&lt;/span&gt;&lt;span class="attribute-value"&gt;$core_v2_language.FormatAgoDate($forumThread.Date)&lt;/span&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
		&lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="abbreviated-post-header"&gt;&lt;/div&gt;
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_ForumThreadDetails_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_ForumThreadDetails_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Forums_ForumThreadDetails_Name">Forum - Thread Details</resource><resource name="Forums_ForumThreadDetails_Description">Displays details about the current thread.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Replies">replies</resource><resource name="Reply">reply</resource><resource name="Subscribers">subscribers</resource><resource name="Subscriber">subscriber</resource><resource name="RateThis">Rate This</resource><resource name="Posted">Posted</resource><resource name="Forums_ThreadDetails_Title_Details">Details</resource></language></languageResources>
		<requiredContext>
			<context id="3e42a61fe20447f78ea9b0bb99a5c6a5" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Forums_ThreadList_Name}" version="7.5.0.32466" description="${resource:Forums_ThreadList_Description}" instanceIdentifier="c6af9d06240940beae71ade1bf750570" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="thread-list">
		<contentScript>
#set ($viewType = $core_v2_widget.GetStringValue('viewType', 'standard'))
#if($viewType=='standard')
	$core_v2_widget.ExecuteFile('standard.vm')
#else
	$core_v2_widget.ExecuteFile('simple.vm')
#end
			</contentScript>
		<headerScript>
#set($header = $core_v2_widget.GetStringValue('fragmentHeader', ''))
#set ($forumOrGroup = $core_v2_widget.GetStringValue('selectedForumOrGroup', ''))

#if($header == '' || $header == '${resource:Forums_ThreadList_Name}')
	#if ($forumOrGroup.IndexOf('Forum') &gt; -1)
		#set ($forumOrGroup = $forumOrGroup.Replace('Forum=', ''))
		#set ($forumId = $core_v2_utility.ParseInt($forumOrGroup))
		#set ($header = $core_v2_forum.Get($forumId).Name)
	#elseif ($forumOrGroup.IndexOf('Group') &gt; -1)
		#set ($forumOrGroup = $forumOrGroup.Replace('Group=', ''))
		#set ($forumOrGroup = $forumOrGroup.Replace('&amp;IncludeSubGroups', ''))
		#set ($forumOrGroup = $forumOrGroup.Replace('=True', ''))
		#set ($forumOrGroup = $forumOrGroup.Replace('=False', ''))
		#set ($groupId = $core_v2_utility.ParseInt($forumOrGroup))
		#set ($header = $core_v2_group.Get($groupId).Name)
	#elseif ($core_v2_forum.Current)
		#set ($header = $core_v2_forum.Current.Name)
	#else
		#set ($header = $core_v2_widget.GetStringValue('fragmentHeader', '${resource:Forums_ThreadList_Name}'))
	#end
#end

$core_v2_widget.ApplyTokens($header)
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Forums_ThreadList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="viewType" resourceName="CF_ForumThreadList_ViewType" dataType="string" defaultValue="standard" controlType="Telligent.Evolution.Controls.PropertyVisibilityValueSelectionControl, Telligent.Evolution.Controls"&gt;
		&lt;propertyValue value="standard" resourceName="CF_ForumThreadList_StandardView" propertiesToShow="sortBy" propertiesToHide="sortBySimple,filterSimple"  /&gt;
		&lt;propertyValue value="simple" resourceName="CF_ForumThreadList_SimpleView" propertiesToShow="sortBySimple,filterSimple" propertiesToHide="sortBy"  /&gt;
	&lt;/property&gt;
	&lt;property id="includeDiscussions" resourceName="CF_IncludeDiscussions" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="includeQuestions" resourceName="CF_IncludeQuestions" dataType="bool" defaultValue="true" /&gt;
	&lt;property id="filterSimple" resourceName="CF_Filter" dataType="string" defaultValue="all"&gt;
		&lt;propertyValue value="all" resourceName="CF_Filter_All" /&gt;
		&lt;propertyValue value="unread" resourceName="CF_Filter_Unread" /&gt;
		&lt;propertyValue value="unanswered" resourceName="CF_Filter_Unanswered" /&gt;
		&lt;propertyValue value="answered" resourceName="CF_Filter_Answered" /&gt;
		&lt;propertyValue value="answerednotverified" resourceName="CF_Filter_AnsweredNotVerified" /&gt;
		&lt;propertyValue value="answeredwithnotverified" resourceName="CF_Filter_AnsweredIncludingNotVerified" /&gt;
		&lt;propertyValue value="mythreads" resourceName="CF_Filter_MyThreads" /&gt;
		&lt;propertyValue value="authored" resourceName="CF_Filter_Authored" /&gt;
	&lt;/property&gt;
	&lt;property id="sortBy" resourceName="CF_SortBy" dataType="string" defaultValue="dateTime"&gt;
		&lt;propertyValue value="dateTime" resourceName="CF_ForumThreadList_Sort_DateTime" /&gt;
		&lt;propertyValue value="replies" resourceName="CF_ForumThreadList_Sort_Replies" /&gt;
		&lt;propertyValue value="views" resourceName="CF_ForumThreadList_Sort_Views" /&gt;
		&lt;propertyValue value="topic" resourceName="CF_ForumThreadList_Sort_Topic" /&gt;
	&lt;/property&gt;
	&lt;property id="sortBySimple" resourceName="CF_SortBy" dataType="string" defaultValue="dateTime"&gt;
		&lt;propertyValue value="dateTime" resourceName="CF_ForumThreadList_Sort_DateTime" /&gt;
		&lt;propertyValue value="replies" resourceName="CF_ForumThreadList_Sort_Replies" /&gt;
		&lt;propertyValue value="views" resourceName="CF_ForumThreadList_Sort_Views" /&gt;
		&lt;propertyValue value="topic" resourceName="CF_ForumThreadList_Sort_Topic" /&gt;
		&lt;propertyValue value="contentquality" resourceName="CF_ForumThreadList_Sort_ContentQuality" /&gt;
	&lt;/property&gt;
	&lt;property id="sortOrder" resourceName="CF_SortOrder" dataType="string" defaultValue="descending"&gt;
		&lt;propertyValue value="ascending" resourceName="SortOrderDropDownList_Asc" /&gt;
		&lt;propertyValue value="descending" resourceName="SortOrderDropDownList_Desc" /&gt;
	&lt;/property&gt;
	&lt;property id="popularOnly" resourceName="CF_ForumThreadList_PopularOnly" dataType="bool" defaultValue="false" /&gt;
	&lt;property id="selectedForumOrGroup" resourceName="CF_Forum_SelectGroupAndForum" dataType="custom" defaultValue="" controlType="Telligent.Evolution.Discussions.Controls.ForumSelectionControl, Telligent.Evolution.Discussions" /&gt;
	&lt;property id="pageSize" resourceName="Pagesize" dataType="int" defaultValue="15"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Forums_ThreadList_Name">Forum - Thread List</resource><resource name="Forums_ThreadList_Description">Displays a list of forum threads.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_ForumThreadList_ViewType">View Type</resource><resource name="CF_ForumThreadList_StandardView">Enhanced</resource><resource name="CF_ForumThreadList_SimpleView">Simple</resource><resource name="CF_SortBy">Sort By</resource><resource name="CF_ForumThreadList_Sort_DateTime">Date/Time posted</resource><resource name="CF_ForumThreadList_Sort_Replies">Number of replies</resource><resource name="CF_ForumThreadList_Sort_Views">Number of views</resource><resource name="CF_ForumThreadList_Sort_Topic">Topic (alphabetical)</resource><resource name="CF_SortOrder">Sort Order</resource><resource name="SortOrderDropDownList_Asc">Ascending</resource><resource name="SortOrderDropDownList_Desc">Descending</resource><resource name="CF_ForumThreadList_PopularOnly">Show only popular threads</resource><resource name="CF_Forum_SelectGroupAndForum">Select group/forum to pull content from</resource><resource name="Pagesize">Number of items to display</resource><resource name="by">by</resource><resource name="AllRecent">All Recent</resource><resource name="Unanswered">Unanswered</resource><resource name="Unread">Unread</resource><resource name="Forums_YourDiscussions">Your Discussions</resource><resource name="ViewThreads_FilterByTopic">Topic</resource><resource name="Date">Date</resource><resource name="ViewThreads_TitleReplies">Replies</resource><resource name="Announcement">Announcement</resource><resource name="Sticky">Sticky</resource><resource name="Postedto">Posted to</resource><resource name="Status_NotAnswered">Not Answered</resource><resource name="Status_VerifiedAnswer">Verified Answer</resource><resource name="Status_SuggestedAnswer">Suggested Answer</resource><resource name="Forums_DiscussionThreadType">Discussion</resource><resource name="ForumGroupView_Inline4">Last post</resource><resource name="ViewThreads_NoTopics">There are no posts to show. This could be because there are no posts in this forum or due to a filter.</resource><resource name="Forums_ThreadList_Title_PopularDiscussions">Popular Discussions</resource><resource name="Forums_ThreadList_Title_Activity">Activity</resource><resource name="CF_ForumThreadList_Sort_ContentQuality">Content Quality Score</resource><resource name="CF_IncludeDiscussions">Include Discussion Threads</resource><resource name="CF_IncludeQuestions">Include Question and Answer Threads</resource><resource name="CF_Filter">Filter</resource><resource name="CF_Filter_Unread">Unread by Accessing User</resource><resource name="CF_Filter_Unanswered">Only Unanswered</resource><resource name="CF_Filter_Answered">Only Answered</resource><resource name="CF_Filter_AnsweredNotVerified">Only Answered but not Verified</resource><resource name="CF_Filter_AnsweredIncludingNotVerified">Only Answered (including Not Verified Answers)</resource><resource name="CF_Filter_MyThreads">Accessing User has Participated In</resource><resource name="CF_Filter_Authored">Accessing User has Authored</resource><resource name="CF_Filter_All">None (Show All)</resource><resource name="Forums_TopDiscussionThreads_Name">Top Discussions</resource><resource name="Forums_TopAnsweredThreads_Name">Top Answers</resource></language></languageResources>
		<files>
			<file name="simple-load.vm">I3NldCAoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdwYWdlU2l6ZScsIDE1KSkNCiNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91aS5HZXRDdXJyZW50UGFnZUluZGV4KCkpDQojc2V0ICgkcG9wdWxhck9ubHkgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdwb3B1bGFyT25seScsIGZhbHNlKSkNCiNzZXQgKCRmb3J1bU9yR3JvdXAgPSAkY29yZV92Ml9wYWdlLlBhcnNlUXVlcnlTdHJpbmcoJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdzZWxlY3RlZEZvcnVtT3JHcm91cCcsICcnKSkpDQojc2V0ICgkY3VycmVudEZvcnVtID0gJGNvcmVfdjJfZm9ydW0uQ3VycmVudCkNCiNzZXQgKCRmb3J1bUlkID0gLTEpDQojc2V0ICgkZ3JvdXBJZCA9IC0xKQ0KI3NldCAoJGluY2x1ZGVTdWJHcm91cHMgPSBmYWxzZSkNCiNzZXQgKCRpc1JlZ2lzdGVyZWQgPSAkY29yZV92Ml91c2VyLklzUmVnaXN0ZXJlZCgkY29yZV92Ml91c2VyLkFjY2Vzc2luZy5JZCkpDQojc2V0ICgkc29ydE9yZGVyID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdzb3J0T3JkZXInLCAnZGVzY2VuZGluZycpKQ0KI3NldCAoJHNvcnRCeSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgnc29ydEJ5U2ltcGxlJywgJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdzb3J0QnknLCAnZGF0ZVRpbWUnKSkpDQojc2V0KCRpbmNsdWRlUXVlc3Rpb25zID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnaW5jbHVkZVF1ZXN0aW9ucycsIHRydWUpKQ0KI3NldCgkaW5jbHVkZURpc2N1c3Npb25zID0gJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnaW5jbHVkZURpc2N1c3Npb25zJywgdHJ1ZSkpDQojc2V0ICgkcXVlcnlUeXBlID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdmaWx0ZXJTaW1wbGUnLCAnYWN0aXZlJykpDQoNCiNzZXQgKCRzb3J0QnkgPSAkc29ydEJ5LlRvTG93ZXIoKSkNCiNpZiAoJHNvcnRCeSA9PSAnZGF0ZXRpbWUnIHx8ICRzb3J0QnkgPT0gJ2xhc3Rwb3N0JykNCgkjc2V0KCRzb3J0QnkgPSAnbGFzdHBvc3QnKQ0KI2Vsc2VpZiAoJHNvcnRCeSA9PSAncmVwbGllcycgfHwgJHNvcnRCeSA9PSAndG90YWxyZXBsaWVzJykNCgkjc2V0KCRzb3J0QnkgPSAncmVwbGllcycpDQojZWxzZWlmICgkc29ydEJ5ID09ICd2aWV3cycpDQoJI3NldCgkc29ydEJ5ID0gJ3ZpZXdzJykNCiNlbHNlaWYgKCRzb3J0QnkgPT0gJ2NvbnRlbnRxdWFsaXR5JykNCgkjc2V0KCRzb3J0QnkgPSAiU2NvcmU6JHtjb3JlX3YyX2NvbnRlbnRRdWFsaXR5U2NvcmUuU2NvcmVJZH0iKQ0KI2Vsc2UNCgkjc2V0KCRzb3J0QnkgPSAndG9waWMnKQ0KI2VuZA0KDQojaWYgKCRmb3J1bU9yR3JvdXAuVmFsdWUoJ0ZvcnVtJykpDQoJI3NldCgkZm9ydW1JZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGZvcnVtT3JHcm91cC5WYWx1ZSgnRm9ydW0nKSkpDQojZWxzZWlmICgkZm9ydW1Pckdyb3VwLlZhbHVlKCdHcm91cCcpKQ0KCSNzZXQoJGluY2x1ZGVTdWJHcm91cHMgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlQm9vbCgkZm9ydW1Pckdyb3VwLlZhbHVlKCdJbmNsdWRlU3ViR3JvdXBzJykpKQ0KCSNzZXQgKCRncm91cElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkZm9ydW1Pckdyb3VwLlZhbHVlKCdHcm91cCcpKSkNCiNlbmQNCg0KI2lmICgkZm9ydW1JZCA8IDEgJiYgJGdyb3VwSWQgPCAxKQ0KCSNpZiAoJGNvcmVfdjJfZm9ydW0uQ3VycmVudCkNCgkJI3NldCAoJGZvcnVtSWQgPSAkY29yZV92Ml9mb3J1bS5DdXJyZW50LklkKQ0KCSNlbHNlaWYgKCRjb3JlX3YyX2dyb3VwLkN1cnJlbnQpDQoJCSNzZXQgKCRncm91cElkID0gJGNvcmVfdjJfZ3JvdXAuQ3VycmVudC5JZCkNCgkjZW5kDQojZW5kDQoNCiNpZiAoJGdyb3VwSWQgIT0gLTEpDQoJI3NldCgkdGhyZWFkcyA9ICRjb3JlX3YyX2ZvcnVtVGhyZWFkLkxpc3QoJHF1ZXJ5VHlwZSwgIiV7R3JvdXBJZCA9ICckZ3JvdXBJZCcsIFNvcnRCeSA9ICckc29ydEJ5JywgU29ydE9yZGVyID0gJyRzb3J0T3JkZXInLCBQb3B1bGFyT25seSA9ICRwb3B1bGFyT25seSwgSW5jbHVkZVN1Ykdyb3VwcyA9ICRpbmNsdWRlU3ViR3JvdXBzLCBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSwgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgSW5jbHVkZURpc2N1c3Npb25zID0gJGluY2x1ZGVEaXNjdXNzaW9ucywgSW5jbHVkZVF1ZXN0aW9ucyA9ICRpbmNsdWRlUXVlc3Rpb25zIH0iKSkNCiNlbHNlDQoJI3NldCgkdGhyZWFkcyA9ICRjb3JlX3YyX2ZvcnVtVGhyZWFkLkxpc3QoJHF1ZXJ5VHlwZSwgIiV7Rm9ydW1JZCA9ICckZm9ydW1JZCcsIEdyb3VwSWQgPSAnJGdyb3VwSWQnLCBTb3J0QnkgPSAnJHNvcnRCeScsIFNvcnRPcmRlciA9ICckc29ydE9yZGVyJywgUG9wdWxhck9ubHkgPSAkcG9wdWxhck9ubHksIEluY2x1ZGVTdWJHcm91cHMgPSAkaW5jbHVkZVN1Ykdyb3VwcywgUGFnZVNpemUgPSAkcGFnZVNpemUsIFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIEluY2x1ZGVEaXNjdXNzaW9ucyA9ICRpbmNsdWRlRGlzY3Vzc2lvbnMsIEluY2x1ZGVRdWVzdGlvbnMgPSAkaW5jbHVkZVF1ZXN0aW9ucyB9IikpDQojZW5kDQoNCiNmb3JlYWNoKCR0aHJlYWQgaW4gJHRocmVhZHMpDQojZWFjaA0KCSNpZiAoJGNvcmVfdjJfZm9ydW1VcmxzLlRocmVhZCgkdGhyZWFkLklkKSkNCgk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciBzaW1wbGUjaWYoJHBvcHVsYXJPbmx5KSBwb3B1bGFyI2VuZCI+PC9kaXY+DQoJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCBzaW1wbGUjaWYoJHBvcHVsYXJPbmx5KSBwb3B1bGFyI2VuZCAkY29yZV92Ml9sYW5ndWFnZS5Mb3dlcmNhc2UoJHRocmVhZC5UaHJlYWRTdGF0dXMpIiI+DQoJCTxkaXYgY2xhc3M9InBvc3QtaWRlbnRpZmllciI+PHNwYW4+PC9zcGFuPjwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJwb3N0LW5hbWUiPjxhIGhyZWY9IiRjb3JlX3YyX2ZvcnVtVXJscy5UaHJlYWQoJHRocmVhZC5JZCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctcG9zdCBmb3J1bSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCR0aHJlYWQuU3ViamVjdCwgNjUsICIuLi4iKTwvYT48L2Rpdj4NCgkJI2lmICgkdGhyZWFkLlRocmVhZFR5cGUgPT0gIlF1ZXN0aW9uQW5kQW5zd2VyIiAmJiAkdGhyZWFkLlRocmVhZFN0YXR1cyA9PSAnQW5zd2VyZWQnKQ0KCQkJI3NldCgkcmVwbGllcyA9IGZhbHNlKQkNCgkJCSNzZXQoJHJlcGxpZXMgPSAkY29yZV92Ml9mb3J1bVJlcGx5Lkxpc3QoJHRocmVhZC5JZCwgIiV7UGFnZVNpemUgPSAxLCBQYWdlSW5kZXggPSAwLCBTb3J0QnkgPSAnUG9zdERhdGUnLCBTb3J0T3JkZXIgPSAnRGVzY2VuZGluZycsIEZvcnVtUmVwbHlRdWVyeVR5cGUgPSAndmVyaWZpZWQtYW5zd2VycycgfSIpKQ0KCQkJI2ZvcmVhY2ggKCRyZXBseSBpbiAkcmVwbGllcykNCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LXN1bW1hcnkiPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRyZXBseS5Cb2R5KCdXZWJRdW90ZScpLCA1MCwgJy4uLicpPC9kaXY+DQoJCQkjZW5kDQoJCSNlbHNlaWYgKCR0aHJlYWQuVGhyZWFkVHlwZSA9PSAiUXVlc3Rpb25BbmRBbnN3ZXIiICYmICR0aHJlYWQuVGhyZWFkU3RhdHVzID09ICdBbnN3ZXJlZE5vdFZlcmlmaWVkJykNCgkJCSNzZXQoJHJlcGxpZXMgPSBmYWxzZSkJDQoJCQkjc2V0KCRyZXBsaWVzID0gJGNvcmVfdjJfZm9ydW1SZXBseS5MaXN0KCR0aHJlYWQuSWQsICIle1BhZ2VTaXplID0gMSwgUGFnZUluZGV4ID0gMCwgU29ydEJ5ID0gJ1Bvc3REYXRlJywgU29ydE9yZGVyID0gJ0Rlc2NlbmRpbmcnLCBGb3J1bVJlcGx5UXVlcnlUeXBlID0gJ25vbi12ZXJpZmllZC1hbnN3ZXJzJyB9IikpDQoJCQkjZm9yZWFjaCAoJHJlcGx5IGluICRyZXBsaWVzKQ0KCQkJCTxkaXYgY2xhc3M9InBvc3Qtc3VtbWFyeSI+JGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJHJlcGx5LkJvZHkoJ1dlYlF1b3RlJyksIDUwLCAnLi4uJyk8L2Rpdj4NCgkJCSNlbmQNCgkJI2Vsc2UNCgkJCTxkaXYgY2xhc3M9InBvc3Qtc3VtbWFyeSI+JGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJHRocmVhZC5Cb2R5KCdXZWJRdW90ZScpLCA1MCwgJy4uLicpPC9kaXY+DQoJCSNlbmQNCgk8L2Rpdj4NCgk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciBzaW1wbGUjaWYoJHBvcHVsYXJPbmx5KSBwb3B1bGFyI2VuZCI+PC9kaXY+DQoJI2VuZA0KI25vZGF0YQ0KCSRjb3JlX3YyX3dpZGdldC5IaWRlKCkNCiNlbmQ=</file>
			<file name="simple.vm">JGNvcmVfdjJfdWkuUGFnZWRDb250ZW50KCdzaW1wbGUtbG9hZC52bScpDQokY29yZV92Ml91aS5QYWdlcigkdGhyZWFkcy5QYWdlSW5kZXgsICR0aHJlYWRzLlBhZ2VTaXplLCAkdGhyZWFkcy5Ub3RhbENvdW50LCAiJXsgUGFnZWRDb250ZW50RmlsZSA9ICdzaW1wbGUtbG9hZC52bScsIFNob3dJbmRpdmlkdWFsUGFnZXMgPSAnZmFsc2UnLCBTaG93UHJldmlvdXMgPSAndHJ1ZScsIFNob3dOZXh0ID0gJ3RydWUnLCBTaG93Rmlyc3QgPSAnZmFsc2UnLCBTaG93TGFzdCA9ICdmYWxzZScgfSIpDQo=</file>
			<file name="standard.vm">I3NldCAoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdwYWdlU2l6ZScsIDE1KSkNCiNzZXQgKCRwYWdlSW5kZXggPSAkY29yZV92Ml91aS5HZXRDdXJyZW50UGFnZUluZGV4KCkpDQojc2V0ICgkcG9wdWxhck9ubHkgPSAkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdwb3B1bGFyT25seScsIGZhbHNlKSkNCiNzZXQgKCRmb3J1bU9yR3JvdXAgPSAkY29yZV92Ml9wYWdlLlBhcnNlUXVlcnlTdHJpbmcoJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdzZWxlY3RlZEZvcnVtT3JHcm91cCcsICcnKSkpDQojc2V0ICgkY3VycmVudEZvcnVtID0gJGNvcmVfdjJfZm9ydW0uQ3VycmVudCkNCiNzZXQgKCRmb3J1bUlkID0gLTEpDQojc2V0ICgkZ3JvdXBJZCA9IC0xKQ0KI3NldCAoJGluY2x1ZGVTdWJHcm91cHMgPSBmYWxzZSkNCiNzZXQgKCRzb3J0T3JkZXIgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoIlNvcnRPcmRlciIpKQ0KI3NldCAoJHNvcnRCeSA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgiVGhyZWFkU29ydEJ5IikpDQojc2V0ICgkaXNSZWdpc3RlcmVkID0gJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpKQ0KI3NldCgkaW5jbHVkZVF1ZXN0aW9ucyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2luY2x1ZGVRdWVzdGlvbnMnLCB0cnVlKSkNCiNzZXQoJGluY2x1ZGVEaXNjdXNzaW9ucyA9ICRjb3JlX3YyX3dpZGdldC5HZXRCb29sVmFsdWUoJ2luY2x1ZGVEaXNjdXNzaW9ucycsIHRydWUpKQ0KDQojaWYgKCEkc29ydE9yZGVyKQ0KICAgICNzZXQgKCRzb3J0T3JkZXIgPSAkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoJ3NvcnRPcmRlcicsICdkZXNjZW5kaW5nJykpDQojZW5kDQojc2V0ICgkc29ydE9yZGVyID0gJHNvcnRPcmRlci5Ub0xvd2VyKCkpDQoNCiNpZiAoISRzb3J0QnkpDQogICAgI3NldCAoJHNvcnRCeSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgnc29ydEJ5JywgJ2RhdGVUaW1lJykpDQojZW5kDQoNCiNzZXQgKCRzb3J0QnkgPSAkc29ydEJ5LlRvTG93ZXIoKSkNCiNpZiAoJHNvcnRCeSA9PSAnZGF0ZXRpbWUnIHx8ICRzb3J0QnkgPT0gJ2xhc3Rwb3N0JykNCiAgICAjc2V0KCRzb3J0QnkgPSAnbGFzdHBvc3QnKQ0KI2Vsc2VpZiAoJHNvcnRCeSA9PSAncmVwbGllcycgfHwgJHNvcnRCeSA9PSAndG90YWxyZXBsaWVzJykNCiAgICAjc2V0KCRzb3J0QnkgPSAncmVwbGllcycpDQojZWxzZWlmICgkc29ydEJ5ID09ICd2aWV3cycpDQogICAgI3NldCgkc29ydEJ5ID0gJ3ZpZXdzJykNCiNlbHNlDQogICAgI3NldCgkc29ydEJ5ID0gJ3RvcGljJykNCiNlbmQNCg0KI2lmICgkZm9ydW1Pckdyb3VwLlZhbHVlKCdGb3J1bScpKQ0KICAgICNzZXQoJGZvcnVtSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRmb3J1bU9yR3JvdXAuVmFsdWUoJ0ZvcnVtJykpKQ0KI2Vsc2VpZiAoJGZvcnVtT3JHcm91cC5WYWx1ZSgnR3JvdXAnKSkNCiAgICAjc2V0KCRpbmNsdWRlU3ViR3JvdXBzID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUJvb2woJGZvcnVtT3JHcm91cC5WYWx1ZSgnSW5jbHVkZVN1Ykdyb3VwcycpKSkNCiAgICAjc2V0ICgkZ3JvdXBJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGZvcnVtT3JHcm91cC5WYWx1ZSgnR3JvdXAnKSkpDQojZW5kDQoNCiNzZXQgKCRxdWVyeVR5cGUgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoIlNvcnQiKSkNCiNzZXQgKCR0aHJlYWRGaWx0ZXIgPSAkY29yZV92Ml9wYWdlLkdldENvb2tpZVZhbHVlKCJUaHJlYWRGaWx0ZXIiKSkNCiNpZiAoISRxdWVyeVR5cGUgJiYgJHRocmVhZEZpbHRlcikNCiAgICAjaWYgKCR0aHJlYWRGaWx0ZXIgPT0gIlVuQW5zd2VyZWRPbmx5IikNCiAgICAgICAgI3NldCAoJHF1ZXJ5VHlwZSA9ICJVbmFuc3dlcmVkIikNCiAgICAjZWxzZWlmICgkdGhyZWFkRmlsdGVyID09ICJVblJlYWRPbmx5IikNCiAgICAgICAgI3NldCAoJHF1ZXJ5VHlwZSA9ICJVblJlYWRPbmx5IikNCiAgICAjZWxzZWlmICgkdGhyZWFkRmlsdGVyID09ICJVc2VyRmlsdGVyIikNCiAgICAgICAgI3NldCAoJHF1ZXJ5VHlwZSA9ICJZb3VyIikNCiAgICAjZWxzZQ0KICAgICAgICAjc2V0ICgkcXVlcnlUeXBlID0gImFjdGl2ZSIpDQogICAgI2VuZA0KI2VuZA0KDQojaWYgKCRxdWVyeVR5cGUgPT0gIlVuYW5zd2VyZWQiKQ0KICAgICNzZXQgKCRxdWVyeVR5cGUgPSAidW5hbnN3ZXJlZCIpDQogICAgJGNvcmVfdjJfcGFnZS5TZXRDb29raWVWYWx1ZSgiVGhyZWFkRmlsdGVyIiwgIlVuQW5zd2VyZWRPbmx5IikNCiNlbHNlaWYgKCRxdWVyeVR5cGUgPT0gIlVuUmVhZE9ubHkiICYmICRpc1JlZ2lzdGVyZWQpDQogICAgI3NldCAoJHF1ZXJ5VHlwZSA9ICJ1bnJlYWQiKQ0KICAgICRjb3JlX3YyX3BhZ2UuU2V0Q29va2llVmFsdWUoIlRocmVhZEZpbHRlciIsICJVblJlYWRPbmx5IikNCiNlbHNlaWYgKCRxdWVyeVR5cGUgPT0gIllvdXIiICYmICRpc1JlZ2lzdGVyZWQpDQogICAgI3NldCAoJHF1ZXJ5VHlwZSA9ICJteXRocmVhZHMiKQ0KICAgICRjb3JlX3YyX3BhZ2UuU2V0Q29va2llVmFsdWUoIlRocmVhZEZpbHRlciIsICJVc2VyRmlsdGVyIikNCiNlbHNlDQogICAgI3NldCAoJHF1ZXJ5VHlwZSA9ICJhY3RpdmUiKQ0KICAgICRjb3JlX3YyX3BhZ2UuU2V0Q29va2llVmFsdWUoIlRocmVhZEZpbHRlciIsICJBY3RpdmUiKQ0KI2VuZA0KDQojaWYgKCRmb3J1bUlkIDwgMSAmJiAkZ3JvdXBJZCA8IDEpDQogICAgI2lmICgkY29yZV92Ml9mb3J1bS5DdXJyZW50KQ0KICAgICAgICAjc2V0ICgkZm9ydW1JZCA9ICRjb3JlX3YyX2ZvcnVtLkN1cnJlbnQuSWQpDQogICAgI2Vsc2VpZiAoJGNvcmVfdjJfZ3JvdXAuQ3VycmVudCkNCiAgICAgICAgI3NldCAoJGdyb3VwSWQgPSAkY29yZV92Ml9ncm91cC5DdXJyZW50LklkKQ0KICAgICNlbmQNCiNlbmQNCg0KI2lmICgkZ3JvdXBJZCAhPSAtMSkNCiAgICAjc2V0KCR0aHJlYWRzID0gJGNvcmVfdjJfZm9ydW1UaHJlYWQuTGlzdCgkcXVlcnlUeXBlLCAiJXtHcm91cElkID0gJyRncm91cElkJywgU29ydEJ5ID0gJyRzb3J0QnknLCBTb3J0T3JkZXIgPSAnJHNvcnRPcmRlcicsIFBvcHVsYXJPbmx5ID0gJHBvcHVsYXJPbmx5LCBJbmNsdWRlU3ViR3JvdXBzID0gJGluY2x1ZGVTdWJHcm91cHMsIFBhZ2VTaXplID0gJHBhZ2VTaXplLCBQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBJbmNsdWRlRGlzY3Vzc2lvbnMgPSAkaW5jbHVkZURpc2N1c3Npb25zLCBJbmNsdWRlUXVlc3Rpb25zID0gJGluY2x1ZGVRdWVzdGlvbnMgfSIpKQ0KI2Vsc2UNCiAgICAjc2V0KCR0aHJlYWRzID0gJGNvcmVfdjJfZm9ydW1UaHJlYWQuTGlzdCgkcXVlcnlUeXBlLCAiJXtGb3J1bUlkID0gJyRmb3J1bUlkJywgR3JvdXBJZCA9ICckZ3JvdXBJZCcsIFNvcnRCeSA9ICckc29ydEJ5JywgU29ydE9yZGVyID0gJyRzb3J0T3JkZXInLCBQb3B1bGFyT25seSA9ICRwb3B1bGFyT25seSwgSW5jbHVkZVN1Ykdyb3VwcyA9ICRpbmNsdWRlU3ViR3JvdXBzLCBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSwgUGFnZUluZGV4ID0gJHBhZ2VJbmRleCwgSW5jbHVkZURpc2N1c3Npb25zID0gJGluY2x1ZGVEaXNjdXNzaW9ucywgSW5jbHVkZVF1ZXN0aW9ucyA9ICRpbmNsdWRlUXVlc3Rpb25zIH0iKSkNCiNlbmQNCg0KPGRpdiBjbGFzcz0iZmlsdGVyIj4NCiAgICA8ZGl2IGNsYXNzPSJ2aWV3LXR5cGUiPg0KICAgICAgICAjaWYgKCRxdWVyeVR5cGUgPT0gImFjdGl2ZSIpDQogICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiBzZWxlY3RlZCI+DQogICAgICAgICNlbHNlDQogICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiI+DQogICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICJTb3J0PUFjdGl2ZSYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xIikpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkFsbFJlY2VudCIpPC9hPg0KICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNlcGFyYXRvciI+fDwvc3Bhbj4NCiAgICAgICAgI2lmICgkcXVlcnlUeXBlID09ICJ1bmFuc3dlcmVkIikNCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uIHNlbGVjdGVkIj4NCiAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uIj4NCiAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNvcnQ9VW5hbnN3ZXJlZCYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xIikpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlVuYW5zd2VyZWQiKTwvYT4NCiAgICAgICAgICAgIDwvc3Bhbj4NCg0KICAgICAgICAjaWYgKCRpc1JlZ2lzdGVyZWQpDQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InNlcGFyYXRvciI+fDwvc3Bhbj4NCiAgICAgICAgICAgICNpZiAoJHF1ZXJ5VHlwZSA9PSAidW5yZWFkIikNCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiBzZWxlY3RlZCI+DQogICAgICAgICAgICAjZWxzZQ0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJmaWx0ZXItb3B0aW9uIj4NCiAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAiU29ydD1VblJlYWRPbmx5JiRjb3JlX3YyX3VpLlBhZ2VJbmRleFF1ZXJ5U3RyaW5nS2V5PTEiKSkiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiVW5yZWFkIik8L2E+DQogICAgICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJzZXBhcmF0b3IiPnw8L3NwYW4+DQogICAgICAgICAgICAjaWYgKCRxdWVyeVR5cGUgPT0gIm15dGhyZWFkcyIpDQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZpbHRlci1vcHRpb24gc2VsZWN0ZWQiPg0KICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iZmlsdGVyLW9wdGlvbiI+DQogICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgIlNvcnQ9WW91ciYkY29yZV92Ml91aS5QYWdlSW5kZXhRdWVyeVN0cmluZ0tleT0xIikpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkZvcnVtc19Zb3VyRGlzY3Vzc2lvbnMiKTwvYT4NCiAgICAgICAgICAgICAgICA8L3NwYW4+DQogICAgICAgICNlbmQNCiAgICA8L2Rpdj4NCjwvZGl2Pg0KDQojZm9yZWFjaCgkdGhyZWFkIGluICR0aHJlYWRzKQ0KI2JlZm9yZWFsbA0KPGRpdiBjbGFzcz0idGFibGUtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KPHRhYmxlIGNsYXNzPSJ0YWJsZS1saXN0Ij4NCiAgICA8dGhlYWQ+DQogICAgICAgIDx0ciBjbGFzcz0idGFibGUtaGVhZGVyIj4NCiAgICAgICAgICAgIDx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBwb3N0LWF1dGhvciI+PC90aD4NCiAgICAgICAgICAgIDx0aCBjbGFzcz0idGFibGUtaGVhZGVyLWNvbHVtbiBhdXRob3Itc29ydCI+DQogICAgICAgICAgICAgICAgI2lmICgkc29ydEJ5ID09ICJ0b3BpYyIgJiYgJHNvcnRPcmRlciA9PSAiYXNjZW5kaW5nIikNCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAnVGhyZWFkU29ydEJ5PVN1YmplY3QmU29ydE9yZGVyPURlc2NlbmRpbmcnKSkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHNvcnQtYXNjZW5kaW5nIHNlbGVjdGVkIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlZpZXdUaHJlYWRzX0ZpbHRlckJ5VG9waWMiKTwvYT4NCiAgICAgICAgICAgICAgICAjZWxzZWlmICgkc29ydEJ5ID09ICJ0b3BpYyIgJiYgJHNvcnRPcmRlciA9PSAiZGVzY2VuZGluZyIpDQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfcGFnZS5BZGp1c3RRdWVyeVN0cmluZygkY29yZV92Ml9wYWdlLlVybCwgJ1RocmVhZFNvcnRCeT1TdWJqZWN0JlNvcnRPcmRlcj1Bc2NlbmRpbmcnKSkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHNvcnQtZGVzY2VuZGluZyBzZWxlY3RlZCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJWaWV3VGhyZWFkc19GaWx0ZXJCeVRvcGljIik8L2E+DQogICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAnVGhyZWFkU29ydEJ5PVN1YmplY3QmU29ydE9yZGVyPUFzY2VuZGluZycpKSIgY2xhc3M9ImludGVybmFsLWxpbmsgc29ydC1kZXNjZW5kaW5nIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlZpZXdUaHJlYWRzX0ZpbHRlckJ5VG9waWMiKTwvYT4NCiAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICA8L3RoPg0KICAgICAgICAgICAgPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIGRhdGUtc29ydCI+DQogICAgICAgICAgICAgICAgI2lmICgkc29ydEJ5ID09ICJsYXN0cG9zdCIgJiYgJHNvcnRPcmRlciA9PSAiYXNjZW5kaW5nIikNCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAnVGhyZWFkU29ydEJ5PUxhc3RQb3N0JlNvcnRPcmRlcj1EZXNjZW5kaW5nJykpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBzb3J0LWFzY2VuZGluZyBzZWxlY3RlZCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJEYXRlIik8L2E+DQogICAgICAgICAgICAgICAgI2Vsc2VpZiAoJHNvcnRCeSA9PSAibGFzdHBvc3QiICYmICRzb3J0T3JkZXIgPT0gImRlc2NlbmRpbmciKQ0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICdUaHJlYWRTb3J0Qnk9TGFzdFBvc3QmU29ydE9yZGVyPUFzY2VuZGluZycpKSIgY2xhc3M9ImludGVybmFsLWxpbmsgc29ydC1kZXNjZW5kaW5nIHNlbGVjdGVkIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkRhdGUiKTwvYT4NCiAgICAgICAgICAgICAgICAjZWxzZQ0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICdUaHJlYWRTb3J0Qnk9TGFzdFBvc3QmU29ydE9yZGVyPUFzY2VuZGluZycpKSIgY2xhc3M9ImludGVybmFsLWxpbmsgc29ydC1kZXNjZW5kaW5nIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkRhdGUiKTwvYT4NCiAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICA8L3RoPg0KICAgICAgICAgICAgPHRoIGNsYXNzPSJ0YWJsZS1oZWFkZXItY29sdW1uIHRvdGFsLXJlcGxpZXMtc29ydCI+DQogICAgICAgICAgICAgICAgI2lmICgkc29ydEJ5ID09ICJyZXBsaWVzIiAmJiAkc29ydE9yZGVyID09ICJhc2NlbmRpbmciKQ0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3BhZ2UuQWRqdXN0UXVlcnlTdHJpbmcoJGNvcmVfdjJfcGFnZS5VcmwsICdUaHJlYWRTb3J0Qnk9VG90YWxSZXBsaWVzJlNvcnRPcmRlcj1EZXNjZW5kaW5nJykpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBzb3J0LWFzY2VuZGluZyBzZWxlY3RlZCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJWaWV3VGhyZWFkc19UaXRsZVJlcGxpZXMiKTwvYT4NCiAgICAgICAgICAgICAgICAjZWxzZWlmICgkc29ydEJ5ID09ICJyZXBsaWVzIiAmJiAkc29ydE9yZGVyID09ICJkZXNjZW5kaW5nIikNCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAnVGhyZWFkU29ydEJ5PVRvdGFsUmVwbGllcyZTb3J0T3JkZXI9QXNjZW5kaW5nJykpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBzb3J0LWRlc2NlbmRpbmcgc2VsZWN0ZWQiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiVmlld1RocmVhZHNfVGl0bGVSZXBsaWVzIik8L2E+DQogICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9wYWdlLkFkanVzdFF1ZXJ5U3RyaW5nKCRjb3JlX3YyX3BhZ2UuVXJsLCAnVGhyZWFkU29ydEJ5PVRvdGFsUmVwbGllcyZTb3J0T3JkZXI9QXNjZW5kaW5nJykpIiBjbGFzcz0iaW50ZXJuYWwtbGluayBzb3J0LWRlc2NlbmRpbmciPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiVmlld1RocmVhZHNfVGl0bGVSZXBsaWVzIik8L2E+DQogICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgPC90aD4NCiAgICAgICAgPC90cj4NCiAgICA8L3RoZWFkPg0KICAgIDx0Ym9keT4NCiNlYWNoDQogICAgI2lmICgkY29yZV92Ml9mb3J1bVVybHMuVGhyZWFkKCR0aHJlYWQuSWQpKQ0KICAgIDx0ciBjbGFzcz0idGFibGUtaXRlbSI+DQogICAgICAgIDx0ZCBjbGFzcz0idGFibGUtY29sdW1uIHBvc3QtYXV0aG9yIj4NCiAgICAgICAgICAgICNpZiAoJGNvcmVfdjJfdXNlci5Jc1JlZ2lzdGVyZWQoJHRocmVhZC5BdXRob3IuSWQpKQ0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPjxhIGhyZWY9IiRjb3JlX3YyX3VybHMuVXNlcigkdGhyZWFkLkF1dGhvci5JZCkiPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHRocmVhZC5BdXRob3IuQXZhdGFyVXJsLDMyLDMyLCIle2FsdD0kdGhyZWFkLkF1dGhvci5EaXNwbGF5TmFtZSwgc3R5bGU9J2JvcmRlci13aWR0aDogMHB4Oyd9Iik8L2E+PC9zcGFuPg0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPjxhIGhyZWY9IiRjb3JlX3YyX3VybHMuVXNlcigkdGhyZWFkLkF1dGhvci5JZCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4kdGhyZWFkLkF1dGhvci5EaXNwbGF5TmFtZTwvYT48L3NwYW4+DQogICAgICAgICAgICAjZWxzZQ0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdmF0YXIiPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHRocmVhZC5BdXRob3IuQXZhdGFyVXJsLDMyLDMyLCIle2FsdD0kdGhyZWFkLkF1dGhvci5EaXNwbGF5TmFtZSwgc3R5bGU9J2JvcmRlci13aWR0aDogMHB4Oyd9Iik8L3NwYW4+DQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+JHRocmVhZC5BdXRob3IuRGlzcGxheU5hbWU8L3NwYW4+DQogICAgICAgICAgICAjZW5kDQogICAgICAgIDwvdGQ+DQogICAgICAgIDx0ZCBjbGFzcz0idGFibGUtY29sdW1uIHBvc3QtbmFtZSI+DQogICAgICAgICAgICAjaWYgKCR0aHJlYWQuSGFzUmVhZCkNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciByZWFkIj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0IHJlYWQiPg0KICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciB1bnJlYWQiPjwvZGl2Pg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QgdW5yZWFkIj4NCiAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICNpZiAoJHRocmVhZC5Jc0Fubm91bmNlbWVudCkNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LXN1bW1hcnkgYW5ub3VuY2VtZW50Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiQW5ub3VuY2VtZW50Iik8L2Rpdj4NCiAgICAgICAgICAgICAgICA8aDQgY2xhc3M9InBvc3QtbmFtZSB3aXRoLXN1bW1hcnkiPg0KICAgICAgICAgICAgI2Vsc2VpZiAoJHRocmVhZC5Jc1N0aWNreSkNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LXN1bW1hcnkgc3RpY2t5Ij4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiU3RpY2t5Iik8L2Rpdj4NCiAgICAgICAgICAgICAgICA8aDQgY2xhc3M9InBvc3QtbmFtZSB3aXRoLXN1bW1hcnkiPg0KICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICA8aDQgY2xhc3M9InBvc3QtbmFtZSI+DQogICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2ZvcnVtVXJscy5UaHJlYWQoJHRocmVhZC5JZCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctcG9zdCBmb3J1bSI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCR0aHJlYWQuU3ViamVjdCwgNjUsICIuLi4iKTwvYT48L2g0Pg0KICAgICAgICAgICAgICAgIDwvaDQ+DQogICAgICAgICAgICAjaWYgKCEkY3VycmVudEZvcnVtKQ0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtYXBwbGljYXRpb24iPg0KICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiUG9zdGVkdG8iKToNCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9mb3J1bVVybHMuRm9ydW0oJHRocmVhZC5Gb3J1bUlkKSkiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9mb3J1bS5HZXQoJHRocmVhZC5Gb3J1bUlkKS5OYW1lPC9hPg0KICAgICAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgPC9kaXY+DQogICAgICAgICAgICAjaWYgKCR0aHJlYWQuSGFzUmVhZCkNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciByZWFkIj4NCiAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIgdW5yZWFkIj48L2Rpdj4NCiAgICAgICAgICAgICNlbmQNCiAgICAgICAgPC90ZD4NCiAgICAgICAgPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gcG9zdC1zdGF0dXMiPg0KICAgICAgICAgICAgI2lmICgkdGhyZWFkLlRocmVhZFR5cGUgPT0gIlF1ZXN0aW9uQW5kQW5zd2VyIiAmJiAkdGhyZWFkLlRocmVhZFN0YXR1cyA9PSAiTm90QW5zd2VyZWQiKQ0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIG5vdC1hbnN3ZXJlZCI+PC9kaXY+PGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCBub3QtYW5zd2VyZWQiPjxkaXYgY2xhc3M9InBvc3QtdGh1bWJuYWlsIiB0aXRsZT0nJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlN0YXR1c19Ob3RBbnN3ZXJlZCIpJz48L2Rpdj4NCiAgICAgICAgICAgICNlbHNlaWYgKCR0aHJlYWQuVGhyZWFkVHlwZSA9PSAiUXVlc3Rpb25BbmRBbnN3ZXIiICYmICR0aHJlYWQuVGhyZWFkU3RhdHVzID09ICJBbnN3ZXJlZCIpDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIgdmVyaWZpZWQtYW5zd2VyZWQiPjwvZGl2PjxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QgdmVyaWZpZWQtYW5zd2VyZWQiPjxkaXYgY2xhc3M9InBvc3QtdGh1bWJuYWlsIiB0aXRsZT0nJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlN0YXR1c19WZXJpZmllZEFuc3dlciIpJz48L2Rpdj4NCiAgICAgICAgICAgICNlbHNlaWYgKCR0aHJlYWQuVGhyZWFkVHlwZSA9PSAiUXVlc3Rpb25BbmRBbnN3ZXIiICYmICR0aHJlYWQuVGhyZWFkU3RhdHVzID09ICJBbnN3ZXJlZE5vdFZlcmlmaWVkIikNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciBzdWdnZXN0ZWQtYW5zd2VyZWQiPjwvZGl2PjxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3Qgc3VnZ2VzdGVkLWFuc3dlcmVkIj48ZGl2IGNsYXNzPSJwb3N0LXRodW1ibmFpbCIgdGl0bGU9JyRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJTdGF0dXNfU3VnZ2VzdGVkQW5zd2VyIiknPjwvZGl2Pg0KICAgICAgICAgICAgI2Vsc2VpZiAoJHRocmVhZC5UaHJlYWRUeXBlID09ICJRdWVzdGlvbkFuZEFuc3dlciIgJiYgJHRocmVhZC5UaHJlYWRTdGF0dXMgPT0gIk5vdFNldCIpDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIgbm90LWFuc3dlcmVkIj48L2Rpdj48ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0IG5vdC1hbnN3ZXJlZCI+PGRpdiBjbGFzcz0icG9zdC10aHVtYm5haWwiIHRpdGxlPSckY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiU3RhdHVzX05vdEFuc3dlcmVkIiknPjwvZGl2Pg0KICAgICAgICAgICAgI2Vsc2VpZiAoJHRocmVhZC5UaHJlYWRUeXBlID09ICJEaXNjdXNzaW9uIikNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWhlYWRlciBkaXNjdXNzaW9uIj48L2Rpdj48ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0IGRpc2N1c3Npb24iPjxkaXYgY2xhc3M9InBvc3QtdGh1bWJuYWlsIiB0aXRsZT0nJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIkZvcnVtc19EaXNjdXNzaW9uVGhyZWFkVHlwZSIpJz48L2Rpdj4NCiAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPjwvZGl2PjxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QiPg0KICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICNpZiAoJHRocmVhZC5MYXRlc3RGb3J1bVJlcGx5SWQgPiAwKQ0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtYXR0cmlidXRlcyI+DQogICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfZm9ydW1VcmxzLkZvcnVtUmVwbHkoJHRocmVhZC5MYXRlc3RGb3J1bVJlcGx5SWQpKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0IGZvcnVtIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRm9ydW1Hcm91cFZpZXdfSW5saW5lNCIpPC9hPg0KCQkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4NCgkJCQkJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4NCgkJCQkJCQkjc2V0ICgkbGF0ZXN0UG9zdERpc3BsYXlOYW1lID0gJGNvcmVfdjJfdXNlci5HZXQoIiV7SWQgPSAkdGhyZWFkLkxhdGVzdEZvcnVtUmVwbHlBdXRob3JJZH0iKS5EaXNwbGF5TmFtZSkNCgkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiYnkiKQ0KCQkJCQkJCSNpZiAoJGNvcmVfdjJfdXJscy5Vc2VyKCR0aHJlYWQuTGF0ZXN0Rm9ydW1SZXBseUF1dGhvcklkKSkNCgkJCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml91cmxzLlVzZXIoJHRocmVhZC5MYXRlc3RGb3J1bVJlcGx5QXV0aG9ySWQpKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCIkbGF0ZXN0UG9zdERpc3BsYXlOYW1lIiwgMTUsICIuLi4iKTwvYT4NCgkJCQkJCQkjZWxzZQ0KCQkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgiJGxhdGVzdFBvc3REaXNwbGF5TmFtZSIsIDE1LCAiLi4uIikNCgkJCQkJCQkjZW5kDQoJCQkJCQk8L2Rpdj4NCgkJCQkJPC9zcGFuPg0KCQkJCTwvZGl2Pg0KICAgICAgICAgICAgICAgICNlbHNlDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdHRyaWJ1dGVzIj4NCiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml9mb3J1bVVybHMuVGhyZWFkKCR0aHJlYWQuSWQpKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1wb3N0IGZvcnVtIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiRm9ydW1Hcm91cFZpZXdfSW5saW5lNCIpPC9hPg0KCQkJCQk8c3BhbiBjbGFzcz0idXNlci1uYW1lIj4NCgkJCQkJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4NCgkJCQkJCQkjc2V0ICgkbGF0ZXN0UG9zdERpc3BsYXlOYW1lID0gJHRocmVhZC5BdXRob3IuRGlzcGxheU5hbWUpDQoJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoImJ5IikNCgkJCQkJCQkjaWYgKCRjb3JlX3YyX3VybHMuVXNlcigkdGhyZWFkLkF1dGhvci5JZCkpDQoJCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfdXJscy5Vc2VyKCR0aHJlYWQuQXV0aG9yLklkKSkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4kY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgiJGxhdGVzdFBvc3REaXNwbGF5TmFtZSIsIDE1LCAiLi4uIik8L2E+DQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoIiRsYXRlc3RQb3N0RGlzcGxheU5hbWUiLCAxNSwgIi4uLiIpDQoJCQkJCQkJI2VuZA0KCQkJCQkJPC9kaXY+DQoJCQkJCTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4NCiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9InZhbHVlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXREYXRlQW5kVGltZSgkdGhyZWFkLkxhdGVzdFBvc3REYXRlKTwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICNpZiAoJHRocmVhZC5UaHJlYWRUeXBlID09ICJRdWVzdGlvbkFuZEFuc3dlciIgJiYgJHRocmVhZC5UaHJlYWRTdGF0dXMgPT0gIk5vdEFuc3dlcmVkIikNCiAgICAgICAgICAgICAgICA8L2Rpdj48ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciBub3QtYW5zd2VyZWQiPjwvZGl2Pg0KICAgICAgICAgICAgI2Vsc2VpZiAoJHRocmVhZC5UaHJlYWRUeXBlID09ICJRdWVzdGlvbkFuZEFuc3dlciIgJiYgJHRocmVhZC5UaHJlYWRTdGF0dXMgPT0gIkFuc3dlcmVkIikNCiAgICAgICAgICAgICAgICA8L2Rpdj48ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciB2ZXJpZmllZC1hbnN3ZXJlZCI+PC9kaXY+DQogICAgICAgICAgICAjZWxzZWlmICgkdGhyZWFkLlRocmVhZFR5cGUgPT0gIlF1ZXN0aW9uQW5kQW5zd2VyIiAmJiAkdGhyZWFkLlRocmVhZFN0YXR1cyA9PSAiQW5zd2VyZWROb3RWZXJpZmllZCIpDQogICAgICAgICAgICAgICAgPC9kaXY+PGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIgc3VnZ2VzdGVkLWFuc3dlcmVkIj48L2Rpdj4NCiAgICAgICAgICAgICNlbHNlaWYgKCR0aHJlYWQuVGhyZWFkVHlwZSA9PSAiRGlzY3Vzc2lvbiIpDQogICAgICAgICAgICAgICAgPC9kaXY+PGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1mb290ZXIgZGlzY3Vzc2lvbiI+PC9kaXY+DQogICAgICAgICAgICAjZWxzZQ0KICAgICAgICAgICAgICAgIDwvZGl2PjxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtZm9vdGVyIj48L2Rpdj48ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0Ij4NCiAgICAgICAgICAgICNlbmQNCiAgICAgICAgPC90ZD4NCiAgICAgICAgPHRkIGNsYXNzPSJ0YWJsZS1jb2x1bW4gdG90YWwtcmVwbGllcyI+DQoJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR0aHJlYWQuVXJsKSNjb21tZW50cyI+DQoJCQkJPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSByZXBseS1jb3VudCI+DQoJCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPjwvc3Bhbj4kdGhyZWFkLlJlcGx5Q291bnQNCgkJCQk8L3NwYW4+DQoJCQk8L2E+DQogICAgICAgIDwvdGQ+DQogICAgPC90cj4NCiAgICAjZW5kDQojYWZ0ZXJhbGwNCiAgICA8L3Rib2R5Pg0KPC90YWJsZT4NCjxkaXYgY2xhc3M9InRhYmxlLWxpc3QtZm9vdGVyIj48L2Rpdj4NCiNub2RhdGENCiAgICA8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoIlZpZXdUaHJlYWRzX05vVG9waWNzIik8L2Rpdj4NCiNlbmQNCg0KJGNvcmVfdjJfdWkuUGFnZXIoJHRocmVhZHMuUGFnZUluZGV4LCAkdGhyZWFkcy5QYWdlU2l6ZSwgJHRocmVhZHMuVG90YWxDb3VudCk=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_Title_Name}" version="7.5.0.32466" description="${resource:Core_Title_Description}" instanceIdentifier="af9000b6cc8c4f658c2046ffdc09c5db" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="title">
		<contentScript>
#set($page = $core_v2_urls.Current)
#if ($page == 'Home')
	#set($title = $core_v2_language.GetResource('Home'))
#elseif ($page == 'LogIn')
	#set($title = $core_v2_language.GetResource('Login_Title'))
#elseif ($page == 'LogOut')
	#set($title = $core_v2_language.GetResource('Logout_Title'))
#elseif ($page == 'NotFound')
	#set($title = $core_v2_language.GetResource('Error_NotFound_Title'))
#elseif ($page == 'Message')
	#set($title = $core_v2_message.Current.Name)
#elseif ($page == 'User')
	#set($title = "$core_v2_user.Current.DisplayName$core_v2_language.GetResource('UserProfile_UserProfile_Title')")
#elseif ($page == 'Banned')
	#set($title = $core_v2_language.GetResource('UserBanned_Title'))
#elseif ($page == 'Conversation')
	#set($title = $core_v2_conversation.Current.FirstMessage.Subject)
#elseif ($page == 'Conversations')
	#set($title = $core_v2_language.GetResource('ViewUserProfile_AllConversations'))
#elseif ($page == 'AddUser')
	#set($title = $core_v2_language.GetResource('register'))
#elseif ($page == 'ApiKeys')
	#set($title = $core_v2_language.GetResource('ApiKeys_AuthorizedApplications'))
#elseif ($page == 'Tags')
	#set($title = $core_v2_language.GetResource('UserProfile_BrowseByTags_Title'))
#elseif ($page == 'Search')
	#set($title = $core_v2_language.GetResource('UserProfile_Search_Title'))
#elseif ($page == 'ChangePassword')
	#set($title = $core_v2_language.GetResource('EditProfile_PasswordChange'))
#elseif ($page == 'ForgotPassword')
	#set($title = $core_v2_language.GetResource('UserProfile_ForgottenPassword_Title'))
#elseif ($page == 'Invite')
	#set($title = $core_v2_language.GetResource('UserProfile_InviteUsers_Title'))
#elseif ($page == 'Settings')
	#set($title = $core_v2_language.GetResource('UserProfile_Settings_Title'))
#elseif ($page == 'AcceptInvitation')
	#set($title = $core_v2_language.GetResource('UserProfile_AcceptInvitation_Title'))
#elseif ($page == 'AbuseAppeal')
	#set($title = $core_v2_language.GetResource('Common_AbuseAppeal_Title'))
#elseif ($page == 'AppealQueue')
	#set($title = $core_v2_language.GetResource('Common_AppealQueue_Title'))
#elseif ($page == 'Activities')
	#set($title = "$core_v2_user.Current.DisplayName$core_v2_language.GetResource('UserProfile_ActivityList_Title')")
#elseif ($page == 'Friends')
	#set($title = "$core_v2_user.Current.DisplayName$core_v2_language.GetResource('UserProfile_FriendshipList_Title')")
#elseif ($page == 'Favorites')
	#set($title = "$core_v2_user.Current.DisplayName$core_v2_language.GetResource('UserProfile_FavorableContentList_Title')")
#elseif ($page == 'UserLikes')
	#set($title = "$core_v2_user.Current.DisplayName$core_v2_language.GetResource('UserProfile_Likes_Title')")
#elseif ($page == 'UserMentions')
	#set($title = "$core_v2_user.Current.DisplayName$core_v2_language.GetResource('UserProfile_Mentions_Title')")
#elseif ($core_v2_groupUrls.Current == 'UserGroups')
	#set($title = "$core_v2_user.Current.DisplayName$core_v2_language.GetResource('UserProfile_GroupList_Title')")
#elseif ($page == 'UserFiles')
	#if ($core_v2_userFolder.Current)
		#set($title = "$core_v2_userFolder.Current.Name - $core_v2_language.GetResource('files') - $core_v2_user.Current.DisplayName")
	#else
		#set($title = "$core_v2_language.GetResource('files') - $core_v2_user.Current.DisplayName")
	#end
#elseif ($page == 'UserFile')
	#set($title = "$core_v2_userFile.Current.Name - $core_v2_language.GetResource('files') - $core_v2_user.Current.DisplayName")
#elseif ($page == 'UserFilesSlideshow')
	#set($title = "$core_v2_user.Current.DisplayName$core_v2_language.GetResource('UserProfile_UserFileList_Title') - $core_v2_language.GetResource('UserProfile_Slideshow_Title')")
#elseif ($core_v2_groupUrls.Current == 'AddGroup')
	#set($title = $core_v2_language.GetResource('Group_CreateGroup'))
#elseif ($page == 'Custom' || $page == 'UserCustom')
	#set($title = $core_v2_widget.ApplyTokens($core_v2_customPage.Current.Title))
#end
#if ($title)
	$core_v2_page.SetTitle($title, true, true)
	&lt;h1 class="title"&gt;$title&lt;/h1&gt;
#else
	$core_v2_page.SetTitle('', true, true)
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_Title_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_Title_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_Title_Name">Core - Title</resource><resource name="Core_Title_Description">Displays the page title, used for common site pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Home">Home</resource><resource name="Login_Title">Sign in</resource><resource name="Logout_Title">Sign out</resource><resource name="Error_NotFound_Title">Page Not Found</resource><resource name="UserProfile_UserProfile_Title">'s Profile</resource><resource name="UserBanned_Title">User Banned</resource><resource name="ViewUserProfile_AllConversations">All Messages</resource><resource name="register">Join</resource><resource name="ApiKeys_AuthorizedApplications">Authorized Applications</resource><resource name="UserProfile_BrowseByTags_Title">Browse By Tags</resource><resource name="UserProfile_Search_Title">Search</resource><resource name="EditProfile_PasswordChange">Change Password</resource><resource name="UserProfile_ForgottenPassword_Title">Forgotten Password</resource><resource name="UserProfile_InviteUsers_Title">Invite Users</resource><resource name="UserProfile_Settings_Title">Settings</resource><resource name="UserProfile_AcceptInvitation_Title">Accept Invitation</resource><resource name="UserProfile_ActivityList_Title">'s Activity</resource><resource name="UserProfile_FriendshipList_Title">'s ${friends_propercase}</resource><resource name="UserProfile_FavorableContentList_Title">'s Bookmarks</resource><resource name="UserProfile_Likes_Title">'s Likes</resource><resource name="UserProfile_Mentions_Title">'s Mentions</resource><resource name="UserProfile_GroupList_Title">'s Groups</resource><resource name="files">Files</resource><resource name="UserProfile_UserFileList_Title">'s Files</resource><resource name="UserProfile_Slideshow_Title">Slideshow</resource><resource name="Group_CreateGroup">Create Group</resource><resource name="Core_Title_Title_Title">Title</resource><resource name="Common_AbuseAppeal_Title">Abuse Appeal</resource><resource name="Common_AppealQueue_Title">Appeal Queue</resource></language></languageResources>
		<requiredContext>
			<context id="bf16d7f34f0e492ab9853a9926675d8e" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Users_TopAuthorInGroups_Name}" version="7.5.0.32466" description="${resource:Users_TopAuthorInGroups_Description}" instanceIdentifier="2190216d3a1d47e08f8584035bef99b5" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="top-quality-author-groups">
		<contentScript>
#set ($queryType = $core_v2_widget.GetStringValue('queryType', 'currentUser'))
#set ($user = false)
#if ($queryType == 'currentUser')
    #set ($user = $core_v2_user.Current)
#elseif ($queryType == 'accessingUser')
    #set ($user = $core_v2_user.Accessing)
#end
#if (!$user)
    $core_v2_widget.Hide()
#end

$core_v2_ui.PagedContent('pagedContent.vm')
$core_v2_ui.Pager($groups.PageIndex, $groups.PageSize, $groups.TotalCount, "%{ PagedContentFile = 'pagedContent.vm' }")
            </contentScript>
		<headerScript>
#set($header=$core_v2_widget.GetStringValue('fragmentHeader', ''))
#if($header == '')
    #set ($queryType = $core_v2_widget.GetStringValue('queryType', 'currentUser'))
    #set ($user = false)
    #if ($queryType == 'currentUser')
        #set ($user = $core_v2_user.Current)
    #elseif ($queryType == 'accessingUser')
        #set ($user = $core_v2_user.Accessing)
    #end
    #if ($user)
        #set($header = $core_v2_language.FormatString($core_v2_language.GetResource('User_TopAuthorInGroups_Custom_Title'), $core_v2_user.Current.DisplayName))
    #end
#end
#if($header != '')
	$core_v2_widget.ApplyTokens($header)
#end
    </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
    &lt;property id="queryType" resourceName="CF_GroupList_QueryType" dataType="string" defaultValue="currentUser"&gt;
        &lt;propertyValue value="currentUser" resourceName="CF_GroupList_QueryType_CurrentUser" /&gt;
        &lt;propertyValue value="accessingUser" resourceName="CF_GroupList_QueryType_AccessingUser" /&gt;
    &lt;/property&gt;
    &lt;property id="viewType" resourceName="Groups_GroupList_ViewType" dataType="string" defaultValue="simple"&gt;
        &lt;propertyValue value="standard" resourceName="Groups_GroupList_StandardView" /&gt;
        &lt;propertyValue value="simpleExtended" resourceName="Groups_GroupList_SimpleExtendedView" /&gt;
        &lt;propertyValue value="simple" resourceName="Groups_GroupList_SimpleView" /&gt;
    &lt;/property&gt;
    &lt;property id="pageSize" resourceName="Pagesize" dataType="int" defaultValue="10"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
    &lt;/property&gt;
    &lt;property id="threshold" resourceName="Threshold" dataType="int" defaultValue="10"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
    &lt;/property&gt;
&lt;/propertyGroup&gt;
        </configuration>
		<languageResources><language key="en-us"><resource name="Users_TopAuthorInGroups_Name">Users - Top Quality Author Groups</resource><resource name="Users_TopAuthorInGroups_Description">Displays a list of groups in which the user is a top quality author</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_GroupList_QueryType">Show</resource><resource name="CF_GroupList_QueryType_CurrentUser">Current contextual user's groups where user is a top author</resource><resource name="CF_GroupList_QueryType_AccessingUser">Accessing user's groups where user is a top author</resource><resource name="Groups_GroupList_ViewType">View Type</resource><resource name="Groups_GroupList_StandardView">Detailed List</resource><resource name="Groups_GroupList_SimpleExtendedView">Simple Extended List</resource><resource name="Groups_GroupList_SimpleView">Simple List</resource><resource name="Pagesize">Number of items to display</resource><resource name="Threshold">Threshold</resource><resource name="on">on</resource><resource name="Groups_PublicGroup">Public&lt;br/&gt;Group</resource><resource name="Groups_PrivateGroup">Private&lt;br/&gt;Group</resource><resource name="Groups_GroupList_NoGroups">No groups</resource><resource name="User_TopAuthorInGroups_Custom_Title">Groups in which {0} is a top author</resource></language></languageResources>
		<files>
			<file name="pagedContent.vm">I3NldCgkcXVlcnlUeXBlID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCdxdWVyeVR5cGUnLCcnKSkKI3NldCgkcGFnZVNpemUgPSAkY29yZV92Ml93aWRnZXQuR2V0SW50VmFsdWUoJ3BhZ2VTaXplJywxMCkpCiNzZXQoJHZpZXdUeXBlID0gJGNvcmVfdjJfd2lkZ2V0LkdldFN0cmluZ1ZhbHVlKCd2aWV3VHlwZScsJ3N0YW5kYXJkJykpCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3VpLkdldEN1cnJlbnRQYWdlSW5kZXgoKSkKI3NldCgkdGhyZXNob2xkID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCd0aHJlc2hvbGQnLDEwKSkKCiNzZXQgKCR1c2VyID0gZmFsc2UpCiNpZiAoJHF1ZXJ5VHlwZSA9PSAnY3VycmVudFVzZXInKQogICAgI3NldCAoJHVzZXIgPSAkY29yZV92Ml91c2VyLkN1cnJlbnQpCiNlbHNlaWYgKCRxdWVyeVR5cGUgPT0gJ2FjY2Vzc2luZ1VzZXInKQogICAgI3NldCAoJHVzZXIgPSAkY29yZV92Ml91c2VyLkFjY2Vzc2luZykKI2VuZAoKI3NldCAoJGdyb3VwcyA9ICRjb3JlX3YyX2dyb3VwQXV0aG9yUXVhbGl0eVNjb3JlLkxpc3RXaGVyZUluVG9wVGhyZXNob2xkKCR1c2VyLklkLCAiJXsgUGFnZVNpemUgPSAkcGFnZVNpemUsIFBhZ2VJbmRleCA9ICRwYWdlSW5kZXgsIFRocmVzaG9sZCA9ICR0aHJlc2hvbGQgfSIpKQoKI2lmKCR2aWV3VHlwZT09J3N0YW5kYXJkJykKCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc3RhbmRhcmQudm0nKQojZWxzZWlmKCR2aWV3VHlwZT09J3NpbXBsZUV4dGVuZGVkJykKCSRjb3JlX3YyX3dpZGdldC5FeGVjdXRlRmlsZSgnc2ltcGxlRXh0ZW5kZWQudm0nKQojZWxzZQoJJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdzaW1wbGUudm0nKQojZW5kCg==</file>
			<file name="simple.vm">I2ZvcmVhY2goJGdyb3VwIGluICRncm91cHMpDQojYmVmb3JlYWxsDQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2VhY2gNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSBzaW1wbGUiPg0KCQk8c3BhbiBjbGFzcz0iZ3JvdXAtYXZhdGFyIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRncm91cC5VcmwpIj4kY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRncm91cC5BdmF0YXJVcmwsIDMwLCAzMCwgIiV7YWx0PSRncm91cC5OYW1lLGJvcmRlcj0nMCd9Iik8L2E+PC9zcGFuPg0KCQk8c3BhbiBjbGFzcz0iZ3JvdXAtbmFtZSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZ3JvdXAuVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy1ncm91cCI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRncm91cC5OYW1lLCAyNSwgJy4uLicpPC9hPjwvc3Bhbj4NCgk8L2xpPg0KI2FmdGVyYWxsDQoJPC91bD4NCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4NCiNub2RhdGENCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19Hcm91cExpc3RfTm9Hcm91cHMnKTwvZGl2Pg0KI2VuZA==</file>
			<file name="simpleExtended.vm">I2ZvcmVhY2goJGdyb3VwIGluICRncm91cHMpDQojYmVmb3JlYWxsDQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2VhY2gNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSBzaW1wbGUtZXh0ZW5kZWQiPg0KCQk8c3BhbiBjbGFzcz0iZ3JvdXAtbmFtZSI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZ3JvdXAuVXJsKSI+JGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJGdyb3VwLk5hbWUsIDI1LCAnLi4uJyk8L2E+PC9zcGFuPg0KCQkjaWYoJGNvcmVfdjJfd2lkZ2V0LkdldEJvb2xWYWx1ZSgnc2hvd0FjdGl2aXR5Jyx0cnVlKSkNCgkJCSNmb3JlYWNoKCRhY3Rpdml0eSBpbiAkY29yZV92Ml9hY3Rpdml0eU1lc3NhZ2UuTGlzdCgiJXtHcm91cElkPSRncm91cC5JZCxQYWdlU2l6ZT0xLEluY2x1ZGVTdGF0dXM9J3RydWUnfSIpKQ0KCQkJI2VhY2gNCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtaGVhZGVyICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5LlR5cGUpIj48L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QgJGNvcmVfdjJfdWkuTWFrZUNzc0NsYXNzTmFtZSgkYWN0aXZpdHkuVHlwZSkiPg0KCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvciI+DQoJCQkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj48YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRncm91cC5VcmwpIj4kY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRhY3Rpdml0eS5BdXRob3IuQXZhdGFyVXJsLDMyLDMyLCIle2FsdD0kYWN0aXZpdHkuQXV0aG9yLkRpc3BsYXlOYW1lfSIpPC9hPjwvc3Bhbj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPg0KCQkJCQkJCSNpZiAoJGFjdGl2aXR5LkF1dGhvci5Qcm9maWxlVXJsKQ0KCQkJCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRhY3Rpdml0eS5BdXRob3IuUHJvZmlsZVVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIj4kYWN0aXZpdHkuQXV0aG9yLkRpc3BsYXlOYW1lPC9hPg0KCQkJCQkJCSNlbHNlDQoJCQkJCQkJCSRhY3Rpdml0eS5BdXRob3IuRGlzcGxheU5hbWUNCgkJCQkJCQkjZW5kDQoJCQkJCQk8L3NwYW4+DQoJCQkJCTwvZGl2Pg0KCQkJCQk8ZGl2IGNsYXNzPSJwb3N0LWNvbnRlbnQgdXNlci1kZWZpbmVkLW1hcmt1cCI+PHNwYW4gY2xhc3M9ImZpamktcG9zdC1jb250ZW50LWljb24gZXZvbHV0aW9uMi1wb3N0LWNvbnRlbnQtaWNvbiBwb3N0LWNvbnRlbnQtaWNvbiAkY29yZV92Ml91aS5NYWtlQ3NzQ2xhc3NOYW1lKCRhY3Rpdml0eS5UeXBlKSI+PC9zcGFuPiRhY3Rpdml0eS5Cb2R5PC9kaXY+DQoJCQkJCTxzcGFuIGNsYXNzPSJwb3N0LWRhdGUiPg0KCQkJCQkJPHNwYW4gY2xhc3M9ImxhYmVsIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnb24nKTwvc3Bhbj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJ2YWx1ZSI+JGFjdGl2aXR5LkNyZWF0ZWREYXRlPC9zcGFuPg0KCQkJCQk8L3NwYW4+DQoJCQkJPC9kaXY+DQoJCQkJPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciAkY29yZV92Ml91aS5NYWtlQ3NzQ2xhc3NOYW1lKCRhY3Rpdml0eS5UeXBlKSI+PC9kaXY+DQoJCQkjZW5kDQoJCSNlbmQNCgk8L2xpPg0KI2FmdGVyYWxsDQoJPC91bD4NCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIj48L2Rpdj4NCiNub2RhdGENCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIG5vcmVjb3JkcyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0dyb3Vwc19Hcm91cExpc3RfTm9Hcm91cHMnKTwvZGl2Pg0KI2VuZA==</file>
			<file name="standard.vm">I2ZvcmVhY2goJGdyb3VwIGluICRncm91cHMpDQojYmVmb3JlYWxsDQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWhlYWRlciI+PC9kaXY+DQoJPHVsIGNsYXNzPSJjb250ZW50LWxpc3QiPg0KI2VhY2gNCgk8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSBzdGFuZGFyZCI+DQoJCTxzcGFuIGNsYXNzPSJncm91cC1hdmF0YXIiPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGdyb3VwLkF2YXRhclVybCwgNzUsIDc1LCAiJXthbHQ9JGdyb3VwLk5hbWUsYm9yZGVyPScwJ30iKTwvc3Bhbj4NCgkJPHNwYW4gY2xhc3M9Imdyb3VwLW5hbWUiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGdyb3VwLlVybCkiPiRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRncm91cC5OYW1lLCAyNSwgJy4uLicpPC9hPjwvc3Bhbj4NCgkJPHNwYW4gY2xhc3M9Imdyb3VwLWRlc2NyaXB0aW9uIj4kIWdyb3VwLkRlc2NyaXB0aW9uPC9zcGFuPg0KCQkjaWYoJGdyb3VwLkdyb3VwVHlwZSA9PSAnUHVibGljT3BlbicgfHwgJGdyb3VwLkdyb3VwVHlwZSA9PSAnUHVibGljQ2xvc2VkJyB8fCAkZ3JvdXAuR3JvdXBUeXBlID09ICdKb2lubGVzcycpDQoJCQk8c3BhbiBjbGFzcz0iZ3JvdXAtdHlwZSAkY29yZV92Ml9sYW5ndWFnZS5Mb3dlcmNhc2UoJGdyb3VwLkdyb3VwVHlwZSkiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX1B1YmxpY0dyb3VwJyk8L3NwYW4+DQoJCSNlbHNlDQoJCQk8c3BhbiBjbGFzcz0iZ3JvdXAtdHlwZSAkY29yZV92Ml9sYW5ndWFnZS5Mb3dlcmNhc2UoJGdyb3VwLkdyb3VwVHlwZSkiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX1ByaXZhdGVHcm91cCcpPC9zcGFuPg0KCQkjZW5kDQoJCSNpZigkY29yZV92Ml93aWRnZXQuR2V0Qm9vbFZhbHVlKCdzaG93QWN0aXZpdHknLHRydWUpKQ0KCQkJI2ZvcmVhY2goJGFjdGl2aXR5IGluICRjb3JlX3YyX2FjdGl2aXR5TWVzc2FnZS5MaXN0KCIle0dyb3VwSWQ9JGdyb3VwLklkLFBhZ2VTaXplPTEsSW5jbHVkZVN0YXR1cz0ndHJ1ZSd9IikpDQoJCQkjZWFjaA0KCQkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1oZWFkZXIgJGNvcmVfdjJfdWkuTWFrZUNzc0NsYXNzTmFtZSgkYWN0aXZpdHkuVHlwZSkiPjwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdCAkY29yZV92Ml91aS5NYWtlQ3NzQ2xhc3NOYW1lKCRhY3Rpdml0eS5UeXBlKSI+DQoJCQkJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4NCgkJCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGdyb3VwLlVybCkiPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJGFjdGl2aXR5LkF1dGhvci5BdmF0YXJVcmwsMzIsMzIsIiV7YWx0PSRhY3Rpdml0eS5BdXRob3IuRGlzcGxheU5hbWV9Iik8L2E+PC9zcGFuPg0KCQkJCQkJPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+DQoJCQkJCQkJI2lmICgkYWN0aXZpdHkuQXV0aG9yLlByb2ZpbGVVcmwpDQoJCQkJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFjdGl2aXR5LkF1dGhvci5Qcm9maWxlVXJsKSIgY2xhc3M9ImludGVybmFsLWxpbmsgdmlldy11c2VyLXByb2ZpbGUiPiRhY3Rpdml0eS5BdXRob3IuRGlzcGxheU5hbWU8L2E+DQoJCQkJCQkJI2Vsc2UNCgkJCQkJCQkJJGFjdGl2aXR5LkF1dGhvci5EaXNwbGF5TmFtZQ0KCQkJCQkJCSNlbmQNCgkJCQkJCTwvc3Bhbj4NCgkJCQkJPC9kaXY+DQoJCQkJCTxkaXYgY2xhc3M9InBvc3QtY29udGVudCB1c2VyLWRlZmluZWQtbWFya3VwIj48c3BhbiBjbGFzcz0iZmlqaS1wb3N0LWNvbnRlbnQtaWNvbiBldm9sdXRpb24yLXBvc3QtY29udGVudC1pY29uIHBvc3QtY29udGVudC1pY29uICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5LlR5cGUpIj48L3NwYW4+JGFjdGl2aXR5LkJvZHk8L2Rpdj4NCgkJCQkJPHNwYW4gY2xhc3M9InBvc3QtZGF0ZSI+DQoJCQkJCQk8c3BhbiBjbGFzcz0ibGFiZWwiPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdvbicpPC9zcGFuPg0KCQkJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kYWN0aXZpdHkuQ3JlYXRlZERhdGU8L3NwYW4+DQoJCQkJCTwvc3Bhbj4NCgkJCQk8L2Rpdj4NCgkJCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QtZm9vdGVyICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5LlR5cGUpIj48L2Rpdj4NCgkJCSNlbmQNCgkJI2VuZA0KCTwvbGk+DQojYWZ0ZXJhbGwNCgk8L3VsPg0KCTxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIiPjwvZGl2Pg0KI25vZGF0YQ0KCTxkaXYgY2xhc3M9Im1lc3NhZ2Ugbm9yZWNvcmRzIj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnR3JvdXBzX0dyb3VwTGlzdF9Ob0dyb3VwcycpPC9kaXY+DQojZW5k</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Widget_Title}" version="7.5.0.32466" description="${resource:Widget_Description}" instanceIdentifier="8a453d2764bd4325afc68600abc6be04" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="track-term-search">
		<contentScript>
#set($enableAjax = $core_v2_widget.GetBoolValue('EnableAjax', true))
#if ($enableAjax)
	&lt;div id="$core_v2_widget.UniqueId('wrapper')" style="display:none;"&gt;&lt;/div&gt;
	#registerEndOfPageHtml('telligent.evolution.widgets.trackTermSearch')
		&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
	#end
	#registerEndOfPageHtml()
		&lt;script type="text/javascript"&gt;
			jQuery(function(){
				jQuery.telligent.evolution.widgets.trackTermSearch.register({
					wrapper:jQuery('#$core_v2_widget.UniqueId('wrapper')'),
					loadUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('load.vm'))',
					baseUrl: '$core_v2_page.Url',
					pageIndexQueryKey: '$core_v2_ui.PageIndexQueryStringKey',
					noSearchItemsHtml: '$core_v2_language.GetResource('Html_NoSearchItems')'
				});
			});
		&lt;/script&gt;
	#end
#else
	#set($searchTerm = $core_v2_widget.GetStringValue('SearchTerm', 'Sample'))
	#set($sort = $core_v2_widget.GetStringValue('SortBy', 'date desc'))
	#set($pageSize = $core_v2_widget.GetIntValue('NumResults', 5))
	#set($pageIndex = $core_v2_ui.GetCurrentPageIndex())

	#set($searchResults = $core_v2_searchResult.List("%{PageIndex = $pageIndex, PageSize = $pageSize, Query = $searchTerm, Sort = $sort}"))
	#if ($searchResults.Errors.Count &gt; 0)
		#foreach ($error in $searchResults.Errors)
			$error
			$core_v2_widget.Hide()
		#end
	#end

	$core_v2_widget.ExecuteFile('list.vm')

	#if($searchResults &amp;&amp; $searchResults.TotalCount &gt; 0)
		$core_v2_ui.Pager($searchResults.PageIndex, $searchResults.PageSize, $searchResults.TotalCount)
	#end
#end
</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('Title', '${resource:Widget_Title}'))
</headerScript>
		<configuration>
&lt;propertyGroup id="group1" resourceName="Property_Options"&gt;
	&lt;property id="Title" resourceName="Property_Title" dataType="String" defaultValue="${resource:Widget_Title}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="SearchTerm" resourceName="Property_SearchTerm" dataType="String" defaultValue="Sample" /&gt;
	&lt;property id="SortBy" resourceName="Property_SortBy" dataType="String" defaultValue="date desc"&gt;
		&lt;propertyValue resourceName="Property_SortBy_DateDesc" value="date desc" /&gt;
		&lt;propertyValue resourceName="Property_SortBy_DateAsc" value="date asc" /&gt;
		&lt;propertyValue resourceName="Property_SortBy_TitleDesc" value="titlesort desc" /&gt;
		&lt;propertyValue resourceName="Property_SortBy_TitleAsc" value="titlesort asc" /&gt;
	&lt;/property&gt;
	&lt;property id="NumResults" resourceName="Property_NumResults" dataType="Int" defaultValue="5"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="EnableAjax" resourceName="Property_EnableAjax" dataType="Bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
</configuration>
		<languageResources><language key="en-us"><resource name="Widget_Title">Search Terms</resource><resource name="Widget_Description">This widget allows you to track the search results for a specific term.</resource><resource name="Property_Title">Widget title</resource><resource name="Property_SearchTerm">Search term</resource><resource name="Property_SortBy">Sort by</resource><resource name="Property_NumResults">Number of results to display</resource><resource name="Property_EnableAjax">Load results asynchronously</resource><resource name="Property_Options">Options</resource><resource name="Text_CustomSearchResultsFor">Custom search results for &amp;quot;{0}&amp;quot;</resource><resource name="Text_By">By</resource><resource name="Property_SortBy_DateDesc">Date (descending)</resource><resource name="Property_SortBy_DateAsc">Date (ascending)</resource><resource name="Property_SortBy_TitleAsc">Title (ascending)</resource><resource name="Property_SortBy_TitleDesc">Title (descending)</resource><resource name="Html_NoSearchItems">&lt;div class="message norecords"&gt;No search items found for the provided terms&lt;/div&gt;</resource></language></languageResources>
		<files>
			<file name="list.vm">I2ZvcmVhY2goJHNlYXJjaFJlc3VsdCBpbiAkc2VhcmNoUmVzdWx0cykNCiNiZWZvcmVhbGwNCgk8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIHNpbXBsZS1leHBhbmRlZCI+PC9kaXY+DQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LW5hbWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVGV4dF9DdXN0b21TZWFyY2hSZXN1bHRzRm9yJyksICRjb3JlX3YyX2VuY29kaW5nLkh0bWxFbmNvZGUoJHNlYXJjaFRlcm0pKTwvZGl2Pg0KCTx1bCBjbGFzcz0iY29udGVudC1saXN0IHNpbXBsZS1leHBhbmRlZCI+DQojZWFjaA0KCTxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4NCgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPjwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0Ij4NCgkJCTxoNCBjbGFzcz0icG9zdC1uYW1lIj4NCgkJCQk8YSBjbGFzcz0iaW50ZXJuYWwtbGluayB2aWV3LXBvc3QiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHNlYXJjaFJlc3VsdC5VcmwpIj4kc2VhcmNoUmVzdWx0LlRpdGxlPC9hPg0KCQkJPC9oND4NCgkJCTxkaXYgY2xhc3M9InBvc3QtYXV0aG9yIj4NCgkJCQkjaWYgKCRzZWFyY2hSZXN1bHQuQ29udGVudFR5cGUgPT0gJ2ZvcnVtYXBwJyB8fCAkc2VhcmNoUmVzdWx0LkNvbnRlbnRUeXBlID09ICdibG9nYXBwJyB8fCAkc2VhcmNoUmVzdWx0LkNvbnRlbnRUeXBlID09ICd3aWtpYXBwJyB8fCAkc2VhcmNoUmVzdWx0LkNvbnRlbnRUeXBlID09ICdmaWxlYXBwJyB8fCAkc2VhcmNoUmVzdWx0ID09ICdwYWdlJykNCgkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkc2VhcmNoUmVzdWx0LlVybCkiPjxzcGFuIGNsYXNzPSJhdmF0YXIgJGNvcmVfdjJfbGFuZ3VhZ2UuTG93ZXJjYXNlKCRzZWFyY2hSZXN1bHQuQ29udGVudFR5cGUpIj48L3NwYW4+PC9hPg0KCQkJCSNlbHNlaWYgKCRzZWFyY2hSZXN1bHQuQ29udGVudFR5cGUgPT0gJ2dyb3VwJykNCgkJCQkJPHNwYW4gY2xhc3M9ImF2YXRhciI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkc2VhcmNoUmVzdWx0LlVybCkiPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHNlYXJjaFJlc3VsdC5Hcm91cC5BdmF0YXJVcmwsIDM0LCAzNCwgIiV7Ym9yZGVyID0gMH0iKTwvYT48L3NwYW4+DQoJCQkJI2Vsc2VpZiAoJHNlYXJjaFJlc3VsdC5Vc2Vycy5Db3VudCA9PSAxKQ0KCQkJCQkjZm9yZWFjaCgkdXNlciBpbiAkc2VhcmNoUmVzdWx0LlVzZXJzKQ0KCQkJCQkJI2lmICgkdXNlci5Qcm9maWxlVXJsKQ0KCQkJCQkJCTxzcGFuIGNsYXNzPSJhdmF0YXIiPjxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXIuUHJvZmlsZVVybCkiPiRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCAzNCwgMzQsICIle2JvcmRlciA9IDB9Iik8L2E+PC9zcGFuPg0KCQkJCQkJI2Vsc2UNCgkJCQkJCQk8c3BhbiBjbGFzcz0iYXZhdGFyIj48aW1nIHNyYz0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXNlci5BdmF0YXJVcmwpIiAvPjwvc3Bhbj4NCgkJCQkJCSNlbmQNCgkJCQkJI2VuZA0KCQkJCSNlbmQNCgkJCQkjaWYgKCRzZWFyY2hSZXN1bHQuVXNlcnMuQ291bnQgPT0gMSkNCgkJCQkJI2ZvcmVhY2goJHVzZXIgaW4gJHNlYXJjaFJlc3VsdC5Vc2VycykNCgkJCQkJCSNpZiAoJHVzZXIuUHJvZmlsZVVybCkNCgkJCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnVGV4dF9CeScpIDxzcGFuIGNsYXNzPSJ1c2VyLW5hbWUiPjxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctdXNlci1wcm9maWxlIiBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCR1c2VyLlByb2ZpbGVVcmwpIj4kdXNlci5EaXNwbGF5TmFtZTwvYT48L3NwYW4+DQoJCQkJCQkjZWxzZQ0KCQkJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdUZXh0X0J5JykgPHNwYW4gY2xhc3M9InVzZXItbmFtZSI+JHVzZXIuRGlzcGxheU5hbWU8L3NwYW4+DQoJCQkJCQkjZW5kDQoJCQkJCSNlbmQNCgkJCQkjZW5kDQoJCQk8L2Rpdj4NCgkJCTxkaXYgY2xhc3M9InBvc3QtZGF0ZSI+DQoJCQkJPHNwYW4gY2xhc3M9InZhbHVlIj4kIWNvcmVfdjJfbGFuZ3VhZ2UuRm9ybWF0RGF0ZSgkc2VhcmNoUmVzdWx0LkRhdGUpPC9zcGFuPg0KCQkJPC9kaXY+DQoJCTwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciI+PC9kaXY+DQoJPC9saT4NCiNhZnRlcmFsbA0KCTwvdWw+DQoJPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciBzaW1wbGUtZXhwYW5kZWQiPjwvZGl2Pg0KI2VuZA==</file>
			<file name="load.vm">I3NldCgkc2VhcmNoVGVybSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgnU2VhcmNoVGVybScsICdTYW1wbGUnKSkNCiNzZXQoJHNvcnQgPSAkY29yZV92Ml93aWRnZXQuR2V0U3RyaW5nVmFsdWUoJ1NvcnRCeScsICdkYXRlIGRlc2MnKSkNCiNzZXQoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdOdW1SZXN1bHRzJywgNSkpDQojc2V0KCRiYXNlVXJsID0gJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdCYXNlVXJsJykpDQojc2V0KCRwYWdlSW5kZXggPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ1BhZ2VJbmRleCcpKQ0KI2lmICghJHBhZ2VJbmRleCkNCgkjc2V0KCRwYWdlSW5kZXggPSAkY29yZV92Ml91aS5HZXRDdXJyZW50UGFnZUluZGV4KCkpDQojZW5kDQoNCiNzZXQoJHNlYXJjaFJlc3VsdHMgPSAkY29yZV92Ml9zZWFyY2hSZXN1bHQuTGlzdCgiJXtQYWdlSW5kZXggPSAkcGFnZUluZGV4LCBQYWdlU2l6ZSA9ICRwYWdlU2l6ZSwgUXVlcnkgPSAkc2VhcmNoVGVybSwgU29ydCA9ICRzb3J0fSIpKQ0KI2lmICgkc2VhcmNoUmVzdWx0cy5FcnJvcnMuQ291bnQgPiAwKQ0KCSNmb3JlYWNoICgkZXJyb3IgaW4gJHNlYXJjaFJlc3VsdHMuRXJyb3JzKQ0KCQkkZXJyb3INCgkJJGNvcmVfdjJfd2lkZ2V0LkhpZGUoKQ0KCSNlbmQNCiNlbmQNCg0KJGNvcmVfdjJfd2lkZ2V0LkV4ZWN1dGVGaWxlKCdsaXN0LnZtJykNCg0KI2lmKCRzZWFyY2hSZXN1bHRzICYmICRzZWFyY2hSZXN1bHRzLlRvdGFsQ291bnQgPiAwKQ0KCSRjb3JlX3YyX3VpLlBhZ2VyKCRzZWFyY2hSZXN1bHRzLlBhZ2VJbmRleCwgJHNlYXJjaFJlc3VsdHMuUGFnZVNpemUsICRzZWFyY2hSZXN1bHRzLlRvdGFsQ291bnQsICIle0Jhc2VVcmwgPSAnJHtiYXNlVXJsfSd9IikNCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJCSQudGVsbGlnZW50ID0ge307DQoNCglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307DQoNCgl2YXIgbG9hZCA9IGZ1bmN0aW9uIChjb250ZXh0LCBwYWdlSW5kZXgpIHsNCgkJdmFyIGRhdGEgPSB7IEJhc2VVcmw6IGNvbnRleHQuYmFzZVVybCB9Ow0KCQlpZiAocGFnZUluZGV4KQ0KCQkJZGF0YS5QYWdlSW5kZXggPSBwYWdlSW5kZXggLSAxOw0KCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCXVybDogY29udGV4dC5sb2FkVXJsLA0KCQkJZGF0YTogZGF0YSwNCgkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KCQkJew0KCQkJCWNvbnRleHQud3JhcHBlci5mYWRlT3V0KCdmYXN0JywgZnVuY3Rpb24oKSB7DQoJCQkJCSQodGhpcykuaHRtbCgkLnRyaW0ocmVzcG9uc2UpID09ICcnID8gY29udGV4dC5ub1NlYXJjaEl0ZW1zSHRtbCA6IHJlc3BvbnNlKS5mYWRlSW4oJ2Zhc3QnKTsNCgkJCQkJYXR0YWNoSGFuZGxlcnMoY29udGV4dCk7DQoJCQkJfSk7DQoJCQl9DQoJCX0pOw0KCX07DQoNCgl2YXIgYXR0YWNoSGFuZGxlcnMgPSBmdW5jdGlvbiAoY29udGV4dCkgew0KCQkkKCcucGFnZXIgYScsIGNvbnRleHQud3JhcHBlcikuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQl2YXIgbWF0Y2ggPSBSZWdFeHAoJ1s/Jl0nICsgY29udGV4dC5wYWdlSW5kZXhRdWVyeUtleSArICc9KFteJl0qKScpLmV4ZWModGhpcy5ocmVmKTsNCgkJCWlmIChtYXRjaCAmJiBtYXRjaFsxXSkgew0KCQkJCWxvYWQoY29udGV4dCwgcGFyc2VJbnQobWF0Y2hbMV0pKTsNCgkJCQlyZXR1cm4gZmFsc2U7DQoJCQl9DQoJCX0pOw0KCX07DQoJDQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMudHJhY2tUZXJtU2VhcmNoID0gDQoJew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgDQoJCXsNCgkJCWxvYWQoY29udGV4dCk7DQoJCX0NCgl9Ow0KfSkoalF1ZXJ5KTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:MediaGalleries_UploadEditMediaGalleryPost_Name}" version="7.5.0.32466" description="${resource:MediaGalleries_UploadEditMediaGalleryPost_Description}" instanceIdentifier="75edf77994c94b259ea6378148f9c14d" theme="" isCacheable="false" varyCacheByUser="false" showHeaderByDefault="true" cssClass="upload-edit-media-gallery-post">
		<contentScript>
#set($media = false)
#set($media = $core_v2_media.Current)
#set($gallery = false)
#set($gallery = $core_v2_gallery.Current)
#if($media)
    #if (!$core_v2_nodePermission.Get('mediagalleries',$gallery.Id,'MediaGallery_ModifyPost',"%{PostType='posts',PostId=$media.Id}").IsAllowed)
        $core_v2_widget.Hide()
    #end
#elseif(!$core_v2_nodePermission.Get('mediagalleries',$gallery.Id,'MediaGallery_CreatePost').IsAllowed)
    $core_v2_widget.Hide()
#end

#set($uploadUrl = false)
#set($uploadUrl = $core_v2_mediaUrls.UploadMedia($gallery.Id))
#if (!$uploadUrl)
    $core_v2_widget.Hide()
#end

#set($tags = '')
#if($gallery)
    #set ($allTags = $core_v2_utility.Slice($core_v2_tags.ToStrings($core_v2_gallery.ListTags("%{ GalleryId = $gallery.Id }")), 0, 100))
    #foreach($tag in $allTags)
    #each
        #set($tags = "$tags'$core_v2_encoding.JavascriptEncode($core_v2_encoding.HtmlDecode($tag))'")
    #between
        #set($tags = "$tags,")
    #end
#end

#set($tempData = false)
#if ($core_v2_page.GetQueryStringValue('tsid'))
    #set($tempDataString = false)
    #set($tempDataString = $core_v2_utility.GetTemporaryData($core_v2_page.GetQueryStringValue('tsid')))
    #if($tempDataString)
        #set($tempData = $core_v2_page.ParseQueryString($tempDataString))
    #end
#end
#if($media)
    #set($uploadUrl="${uploadUrl}&amp;MediaGalleryPostID=$media.Id")
#end
&lt;div class="message error" id="$core_v2_widget.UniqueId('ErrorMessageId')" style="display:none;"&gt;&lt;/div&gt;
&lt;div id="$core_v2_widget.UniqueId('EditorTabs')"&gt;
    &lt;div id="$core_v2_widget.UniqueId('ComposePane')"&gt;
        &lt;div class="field-list-header"&gt;&lt;/div&gt;
        &lt;fieldset class="field-list"&gt;
            &lt;ul class="field-list"&gt;
                &lt;li class="field-item post-attachment"&gt;
                    &lt;label class="field-item-header"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_FileOrUrl')&lt;/label&gt;
                    &lt;span class="field-item-input"&gt;
                        &lt;label id='$core_v2_widget.UniqueId('FileNameLabel')'&gt;#if ($media)$!media.File.FileName#elseif($tempData)$!tempData.Value('filename')#end&lt;/label&gt;
                        &lt;button id="$core_v2_widget.UniqueId('FileUploadButton')"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_FileOrUrl_Upload')&lt;/button&gt;
                    &lt;/span&gt;
                    &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
                &lt;/li&gt;

                &lt;li class="field-item post-name"&gt;
                    &lt;label for="$core_v2_widget.UniqueId('MediaPostName')" class="field-item-header"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Name')&lt;/label&gt;
                    &lt;span class="field-item-description"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Name_Detail')&lt;/span&gt;
                    &lt;span class="field-item-input"&gt;
                        &lt;textarea maxlength="256" rows="1" size="70" class="scaled" id="$core_v2_widget.UniqueId('MediaPostName')"&gt;#if($media)$!media.Title#elseif($tempData)$!tempData.Value('subject')#end&lt;/textarea&gt;
                    &lt;/span&gt;
                    &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
                &lt;/li&gt;

                &lt;li class="field-item post-body"&gt;
                    &lt;label for="$core_v2_widget.UniqueId('MediaGalleryPostDescription')" class="field-item-header"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Desc')&lt;/label&gt;
                    &lt;span class="field-item-description"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Desc_Detail')&lt;/span&gt;
                    &lt;span class="field-item-input"&gt;
                        #set($body = '')
                        #if($media)
                            #set($body = $media.Body('raw'))
                        #elseif ($tempData)
                            #set($body = $tempData.Value('body'))
                        #end
                        $core_v2_editor.Render("body", "%{Width='100%', Height='250px', Value=$!body, ContentTypeId=$core_v2_media.ContentTypeId}")
                    &lt;/span&gt;
                &lt;/li&gt;
                #if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
                    &lt;li class="field-item post-feature"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('SubscribeToPost')" class="field-item-header"&gt;$core_v2_language.GetResource('Post_SubscribeComments')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;
                            &lt;input type="checkbox" id="$core_v2_widget.UniqueId('SubscribeToPost')"#if(!$media || $core_v2_media.IsSubscribed($media.Id)) checked="checked"#end /&gt;
                        &lt;/span&gt;
                  &lt;/li&gt;
                #end
                #if($core_v2_nodePermission.Get('Site_FeatureContent').IsAllowed)
                    &lt;li class="field-item post-feature"&gt;
                        &lt;label for="$core_v2_widget.UniqueId('FeaturedPost')" class="field-item-header"&gt;$core_v2_language.GetResource('Post_MakeFeatured')&lt;/label&gt;
                        &lt;span class="field-item-input"&gt;&lt;input type="checkbox" id="$core_v2_widget.UniqueId('FeaturedPost')"#if($media.IsFeatured) checked="checked"#end /&gt;&lt;/span&gt;
                        &lt;span class="field-item-input featured-post-url" id="$core_v2_widget.UniqueId('FeaturedImage')"#if(!$media || !$media.IsFeatured) style="display:none;"#end&gt;
                            &lt;input type="text" id="$core_v2_widget.UniqueId('FeaturedImageUrl')" value="#if($media)$!core_v2_encoding.HtmlAttributeEncode($core_v2_page.AbsoluteUrl($media.FeaturedImage))#end" /&gt;
                        &lt;/span&gt;
                    &lt;/li&gt;
                #end
                &lt;li class="field-item post-tags"&gt;
                    &lt;label for="$core_v2_widget.UniqueId('TagBox')" class="field-item-header"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Categories')&lt;/label&gt;
                    &lt;span class="field-item-description"&gt;$core_v2_language.GetResource('MediaGalleryPostAdmin_Categories_Detail')&lt;/span&gt;
                    &lt;span class="field-item-input"&gt;&lt;input id="$core_v2_widget.UniqueId('TagBox')" type="text" value="$core_v2_utility.Join(', ', $media.Tags)" size="70" /&gt;&lt;/span&gt;
                    &lt;span class="field-item-input"&gt;&lt;input type="button" id="$core_v2_widget.UniqueId('SelectTagsId')" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('TagEditor_SelectTags'))" /&gt;&lt;/span&gt;
                &lt;/li&gt;
            &lt;/ul&gt;
        &lt;/fieldset&gt;
        &lt;div class="field-list-footer"&gt;&lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="$core_v2_widget.UniqueId('PreviewPane')"&gt;&lt;/div&gt;
&lt;/div&gt;

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list save-post-form"&gt;
    &lt;ul class="field-list"&gt;
        &lt;li class="field-item"&gt;
            &lt;span class="field-item-input"&gt;
                &lt;a href="#" class="internal-link save-post"&gt;
                    &lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Post')
                &lt;/a&gt;
                &lt;span class="processing" style="visibility: hidden;"&gt;&lt;/span&gt;
            &lt;/span&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;
#registerEndOfPageHtml('telligent.evolution.widgets.UploadEditMediaGalleryPost')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
    &lt;script type="text/javascript"&gt;
        jQuery(function(j){
            j.telligent.evolution.widgets.uploadEditMediaGalleryPost.register({
                wrapperId: '$core_v2_widget.WrapperElementId',
                mediaId: #if($media) $media.Id#else -1#end,
                galleryId: $gallery.Id,
                #if ($tempData &amp;&amp; $tempData.Value('filename'))
                    file: {
                        fileName: '$!core_v2_encoding.JavascriptEncode($!tempData.Value('filename'))',
                        url: '$!core_v2_encoding.JavascriptEncode($!tempData.Value('fileurl'))',
                        isRemote:#if($tempData.Value('fileurl')) true#else false#end,
                        contextId: '$!core_v2_encoding.JavascriptEncode($!tempData.Value('filecontextid'))'
                        },
                #end
                fileUploadId: '$core_v2_widget.UniqueId('FileUploadButton')',
                uploadFileUrl: '$core_v2_encoding.JavascriptEncode($uploadUrl)',
                fileNameId: '$core_v2_widget.UniqueId('FileNameLabel')',
                postNameId: '$core_v2_widget.UniqueId('MediaPostName')',
                featuredPostId: '$core_v2_widget.UniqueId('FeaturedPost')',
                featuredImageId: '$core_v2_widget.UniqueId('FeaturedImage')',
                featuredImageUrl: '$core_v2_widget.UniqueId('FeaturedImageUrl')',
                featuredImagePreview: '#if($media)$!core_v2_encoding.JavascriptEncode($core_v2_ui.GetViewHtml($core_v2_page.AbsoluteUrl($media.FeaturedImage)))#end',
                subscribeId: '$core_v2_widget.UniqueId('SubscribeToPost')',
                noFileSelectedResource: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('FeaturedContent_NoFileSelected'))',
                selectUploadResource: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('FeaturedContent_SelectUpload'))',
                removeResource: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Remove'))',
                tags: [#if($tags)$tags#end],
                tagBoxId: '$core_v2_widget.UniqueId('TagBox')',
                selectTagsId: '$core_v2_widget.UniqueId('SelectTagsId')',
                errorMessageId: '$core_v2_widget.UniqueId('ErrorMessageId')',
                noFileUploadedError: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_NoFileUploaded'))',
                storageQuotaExceededError: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_StorageQuotaExceeded'))',
                fileCountQuotaExceededError: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_FileCountQuotaExceeded'))',
                restrictedFileTypeError: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_RestrictedFileType'))',
                tabId: '$core_v2_widget.UniqueId('EditorTabs')',
                composeTabId: '$core_v2_widget.UniqueId('ComposePane')',
                composeTabText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_Tab_Compose'))',
                previewTabId: '$core_v2_widget.UniqueId('PreviewPane')',
                previewTabText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CreateEditPost_Tab_Preview'))',
                postNameMissing: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_MissingName'))',
                getBody: function() { return $core_v2_editor.GetContentScript('body'); },
                fileUploaded : #if(($media &amp;&amp; $media.Id &gt; 0) || ($tempData &amp;&amp; $tempData.Value('filename')))true#else false#end,
                saveUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('uploadedit.vm'))',
                previewUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('preview.vm'))',
                previewLoadingText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_PreviewLoading'))',
                previewErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_PreviewError'))',
                saveErrorText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGalleryPostAdmin_SaveError'))'
            });
        });
    &lt;/script&gt;
#end
        </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:MediaGalleries_UploadEditMediaGalleryPost_Name}'))
        </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:MediaGalleries_UploadEditMediaGalleryPost_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
        </configuration>
		<languageResources><language key="en-us"><resource name="MediaGalleries_UploadEditMediaGalleryPost_Name">Media Gallery - Upload/Edit File Form</resource><resource name="MediaGalleries_UploadEditMediaGalleryPost_Description">Form for uploading or editing a media gallery file.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="MediaGalleryPostAdmin_FileOrUrl">File/URL</resource><resource name="MediaGalleryPostAdmin_FileOrUrl_Upload">Specify File/URL</resource><resource name="MediaGalleryPostAdmin_Name">Name</resource><resource name="MediaGalleryPostAdmin_Name_Detail">Choose a concise, but descriptive, name</resource><resource name="MediaGalleryPostAdmin_Desc">Description</resource><resource name="MediaGalleryPostAdmin_Desc_Detail">A full description of the file</resource><resource name="Post_SubscribeComments">Email me comments to this post</resource><resource name="Post_MakeFeatured">Make post a featured item</resource><resource name="MediaGalleryPostAdmin_Categories">Tags</resource><resource name="MediaGalleryPostAdmin_Categories_Detail">Tags help keep your files organized and allow your viewers to find files relevant to them. Select existing tags or enter comma-separated tags into the text box below.</resource><resource name="TagEditor_SelectTags">Select Tags...</resource><resource name="Post">Post</resource><resource name="FeaturedContent_NoFileSelected">No File Selected</resource><resource name="FeaturedContent_SelectUpload">Select/Upload...</resource><resource name="Remove">Remove</resource><resource name="MediaGalleryPostAdmin_NoFileUploaded">Please select the file or URL you want to upload.</resource><resource name="MediaGalleryPostAdmin_StorageQuotaExceeded">The total size of files in this media gallery has exceeded the gallery's quota. The file cannot be saved.</resource><resource name="MediaGalleryPostAdmin_FileCountQuotaExceeded">The total number of files in this media gallery has exceeded the gallery's quota. The file cannot be saved.</resource><resource name="MediaGalleryPostAdmin_RestrictedFileType">The media gallery does not allow that file type.</resource><resource name="CreateEditPost_Tab_Compose">Compose</resource><resource name="CreateEditPost_Tab_Preview">Preview</resource><resource name="MediaGalleryPostAdmin_MissingName">* Please enter a name for this file</resource><resource name="MediaGalleryPostAdmin_PreviewLoading">Loading...</resource><resource name="MediaGalleryPostAdmin_PreviewError">An error occurred while loading the preview of this file.</resource><resource name="MediaGalleryPostAdmin_SaveError">An error occurred while saving this file.</resource><resource name="MediaGalleries_UploadEditMediaGalleryPost_Title_UploadEditFile">Upload/Edit File</resource><resource name="PostIsModerated">You have posted to a gallery that requires a moderator to approve posts before they are available.  You will now be taken to the list of existing files in this gallery.</resource></language></languageResources>
		<requiredContext>
			<context id="a51614fd19f7416ca89453788ac15794" />
		</requiredContext>
		<files>
			<file name="preview.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0KCRmaWxlTmFtZSA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVJc1JlbW90ZSA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVVcmwgPSBmYWxzZSkNCgkjc2V0KCRmaWxlQ29udGV4dElkID0gZmFsc2UpDQoJI3NldCgkbWVkaWFJZCA9IGZhbHNlKQ0KDQoJI3NldCgkdGl0bGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnVGl0bGUnKSkNCgkjc2V0KCRib2R5ID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0JvZHknKSkNCgkjc2V0KCRnYWxsZXJ5SWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdHYWxsZXJ5SWQnKSkpDQoJI3NldCgkdGFncyA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdUYWdzJykpDQoJI3NldCgkZmlsZUNoYW5nZWQgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZUNoYW5nZWQnKSkgIyMgMS8wDQoJI3NldCgkZmlsZU5hbWUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZU5hbWUnKSkgIyMgc2V0IGlmIGZpbGUgaXMgdXBkYXRlZA0KCSNzZXQoJGZpbGVVcmwgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZVVybCcpKSAjIyBzZXQgaWYgZmlsZSBpcyB1cGRhdGVkIGFuZCByZW1vdGUNCgkjc2V0KCRmaWxlSXNSZW1vdGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZUlzUmVtb3RlJykpICMjIHNldCBpZiBmaWxlIGlzIHVwZGF0ZWQNCgkjc2V0KCRmaWxlQ29udGV4dElkID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0ZpbGVDb250ZXh0SWQnKSkgIyMgc2V0IGlmIGZpbGUgaXMgdXBkYXRlZCBhbmQgbm90IHJlbW90ZQ0KCSNzZXQoJG1lZGlhSWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdJZCcpKSkgIyMgc2V0IGlmIG1lZGlhIGlzIGJlaW5nIHVwZGF0ZWQNCg0KCSNzZXQoJG9wdGlvbnMgPSAiJXtOYW1lPSR0aXRsZSxEZXNjcmlwdGlvbj0kYm9keSxUYWdzPSR0YWdzfSIpDQoJI3NldCgkY29udGVudFR5cGUgPSBmYWxzZSkNCgkjaWYgKCRmaWxlQ2hhbmdlZCA9PSAnMScpDQoJCSNpZiAoJGZpbGVJc1JlbW90ZSA9PSAnMScpDQoJCQkjc2V0KCRjb250ZW50VHlwZSA9ICRjb3JlX3YyX3VpLkdldE1pbWVUeXBlKCRmaWxlVXJsKSkNCgkJCSRvcHRpb25zLkFkZCgnRmlsZVVybCcsICRmaWxlVXJsKQ0KCQkJJG9wdGlvbnMuQWRkKCdDb250ZW50VHlwZScsICRjb250ZW50VHlwZSkNCgkJI2Vsc2UNCgkJCSNzZXQoJGZpbGUgPSBmYWxzZSkNCgkJCSNzZXQoJGZpbGUgPSAkY29yZV92Ml91cGxvYWRlZEZpbGUuR2V0KCRmaWxlQ29udGV4dElkLCAkZmlsZU5hbWUpKQ0KCQkJI2lmICgkZmlsZSkNCgkJCQkjc2V0KCRjb250ZW50VHlwZSA9ICRjb3JlX3YyX3VpLkdldE1pbWVUeXBlKCRmaWxlTmFtZSkpDQoJCQkJJG9wdGlvbnMuQWRkKCdGaWxlVXBsb2FkQ29udGV4dCcsJGZpbGVDb250ZXh0SWQpDQoJCQkJJG9wdGlvbnMuQWRkKCdGaWxlTmFtZScsJGZpbGUuTmFtZSkNCgkJCQkkb3B0aW9ucy5BZGQoJ0NvbnRlbnRUeXBlJywgJGNvbnRlbnRUeXBlKQ0KCQkJI2VuZA0KCQkjZW5kDQoJI2VuZA0KDQoJI3NldCgkbWVkaWEgPSBmYWxzZSkNCgkjaWYgKCRtZWRpYUlkICYmICRtZWRpYUlkID4gMCkNCgkJI3NldCgkbWVkaWEgPSAkY29yZV92Ml9tZWRpYS5QcmV2aWV3KCRnYWxsZXJ5SWQsICRtZWRpYUlkLCAkb3B0aW9ucykpDQoJI2Vsc2UNCgkJI2lmICghJHRpdGxlKQ0KCQkJI3NldCAoJHRpdGxlID0gIiIpDQoJCSNlbmQNCgkJI2lmICghJGZpbGVOYW1lKQ0KCQkJI3NldCAoJGZpbGVOYW1lID0gIiIpDQoJCSNlbmQNCgkJI2lmICghJGNvbnRlbnRUeXBlKQ0KCQkJI3NldCAoJGNvbnRlbnRUeXBlID0gIiIpDQoJCSNlbmQNCgkJDQoJCSNzZXQoJG1lZGlhID0gJGNvcmVfdjJfbWVkaWEuUHJldmlldygkZ2FsbGVyeUlkLCAkdGl0bGUsICRjb250ZW50VHlwZSwgJGZpbGVOYW1lLCAkb3B0aW9ucykpDQoJI2VuZA0KDQoJI2lmICgkbWVkaWEpDQoJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1oZWFkZXIiPjwvZGl2Pg0KCQk8ZGl2IGNsYXNzPSJmdWxsLXBvc3QiPg0KCQkJPGgzIGNsYXNzPSJwb3N0LW5hbWUiPiQhbWVkaWEuVGl0bGU8L2gzPg0KCQkJI3NldCAoJG1lZGlhVHlwZSA9ICRjb3JlX3YyX3VpLkdldE1lZGlhVHlwZSgkbWVkaWEuRmlsZS5GaWxlVXJsKSkNCgkJCSNpZiAoJG1lZGlhLkZpbGUgJiYgJG1lZGlhLkZpbGUuRmlsZVVybCAmJiAoJG1lZGlhVHlwZSA9PSAiVmlkZW8iIHx8ICRtZWRpYVR5cGUgPT0gIkltYWdlIikpDQoJCQkJPGRpdiBjbGFzcz0icG9zdC1hdHRhY2htZW50LXZpZXdlciI+DQoJCQkJCSQhY29yZV92Ml91aS5HZXRWaWV3SHRtbCgkbWVkaWEuRmlsZS5GaWxlVXJsLCAiJXtXaWR0aCA9IDUwMCwgSGVpZ2h0ID0gNDAwfSIpDQoJCQkJPC9kaXY+DQoJCQkjZWxzZWlmICgkbWVkaWEuRmlsZSAmJiAkbWVkaWEuRmlsZS5GaWxlVXJsKQ0KCQkJCTxkaXYgY2xhc3M9InBvc3QtYXR0YWNobWVudCI+DQoJCQkJCSQhY29yZV92Ml91aS5HZXRQcmV2aWV3SHRtbCgkbWVkaWEuRmlsZS5GaWxlVXJsLCAiJXtXaWR0aCA9IDExNCwgSGVpZ2h0ID0gMTE0fSIpDQoJCQkJPC9kaXY+DQoJCQkjZW5kDQoJCQk8ZGl2IGNsYXNzPSJwb3N0LWNvbnRlbnQgdXNlci1kZWZpbmVkLW1hcmt1cCI+JCFtZWRpYS5Cb2R5KCk8L2Rpdj4NCgkJPC9kaXY+DQoJCTxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1mb290ZXIiPjwvZGl2Pg0KCSNlbHNlDQoJCSRjb3JlX3YyX3BhZ2UuU2V0U3RhdHVzQ29kZSg1MDApDQoJI2VuZA0KI2VuZA==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KICAgIGlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KICAgIHZhciBfYXR0YWNoSGFuZGxlcnMgPSBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICQoJyMnICsgY29udGV4dC5maWxlVXBsb2FkSWQpLmNsaWNrKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgJC5nbG93TW9kYWwoY29udGV4dC51cGxvYWRGaWxlVXJsLCB7IHdpZHRoOjUwMCwgaGVpZ2h0OjMwMCwgb25DbG9zZTpmdW5jdGlvbihyZXR1cm5WYWx1ZSl7X21vZGFsQ2xvc2VkKGNvbnRleHQsIHJldHVyblZhbHVlKTt9fSk7DQogICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgIH0pOw0KDQogICAgICAgIHZhciBzZWxlY3RUYWdzQm94ID0gJCgnIycgKyBjb250ZXh0LnNlbGVjdFRhZ3NJZCkuY2xpY2soZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAkKCcjJyArIGNvbnRleHQudGFnQm94SWQpLmV2b2x1dGlvblRhZ1RleHRCb3goJ29wZW5UYWdTZWxlY3RvcicpOyByZXR1cm4gZmFsc2U7DQogICAgICAgIH0pOw0KICAgICAgICBpZiAoIWNvbnRleHQudGFncyB8fCBjb250ZXh0LnRhZ3MubGVuZ3RoID09PSAwKSB7DQogICAgICAgICAgICBzZWxlY3RUYWdzQm94LmhpZGUoKTsNCiAgICAgICAgfQ0KDQogICAgICAgICQoJyMnKyBjb250ZXh0LmZlYXR1cmVkSW1hZ2VVcmwpLmV2b2x1dGlvblVzZXJGaWxlVGV4dEJveCh7DQogICAgICAgICAgICByZW1vdmVUZXh0OiBjb250ZXh0LnJlbW92ZVJlc291cmNlLA0KICAgICAgICAgICAgc2VsZWN0VGV4dDogY29udGV4dC5zZWxlY3RVcGxvYWRSZXNvdXJjZSwNCiAgICAgICAgICAgIG5vRmlsZVRleHQ6IGNvbnRleHQubm9GaWxlU2VsZWN0ZWRSZXNvdXJjZSwNCiAgICAgICAgICAgIGluaXRpYWxQcmV2aWV3SHRtbDogY29udGV4dC5mZWF0dXJlZEltYWdlUHJldmlldw0KICAgICAgICB9KTsNCg0KICAgICAgICAkKCcjJyArIGNvbnRleHQuZmVhdHVyZWRQb3N0SWQpLmNsaWNrKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgaWYodGhpcy5jaGVja2VkKSB7DQogICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LmZlYXR1cmVkSW1hZ2VJZCkuc2hvdygpOw0KICAgICAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQuZmVhdHVyZWRJbWFnZUlkKS5oaWRlKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5uYXZpZ2F0aW9uQ29uZmlybWF0aW9uLmVuYWJsZSgpOw0KICAgICAgICB2YXIgc2F2ZUJ1dHRvbiA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGEuc2F2ZS1wb3N0Jyk7DQogICAgICAgIHNhdmVCdXR0b24uY2xpY2soZnVuY3Rpb24oKQ0KICAgICAgICB7DQogICAgICAgICAgICBpZiAoISQodGhpcykuZXZvbHV0aW9uVmFsaWRhdGlvbignaXNWYWxpZCcpKSB7DQogICAgICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICBfc2F2ZShjb250ZXh0KTsNCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgfSk7DQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5uYXZpZ2F0aW9uQ29uZmlybWF0aW9uLmVuYWJsZSgpOw0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubmF2aWdhdGlvbkNvbmZpcm1hdGlvbi5yZWdpc3RlcihzYXZlQnV0dG9uKTsNCiAgICB9LA0KICAgIF9hZGRWYWxpZGF0aW9uID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICB2YXIgc2F2ZUJ1dHRvbiA9ICQoJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIGEuc2F2ZS1wb3N0Jyk7DQoNCiAgICAgICAgc2F2ZUJ1dHRvbi5ldm9sdXRpb25WYWxpZGF0aW9uKHsNCiAgICAgICAgICAgIHZhbGlkYXRlT25Mb2FkOiBjb250ZXh0Lm1lZGlhSWQgPD0gMCA/IGZhbHNlIDogbnVsbCwNCiAgICAgICAgICAgIG9uVmFsaWRhdGVkOiBmdW5jdGlvbihpc1ZhbGlkLCBidXR0b25DbGlja2VkLCBjKSB7DQogICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHsNCiAgICAgICAgICAgICAgICAgICAgc2F2ZUJ1dHRvbi5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICBzYXZlQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgdGFiYmVkUGFuZSA9ICQoJyMnICsgY29udGV4dC50YWJJZCkuZ2xvd1RhYmJlZFBhbmVzKCdnZXRCeUluZGV4JywgMCk7DQogICAgICAgICAgICAgICAgICAgIGlmICh0YWJiZWRQYW5lKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQudGFiSWQpLmdsb3dUYWJiZWRQYW5lcygnc2VsZWN0ZWQnLCB0YWJiZWRQYW5lKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIHNhdmVCdXR0b24ucGFyZW50KCkuYWRkQ2xhc3MoJ3Byb2Nlc3NpbmcnKTsNCiAgICAgICAgICAgICAgICBzYXZlQnV0dG9uLmFkZENsYXNzKCdkaXNhYmxlZCcpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9KTsNCg0KICAgICAgICAvLyBGaWxlIHVwbG9hZGVkDQogICAgICAgIHNhdmVCdXR0b24uZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkQ3VzdG9tVmFsaWRhdGlvbicsICdtZWRpYWZpbGV1cGxvYWRlZCcsIGZ1bmN0aW9uKCkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dC5maWxlVXBsb2FkZWQ7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29udGV4dC5ub0ZpbGVVcGxvYWRlZEVycm9yLA0KICAgICAgICAgICAgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLnBvc3QtYXR0YWNobWVudCAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywNCiAgICAgICAgICAgIG51bGwNCiAgICAgICAgKTsNCg0KICAgICAgICAvLyBIYXMgbmFtZQ0KICAgICAgICBzYXZlQnV0dG9uLmV2b2x1dGlvblZhbGlkYXRpb24oJ2FkZEZpZWxkJywgJyMnICsgY29udGV4dC5wb3N0TmFtZUlkLA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLA0KICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiB7IHJlcXVpcmVkOiBjb250ZXh0LnBvc3ROYW1lTWlzc2luZyB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgJyMnICsgY29udGV4dC53cmFwcGVySWQgKyAnIC5maWVsZC1pdGVtLnBvc3QtbmFtZSAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywNCiAgICAgICAgICAgIG51bGwNCiAgICAgICAgKTsNCiAgICB9LA0KICAgIF9tb2RhbENsb3NlZCA9IGZ1bmN0aW9uKGNvbnRleHQsIGZpbGUpIHsNCiAgICAgICAgaWYoZmlsZSkgew0KICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LmZpbGVOYW1lSWQpLnRleHQoZmlsZS5maWxlTmFtZSk7DQogICAgICAgICAgICBjb250ZXh0LmZpbGVVcGxvYWRlZCA9IHRydWU7DQogICAgICAgICAgICBjb250ZXh0LmZpbGUgPSBmaWxlOw0KICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zYXZlLXBvc3QnKS5ldm9sdXRpb25WYWxpZGF0aW9uKCd2YWxpZGF0ZUN1c3RvbScsICdtZWRpYWZpbGV1cGxvYWRlZCcpOw0KICAgICAgICB9DQogICAgfSwNCiAgICBfc2F2ZSA9IGZ1bmN0aW9uKGNvbnRleHQpIHsNCiAgICAgICAgdmFyIGRhdGEgPSBfY3JlYXRlUG9zdFJlcXVlc3REYXRhKGNvbnRleHQpOw0KDQogICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCiAgICAgICAgICAgIHVybDogY29udGV4dC5zYXZlVXJsLA0KICAgICAgICAgICAgZGF0YTogZGF0YSwNCiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKQ0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5tZXNzYWdlKSB7DQogICAgICAgICAgICAgICAgICAgIGFsZXJ0KHJlc3BvbnNlLm1lc3NhZ2UpOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5yZWRpcmVjdFVybCkgew0KICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSByZXNwb25zZS5yZWRpcmVjdFVybDsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5zYXZlRXJyb3JUZXh0LA0KICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTsNCiAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkICsgJyBhLnNhdmUtcG9zdCcpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdwcm9jZXNzaW5nJyk7DQogICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LndyYXBwZXJJZCArICcgYS5zYXZlLXBvc3QnKS5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfSwNCiAgICBfY3JlYXRlUG9zdFJlcXVlc3REYXRhID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICB2YXIgaW5UYWdzID0gJCgnIycgKyBjb250ZXh0LnRhZ0JveElkKS52YWwoKS5zcGxpdCgvWyw7XS9nKTsNCiAgICAgICAgdmFyIHRhZ3MgPSBbXTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBpblRhZ3MubGVuZ3RoOyBpKyspDQogICAgICAgIHsNCiAgICAgICAgICAgIHZhciB0YWcgPSAkLnRyaW0oaW5UYWdzW2ldKTsNCiAgICAgICAgICAgIGlmICh0YWcpIHsNCiAgICAgICAgICAgICAgICB0YWdzW3RhZ3MubGVuZ3RoXSA9IHRhZzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICB0YWdzID0gdGFncy5qb2luKCcsJyk7DQoNCiAgICAgICAgdmFyIGRhdGEgPSB7DQogICAgICAgICAgICBUaXRsZTogJCgnIycgKyBjb250ZXh0LnBvc3ROYW1lSWQpLmV2b2x1dGlvbkNvbXBvc2VyKCd2YWwnKSwNCiAgICAgICAgICAgIEJvZHk6IGNvbnRleHQuZ2V0Qm9keSgpLA0KICAgICAgICAgICAgVGFnczogdGFncywNCiAgICAgICAgICAgIEdhbGxlcnlJZDogY29udGV4dC5nYWxsZXJ5SWQsDQogICAgICAgICAgICBGaWxlQ2hhbmdlZDogY29udGV4dC5maWxlID8gJzEnIDogJzAnDQogICAgICAgIH07DQoNCiAgICAgICAgdmFyIHN1YnNjcmliZSA9ICQoJyMnICsgY29udGV4dC5zdWJzY3JpYmVJZCk7DQogICAgICAgIGlmIChzdWJzY3JpYmUubGVuZ3RoID4gMCkNCiAgICAgICAgICAgIGRhdGEuU3Vic2NyaWJlID0gc3Vic2NyaWJlLmlzKCc6Y2hlY2tlZCcpID8gMSA6IDA7DQogICAgICAgIGVsc2UNCiAgICAgICAgICAgIGRhdGEuU3Vic2NyaWJlID0gLTE7DQoNCiAgICAgICAgdmFyIGZlYXR1cmVkID0gJCgnIycgKyBjb250ZXh0LmZlYXR1cmVkUG9zdElkKTsNCiAgICAgICAgaWYgKGZlYXR1cmVkLmxlbmd0aCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuRmVhdHVyZWQgPSBmZWF0dXJlZC5pcygnOmNoZWNrZWQnKSA/IDEgOiAwOw0KICAgICAgICAgICAgdmFyIGZlYXR1cmVkSW1hZ2UgPSAkKCcjJysgY29udGV4dC5mZWF0dXJlZEltYWdlVXJsKTsNCiAgICAgICAgICAgIGlmIChmZWF0dXJlZEltYWdlLmxlbmd0aCA+IDApDQogICAgICAgICAgICAgICAgZGF0YS5GZWF0dXJlZEltYWdlVXJsID0gZmVhdHVyZWRJbWFnZS52YWwoKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlDQogICAgICAgICAgICBkYXRhLkZlYXR1cmVkID0gLTE7DQoNCiAgICAgICAgaWYgKGNvbnRleHQuZmlsZSkNCiAgICAgICAgew0KICAgICAgICAgICAgaWYgKGNvbnRleHQuZmlsZS5pc1JlbW90ZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBkYXRhLkZpbGVOYW1lID0gY29udGV4dC5maWxlLmZpbGVOYW1lOw0KICAgICAgICAgICAgICAgIGRhdGEuRmlsZVVybCA9IGNvbnRleHQuZmlsZS51cmw7DQogICAgICAgICAgICAgICAgZGF0YS5GaWxlSXNSZW1vdGUgPSAnMSc7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgZGF0YS5GaWxlTmFtZSA9IGNvbnRleHQuZmlsZS5maWxlTmFtZTsNCiAgICAgICAgICAgICAgICBkYXRhLkZpbGVDb250ZXh0SWQgPSBjb250ZXh0LmZpbGUuY29udGV4dElkOw0KICAgICAgICAgICAgICAgIGRhdGEuRmlsZUlzUmVtb3RlID0gJzAnOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQoNCiAgICAgICAgaWYgKGNvbnRleHQubWVkaWFJZCA+IDApDQogICAgICAgIHsNCiAgICAgICAgICAgIGRhdGEuSWQgPSBjb250ZXh0Lm1lZGlhSWQ7DQogICAgICAgIH0NCg0KICAgICAgICByZXR1cm4gZGF0YTsNCiAgICB9LA0KICAgIF9wcmV2aWV3ID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICB2YXIgZGF0YSA9IF9jcmVhdGVQb3N0UmVxdWVzdERhdGEoY29udGV4dCk7DQoNCiAgICAgICAgJCgnIycgKyBjb250ZXh0LnByZXZpZXdUYWJJZCkuaHRtbCgnPGRpdiBjbGFzcz0ibWVzc2FnZSBsb2FkaW5nIGxvYWRpbmdfX21lc3NhZ2UiPicgKyBjb250ZXh0LnByZXZpZXdMb2FkaW5nVGV4dCArICc8L2Rpdj4nKTsNCg0KICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucG9zdCh7DQogICAgICAgICAgICB1cmw6IGNvbnRleHQucHJldmlld1VybCwNCiAgICAgICAgICAgIGRhdGE6IGRhdGEsDQogICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICAkKCcjJyArIGNvbnRleHQucHJldmlld1RhYklkKS5oaWRlKCkuaHRtbChyZXNwb25zZSkuZmFkZUluKCdmYXN0Jyk7DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZGVmYXVsdEVycm9yTWVzc2FnZTogY29udGV4dC5wcmV2aWV3RXJyb3JUZXh0LA0KICAgICAgICAgICAgZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYywgZXgpDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LnByZXZpZXdUYWJJZCkuaHRtbCgnPGRpdiBjbGFzcz0ibWVzc2FnZSBlcnJvciBlcnJvcl9fbWVzc2FnZSI+JyArIGRlc2MgKyAnPC9kaXY+Jyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0pOw0KICAgIH07DQoNCiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy51cGxvYWRFZGl0TWVkaWFHYWxsZXJ5UG9zdCA9IHsNCiAgICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKGNvbnRleHQpIHsNCiAgICAgICAgICAgICQoJyMnICsgY29udGV4dC50YWJJZCkuZ2xvd1RhYmJlZFBhbmVzKHsNCiAgICAgICAgICAgICAgICBjc3NDbGFzczondGFiLXBhbmUnLA0KICAgICAgICAgICAgICAgIHRhYlNldENzc0NsYXNzOid0YWItc2V0IHdpdGgtcGFuZXMnLA0KICAgICAgICAgICAgICAgIHRhYkNzc0NsYXNzZXM6Wyd0YWInXSwNCiAgICAgICAgICAgICAgICB0YWJTZWxlY3RlZENzc0NsYXNzZXM6Wyd0YWIgc2VsZWN0ZWQnXSwNCiAgICAgICAgICAgICAgICB0YWJIb3ZlckNzc0NsYXNzZXM6Wyd0YWIgaG92ZXInXSwNCiAgICAgICAgICAgICAgICBlbmFibGVSZXNpemluZzpmYWxzZSwNCiAgICAgICAgICAgICAgICB0YWJzOg0KICAgICAgICAgICAgICAgIFsNCiAgICAgICAgICAgICAgICAgICAgW2NvbnRleHQuY29tcG9zZVRhYklkLCBjb250ZXh0LmNvbXBvc2VUYWJUZXh0LCBudWxsXSwNCiAgICAgICAgICAgICAgICAgICAgW2NvbnRleHQucHJldmlld1RhYklkLCBjb250ZXh0LnByZXZpZXdUYWJUZXh0LCBmdW5jdGlvbigpIHsgX3ByZXZpZXcoY29udGV4dCk7IH1dDQogICAgICAgICAgICAgICAgXQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICQoJ3RleHRhcmVhJykuZXZvbHV0aW9uUmVzaXplKCk7DQoNCiAgICAgICAgICAgICQoJyMnICsgY29udGV4dC5wb3N0TmFtZUlkKS5ldm9sdXRpb25Db21wb3Nlcih7DQogICAgICAgICAgICAgICAgcGx1Z2luczogWydoYXNodGFncyddDQogICAgICAgICAgICB9KS5ldm9sdXRpb25Db21wb3Nlcignb25rZXlkb3duJywgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgIGlmKGUud2hpY2ggPT09IDEzKSB7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgJCgnIycgKyBjb250ZXh0LnRhZ0JveElkKS5ldm9sdXRpb25UYWdUZXh0Qm94KHthbGxUYWdzOmNvbnRleHQudGFnc30pOw0KDQogICAgICAgICAgICBfYXR0YWNoSGFuZGxlcnMoY29udGV4dCk7DQogICAgICAgICAgICBfYWRkVmFsaWRhdGlvbihjb250ZXh0KTsNCiAgICAgICAgfQ0KICAgIH07DQp9KShqUXVlcnkpOw0K</file>
			<file name="uploadedit.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCg0KCSNzZXQoJHRpdGxlID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ1RpdGxlJykpDQoJI3NldCgkYm9keSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdCb2R5JykpDQoJI3NldCgkZ2FsbGVyeUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnR2FsbGVyeUlkJykpKQ0KCSNzZXQoJHRhZ3MgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnVGFncycpKQ0KCSNzZXQoJGZpbGVDaGFuZ2VkID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0ZpbGVDaGFuZ2VkJykpICMjIDEvMA0KCSNzZXQoJHN1YnNjcmliZSA9IC0xKQ0KCSNzZXQoJHN1YnNjcmliZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdTdWJzY3JpYmUnKSkgIyMgMS8wLy0xDQoJI3NldCgkZmVhdHVyZWQgPSAtMSkNCgkjc2V0KCRmZWF0dXJlZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdGZWF0dXJlZCcpKSAjIyAxLzAvLTENCgkjc2V0KCRmZWF0dXJlZEltYWdlID0gZmFsc2UpDQoJI3NldCgkZmVhdHVyZWRJbWFnZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdGZWF0dXJlZEltYWdlVXJsJykpICMjIHNldCBpZiBmZWF0dXJlZCBpcyBub3QgLTEgYW5kIGltYWdlIGlzIHNlbGVjdGVkDQoJI3NldCgkZmlsZU5hbWUgPSBmYWxzZSkNCgkjc2V0KCRmaWxlTmFtZSA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdGaWxlTmFtZScpKSAjIyBzZXQgaWYgZmlsZSBpcyB1cGRhdGVkDQoJI3NldCgkZmlsZVVybCA9IGZhbHNlKQ0KCSNzZXQoJGZpbGVVcmwgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZVVybCcpKSAjIyBzZXQgaWYgZmlsZSBpcyB1cGRhdGVkIGFuZCByZW1vdGUNCgkjc2V0KCRmaWxlSXNSZW1vdGUgPSBmYWxzZSkNCgkjc2V0KCRmaWxlSXNSZW1vdGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnRmlsZUlzUmVtb3RlJykpICMjIHNldCBpZiBmaWxlIGlzIHVwZGF0ZWQNCgkjc2V0KCRmaWxlQ29udGV4dElkID0gZmFsc2UpDQoJI3NldCgkZmlsZUNvbnRleHRJZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdGaWxlQ29udGV4dElkJykpICMjIHNldCBpZiBmaWxlIGlzIHVwZGF0ZWQgYW5kIG5vdCByZW1vdGUNCgkjc2V0KCRtZWRpYUlkID0gZmFsc2UpDQoJI3NldCgkbWVkaWFJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ0lkJykpKSAjIyBzZXQgaWYgbWVkaWEgaXMgYmVpbmcgdXBkYXRlZA0KDQoJI3NldCgkb3B0aW9ucyA9ICIle05hbWU9JHRpdGxlLERlc2NyaXB0aW9uPSRib2R5LFRhZ3M9JHRhZ3N9IikNCgkjc2V0KCRjb250ZW50VHlwZSA9IGZhbHNlKQ0KCSNpZiAoJGZpbGVDaGFuZ2VkID09ICcxJykNCgkJI2lmICgkZmlsZUlzUmVtb3RlID09ICcxJykNCgkJCSNzZXQoJGNvbnRlbnRUeXBlID0gJGNvcmVfdjJfdWkuR2V0TWltZVR5cGUoJGZpbGVVcmwpKQ0KCQkJJG9wdGlvbnMuQWRkKCdGaWxlVXJsJywgJGZpbGVVcmwpDQoJCQkkb3B0aW9ucy5BZGQoJ0ZpbGVOYW1lJywgJGZpbGVOYW1lKQ0KCQkJJG9wdGlvbnMuQWRkKCdDb250ZW50VHlwZScsICRjb250ZW50VHlwZSkNCgkJI2Vsc2UNCgkJCSNzZXQoJGZpbGUgPSBmYWxzZSkNCgkJCSNzZXQoJGZpbGUgPSAkY29yZV92Ml91cGxvYWRlZEZpbGUuR2V0KCRmaWxlQ29udGV4dElkLCAkZmlsZU5hbWUpKQ0KCQkJI2lmICgkZmlsZSkNCgkJCQkjc2V0KCRjb250ZW50VHlwZSA9ICRjb3JlX3YyX3VpLkdldE1pbWVUeXBlKCRmaWxlTmFtZSkpDQoJCQkJJG9wdGlvbnMuQWRkKCdGaWxlVXBsb2FkQ29udGV4dCcsJGZpbGVDb250ZXh0SWQpDQoJCQkJJG9wdGlvbnMuQWRkKCdGaWxlTmFtZScsJGZpbGUuTmFtZSkNCgkJCQkkb3B0aW9ucy5BZGQoJ0NvbnRlbnRUeXBlJywgJGNvbnRlbnRUeXBlKQ0KCQkJI2VuZA0KCQkjZW5kDQoJI2VuZA0KDQoJI2lmICgkZmVhdHVyZWQgIT0gJy0xJykNCgkJI2lmICgkZmVhdHVyZWQgPT0gJzEnKQ0KCQkJJG9wdGlvbnMuQWRkKCdJc0ZlYXR1cmVkJywnVHJ1ZScpDQoJCQkjaWYgKCRmZWF0dXJlZEltYWdlKQ0KCQkJCSRvcHRpb25zLkFkZCgnRmVhdHVyZWRJbWFnZScsICRmZWF0dXJlZEltYWdlKQ0KCQkJI2Vsc2UNCgkJCQkkb3B0aW9ucy5BZGQoJ0ZlYXR1cmVkSW1hZ2UnLCAnJykNCgkJCSNlbmQNCgkJI2Vsc2UNCgkJCSRvcHRpb25zLkFkZCgnSXNGZWF0dXJlZCcsJ0ZhbHNlJykNCgkJI2VuZA0KCSNlbmQNCg0KCSNzZXQoJG1lZGlhID0gZmFsc2UpDQoJI2lmICgkbWVkaWFJZCAmJiAkbWVkaWFJZCA+IDApDQoJCSNzZXQoJG1lZGlhID0gJGNvcmVfdjJfbWVkaWEuVXBkYXRlKCRnYWxsZXJ5SWQsICRtZWRpYUlkLCAkb3B0aW9ucykpDQoJI2Vsc2UNCgkJI3NldCgkbWVkaWEgPSAkY29yZV92Ml9tZWRpYS5DcmVhdGUoJGdhbGxlcnlJZCwgJHRpdGxlLCAkY29udGVudFR5cGUsICRmaWxlTmFtZSwgJG9wdGlvbnMpKQ0KCSNlbmQNCg0KCSNpZigkbWVkaWEuRXJyb3JzLkNvdW50ID4gMCkNCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRtZWRpYS5FcnJvcnMpDQoJI2VuZA0KDQoJI2lmICgkbWVkaWEuSXNBcHByb3ZlZCkNCgkJI2lmICgkc3Vic2NyaWJlID09ICcwJykNCgkJCSRjb3JlX3YyX21lZGlhLlNldFN1YnNjcmliZWQoJG1lZGlhLklkLCBmYWxzZSkNCgkJI2Vsc2VpZiAoJHN1YnNjcmliZSA9PSAnMScpDQoJCQkkY29yZV92Ml9tZWRpYS5TZXRTdWJzY3JpYmVkKCRtZWRpYS5JZCwgdHJ1ZSkNCgkJI2VuZA0KCSNlbmQNCg0KCSNpZiAoISRtZWRpYS5Jc0FwcHJvdmVkKQ0KCQl7InJlZGlyZWN0VXJsIjoiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9tZWRpYVVybHMuR2FsbGVyeSgkZ2FsbGVyeUlkKSkiLCJtZXNzYWdlIjoiJGNvcmVfdjJfZW5jb2RpbmcuSmF2YXNjcmlwdEVuY29kZSgkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnUG9zdElzTW9kZXJhdGVkJykpIn0NCgkjZWxzZQkJDQoJCXsicmVkaXJlY3RVcmwiOiIkY29yZV92Ml9lbmNvZGluZy5KYXZhc2NyaXB0RW5jb2RlKCRtZWRpYS5VcmwpIn0NCgkjZW5kDQojZW5k</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:User_Badges_Name}" version="7.5.0.32466" description="${resource:User_Badges_Description}" instanceIdentifier="cff782541ff74ebaa98d2c0f8b3f1c8d" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="user-badges">
		<contentScript>

#set ($user = false)
#set ($user = $core_v2_user.Current)
#if (!$user)
	$core_v2_widget.Hide()
#end

#set ($roles = false)
#set ($roles = $core_v2_role.List("%{ UserId = $user.Id }"))

#set ($ranks = false)
#set ($ranks = $core_v2_rank.List("%{ UserId = $user.Id }"))

#if ((!$roles || $roles.Count == 0) &amp;&amp; (!$ranks || $ranks.Count == 0))
	$core_v2_widget.Hide()
#end

## show role badge icons
#set ($hasRolesWithImages = false)
#foreach ($role in $roles)
	#if ($role.ImageUrl &amp;&amp; $role.ImageUrl.Length &gt; 0)
		#set ($hasRolesWithImages = true)
	#end
#end
#if ($hasRolesWithImages)
	#foreach ($role in $roles)
	#beforeall
		&lt;div class="post-attributes badges"&gt;
			&lt;div class="attribute-list-header"&gt;&lt;/div&gt;
			&lt;ul class="attribute-list"&gt;
	#odd
		#set ($class = "odd")
	#even
		#set ($class = "even")
	#each
		#if ($role.ImageUrl &amp;&amp; $role.ImageUrl.Length &gt; 0)
			&lt;li class="attribute-item badge $class" title="$core_v2_encoding.HtmlAttributeEncode($role.Name)"&gt;
				&lt;span class="attribute-value"&gt;
					$core_v2_ui.GetResizedImageHtml($role.ImageUrl, 75, 75, "%{border='0', alt=$role.Name}")
				&lt;/span&gt;
			&lt;/li&gt;
		#end
	#afterall
			&lt;/ul&gt;
			&lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
		&lt;/div&gt;
	#end
#end

## show rank badge icons
#foreach ($rank in $ranks)
#beforeall
	&lt;div class="post-attributes badges"&gt;
		&lt;div class="attribute-list-header"&gt;&lt;/div&gt;
		&lt;ul class="attribute-list"&gt;
#odd
	#set ($class = "odd")
#even
	#set ($class = "even")
#each
	#if ($rank.ImageUrl &amp;&amp; $rank.ImageUrl.Length &gt; 0)
		&lt;li class="attribute-item badge $class" title="$core_v2_encoding.HtmlAttributeEncode($rank.Name)"&gt;
			&lt;span class="attribute-value"&gt;
				$core_v2_ui.GetResizedImageHtml($rank.ImageUrl, 100, 100, "%{border='0', alt=$rank.Name}")
			&lt;/span&gt;
		&lt;/li&gt;
	#else
		&lt;li class="attribute-item badge text $class"&gt;
			&lt;span class="attribute-value"&gt;$rank.Name&lt;/span&gt;
		&lt;/li&gt;
	#end
#afterall
		&lt;/ul&gt;
		&lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
#end


</contentScript>
		<headerScript>
#set ($defaultTitle = $core_v2_language.GetResource('User_Badges_Name'))
#set ($title = $core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:User_Badges_Name}')))
## only attempt to set an automatic user-specific title if a default title is being used
#if ($title == $defaultTitle)
	#set ($currentUser = $core_v2_user.Current)
	#set ($accessingUser = $core_v2_user.Accessing)
	#if ($currentUser)
		#if ($accessingUser &amp;&amp; $accessingUser.Id == $currentUser.Id)
			## My Badges
			#set ($title = $core_v2_language.GetResource('My_Badges'))
		#else
			## {Current User}'s Badges
			#set ($title = $core_v2_language.FormatString($core_v2_language.GetResource('Users_Badges'), $currentUser.DisplayName))
		#end
	#end
#end
$title
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:User_Badges_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="User_Badges_Name">User - Badges</resource><resource name="User_Badges_Description">Displays a user's role and rank badges</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="My_Badges">My Badges</resource><resource name="Users_Badges">{0}'s Badges</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserBanned_Name}" version="7.5.0.32466" description="${resource:Core_UserBanned_Description}" instanceIdentifier="782e9ac51fc442df956cac13604d176a" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="user-banned">
		<contentScript>
#set ($banReason = $core_v2_user.Accessing.BanReason)
#set ($bannedMessage = $core_v2_language.GetResource("Utility_UserBanReason_Other"))
#if ($bannedMessage == "Profanity")
	#set ($bannedMessage = $core_v2_language.GetResource("Utility_UserBanReason_Profanity"))
#elseif ($bannedMessage == "Advertising")
	#set ($bannedMessage = $core_v2_language.GetResource("Utility_UserBanReason_Advertising"))
#elseif ($bannedMessage == "Spam")
	#set ($bannedMessage = $core_v2_language.GetResource("Utility_UserBanReason_Spam"))
#elseif ($bannedMessage == "Aggresive")
	#set ($bannedMessage = $core_v2_language.GetResource("Utility_UserBanReason_Aggresive"))
#elseif ($bannedMessage == "BadUsername")
	#set ($bannedMessage = $core_v2_language.GetResource("Utility_UserBanReason_BadUsername"))
#elseif ($bannedMessage == "BadSignature")
	#set ($bannedMessage = $core_v2_language.GetResource("Utility_UserBanReason_BadSignature"))
#elseif ($bannedMessage == "BanDodging")
	#set ($bannedMessage = $core_v2_language.GetResource("Utility_UserBanReason_BanDodging"))
#end

&lt;div class="page-header"&gt;&lt;/div&gt;
&lt;div class="page"&gt;
	&lt;div class="page-name"&gt;$core_v2_language.GetResource("UserBanned_Title")&lt;/div&gt;
	&lt;div class="page-content"&gt;
		$core_v2_language.FormatString($core_v2_language.GetResource("UserBanned_Message"), $core_v2_language.FormatDateAndTime($core_v2_user.Accessing.BannedUntil), "", $bannedMessage)
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="page-footer"&gt;&lt;/div&gt;
		</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_UserBanned_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_UserBanned_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_UserBanned_Name">User Banned</resource><resource name="Core_UserBanned_Description">Displays a message informing user they have been banned from posting and the reason for banning.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Utility_UserBanReason_Other">Other</resource><resource name="Utility_UserBanReason_Profanity">Profanity</resource><resource name="Utility_UserBanReason_Advertising">Advertising</resource><resource name="Utility_UserBanReason_Spam">Spam</resource><resource name="Utility_UserBanReason_Aggresive">Attacking other members</resource><resource name="Utility_UserBanReason_BadUsername">Inappropriate username</resource><resource name="Utility_UserBanReason_BadSignature">Inappropriate Links or Signature</resource><resource name="Utility_UserBanReason_BanDodging">Ban Dodging</resource><resource name="UserBanned_Title">User Banned</resource><resource name="UserBanned_Message">You have been banned from posting on the forums until {0} {1}. The reason for this ban is {2}. Please return to participate in the forums after the ban has elapsed.</resource></language></languageResources>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserBanner_Name}" version="7.5.0.32466" description="${resource:Core_UserBanner_Description}" instanceIdentifier="f37d7b83ea2942cba359029ec84a7bc5" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="user-banner">
		<contentScript>
#set($user = false)
#set($user = $core_v2_user.Current)

#set($isEditable = true)
#if ($user.Id != $core_v2_user.Accessing.Id || !$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	#set($isEditable = false)
#end
#set ($isInEditMode = true)
#if (!$isEditable || !$core_v2_editableGroup.IsEditable('User'))
	#set ($isInEditMode = false)
#end

&lt;div class="user-banner-header"&gt;&lt;/div&gt;
&lt;div class="user-banner"&gt;
	&lt;h3 class="user-name"&gt;$user.DisplayName&lt;/h3&gt;
	&lt;div class="user-avatar"&gt;
		#if($isInEditMode)
			&lt;a href="#" id="$core_v2_widget.UniqueId('editavatar')" class="internal-link edit-avatar" title="$core_v2_language.GetResource('EditProfile_ChangeAvatar')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('EditProfile_ChangeAvatar')&lt;/a&gt;
			$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 80, 80, "%{border='0', alt=$user.DisplayName}")
		#else
			#if ($user.ProfileUrl)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($user.ProfileUrl)"&gt;
					$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 80, 80, "%{border='0', alt=$user.DisplayName}")
				&lt;/a&gt;
			#else
				$core_v2_ui.GetResizedImageHtml($user.AvatarUrl, 80, 80, "%{border='0', alt=$user.DisplayName}")
			#end
		#end
	&lt;/div&gt;
	#foreach($statusMessage in $core_v2_statusMessage.List("%{UserId=$user.Id,PageSize=1}"))
		&lt;div class="user-status"&gt;
			&lt;div class="user-status-header fiji-user-status-header evolution2-user-status-header"&gt;&lt;/div&gt;
			&lt;div class="user-status-content fiji-user-status-content evolution2-user-status-content user-defined-markup"&gt;
				&lt;span class="status-message"&gt;$statusMessage.RenderedBody&lt;/span&gt;
				&lt;span class="status-date"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('ActivityMessage_MessageDate'), $core_v2_language.FormatDateAndTime($statusMessage.CreatedDate))&lt;/span&gt;
			&lt;/div&gt;
			&lt;div class="user-status-footer fiji-user-status-footer evolution2-user-status-footer"&gt;&lt;/div&gt;
		&lt;/div&gt;
	#end
	&lt;div class="user-banner-actions"&gt;
		&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
		&lt;ul class="navigation-list"&gt;
			#if ($isInEditMode)
				&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('save')" class="internal-link save-user-profile"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Core_UserBanner_SaveProfile')&lt;/a&gt;&lt;/li&gt;
				&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_editableGroup.GetViewUrl('User'))" id="$core_v2_widget.UniqueId('cancel')" class="internal-link cancel"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Cancel')&lt;/a&gt;&lt;/li&gt;
			#else
				#if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id) &amp;&amp; $core_v2_user.IsRegistered($user.Id) &amp;&amp; $core_v2_user.Accessing.Id != $user.Id)
					#set($friendshipState = 'NotSpecified')
					#set($friendship = false)
					#set($friendship = $core_v2_friendship.Get("%{UserId=$core_v2_user.Accessing.Id,FriendId=$user.Id}"))
					#if ($friendship)
						#set($friendshipState = $friendship.FriendshipState)
					#end

					#if ($friendshipState == 'NotSpecified')
						&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('friendrequest')" class="internal-link request-friendship"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Friend_Add')&lt;/a&gt;&lt;/li&gt;
					#elseif ($friendshipState == 'Approved')
						&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('deletefriendship')" class="internal-link delete-friendship"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Friend_Remove')&lt;/a&gt;&lt;/li&gt;
					#else
						&lt;li class="navigation-item"&gt;&lt;a href="#" id="$core_v2_widget.UniqueId('cancelfriendship')" class="internal-link cancel-friend-request"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Friend_Cancel')&lt;/a&gt;&lt;/li&gt;
					#end

					#set($url = false)
					#set($url = $core_v2_urls.AddConversation($user.Id))
					#if ($url)
						&lt;li class="navigation-item"&gt;&lt;a href="#" onclick="jQuery.glowModal('$core_v2_encoding.HtmlAttributeEncode($core_v2_encoding.JavascriptEncode($url))',{width: 550,height: 360});return false;" class="internal-link start-conversation"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('EditProfile_FriendsPrivateMessage')&lt;/a&gt;&lt;/li&gt;
					#end
				#end

				#if ($core_v2_user.IsRegistered($user.Id) &amp;&amp; $core_v2_nodePermission.Get('Site_ContactMembers').IsAllowed)
					&lt;li class="navigation-item"&gt;&lt;a href="mailto:$core_v2_encoding.HtmlAttributeEncode($user.PrivateEmail)" class="internal-link send-email"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('EditProfile_SendEmail')&lt;/a&gt;&lt;/li&gt;
				#end

				#if ($core_v2_user.IsRegistered($core_v2_user.Accessing.Id) &amp;&amp; $core_v2_user.IsRegistered($user.Id) &amp;&amp; $core_v2_user.Accessing.Id != $user.Id)
					#set ($following = false)
					#set ($following = $core_v2_following.Get($core_v2_user.Accessing.Id, "%{FollowingId=$user.Id}"))
					&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('followUser')" href="javascript:void(0)"&gt;&lt;/a&gt;&lt;/li&gt;
					#registerEndOfPageHtml()
						&lt;script type="text/javascript"&gt;
						//&lt;![CDATA[
						jQuery(function(){
							jQuery('#$core_v2_widget.UniqueId('followUser')').evolutionToggleLink({
								onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('StopFollowingUser'))',
								offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('FollowUser'))',
								processingHtml: '&lt;span&gt;&lt;/span&gt;...',
								changeState: function(val) {
									jQuery.telligent.evolution.post({
										url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('follow.vm'))',
										data: {follow:val,userId:$user.Id},
										dataType: 'json',
										success: function(response) { jQuery('#$core_v2_widget.UniqueId('followUser')').evolutionToggleLink('val', response.follow); },
										error: function(xhr, desc, ex) { jQuery('#$core_v2_widget.UniqueId('followUser')').evolutionToggleLink('val', !val); }
									});
								},
								onCssClass: 'internal-link favorite-on',
								offCssClass: 'internal-link favorite-off',
								processingCssClass: 'internal-link processing',
								val: #if($following) true#else false#end
							});
						});
						//]]&gt;
						&lt;/script&gt;
					#end
				#end

				#if($isEditable &amp;&amp; $core_v2_urls.Current == 'User')
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_editableGroup.GetEditUrl('User'))" class="internal-link edit-user-profile"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Core_UserBanner_EditProfile')&lt;/a&gt;&lt;/li&gt;
				#end
			#end
		&lt;/ul&gt;
		&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;
&lt;div class="user-banner-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.userBanner')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(function(){
		jQuery.telligent.evolution.widgets.userBanner.register({
			inEditMode:#if($isInEditMode) true#else false#end,
			userId: $user.Id,
			accessingUserId: $core_v2_user.Accessing.Id,
			wrapperId: '#$core_v2_widget.WrapperElementId',
			#if ($isInEditMode)
				editAvatar: '$core_v2_widget.UniqueId('editavatar')',
				editAvatarUrl: '$core_v2_encoding.JavascriptEncode($core_v2_urls.EditAvatar())',
				save: '$core_v2_widget.UniqueId('save')',
				cancel: '$core_v2_widget.UniqueId('cancel')',
				viewUrl: '$core_v2_encoding.JavascriptEncode($core_v2_editableGroup.GetViewUrl('User'))',
				avatarUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('avatar.vm'))',
			#end
			friendRequest: '$core_v2_widget.UniqueId('friendrequest')',
			#if ($core_v2_urls.RequestFriendship($user.Id))
				friendRequestUrl: '$core_v2_encoding.JavascriptEncode($core_v2_urls.RequestFriendship($user.Id))',
			#end
			friendRequestMessage: '$core_v2_encoding.JavascriptEncode($!core_v2_configuration.DefaultFriendshipRequestMessage)',
			friendCancel: '$core_v2_widget.UniqueId('cancelfriendship')',
			friendDelete: '$core_v2_widget.UniqueId('deletefriendship')',
			friendCancelConfirmation: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('ViewUserProfile_FriendDeleteConfirm'))',
			friendDeleteConfirmation: ''
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end

			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_WikiBanner_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_UserBanner_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_UserBanner_Name">User - Banner</resource><resource name="Core_UserBanner_Description">Displays a banner of common user information and links.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="EditProfile_ChangeAvatar">Change avatar</resource><resource name="ActivityMessage_MessageDate">on {0}</resource><resource name="Core_UserBanner_SaveProfile">Save Profile</resource><resource name="Cancel">Cancel</resource><resource name="Friend_Add">Add as ${friend_propercase}</resource><resource name="Friend_Remove">Remove as ${friend_propercase}</resource><resource name="Friend_Cancel">Cancel Pending ${friendship_propercase}</resource><resource name="EditProfile_FriendsPrivateMessage">Send a Private Message</resource><resource name="EditProfile_SendEmail">Send Email</resource><resource name="StopFollowingUser">Stop Following</resource><resource name="FollowUser">Follow</resource><resource name="Core_UserBanner_EditProfile">Edit Profile</resource><resource name="ViewUserProfile_FriendDeleteConfirm">Are you sure you want to cancel this ${friendship_lowercase} request?</resource><resource name="Wikis_WikiBanner_Name">Wikis - Banner</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
		</requiredContext>
		<files>
			<file name="avatar.vm">JGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpCiNzZXQgKCR1c2VySWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd191c2VySWQnKSkpCiNzZXQgKCRhdmF0YXJVcmwgPSBmYWxzZSkKI3NldCAoJGF2YXRhclVybCA9ICRjb3JlX3YyX3VzZXIuR2V0KCIle0lkPSR1c2VySWR9IikuQXZhdGFyVXJsKQojaWYgKCRhdmF0YXJVcmwpCgl7ImF2YXRhciI6IiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGNvcmVfdjJfdWkuR2V0UmVzaXplZEltYWdlSHRtbCgkYXZhdGFyVXJsLCA4MCwgODAsICIle2JvcmRlcj0nMCd9IikpIn0KI2Vsc2UKCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcigiVGhlIHVzZXIncyBhdmF0YXIgY291bnQgbm90IGJlIHJldHJpZXZlZC4iKQojZW5kCgo=</file>
			<file name="follow.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJGZvbGxvdyA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdmb2xsb3cnKSkpCgkjc2V0KCR1c2VySWQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd1c2VySWQnKSkpCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykKCSNzZXQoJGZvbGxvd1Jlc3VsdCA9IGZhbHNlKQoJCgkjaWYgKCRmb2xsb3cpCgkJI3NldCgkZm9sbG93UmVzdWx0ID0gJGNvcmVfdjJfZm9sbG93aW5nLkNyZWF0ZSgkdXNlcklkLCAiJXtGb2xsb3dlcklkPSRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nLklkfSIpKQoJI2Vsc2UKCQkjc2V0KCRmb2xsb3dSZXN1bHQgPSAkY29yZV92Ml9mb2xsb3dpbmcuRGVsZXRlKCIle0ZvbGxvd2luZ0lkPSR1c2VySWQsRm9sbG93ZXJJZD0kY29yZV92Ml91c2VyLkFjY2Vzc2luZy5JZH0iKSkKCSNlbmQKCgkjaWYgKCRmb2xsb3dSZXN1bHQuRXJyb3JzLkNvdW50ID09IDAgJiYgJGZvbGxvdykKCQl7ImZvbGxvdyI6dHJ1ZX0KCSNlbHNlaWYgKCRmb2xsb3dSZXN1bHQuRXJyb3JzLkNvdW50ID09IDAgfHwgISRmb2xsb3dSZXN1bHQpCgkJeyJmb2xsb3ciOmZhbHNlfQoJI2Vsc2UKCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJGZvbGxvdy5FcnJvcnMpCgkjZW5kCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpDQoJICAgICAgICAkLnRlbGxpZ2VudCA9IHt9Ow0KDQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKQ0KCSAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KDQoJdmFyIF9yZXF1ZXN0RnJpZW5kc2hpcCA9IGZ1bmN0aW9uKGFjY2Vzc2luZ1VzZXJJZCwgdXNlcklkLCBtZXNzYWdlKQ0KCXsNCgkJdmFyIGRhdGEgPSB7DQoJCQlBY2Nlc3NpbmdVc2VySWQ6IGFjY2Vzc2luZ1VzZXJJZCwNCgkJCVJlcXVlc3RlZUlkOiB1c2VySWQsDQoJCQlSZXF1ZXN0TWVzc2FnZTogbWVzc2FnZQ0KCQl9Ow0KDQoJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi91c2Vycy97QWNjZXNzaW5nVXNlcklkfS9mcmllbmRzLmpzb24nLA0KCQkJCWRhdGE6IGRhdGEsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQlfcmVsb2FkUGFnZSgpOw0KCQkJCX0NCgkJCX0pOw0KCX0sDQoJX2RlbGV0ZUZyaWVuZHNoaXAgPSBmdW5jdGlvbihhY2Nlc3NpbmdVc2VySWQsIHVzZXJJZCkNCgl7DQoJCXZhciBkYXRhID0gew0KCQkJQWNjZXNzaW5nVXNlcklkOiBhY2Nlc3NpbmdVc2VySWQsDQoJCQlSZXF1ZXN0ZWVJZDogdXNlcklkDQoJCX07DQoNCgkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmRlbCh7DQoJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvdXNlcnMve0FjY2Vzc2luZ1VzZXJJZH0vZnJpZW5kcy97UmVxdWVzdGVlSWR9Lmpzb24nLA0KCQkJCWRhdGE6IGRhdGEsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQlfcmVsb2FkUGFnZSgpOw0KCQkJCX0NCgkJCX0pOw0KCX0NCglfcmVsb2FkUGFnZSA9IGZ1bmN0aW9uKCkNCgl7DQoJCXRyeQ0KCQl7DQoJCQl3aW5kb3cubG9jYXRpb24gPSB3aW5kb3cubG9jYXRpb247DQoJCX0gY2F0Y2ggKGUpIHsgfTsNCgl9DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy51c2VyQmFubmVyID0NCgl7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KQ0KCQl7DQoJCQlpZiAoY29udGV4dC5pbkVkaXRNb2RlKQ0KCQkJew0KCQkJCSQoJyMnICsgY29udGV4dC5lZGl0QXZhdGFyKS5jbGljayhmdW5jdGlvbigpIHsNCgkJCQkJJC5nbG93TW9kYWwoY29udGV4dC5lZGl0QXZhdGFyVXJsLCB7DQoJCQkJCQl3aWR0aDo1NjAsDQoJCQkJCQloZWlnaHQ6MzAwLA0KCQkJCQkJb25DbG9zZTogZnVuY3Rpb24oKSB7IA0KCQkJCQkJCS8vIGxvYWQgdGhlIHVwZGF0ZWQgYXZhdGFyDQoJCQkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQoJCQkJCQkJCXVybDogY29udGV4dC5hdmF0YXJVcmwsDQoJCQkJCQkJCWRhdGE6IHsgd191c2VySWQ6IGNvbnRleHQudXNlcklkIH0sDQoJCQkJCQkJCXN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQoJCQkJCQkJCQl2YXIgYXZhdGFyID0gJChjb250ZXh0LndyYXBwZXJJZCArICcgLnVzZXItYXZhdGFyIGltZycpOw0KCQkJCQkJCQkJdmFyIG5ld0F2YXRhciA9ICQocmVzcG9uc2UuYXZhdGFyKTsNCgkJCQkJCQkJCWF2YXRhci5hZnRlcihuZXdBdmF0YXIpLnJlbW92ZSgpOw0KCQkJCQkJCQl9DQoJCQkJCQkJfSk7DQoJCQkJCQl9DQoJCQkJCX0pOw0KDQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9KTsNCg0KCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5uYXZpZ2F0aW9uQ29uZmlybWF0aW9uLmVuYWJsZSgpOw0KCQkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5uYXZpZ2F0aW9uQ29uZmlybWF0aW9uLnJlZ2lzdGVyKCQoJyMnICsgY29udGV4dC5jYW5jZWwgKyAnLCAjJyArIGNvbnRleHQuc2F2ZSkpOw0KDQoJCQkJJCgnIycgKyBjb250ZXh0LnNhdmUpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmVkaXRhYmxlR3JvdXAuc2F2ZSgnVXNlcicsIHsNCgkJCQkJCQlzdWNjZXNzOiBmdW5jdGlvbigpIHsNCgkJCQkJCQkJd2luZG93LmxvY2F0aW9uID0gY29udGV4dC52aWV3VXJsOw0KCQkJCQkJCX0NCgkJCQkJCX0pOw0KDQoJCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfSk7DQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJJCgnIycgKyBjb250ZXh0LmZyaWVuZFJlcXVlc3QpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJCQlpZiAoY29udGV4dC5mcmllbmRSZXF1ZXN0VXJsKQ0KCQkJCQl7DQoJCQkJCQkkLmdsb3dNb2RhbChjb250ZXh0LmZyaWVuZFJlcXVlc3RVcmwsIHsNCgkJCQkJCQl3aWR0aDogNjcwLA0KCQkJCQkJCWhlaWdodDogMzkwDQoJCQkJCQl9KTsNCgkJCQkJfQ0KCQkJCQllbHNlDQoJCQkJCXsNCgkJCQkJCV9yZXF1ZXN0RnJpZW5kc2hpcChjb250ZXh0LmFjY2Vzc2luZ1VzZXJJZCwgY29udGV4dC51c2VySWQsIGNvbnRleHQuZnJpZW5kUmVxdWVzdE1lc3NhZ2UpOw0KCQkJCQl9DQoNCgkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0pOw0KDQoJCQkJJCgnIycgKyBjb250ZXh0LmZyaWVuZERlbGV0ZSkuY2xpY2soZnVuY3Rpb24oKSB7DQoJCQkJCWlmICghY29udGV4dC5mcmllbmREZWxldGVDb25maXJtYXRpb24gfHwgd2luZG93LmNvbmZpcm0oY29udGV4dC5mcmllbmREZWxldGVDb25maXJtYXRpb24pKQ0KCQkJCQl7DQoJCQkJCQlfZGVsZXRlRnJpZW5kc2hpcChjb250ZXh0LmFjY2Vzc2luZ1VzZXJJZCwgY29udGV4dC51c2VySWQpOw0KCQkJCQl9DQoJCQkJCXJldHVybiBmYWxzZTsNCgkJCQl9KTsNCg0KCQkJCSQoJyMnICsgY29udGV4dC5mcmllbmRDYW5jZWwpLmNsaWNrKGZ1bmN0aW9uKCkgew0KCQkJCQlpZiAoIWNvbnRleHQuZnJpZW5kQ2FuY2VsQ29uZmlybWF0aW9uIHx8IHdpbmRvdy5jb25maXJtKGNvbnRleHQuZnJpZW5kQ2FuY2VsQ29uZmlybWF0aW9uKSkNCgkJCQkJew0KCQkJCQkJX2RlbGV0ZUZyaWVuZHNoaXAoY29udGV4dC5hY2Nlc3NpbmdVc2VySWQsIGNvbnRleHQudXNlcklkKTsNCgkJCQkJfQ0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfSk7DQoJCQl9DQoJCX0NCgl9Ow0KfSkoalF1ZXJ5KTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserFile_Name}" version="7.5.0.32466" description="${resource:Core_UserFile_Description}" instanceIdentifier="aea9063064614e0986b336f697c143bb" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="user-file">
		<contentScript>
#if (!$core_v2_configuration.EnableUserFileStorage)
	$core_v2_widget.Hide()
#end

#set($userId = $core_v2_user.Current.Id)
#set($file = $core_v2_userFile.Current)
#set($viewMarkup = $core_v2_ui.GetViewHtml($file.Url, "%{Width=480,Height=320}"))
#set($previewMarkup = $core_v2_ui.GetPreviewHtml($file.Url, "%{Width=64,Height=64}"))

#if (!$file)
	$core_v2_widget.Hide()
#end
&lt;div&gt;
	#if ($viewMarkup &amp;&amp; $viewMarkup != "")
		$viewMarkup
	#else
		#if ($previewMarkup &amp;&amp; $previewMarkup != "")
			$previewMarkup
		#end
		#if ($file.Name &amp;&amp; $file.Name != "")
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($file.Url)" class="internal-link download-attachment"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_encoding.HtmlEncode($file.Name)&lt;/a&gt;
		#end
	#end
&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_UserFile_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_UserFile_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_UserFile_Name">User File</resource><resource name="Core_UserFile_Description">Displays a file for a user.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Core_UserFile_Title_File">File</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
			<context id="dd2b87bc53c54719bb1da02d95878309" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserFileLinks_Name}" version="7.5.0.32466" description="${resource:Core_UserFileLinks_Description}" instanceIdentifier="8d89b6684ccb428588490616652c4a28" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="user-file-links">
		<contentScript>
#set($userId = $core_v2_user.Current.Id)
#set($folder = $core_v2_userFolder.Current)
#set($file = $core_v2_userFile.Current)
#set($viewNextFileUrl = "")
#set($viewPreviousFileUrl = "")
#set($viewFolderUrl = "")
#set($viewFolderSlideshowUrl = "")
#set($folderPath = "")
#set($canModifyMembership = $core_v2_nodePermission.Get('Site_ManageMembership').IsAllowed)

#if ($folder &amp;&amp; $folder.Path &amp;&amp; $folder.Path != "")
	#set($folderPath = $core_v2_utility.Join(".", $folder.Path))
#end

#if ($file &amp;&amp; $file.Name &amp;&amp; $file.Name != "" &amp;&amp; $folder)
	#set($viewNextFileUrl = $core_v2_urls.UserFileViewNext($userId, $folder.Path, $file.Name))
	#set($viewPreviousFileUrl = $core_v2_urls.UserFileViewPrevious($userId, $folder.Path, $file.Name))
#end

#if ($folder)
	#set($viewFolderUrl = $core_v2_urls.UserFiles($userId, $folder.Path))
	#set($viewFolderSlideshowUrl = $core_v2_urls.UserFilesSlideshow($userId, $folder.Path))
#end

	  &lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#if ($file)
		&lt;li class="navigation-item"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($file.Url)" class="internal-link download-attachment"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Download")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($file &amp;&amp; ($userId == $core_v2_user.Accessing.Id || $canModifyMembership == true))
		&lt;li class="navigation-item"&gt;
			&lt;a href="javascript:void(0);" class="internal-link delete-post" id="$core_v2_widget.UniqueId('DeleteUserFile')"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Delete")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($viewPreviousFileUrl &amp;&amp; $viewPreviousFileUrl != "")
		&lt;li class="navigation-item"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($viewPreviousFileUrl)" class="internal-link view-next-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Button_PreviousTopic")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($viewNextFileUrl &amp;&amp; $viewNextFileUrl != "")
		&lt;li class="navigation-item"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($viewNextFileUrl)" class="internal-link view-previous-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Button_NextTopic")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($viewFolderUrl &amp;&amp; $viewFolderUrl != "")
		&lt;li class="navigation-item"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($viewFolderUrl)" class="internal-link view-application"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("ViewUserProfile_ViewAllFiles")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($viewFolderSlideshowUrl &amp;&amp; $viewFolderSlideshowUrl != "")
		&lt;li class="navigation-item"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($viewFolderSlideshowUrl)" class="internal-link view-slideshow"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("MediaGallery_ViewSlideshow")&lt;/a&gt;
		&lt;/li&gt;
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.userFileLinks')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.userFileLinks.register({
				wrapperId : '$core_v2_widget.WrapperElementId',
				fileName : '$core_v2_encoding.JavascriptEncode($file.Name)',
				folderPath : '$core_v2_encoding.JavascriptEncode($folderPath)',
				userId : '$userId',
				viewFolderUrl : '$core_v2_encoding.JavascriptEncode($core_v2_page.AbsoluteUrl($viewFolderUrl))',
				deleteUrl : '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('delete.vm'))',
				deleteFileConfirmation : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("UserFile_DeleteConfirmation"))',
				deleteButtonSelector : '#$core_v2_widget.UniqueId('DeleteUserFile')',
				deleteFileErrorMessage : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("UserFile_DeleteError"))'
			});
		});
	&lt;/script&gt;
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_UserFileLinks_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_UserFileLinks_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Core_UserFileLinks_Name">User File Links</resource><resource name="Core_UserFileLinks_Description">Displays a list of links related to user files/folders.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Download">Download file</resource><resource name="Delete">Delete</resource><resource name="Button_PreviousTopic">Previous</resource><resource name="Button_NextTopic">Next</resource><resource name="ViewUserProfile_ViewAllFiles">View All Files</resource><resource name="MediaGallery_ViewSlideshow">View slideshow</resource><resource name="UserFile_DeleteConfirmation">Are you sure you want to delete this file?</resource><resource name="UserFile_DeleteError">The file could not be deleted.</resource><resource name="Core_UserFileLinks_Title_Actions">Actions</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
			<context id="13125ddfa45b4effbcf21ce05772fbf9" />
		</requiredContext>
		<files>
			<file name="delete.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJGZpbGVOYW1lID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ZpbGVOYW1lJykpCgkjc2V0KCRmb2xkZXJQYXRoID0gJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2ZvbGRlclBhdGgnKSkKCSNzZXQoJHVzZXJJZCA9ICRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd1c2VySWQnKSkKCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykKCgkjc2V0KCRhZGRpdGlvbmFsSW5mbyA9ICRjb3JlX3YyX3VzZXJGaWxlLkRlbGV0ZSgkZm9sZGVyUGF0aCwgJGZpbGVOYW1lLCAiJXtVc2VySWQ9JHVzZXJJZH0iKSkKCSNpZiAoJGFkZGl0aW9uYWxJbmZvLkVycm9ycy5Db3VudCA+IDApCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRhZGRpdGlvbmFsSW5mby5FcnJvcnMpCgkjZWxzZQoJCXsiZmlsZURlbGV0ZWQiOnRydWV9CgkjZW5kCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciBfZGVsZXRlRmlsZSA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJCXsNCgkJCSQudGVsbGlnZW50LmV2b2x1dGlvbi5wb3N0KHsNCgkJCQl1cmw6IGNvbnRleHQuZGVsZXRlVXJsLA0KCQkJCWRhdGE6IHsgZmlsZU5hbWU6Y29udGV4dC5maWxlTmFtZSwgZm9sZGVyUGF0aDpjb250ZXh0LmZvbGRlclBhdGgsIHVzZXJJZDpjb250ZXh0LnVzZXJJZCB9LA0KCQkJCWRhdGFUeXBlOiAnanNvbicsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQlpZiAocmVzcG9uc2UuZmlsZURlbGV0ZWQpDQoJCQkJCQl3aW5kb3cubG9jYXRpb24gPSBjb250ZXh0LnZpZXdGb2xkZXJVcmw7DQoJCQkJfQ0KCQkJfSk7DQoJCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy51c2VyRmlsZUxpbmtzID0NCgl7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KQ0KCQl7DQoJCQkkKGNvbnRleHQuZGVsZXRlQnV0dG9uU2VsZWN0b3IpLmNsaWNrKGZ1bmN0aW9uKCkNCgkJCXsNCgkJCQlpZiAoY29uZmlybShjb250ZXh0LmRlbGV0ZUZpbGVDb25maXJtYXRpb24pKQ0KCQkJCQlfZGVsZXRlRmlsZShjb250ZXh0KTsNCgkJCQkJDQoJCQkJcmV0dXJuIGZhbHNlOw0KCQkJfSk7DQoJCX0NCgl9Ow0KfSkoalF1ZXJ5KTsNCg==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserFileList_Name}" version="7.5.0.32466" description="${resource:Core_UserFileList_Description}" instanceIdentifier="ece773b8555f4b2a9252811dc474e619" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="user-file-list">
		<contentScript>
#if (!$core_v2_configuration.EnableUserFileStorage)
	$core_v2_widget.Hide()
#end

#set ($pageIndex = $core_v2_ui.GetCurrentPageIndex())
#set($userId = $core_v2_user.Current.Id)
#set($folder = $core_v2_userFolder.Current)
#set($folderPath = "")

#if ($folder &amp;&amp; $folder.Path &amp;&amp; $folder.Path != "")
	#set($folderPath = $core_v2_utility.Join('\', $folder.Path))
#end
#set($files = $core_v2_userFile.List($userId, "%{FolderPath='$folderPath',SortBy='Name',SortOrder='Ascending',PageSize=20,PageIndex=$pageIndex}"))

#foreach($file in $files)
	#beforeall
		&lt;div class="content-list-header"&gt;&lt;/div&gt;
		&lt;ul class="content-list"&gt;
	#afterall
		&lt;/ul&gt;
		&lt;div class="content-list-footer"&gt;&lt;/div&gt;
		#set($baseUrl = $core_v2_page.Url)
		#set($baseUrl = $core_v2_page.GetQueryStringValue('baseUrl'))

		$core_v2_ui.Pager($files.PageIndex, $files.PageSize, $files.TotalCount, "%{BaseUrl=$baseUrl}")
	#nodata
		&lt;div class="message norecords"&gt;$core_v2_language.GetResource("UserFile_NoFiles")&lt;/div&gt;
	#each
		&lt;li class="content-item"&gt;
			&lt;div class="abbreviated-post-header"&gt;&lt;/div&gt;
			&lt;div class="abbreviated-post"&gt;
				&lt;div class="post-attachment-viewer"&gt;
					&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFile($userId, $folder.Path, $file.Name))" class="internal-link view-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_ui.GetPreviewHtml($file.Url, "%{Width=131,Height=94}")&lt;/a&gt;
				&lt;/div&gt;
				&lt;h4 class="post-name"&gt;
					&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFile($userId, $folder.Path, $file.Name))" class="internal-link view-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_encoding.HtmlEncode($file.Name)&lt;/a&gt;
				&lt;/h4&gt;
			&lt;/div&gt;
			&lt;div class="abbreviated-post-footer"&gt;&lt;/div&gt;
		&lt;/li&gt;
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_UserFileList_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_UserFileList_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Core_UserFileList_Name">User File List</resource><resource name="Core_UserFileList_Description">Display a list of files that belong to a user.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UserFile_NoFiles">There are no files in this folder.</resource><resource name="Core_UserFileList_Title_FilesInThisFolder">Files in this Folder</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
			<context id="13125ddfa45b4effbcf21ce05772fbf9" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserFileSlideshow_Name}" version="7.5.0.32466" description="${resource:Core_UserFileSlideshow_Description}" instanceIdentifier="8ab60abeaee54b50b502ba27fca42d17" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="user-file-slideshow">
		<contentScript>
#if (!$core_v2_configuration.EnableUserFileStorage)
	$core_v2_widget.Hide()
#end

#set ($user = $core_v2_user.Current)

&lt;div style="background-color:#eee;padding:8px;border:solid 1px #ddd"&gt;
	&lt;div id="$core_v2_widget.UniqueId('currentfile')"&gt;
		$core_v2_widget.ExecuteFile('view.vm')
	&lt;/div&gt;
	&lt;div style="text-align:center;background-color:#eee;padding:8px 0;color:#999"&gt;
		&lt;a href="#" id="$core_v2_widget.UniqueId('play')" class="slideshow-playing"&gt;$core_v2_language.GetResource('MediaGallery_SlideShow_Playing')&lt;/a&gt;
	&lt;/div&gt;
	&lt;div&gt;
		&lt;div style="float:left;margin-top:24px;"&gt;
			&lt;a href="#" id="$core_v2_widget.UniqueId('previous')"&gt;&lt;img alt="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Previous'))" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('previous_disabled.gif'))" border="0" /&gt;&lt;/a&gt;
		&lt;/div&gt;
		&lt;div style="float:right;margin-top:24px;"&gt;
			&lt;a href="#" id="$core_v2_widget.UniqueId('next')"&gt;&lt;img alt="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Next'))" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('next.gif'))" border="0" /&gt;&lt;/a&gt;
		&lt;/div&gt;
		&lt;div style="border:solid 1px #ddd;padding:4px;margin:0 20px;background-color:#fff;"&gt;
			&lt;div style="width:100%;height:58px;overflow:hidden;position:relative"&gt;
				&lt;div style="position:absolute;top:0;left:0" id="$core_v2_widget.UniqueId('allfiles')"&gt;
					$core_v2_widget.ExecuteFile('page.vm')
				&lt;/div&gt;
			&lt;/div&gt;
		&lt;/div&gt;
		&lt;div style="clear:both;"&gt;&lt;/div&gt;
	&lt;/div&gt;
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.UserFileSlideshow')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function(j)
	{
		j.telligent.evolution.widgets.userFileSlideshow.register({
			currentFile:j('#$core_v2_widget.UniqueId('currentfile')'),
			allFiles:j('#$core_v2_widget.UniqueId('allfiles')'),
			next:j('#$core_v2_widget.UniqueId('next')'),
			previous:j('#$core_v2_widget.UniqueId('previous')'),
			play:j('#$core_v2_widget.UniqueId('play')'),
			itemWidth:90,
			itemsPerPage:10,
			itemDuration:9999,
			totalItems:$files.TotalCount,
			pageUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('page.vm'))',
			viewUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('view.vm'))',
			nextImageUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('next.gif'))',
			nextDisabledImageUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('next_disabled.gif'))',
			previousImageUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('previous.gif'))',
			previousDisabledImageUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('previous_disabled.gif'))',
			playingText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGallery_SlideShow_Playing'))',
			pausedText: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('MediaGallery_SlideShow_Paused'))'
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_UserFileSlideshow_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_UserFileSlideshow_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_UserFileSlideshow_Name">User File - Slideshow</resource><resource name="Core_UserFileSlideshow_Description">Displays the slideshow of user files.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="MediaGallery_SlideShow_Playing">&lt;span&gt;&lt;/span&gt;Slideshow Playing</resource><resource name="MediaGallery_SlideShow_Paused">&lt;span&gt;&lt;/span&gt;Slideshow Paused</resource><resource name="MediaGallery_FileNotViewableNoDownload">This file cannot be viewed.</resource><resource name="Next">Next</resource><resource name="Previous">Previous</resource></language></languageResources>
		<files>
			<file name="next.gif">R0lGODlhFAAUAOYAADN8LwqtAQyuAg6uAxKvBRewBxmxCByyCR2yCh6yCyKzDCa0Die0Dyu1EC+2EjC2EjW3FTu4GDaFMTqENTuINTimMUa2HUW6HEa6HUi7HUOUOUebPVK9Ili+JFm+JVq+Jlu/Jl+7KV+9KUSsOWK/LmW/LGfBLWvCLmzCL2/DNHHENnTFO06LSk6OSlCnQ1iwRmCrV2G4V2+9V2SRYWqjZmy2Z32reXfHQG7GV3fAXXPNXoC1e4S8fYDLT4LMU4fNVobOW4vNao7SZ5DRY5HTa4bVfojVepXVc5TWdpfWd5jXd43Pi4rch43Si43Ui43Yi43Zi43ci5XJkZXSkaDagqbcjKzdiavfmJzhma3gmLXhl7LGr7HkprblqMLPv8Liv8Lnv8HqvsHrvtHsvs3ty83uy9Luy9Lvzdrp19zy1N7z1dzx1uLz1+P02OXq4eXt4fT38PT48Pb78vn59fj69fv7+P///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAAHcALAAAAAAUABQAAAjNAO8IHEiwoMGDCBMKLBMFyhMwCgeKwbKmCpEeJHBMUcjkTBYlQFagGCkiBsIwZqgIGall5MgSNQ4WOeJDBYoxdtq4PJEDTUEyV264/CEnJwoTIDrwKOgkhcuRVuzYYYOCA4YNBZugGCK1a1c1FyK4KLhkq1evXSA80FDwS4iRGTJ8SCKVC4QGCWgYlHEURAYkdR0oQDBii0EpQTxYTWOHC4MEBga0QAjDQlgdRhQcIBBAgsIdLx4sQFBAQAUWEQXaoDABwAwvqWPLnh07IAA7</file>
			<file name="next_disabled.gif">R0lGODlhFAAUAPcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAUABQAAAgiAP8JHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3GgxIAA7</file>
			<file name="page.vm">I3NldCgkcGFnZUluZGV4ID0gMCkNCiNzZXQoJHBhZ2VJbmRleCA9ICRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19wYWdlSW5kZXgnKSkNCiNzZXQoJG9mZnNldCA9IDApDQojc2V0KCRvZmZzZXQgPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmdWYWx1ZSgnd19vZmZzZXQnKSkpDQojaWYoJG9mZnNldCA8IDApDQoJI3NldCgkb2Zmc2V0ID0gMCkNCiNlbmQNCg0KI3NldCgkZm9sZGVyID0gJGNvcmVfdjJfdXNlckZvbGRlci5DdXJyZW50KQ0KI3NldCgkZm9sZGVyUGF0aCA9ICIiKQ0KDQojaWYgKCRmb2xkZXIgJiYgJGZvbGRlci5QYXRoICYmICRmb2xkZXIuUGF0aCAhPSAiIikNCgkjc2V0KCRmb2xkZXJQYXRoID0gJGNvcmVfdjJfdXRpbGl0eS5Kb2luKCIuIiwgJGZvbGRlci5QYXRoKSkNCiNlbmQNCg0KI3NldCgkZmlsZXMgPSAkY29yZV92Ml91c2VyRmlsZS5MaXN0KCR1c2VyLklkLCAiJXtGb2xkZXJQYXRoPSckZm9sZGVyUGF0aCcsU29ydEJ5PSdOYW1lJyxTb3J0T3JkZXI9J0FzY2VuZGluZycsUGFnZVNpemU9MTAsUGFnZUluZGV4PSRwYWdlSW5kZXh9IikpDQojaWYoJHBhZ2VJbmRleCA9PSAkZmlsZXMuUGFnZUluZGV4KQ0KCSNmb3JlYWNoKCRmaWxlIGluICRmaWxlcykNCgkJPGRpdiBjbGFzcz0ic2xpZGVzaG93LWl0ZW0iIHN0eWxlPSJ3aWR0aDo5MHB4O2hlaWdodDo1OHB4O3Bvc2l0aW9uOmFic29sdXRlO292ZXJmbG93OmhpZGRlbjt0b3A6MHB4O2xlZnQ6JHtvZmZzZXR9cHgiPg0KCQkJPGRpdiBzdHlsZT0id2lkdGg6NjRweDtoZWlnaHQ6NDhweDttYXJnaW46MCA4cHg7cGFkZGluZzo0cHg7Ym9yZGVyOnNvbGlkIDFweCAjZWVlO292ZXJmbG93OmhpZGRlbjt0ZXh0LWFsaWduOmNlbnRlcjtjdXJzb3I6cG9pbnRlciI+DQoJCQkJPGlucHV0IHR5cGU9ImhpZGRlbiIgdmFsdWU9IiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJGZpbGUuTmFtZSkiIC8+DQoJCQkJPGRpdiBzdHlsZT0id2lkdGg6NjRweDtoZWlnaHQ6MzJweDtvdmVyZmxvdzpoaWRkZW47bWFyZ2luOjAgYXV0bzt0ZXh0LWFsaWduOmNlbnRlcjsiPg0KCQkJCQkkY29yZV92Ml91aS5HZXRQcmV2aWV3SHRtbCgkZmlsZS5VcmwsICIle1dpZHRoPTY0LEhlaWdodD0zMn0iKQ0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgc3R5bGU9IndoaXRlLXNwYWNlOm5vd3JhcDtmb250LXNpemU6ODUlIj4kY29yZV92Ml9sYW5ndWFnZS5UcnVuY2F0ZSgkZmlsZS5OYW1lLCAxMCwgJy4uLicpPC9kaXY+DQoJCQk8L2Rpdj4NCgkJPC9kaXY+DQoJCSNzZXQoJG9mZnNldCA9ICRvZmZzZXQgKyA5MCkNCgkjZW5kDQojZW5k</file>
			<file name="previous.gif">R0lGODlhFAAUAPcAADN8LwqtAQyuAg6uAxKvBRewBxmxCByyCR2yCh6yCyKzDCa0Die0Dyu1EC+2Ei63GzC2EjG2EzK2FDW3FTm4Fju4GDaFMTqENTuINTimMUa2HUS6G0W6HEa6HUi7HUOUOUebPVK9Ili+JFm+JVu/Jl+7KV+9KUSsOWK/LmW/LFPDPWfBLWvCLmzCL2/DNHHENnTFO3XGPE6LSk6OSlCnQ1iwRmCrV2G4V2+9V2WRYWujZm22Z32reXfHQHrIRX/KSW7GV3fAXYC1e4S8fYDLT4LMU4bOW4vNao7SZ5HTa4jTcIbVfpXVc5XWd5jXd6HZfaPZfY3Pi4rch43Si43Ui43Yi43Zi43ci53ci5XJkZXSkaDagqTagKLdjaPdjqbcjKzdiazfkqvfmJzhmavgmq3gmLHglbXhl7LHr77kpL/mrL7otcLPv8Liv8Lnv8HqvsHrvs/tzM/uzNLuy9Lvzdvq2Nzx1uP02OXq4eXt4fT38PT48PX78fb78vn59fn69f///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAkAAIEALAAAAAAUABQAAAjYAAMJHEiwoMGDCBMKlHPFShU3CgfCGWPnSxIiKIBoUSiFThknRmC0GGniBsI3c7Yg8cGlD5iRLVLsOLiESZEXUAABSgOTRZA6BeOI6dEiJ6A7MUauICFiSEEqLorq3HnmjJkwITqAKDilxY+pYHVyqECjYJSRRvmECeOlC5YJED4UbFNi5BOdajxsoBChQQIdBnG0WNpEJxkJDhQgOIHGYJYjI7IqAbSGQQIDA2YgtKFhbAQVDw4QCGABT0IhNSAsQFBAQAYZphXm4YHhAoAcbCLq3s27t8CAADs=</file>
			<file name="previous_disabled.gif">R0lGODlhFAAUAPcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAEAAP8ALAAAAAAUABQAAAgiAP8JHEiwoMGDCBMqXMiwocOHECNKnEixosWLGDNq3GgxIAA7</file>
			<file name="ui.js">KGZ1bmN0aW9uKGosIGdsb2JhbCl7DQoNCglpZiAodHlwZW9mIGoudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgew0KCQlqLnRlbGxpZ2VudCA9IHt9Ow0KCX0NCg0KCWlmICh0eXBlb2Ygai50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgew0KCQlqLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsNCgl9DQoNCglpZiAodHlwZW9mIGoudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgew0KCQlqLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9Ow0KCX0NCg0KCXZhciBfcHJvY2Vzc1BhZ2UgPSBmdW5jdGlvbihjb250ZXh0LCBqUSkNCgkJew0KCQkJalEuZmlsdGVyKCcuc2xpZGVzaG93LWl0ZW0nKQ0KCQkJCS5lYWNoKGZ1bmN0aW9uKCkgew0KCQkJCQl2YXIgdCA9IGoodGhpcyk7DQoJCQkJCXQuZGF0YSgndXNlckZpbGVTbGlkZXNob3cnLCB7IGZpbGVOYW1lOiB0LmZpbmQoJ2lucHV0JykudmFsKCksIGluZGV4OiBjb250ZXh0Ll9maWxlcy5sZW5ndGh9KTsNCgkJCQkJY29udGV4dC5fZmlsZXNbY29udGV4dC5fZmlsZXMubGVuZ3RoXSA9IHQ7DQoNCgkJCQkJdA0KCQkJCQkJLmJpbmQoJ21vdXNlb3ZlcicsIGZ1bmN0aW9uKCkgew0KCQkJCQkJCWlmIChqKHRoaXMpLmRhdGEoJ3VzZXJGaWxlU2xpZGVzaG93JykuaW5kZXggIT09IGNvbnRleHQuX2N1cnJlbnRJbmRleCkgew0KCQkJCQkJCQlqKHRoaXMpLmNoaWxkcmVuKCkuY3NzKCdiYWNrZ3JvdW5kLWNvbG9yJywgJyNlZWUnKTsNCgkJCQkJCQl9DQoJCQkJCQl9KQ0KCQkJCQkJLmJpbmQoJ21vdXNlb3V0JywgZnVuY3Rpb24oKSB7DQoJCQkJCQkJaWYgKGoodGhpcykuZGF0YSgndXNlckZpbGVTbGlkZXNob3cnKS5pbmRleCA9PT0gY29udGV4dC5fY3VycmVudEluZGV4KSB7DQoJCQkJCQkJCWoodGhpcykuY2hpbGRyZW4oKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnI2NjYycpOw0KCQkJCQkJCX0gZWxzZSB7DQoJCQkJCQkJCWoodGhpcykuY2hpbGRyZW4oKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCcnKTsNCgkJCQkJCQl9DQoJCQkJCQl9KQ0KCQkJCQkJLmJpbmQoJ2NsaWNrJywgZnVuY3Rpb24oKSB7DQoJCQkJCQkJX3Nob3dJdGVtKGNvbnRleHQsIGoodGhpcykuZGF0YSgndXNlckZpbGVTbGlkZXNob3cnKS5pbmRleCk7DQoJCQkJCQl9KTsNCgkJCQl9KTsNCgkJfSwNCgkJX3Nob3dJdGVtID0gZnVuY3Rpb24oY29udGV4dCwgaW5kZXgpDQoJCXsNCgkJCWlmIChjb250ZXh0Ll9jdXJyZW50SW5kZXggPT09IGluZGV4IHx8IGluZGV4ID49IGNvbnRleHQuX2ZpbGVzLmxlbmd0aCB8fCBpbmRleCA8IDApIHsNCgkJCQlyZXR1cm47DQoJCQl9DQoNCgkJCWNvbnRleHQuX2ZpbGVzW2NvbnRleHQuX2N1cnJlbnRJbmRleF0uY2hpbGRyZW4oKS5jc3MoJ2JhY2tncm91bmQtY29sb3InLCAnJyk7DQoJCQljb250ZXh0Ll9jdXJyZW50SW5kZXggPSBpbmRleDsNCgkJCWNvbnRleHQuX2ZpbGVzW2luZGV4XS5jaGlsZHJlbigpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjY2NjJyk7DQoNCgkJCWoudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KCQkJCQl1cmw6IGNvbnRleHQudmlld1VybCwNCgkJCQkJZGF0YTogeyB3X2ZpbGVOYW1lOiBjb250ZXh0Ll9maWxlc1tpbmRleF0uZGF0YSgndXNlckZpbGVTbGlkZXNob3cnKS5maWxlTmFtZSB9LA0KCQkJCQlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkNCgkJCQkJew0KCQkJCQkJY29udGV4dC5jdXJyZW50RmlsZS5odG1sKHJlc3BvbnNlKTsNCgkJCQkJCWlmIChjb250ZXh0Ll9wbGF5aW5nKQ0KCQkJCQkJew0KCQkJCQkJCWdsb2JhbC5jbGVhclRpbWVvdXQoY29udGV4dC5fcGxheUhhbmRsZSk7DQoJCQkJCQkJY29udGV4dC5fcGxheUhhbmRsZSA9IGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBfbW92ZU5leHQoY29udGV4dCk7IH0sIGNvbnRleHQuaXRlbUR1cmF0aW9uKTsNCgkJCQkJCX0NCgkJCQkJfSwNCgkJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYykNCgkJCQkJew0KCQkJCQkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLm5vdGlmaWNhdGlvbnMuc2hvdyhkZXNjLHt0eXBlOidlcnJvcid9KTsNCgkJCQkJCWlmIChjb250ZXh0Ll9wbGF5aW5nKQ0KCQkJCQkJew0KCQkJCQkJCWdsb2JhbC5jbGVhclRpbWVvdXQoY29udGV4dC5fcGxheUhhbmRsZSk7DQoJCQkJCQkJY29udGV4dC5fcGxheUhhbmRsZSA9IGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBfbW92ZU5leHQoY29udGV4dCk7IH0sIGNvbnRleHQuaXRlbUR1cmF0aW9uKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0pOw0KDQoJCQl2YXIgc2Nyb2xsSW5kZXggPSAoaW5kZXggLSBNYXRoLmZsb29yKChjb250ZXh0LmFsbEZpbGVzLnBhcmVudCgpLndpZHRoKCkgLyAoY29udGV4dC5pdGVtV2lkdGggKiAyKSkgLSAwLjUpKSAqIC1jb250ZXh0Lml0ZW1XaWR0aDsNCgkJCWlmIChzY3JvbGxJbmRleCA+IDApIHsNCgkJCQlzY3JvbGxJbmRleCA9IDA7DQoJCQl9DQoNCgkJCWNvbnRleHQuYWxsRmlsZXMuYW5pbWF0ZSh7IGxlZnQ6IHNjcm9sbEluZGV4ICsgJ3B4JyB9LCA0OTksIGZ1bmN0aW9uKCkgeyBfdmFsaWRhdGVQYWdlTG9hZGVkKGNvbnRleHQpOyB9KTsNCg0KCQkJaWYgKGluZGV4ID4gMCkgew0KCQkJCWNvbnRleHQucHJldmlvdXMuZmluZCgnaW1nJykuYXR0cignc3JjJywgY29udGV4dC5wcmV2aW91c0ltYWdlVXJsKTsNCgkJCX0gZWxzZSB7DQoJCQkJY29udGV4dC5wcmV2aW91cy5maW5kKCdpbWcnKS5hdHRyKCdzcmMnLCBjb250ZXh0LnByZXZpb3VzRGlzYWJsZWRJbWFnZVVybCk7DQoJCQl9DQoNCgkJCWlmIChpbmRleCArIDEgPCBjb250ZXh0LnRvdGFsSXRlbXMpIHsNCgkJCQljb250ZXh0Lm5leHQuZmluZCgnaW1nJykuYXR0cignc3JjJywgY29udGV4dC5uZXh0SW1hZ2VVcmwpOw0KCQkJfSBlbHNlIHsNCgkJCQljb250ZXh0Lm5leHQuZmluZCgnaW1nJykuYXR0cignc3JjJywgY29udGV4dC5uZXh0RGlzYWJsZWRJbWFnZVVybCk7DQoJCQl9DQoNCgkJCV92YWxpZGF0ZVBhZ2VMb2FkZWQoY29udGV4dCk7DQoJCX0sDQoJCV92YWxpZGF0ZVBhZ2VMb2FkZWQgPSBmdW5jdGlvbihjb250ZXh0KQ0KCQl7DQoJCQlpZiAoY29udGV4dC5fY3VycmVudEluZGV4ICsgMSArIE1hdGguY2VpbChjb250ZXh0LmFsbEZpbGVzLnBhcmVudCgpLndpZHRoKCkgLyBjb250ZXh0Lml0ZW1XaWR0aCkgPiBjb250ZXh0Ll9maWxlcy5sZW5ndGggJiYgY29udGV4dC5fZmlsZXMubGVuZ3RoICE9PSBjb250ZXh0LnRvdGFsSXRlbXMpDQoJCQl7DQoJCQkJdmFyIHBhZ2VUb0xvYWQgPSBNYXRoLmNlaWwoY29udGV4dC5fZmlsZXMubGVuZ3RoIC8gY29udGV4dC5pdGVtc1BlclBhZ2UpOw0KCQkJCWlmIChwYWdlVG9Mb2FkID4gY29udGV4dC5fbGFzdFBhZ2VMb2FkZWQpDQoJCQkJew0KCQkJCQljb250ZXh0Ll9sYXN0UGFnZUxvYWRlZCA9IHBhZ2VUb0xvYWQ7DQoJCQkJCWoudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KCQkJCQkJdXJsOiBjb250ZXh0LnBhZ2VVcmwsDQoJCQkJCQlkYXRhOiB7IHdfcGFnZUluZGV4OiBwYWdlVG9Mb2FkLCB3X29mZnNldDogKGNvbnRleHQuX2ZpbGVzLmxlbmd0aCAqIGNvbnRleHQuaXRlbVdpZHRoKSB9LA0KCQkJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJCQl7DQoJCQkJCQkJdmFyIHAgPSBqKHJlc3BvbnNlKTsNCgkJCQkJCQlfcHJvY2Vzc1BhZ2UoY29udGV4dCwgcCk7DQoJCQkJCQkJY29udGV4dC5hbGxGaWxlcy5hcHBlbmQocCk7DQoJCQkJCQl9LA0KCQkJCQkJZXJyb3I6IGZ1bmN0aW9uKHhociwgZGVzYykNCgkJCQkJCXsNCgkJCQkJCQlqLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KGRlc2Mse3R5cGU6J2Vycm9yJ30pOw0KCQkJCQkJCWNvbnRleHQuX2xhc3RQYWdlTG9hZGVkID0gcGFnZVRvTG9hZCAtIDE7DQoJCQkJCQl9DQoJCQkJCX0pOw0KCQkJCX0NCgkJCX0NCgkJfSwNCgkJX21vdmVOZXh0ID0gZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJaWYgKGNvbnRleHQuX2N1cnJlbnRJbmRleCArIDEgPCBjb250ZXh0LnRvdGFsSXRlbXMpIHsNCgkJCQlfc2hvd0l0ZW0oY29udGV4dCwgY29udGV4dC5fY3VycmVudEluZGV4ICsgMSk7DQoJCQl9IGVsc2Ugew0KCQkJCV9zaG93SXRlbShjb250ZXh0LCAwKTsNCgkJCX0NCgkJfSwNCgkJX21vdmVQcmV2aW91cyA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJCXsNCgkJCWlmIChjb250ZXh0Ll9jdXJyZW50SW5kZXggPiAwKSB7DQoJCQkJX3Nob3dJdGVtKGNvbnRleHQsIGNvbnRleHQuX2N1cnJlbnRJbmRleCAtIDEpOw0KCQkJfQ0KCQl9LA0KCQlfdG9nZ2xlUGxheSA9IGZ1bmN0aW9uKGNvbnRleHQpDQoJCXsNCgkJCWlmIChjb250ZXh0Ll9wbGF5aW5nKQ0KCQkJew0KCQkJCWNvbnRleHQuX3BsYXlpbmcgPSBmYWxzZTsNCgkJCQlnbG9iYWwuY2xlYXJUaW1lb3V0KGNvbnRleHQuX3BsYXlIYW5kbGUpOw0KCQkJCWNvbnRleHQucGxheS5odG1sKGNvbnRleHQucGF1c2VkVGV4dCkNCgkJCQkJLnJlbW92ZUNsYXNzKCdzbGlkZXNob3ctcGxheWluZycpDQoJCQkJCS5hZGRDbGFzcygnc2xpZGVzaG93LXBhdXNlZCcpOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCWNvbnRleHQuX3BsYXlpbmcgPSB0cnVlOw0KCQkJCWNvbnRleHQuX3BsYXlIYW5kbGUgPSBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpIHsgX21vdmVOZXh0KGNvbnRleHQpOyB9LCBjb250ZXh0Lml0ZW1EdXJhdGlvbik7DQoJCQkJY29udGV4dC5wbGF5Lmh0bWwoY29udGV4dC5wbGF5aW5nVGV4dCkNCgkJCQkJLnJlbW92ZUNsYXNzKCdzbGlkZXNob3ctcGF1c2VkJykNCgkJCQkJLmFkZENsYXNzKCdzbGlkZXNob3ctcGxheWluZycpOw0KCQkJfQ0KCQl9Ow0KDQoJai50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMudXNlckZpbGVTbGlkZXNob3cgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQljb250ZXh0Ll9maWxlcyA9IFtdOw0KCQkJX3Byb2Nlc3NQYWdlKGNvbnRleHQsIGNvbnRleHQuYWxsRmlsZXMuY2hpbGRyZW4oKSk7DQoJCQljb250ZXh0Ll9jdXJyZW50SW5kZXggPSAwOw0KCQkJY29udGV4dC5fcGxheWluZyA9IHRydWU7DQoJCQljb250ZXh0Ll9sYXN0UGFnZUxvYWRlZCA9IDA7DQoJCQljb250ZXh0Ll9wbGF5SGFuZGxlID0gZ2xvYmFsLnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7IF9tb3ZlTmV4dChjb250ZXh0KTsgfSwgY29udGV4dC5pdGVtRHVyYXRpb24pOw0KCQkJY29udGV4dC5wbGF5LmNsaWNrKGZ1bmN0aW9uKCkgeyBfdG9nZ2xlUGxheShjb250ZXh0KTsgcmV0dXJuIGZhbHNlOyB9KTsNCgkJCWNvbnRleHQubmV4dC5jbGljayhmdW5jdGlvbigpIHsgX21vdmVOZXh0KGNvbnRleHQpOyByZXR1cm4gZmFsc2U7IH0pOw0KCQkJY29udGV4dC5wcmV2aW91cy5jbGljayhmdW5jdGlvbigpIHsgX21vdmVQcmV2aW91cyhjb250ZXh0KTsgcmV0dXJuIGZhbHNlOyB9KTsNCg0KCQkJaWYgKGNvbnRleHQuX2ZpbGVzLmxlbmd0aCA+IDApIHsNCgkJCQljb250ZXh0Ll9maWxlc1swXS5jaGlsZHJlbigpLmNzcygnYmFja2dyb3VuZC1jb2xvcicsICcjY2NjJyk7DQoJCQl9DQoNCgkJCWlmIChjb250ZXh0LnRvdGFsSXRlbXMgPD0gMSkgew0KCQkJCWNvbnRleHQubmV4dC5maW5kKCdpbWcnKS5hdHRyKCdzcmMnLCBjb250ZXh0Lm5leHREaXNhYmxlZEltYWdlVXJsKTsNCgkJCX0NCgkJfQ0KCX07DQoNCn0pKGpRdWVyeSwgd2luZG93KTsNCg==</file>
			<file name="view.vm">I3NldCgkZmlsZU5hbWUgPSAkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfZmlsZU5hbWUnKSkNCiNzZXQoJGZvbGRlciA9ICRjb3JlX3YyX3VzZXJGb2xkZXIuQ3VycmVudCkNCiNzZXQoJHVzZXIgPSAkY29yZV92Ml91c2VyLkN1cnJlbnQpDQojc2V0KCRmb2xkZXJQYXRoID0gIiIpDQoNCiNpZiAoJGZvbGRlciAmJiAkZm9sZGVyLlBhdGggJiYgJGZvbGRlci5QYXRoICE9ICIiKQ0KCSNzZXQoJGZvbGRlclBhdGggPSAkY29yZV92Ml91dGlsaXR5LkpvaW4oIi4iLCAkZm9sZGVyLlBhdGgpKQ0KI2VuZA0KDQojc2V0KCRmaWxlID0gZmFsc2UpDQojaWYgKCRmaWxlTmFtZSAmJiAkZmlsZU5hbWUgIT0gIiIpDQoJI3NldCgkZmlsZSA9ICRjb3JlX3YyX3VzZXJGaWxlLkdldCgkdXNlci5JZCwgJGZvbGRlclBhdGgsICRmaWxlTmFtZSkpDQojZWxzZQ0KCSNzZXQoJGZpbGVzID0gJGNvcmVfdjJfdXNlckZpbGUuTGlzdCgkdXNlci5JZCwgIiV7Rm9sZGVyUGF0aD0kZm9sZGVyUGF0aCxTb3J0Qnk9J05hbWUnLFNvcnRPcmRlcj0nQXNjZW5kaW5nJyxQYWdlU2l6ZT0xLFBhZ2VJbmRleD0wfSIpKQ0KCSNpZigkZmlsZXMuVG90YWxDb3VudCA+IDApDQoJCSNzZXQoJGZpbGUgPSAkZmlsZXMuZ2V0X0l0ZW0oMCkpDQoJI2Vsc2UNCgkJI3NldCgkZmlsZSA9IGZhbHNlKQ0KCSNlbmQNCiNlbmQNCg0KI2lmKCRmaWxlKQ0KCTxkaXYgc3R5bGU9InRleHQtYWxpZ246Y2VudGVyOyI+DQoJCTxkaXYgc3R5bGU9ImZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEwMCU7cGFkZGluZzo4cHggMCI+PGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkZmlsZS5VcmwpIj4kY29yZV92Ml9lbmNvZGluZy5IdG1sRW5jb2RlKCRmaWxlLk5hbWUpPC9hPjwvZGl2Pg0KCQk8ZGl2IHN0eWxlPSJ3aWR0aDo0MDBweDttaW4taGVpZ2h0OjMwMHB4O2JhY2tncm91bmQtY29sb3I6IzAwMDtjb2xvcjojZmZmO21hcmdpbjowIGF1dG87cGFkZGluZzoycHg7Ij4NCgkJCTx0YWJsZSBjZWxscGFkZGluZz0iMCIgY2VsbHNwYWNpbmc9IjAiIGJvcmRlcj0iMCIgc3R5bGU9IndpZHRoOjQwMHB4O2hlaWdodDozMDBweDsiPjx0cj48dGQgdmFsaWduPSJtaWRkbGUiPjx0ZCBhbGlnbj0iY2VudGVyIj4NCgkJCQkjc2V0KCR2aWV3SHRtbCA9IGZhbHNlKQ0KCQkJCSNzZXQoJHZpZXdIdG1sID0gJGNvcmVfdjJfdWkuR2V0Vmlld0h0bWwoJGZpbGUuVXJsLCAiJXtXaWR0aD00MDAsSGVpZ2h0PTMwMH0iKSkNCgkJCQkjaWYoJHZpZXdIdG1sICYmICR2aWV3SHRtbC5MZW5ndGggPiAwKQ0KCQkJCQkkdmlld0h0bWwNCgkJCQkjZWxzZQ0KCQkJCQkkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnTWVkaWFHYWxsZXJ5X0ZpbGVOb3RWaWV3YWJsZU5vRG93bmxvYWQnKQ0KCQkJCSNlbmQNCgkJCTwvdGQ+PC90cj48L3RhYmxlPg0KCQk8L2Rpdj4NCgk8L2Rpdj4NCiNlbHNlDQoJPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7Ij4NCgkJPGRpdiBzdHlsZT0iZm9udC13ZWlnaHQ6Ym9sZDtmb250LXNpemU6MTAwJTtwYWRkaW5nOjhweCAwIj4mbmJzcDs8L2Rpdj4NCgkJPGRpdiBzdHlsZT0id2lkdGg6NDAwcHg7bWluLWhlaWdodDozMDBweDtiYWNrZ3JvdW5kLWNvbG9yOiMwMDA7Y29sb3I6I2ZmZjttYXJnaW46MCBhdXRvO3BhZGRpbmc6MnB4OyI+DQoJCQk8dGFibGUgY2VsbHBhZGRpbmc9IjAiIGNlbGxzcGFjaW5nPSIwIiBib3JkZXI9IjAiIHN0eWxlPSJ3aWR0aDo0MDBweDtoZWlnaHQ6MzAwcHg7Ij48dHI+PHRkIHZhbGlnbj0ibWlkZGxlIj48dGQgYWxpZ249ImNlbnRlciI+DQoJCQkJJGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ01lZGlhR2FsbGVyeV9GaWxlTm90Vmlld2FibGVOb0Rvd25sb2FkJykNCgkJCTwvdGQ+PC90cj48L3RhYmxlPg0KCQk8L2Rpdj4NCgk8L2Rpdj4NCiNlbmQ=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserFolderList_Name}" version="7.5.0.32466" description="${resource:Core_UserFolderList_Description}" instanceIdentifier="62d2e70e3985404b8e48175e8bd8d56d" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="user-folder-list">
		<contentScript>
#if (!$core_v2_configuration.EnableUserFileStorage)
	$core_v2_widget.Hide()
#end

	  #set($userId = $core_v2_user.Current.Id)
	  #set($folder = $core_v2_userFolder.Current)
#set($folderPath = "")
#set($viewFolderUrl = $core_v2_urls.UserFiles($userId, $folder.Path))
#set($viewParentFolderUrl = "")
#set($canDeleteFolder = $userId == $core_v2_user.Accessing.Id &amp;&amp; $core_v2_user.IsRegistered($userId))

#if ($folder &amp;&amp; $folder.Path &amp;&amp; $folder.Path != "")
	#set($folderPath = $core_v2_utility.Join("\\", $folder.Path))
#end

#if ($folderPath != "")
	#set ($viewParentFolderUrl = $core_v2_urls.UserFiles($userId, $core_v2_userFolder.GetParent($userId, $folderPath).Path))
#end

	  &lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#if ($viewParentFolderUrl != "")
		&lt;li class="navigation-item view-parent"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($viewParentFolderUrl)" class="internal-link view-user-folder"&gt;$core_v2_language.GetResource("UserFolderList_ParentFolder")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($viewFolderUrl &amp;&amp; $viewFolderUrl != "")
		&lt;li class="navigation-item selected"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($viewFolderUrl)" class="internal-link view-user-folder"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_encoding.HtmlEncode($core_v2_language.Truncate($folder.Name, 15, ""))&lt;/a&gt;
		&lt;/li&gt;
	#end
	#foreach ($childFolder in $core_v2_userFolder.List($userId, $folderPath))
	#each
		&lt;li class="navigation-item"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFiles($userId, $childFolder.Path))" class="internal-link view-user-folder"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_encoding.HtmlEncode($core_v2_language.Truncate($childFolder.Name, 15, ""))&lt;/a&gt;
			#if ($canDeleteFolder)
				&lt;a href="javascript:void(0);" class="internal-link delete-user-folder" title="$core_v2_language.GetResource("Delete")"&gt;$core_v2_language.GetResource("Delete")&lt;/a&gt;
				&lt;input type="hidden" value="$core_v2_encoding.HtmlAttributeEncode($core_v2_utility.Join(".", $childFolder.Path))" /&gt;
			#end
		&lt;/li&gt;
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.userFolderList')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.userFolderList.register({
				wrapperId : '$core_v2_widget.WrapperElementId',
				userId : '$userId',
				viewFolderUrl : '$core_v2_encoding.JavascriptEncode($core_v2_page.AbsoluteUrl($viewFolderUrl))',
				deleteUrl : '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('delete.vm'))',
				deleteFolderSelector : '.delete-user-folder',
				deleteFolderConfirmation : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("UserFolderList_DeleteConfirmation"))',
				deleteFolderErrorMessage : '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource("UserFolderList_DeleteError"))'
			});
		});
	&lt;/script&gt;
#end
	</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_UserFileLinks_Name}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_UserFileLinks_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
	</configuration>
		<languageResources><language key="en-us"><resource name="Core_UserFolderList_Name">User Folder List</resource><resource name="Core_UserFolderList_Description">Display a list of folders that belong to a user.</resource><resource name="Core_UserFileLinks_Name">User File Links</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="UserFolderList_ParentFolder">&lt;span&gt;&lt;/span&gt;Parent Folder</resource><resource name="Delete">Delete</resource><resource name="UserFolderList_DeleteConfirmation">Are you sure you want to delete this folder?</resource><resource name="UserFolderList_DeleteError">An error occurred while trying to delete the folder.</resource><resource name="Core_UserFolderList_Title_Folders">Folders</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
			<context id="13125ddfa45b4effbcf21ce05772fbf9" />
		</requiredContext>
		<files>
			<file name="delete.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJGZvbGRlclBhdGggPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgnZm9sZGVyUGF0aCcpKQoKCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQoKCSNzZXQoJGFkZGl0aW9uYWxJbmZvID0gJCFjb3JlX3YyX3VzZXJGb2xkZXIuRGVsZXRlKCRmb2xkZXJQYXRoKSkKCSNpZiAoJGFkZGl0aW9uYWxJbmZvLkVycm9ycy5Db3VudCA+IDApCgkJJGNvcmVfdjJfcGFnZS5TZW5kSnNvbkVycm9yKCRhZGRpdGlvbmFsSW5mby5FcnJvcnMpCgkjZWxzZQoJCXsiZm9sZGVyRGVsZXRlZCI6dHJ1ZX0KCSNlbmQKI2VuZA==</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpDQp7DQoJaWYgKHR5cGVvZiAkLnRlbGxpZ2VudCA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQgPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPSB7fTsgfQ0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0ge307IH0NCg0KCXZhciBfZGVsZXRlRm9sZGVyID0gZnVuY3Rpb24oY29udGV4dCwgZm9sZGVyUGF0aCkNCgkJew0KCQkJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnBvc3Qoew0KCQkJCXVybDogY29udGV4dC5kZWxldGVVcmwsDQoJCQkJZGF0YTogeyBmb2xkZXJQYXRoOmZvbGRlclBhdGgsIHVzZXJJZDpjb250ZXh0LnVzZXJJZCB9LA0KCQkJCWRhdGFUeXBlOiAnanNvbicsDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQl3aW5kb3cubG9jYXRpb24gPSBjb250ZXh0LnZpZXdGb2xkZXJVcmw7DQoJCQkJfQ0KCQkJfSk7DQoJCX07DQoNCgkkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy51c2VyRm9sZGVyTGlzdCA9DQoJew0KCQlyZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkNCgkJew0KCQkJdmFyIHcgPSAkKCcjJyArIGNvbnRleHQud3JhcHBlcklkKTsNCgkJCSQoY29udGV4dC5kZWxldGVGb2xkZXJTZWxlY3RvciwgdykuZWFjaChmdW5jdGlvbihpbmRleCwgZSkNCgkJCXsNCgkJCQkkKGUpLmNsaWNrKGZ1bmN0aW9uKCkNCgkJCQl7DQoJCQkJCXZhciBmb2xkZXJQYXRoID0gJCgnaW5wdXQnLCAkKHRoaXMpLnBhcmVudCgpKS52YWwoKTsNCgkJCQkJaWYgKGNvbmZpcm0oY29udGV4dC5kZWxldGVGb2xkZXJDb25maXJtYXRpb24pKQ0KCQkJCQkJX2RlbGV0ZUZvbGRlcihjb250ZXh0LCBmb2xkZXJQYXRoKTsNCgkJCQkJCQ0KCQkJCQlyZXR1cm4gZmFsc2U7DQoJCQkJfSk7DQoJCQl9KTsNCgkJfQ0KCX07DQp9KShqUXVlcnkpOw0K</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserHover_Name}" version="7.5.0.32466" description="${resource:Core_UserHover_Description}" instanceIdentifier="212f71d69e37457887f33f32918f6ae2" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="user-hover">
		<contentScript>
#registerEndOfPageHtml('telligent.evolution.widgets.userHover')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
		jQuery(function(){
			jQuery.telligent.evolution.widgets.userHover.register({
				getUserInformationUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('get-user-information.vm'))',
				getRecentActivityUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('get-recent-activity.vm'))'
			});
		});
	&lt;/script&gt;
#end
			</contentScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="profileFields"
		resourceName="Core_UserHover_ProfileFields"
		descriptionResourceName="Core_UserHover_ProfileFields_Description"
		dataType="custom" defaultValue="" enableRequiredFields="false" maxSelection="2" height="250"
		controlType="Telligent.Evolution.Controls.UserProfileSettings, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Core_UserHover_Name">User - Hover</resource><resource name="Core_UserHover_Description">Adds support for identifying links to users and rendering an informational pop-up when users hover on these links.</resource><resource name="Options">Options</resource><resource name="Core_UserHover_ProfileFields">User Profile Fields</resource><resource name="Core_UserHover_ProfileFields_Description">Select and arrange two profile fields to be displayed.</resource><resource name="CF_ActivityMessageList_InGroup">in</resource><resource name="Core_UserHover_NoActivity">No Activity</resource><resource name="Core_UserHover_AddFriend">Add as a ${friend_lowercase}</resource><resource name="Core_UserHover_StartConversation">Send a private message</resource><resource name="Core_UserHover_RecentActivity">Recent Activity</resource></language></languageResources>
		<files>
			<file name="get-recent-activity.vm">I3NldCAoJHVzZXJJZCA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCd3X3VzZXJJZCcpKSkKI3NldCAoJHBhZ2VTaXplID0gNSkKI3NldCAoJHN0YXJ0RGF0ZSA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VEYXRlKCczMDAwJywnMScsJzEnKSkKCiNzZXQoJGFjdGl2aXRpZXMgPSAkY29yZV92Ml9hY3Rpdml0eU1lc3NhZ2UuTGlzdCgiJXtVc2VySWQ9JHVzZXJJZCxJbmNsdWRlU3RhdHVzPSd0cnVlJyxQYWdlU2l6ZT0kcGFnZVNpemUsQmVmb3JlRGF0ZT0kc3RhcnREYXRlfSIpKQoKI2ZvcmVhY2goJGFjdGl2aXR5IGluICRhY3Rpdml0aWVzKQojYmVmb3JlYWxsCiAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIGFjdGl2aXR5Ij48L2Rpdj4KICAgIDx1bCBjbGFzcz0iY29udGVudC1saXN0IGFjdGl2aXR5Ij4KI2VhY2gKICAgICNzZXQgKCRhY3Rpdml0eVR5cGUgPSAnU3RhdHVzJykKICAgICNzZXQgKCRhY3Rpdml0eVR5cGUgPSAkYWN0aXZpdHkuVHlwZSkKICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtICRjb3JlX3YyX3VpLk1ha2VDc3NDbGFzc05hbWUoJGFjdGl2aXR5VHlwZSkiPgogICAgICAgIDxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1oZWFkZXIiPjwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZ1bGwtcG9zdCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtdGh1bWJuYWlsIj48L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1jb250ZW50IHVzZXItZGVmaW5lZC1tYXJrdXAiPgogICAgICAgICAgICAgICAgJGFjdGl2aXR5LlJlbmRlcmVkQm9keQogICAgICAgICAgICAgICAgI2lmICgkYWN0aXZpdHlUeXBlID09ICdTdGF0dXMnICYmICRhY3Rpdml0eS5Hcm91cCkKICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icG9zdC1ncm91cCI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NGX0FjdGl2aXR5TWVzc2FnZUxpc3RfSW5Hcm91cCcpIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGFjdGl2aXR5Lkdyb3VwLlVybCkiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHZpZXctZ3JvdXAiPiRhY3Rpdml0eS5Hcm91cC5OYW1lPC9hPi48L3NwYW4+CiAgICAgICAgICAgICAgICAjZW5kCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0icG9zdC1kYXRlIj4kY29yZV92Ml9sYW5ndWFnZS5Gb3JtYXRBZ29EYXRlKCRhY3Rpdml0eS5DcmVhdGVkRGF0ZSk8L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgY2xhc3M9ImZ1bGwtcG9zdC1mb290ZXIiPjwvZGl2PgogICAgPC9saT4KI2FmdGVyYWxsCiAgICA8L3VsPgogICAgPGRpdiBjbGFzcz0iY29udGVudC1saXN0LWZvb3RlciBhY3Rpdml0eSI+PC9kaXY+CiNub2RhdGEKICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1oZWFkZXIgYWN0aXZpdHkiPjwvZGl2PgogICAgPHVsIGNsYXNzPSJjb250ZW50LWxpc3QgYWN0aXZpdHkiPgogICAgICAgIDxsaSBjbGFzcz0iY29udGVudC1pdGVtIj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWhlYWRlciI+PC9kaXY+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImZ1bGwtcG9zdCI+CiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWNvbnRlbnQiPgogICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdDb3JlX1VzZXJIb3Zlcl9Ob0FjdGl2aXR5JykKICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgPGRpdiBjbGFzcz0iZnVsbC1wb3N0LWZvb3RlciI+PC9kaXY+CiAgICAgICAgPC9saT4KICAgIDwvdWw+CiAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtZm9vdGVyIGFjdGl2aXR5Ij48L2Rpdj4KI2VuZAo=</file>
			<file name="get-user-information.vm">I3NldCAoJHNlbGVjdGVkRmllbGRzVmFsdWUgPSAkY29yZV92Ml93aWRnZXQuR2V0Q3VzdG9tVmFsdWUoJ3Byb2ZpbGVGaWVsZHMnLCdTZWxlY3RlZEZpZWxkPVRpdGxlJmFtcDtTZWxlY3RlZEZpZWxkPUxvY2F0aW9uJykpDQojc2V0ICgkc2VsZWN0ZWRGaWVsZHMgPSBmYWxzZSkNCiNzZXQgKCRzZWxlY3RlZEZpZWxkcyA9ICRjb3JlX3YyX3BhZ2UuUGFyc2VRdWVyeVN0cmluZygkc2VsZWN0ZWRGaWVsZHNWYWx1ZSkuVmFsdWVzKCdTZWxlY3RlZEZpZWxkJykpDQojaWYgKCRzZWxlY3RlZEZpZWxkcyAmJiAkc2VsZWN0ZWRGaWVsZHMuQ291bnQgPiAyKQ0KICAgICNzZXQgKCRzZWxlY3RlZEZpZWxkcyA9ICRjb3JlX3YyX3V0aWxpdHkuU2xpY2UoJHNlbGVjdGVkRmllbGRzLCAwLCAyKSkNCiNlbmQNCg0KI3NldCAoJHVzZXJOYW1lID0gJGNvcmVfdjJfZW5jb2RpbmcuVXJsRGVjb2RlRmlsZUNvbXBvbmVudCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfaG92ZXJVc2VyTmFtZScpKSkNCiNzZXQgKCR1c2VyID0gZmFsc2UpDQojc2V0ICgkdXNlciA9ICRjb3JlX3YyX3VzZXIuR2V0KCIle1VzZXJuYW1lPSR1c2VyTmFtZX0iKSkNCg0KI3NldCAoJHJvbGVzID0gJGNvcmVfdjJfcm9sZS5MaXN0KCIleyBVc2VySWQgPSAkdXNlci5JZCB9IikpDQojc2V0ICgkcmFua3MgPSAkY29yZV92Ml9yYW5rLkxpc3QoIiV7IFVzZXJJZCA9ICR1c2VyLklkIH0iKSkNCg0KI2lmICgkdXNlcikNCiAgICAjc2V0ICgkYWNjZXNzaW5nVXNlciA9ICRjb3JlX3YyX3VzZXIuQWNjZXNzaW5nKQ0KICAgICNzZXQgKCRmcmllbmRzaGlwID0gZmFsc2UpDQogICAgI3NldCAoJGZyaWVuZHNoaXAgPSAkY29yZV92Ml9mcmllbmRzaGlwLkdldCgiJXsgVXNlcklkID0gJGFjY2Vzc2luZ1VzZXIuSWQsIEZyaWVuZElkID0gJHVzZXIuSWQgfSIpKQ0KDQoNCiAgICA8ZGl2IGNsYXNzPSJhcnJvdyBldm9sdXRpb24yLWFycm93IGZpamktYXJyb3ciPjwvZGl2Pg0KDQogICAgPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdC1oZWFkZXIiPg0KICAgICAgICA8ZGl2IGNsYXNzPSJsIGV2b2x1dGlvbjItbCBmaWppLWwiPjwvZGl2Pg0KICAgICAgICA8ZGl2IGNsYXNzPSJyIGV2b2x1dGlvbjItciBmaWppLXIiPjwvZGl2Pg0KICAgIDwvZGl2Pg0KICAgIDxkaXYgY2xhc3M9Im91dGVyLXdyYXBwZXIgZXZvbHV0aW9uMi1vdXRlci13cmFwcGVyIGZpamktb3V0ZXItd3JhcHBlciI+DQogICAgICAgIDxkaXYgY2xhc3M9ImlubmVyLXdyYXBwZXIgZXZvbHV0aW9uMi1pbm5lci13cmFwcGVyIGZpamktaW5uZXItd3JhcHBlciI+DQoNCiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QiPg0KICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJwcm9maWxlLWF2YXRhciI+DQogICAgICAgICAgICAgICAgICAgICNpZiAoJHVzZXIuUHJvZmlsZVVybCkNCiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJHVzZXIuUHJvZmlsZVVybCkiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCA4MCwgMTAwLCAiJXtib3JkZXI9JzAnLCBhbHQ9JHVzZXIuRGlzcGxheU5hbWV9IikNCiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT4NCiAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHVzZXIuQXZhdGFyVXJsLCA4MCwgMTAwLCAiJXtib3JkZXI9JzAnLCBhbHQ9JHVzZXIuRGlzcGxheU5hbWV9IikNCiAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0iY2xvc2UiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIj5DbG9zZTwvYT4NCiAgICAgICAgICAgICAgICA8L3NwYW4+DQogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im5hbWUiPg0KICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9InBvc3QtbmFtZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCR1c2VyLlByb2ZpbGVVcmwpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkdXNlci5Qcm9maWxlVXJsKSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICR1c2VyLkRpc3BsYXlOYW1lDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPg0KICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkdXNlci5EaXNwbGF5TmFtZQ0KICAgICAgICAgICAgICAgICAgICAgICAgI2VuZA0KICAgICAgICAgICAgICAgICAgICA8L2g0Pg0KICAgICAgICAgICAgICAgIDwvc3Bhbj4NCg0KICAgICAgICAgICAgICAgICMjIGV4cGxpY2l0bHkgb25seSBkaXNwbGF5IDIgcHJvZmlsZSBmaWVsZHMgYXQgbWF4DQogICAgICAgICAgICAgICAgI2lmICgkc2VsZWN0ZWRGaWVsZHMpDQoNCiAgICAgICAgICAgICAgICAgICAgI3NldCgkZGF0YSA9ICRjb3JlX3YyX3BhZ2UuUGFyc2VRdWVyeVN0cmluZygnJykpDQogICAgICAgICAgICAgICAgICAgICNmb3JlYWNoKCRwcm9maWxlRmllbGQgaW4gJHVzZXIuUHJvZmlsZUZpZWxkcykNCiAgICAgICAgICAgICAgICAgICAgICAgICRkYXRhLkFkZCgkcHJvZmlsZUZpZWxkLkxhYmVsLCAkcHJvZmlsZUZpZWxkLlZhbHVlKQ0KICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICNzZXQgKCRkcSA9ICciJykNCg0KICAgICAgICAgICAgICAgICAgICAjc2V0ICgkZHluYW1pY0Zvcm1IZWFkZXIgPSAnPHByb3BlcnR5R3JvdXAgaWQ9InByb2ZpbGVEYXRhIiByZXNvdXJjZU5hbWU9IiIgcmVzb3VyY2VGaWxlPSIiIHRleHQ9IiIgZGVzY3JpcHRpb25SZXNvdXJjZU5hbWU9IiIgZGVzY3JpcHRpb25SZXNvdXJjZUZpbGU9IiIgZGVzY3JpcHRpb25UZXh0PSIiIG9yZGVyTnVtYmVyPSIxIiB2aXNpYmxlPSJ0cnVlIj4nKQ0KICAgICAgICAgICAgICAgICAgICAjc2V0ICgkZHluYW1pY0Zvcm1Gb290ZXIgPSAnPC9wcm9wZXJ0eUdyb3VwPicpDQogICAgICAgICAgICAgICAgICAgICNzZXQgKCRkeW5hbWljRm9ybVhtbE9wdGlvbnMgPSAiJXsgUmVhZE9ubHkgPSAndHJ1ZScgfSIpDQoNCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdHRyaWJ1dGVzIHByb2ZpbGUtZmllbGRzIj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImF0dHJpYnV0ZS1saXN0LWhlYWRlciI+PC9kaXY+DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICNzZXQgKCRzZWxlY3RlZEZpZWxkSW5kZXggPSAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgI2ZvcmVhY2ggKCRzZWxlY3RlZEZpZWxkIGluICRzZWxlY3RlZEZpZWxkcykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjc2V0ICgkZm9ybVhtbCA9ICIke2R5bmFtaWNGb3JtSGVhZGVyfSR7Y29yZV92Ml91c2VyUHJvZmlsZUZpZWxkLmR5bmFtaWNGb3JtWG1sKCR7c2VsZWN0ZWRGaWVsZHMuVG9BcnJheSgpLmdldCgkc2VsZWN0ZWRGaWVsZEluZGV4KX0sICRkeW5hbWljRm9ybVhtbE9wdGlvbnMpfSR7ZHluYW1pY0Zvcm1Gb290ZXJ9IikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjc2V0ICgkZm9ybSA9IGZhbHNlKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNzZXQgKCRmb3JtID0gJGNvcmVfdjJfZHluYW1pY0Zvcm0uUmVuZGVyRm9ybSgkY29yZV92Ml93aWRnZXQuVW5pcXVlSWQoJ2Zvcm0nKSwgJGZvcm1YbWwsICRkYXRhLCAiJXtHcm91cEhlYWRlckh0bWxGb3JtYXQ9Jzx1bCBjbGFzcz0ke2RxfWF0dHJpYnV0ZS1saXN0JHtkcX0+JyxHcm91cEZvb3Rlckh0bWxGb3JtYXQ9JzwvdWw+JyxQcm9wZXJ0eUhlYWRlckh0bWxGb3JtYXQ9JzxsaSBjbGFzcz0ke2RxfWF0dHJpYnV0ZS1pdGVtJHtkcX0+JyxQcm9wZXJ0eUZvb3Rlckh0bWxGb3JtYXQ9JzwvbGk+JyxIaWRlUHJvcGVydGllc1dpdGhvdXRWYWx1ZXM9J3RydWUnfSIpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICNpZiAoJGZvcm0pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InByb2ZpbGUtZmllbGQgI2lmKCRzZWxlY3RlZEZpZWxkSW5kZXggPT0gMClwcmltYXJ5LXByb2ZpbGUtZmllbGQgI2VuZCI+JGZvcm08L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI3NldCAoJHNlbGVjdGVkRmllbGRJbmRleCA9ICRzZWxlY3RlZEZpZWxkSW5kZXggKyAxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgI2VuZA0KDQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1mb290ZXIiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAjZW5kDQoNCiAgICAgICAgICAgICAgICAjaWYgKCRjb3JlX3YyX3VzZXIuSXNSZWdpc3RlcmVkKCRhY2Nlc3NpbmdVc2VyLklkKSAmJiAkY29yZV92Ml91c2VyLklzUmVnaXN0ZXJlZCgkdXNlci5JZCkgJiYgJGFjY2Vzc2luZ1VzZXIuSWQgIT0gJHVzZXIuSWQpDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9Im5hdmlnYXRpb24tbGlzdC1oZWFkZXIiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9Im5hdmlnYXRpb24tbGlzdCI+DQogICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCEkZnJpZW5kc2hpcCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjc2V0ICgkYWRkRnJpZW5kVXJsID0gJGNvcmVfdjJfdXJscy5SZXF1ZXN0RnJpZW5kc2hpcCgkdXNlci5JZCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2lmICgkYWRkRnJpZW5kVXJsKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBhZGQtZnJpZW5kIGFkZC1mcmllbmQtbW9kYWwiIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfdXJscy5SZXF1ZXN0RnJpZW5kc2hpcCgkdXNlci5JZCkpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfVXNlckhvdmVyX0FkZEZyaWVuZCcpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAgICAgICAgICAgICAjc2V0ICgkc3RhcnRDb252ZXJzYXRpb25VcmwgPSAkY29yZV92Ml91cmxzLkFkZENvbnZlcnNhdGlvbigkdXNlci5JZCkpDQogICAgICAgICAgICAgICAgICAgICAgICAjaWYgKCRzdGFydENvbnZlcnNhdGlvblVybCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9Im5hdmlnYXRpb24taXRlbSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIHN0YXJ0LWNvbnZlcnNhdGlvbiIgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkY29yZV92Ml91cmxzLkFkZENvbnZlcnNhdGlvbigkdXNlci5JZCkpIj4NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29yZV9Vc2VySG92ZXJfU3RhcnRDb252ZXJzYXRpb24nKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAgICAgPC91bD4NCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0ibmF2aWdhdGlvbi1saXN0LWZvb3RlciI+PC9kaXY+DQogICAgICAgICAgICAgICAgI2VuZA0KDQogICAgICAgICAgICAgICAgIyMgc2hvdyByb2xlIGJhZGdlIGljb25zDQogICAgICAgICAgICAgICAgI2ZvcmVhY2ggKCRyb2xlIGluICRyb2xlcykNCiAgICAgICAgICAgICAgICAjYmVmb3JlYWxsDQogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtYXR0cmlidXRlcyBiYWRnZXMiPg0KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iYXR0cmlidXRlLWxpc3QtaGVhZGVyIj48L2Rpdj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz0iYXR0cmlidXRlLWxpc3QiPg0KICAgICAgICAgICAgICAgICNlYWNoDQogICAgICAgICAgICAgICAgICAgICNpZiAoJHJvbGUuSW1hZ2VVcmwgJiYgJHJvbGUuSW1hZ2VVcmwuTGVuZ3RoID4gMCkNCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iYXR0cmlidXRlLWl0ZW0gYmFkZ2UiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJhdHRyaWJ1dGUtdmFsdWUiPg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRyb2xlLkltYWdlVXJsLCAxMTIsIDExMiwgIiV7Ym9yZGVyPScwJ30iKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAjYWZ0ZXJhbGwNCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1mb290ZXIiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAjZW5kDQoNCiAgICAgICAgICAgICAgICAjIyBzaG93IHJhbmsgYmFkZ2UgaWNvbnMNCiAgICAgICAgICAgICAgICAjZm9yZWFjaCAoJHJhbmsgaW4gJHJhbmtzKQ0KICAgICAgICAgICAgICAgICNiZWZvcmVhbGwNCiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1hdHRyaWJ1dGVzIGJhZGdlcyI+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1oZWFkZXIiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPSJhdHRyaWJ1dGUtbGlzdCI+DQogICAgICAgICAgICAgICAgI2VhY2gNCiAgICAgICAgICAgICAgICAgICAgI2lmICgkcmFuay5JbWFnZVVybCAmJiAkcmFuay5JbWFnZVVybC5MZW5ndGggPiAwKQ0KICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJhdHRyaWJ1dGUtaXRlbSBiYWRnZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICRjb3JlX3YyX3VpLkdldFJlc2l6ZWRJbWFnZUh0bWwoJHJhbmsuSW1hZ2VVcmwsIDExMiwgMTEyLCAiJXtib3JkZXI9JzAnfSIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPg0KICAgICAgICAgICAgICAgICAgICAgICAgPC9saT4NCiAgICAgICAgICAgICAgICAgICAgI2Vsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz0iYXR0cmlidXRlLWl0ZW0gYmFkZ2UgdGV4dCI+DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImF0dHJpYnV0ZS12YWx1ZSI+JHJhbmsuTmFtZTwvc3Bhbj4NCiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+DQogICAgICAgICAgICAgICAgICAgICNlbmQNCiAgICAgICAgICAgICAgICAjYWZ0ZXJhbGwNCiAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+DQogICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJhdHRyaWJ1dGUtbGlzdC1mb290ZXIiPjwvZGl2Pg0KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4NCiAgICAgICAgICAgICAgICAjZW5kDQoNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJyZWNlbnQtYWN0aXZpdHkiPg0KICAgICAgICAgICAgICAgICAgICA8YSBocmVmPSIjIiBkYXRhLXVzZXJpZD0iJHVzZXIuSWQiIGNsYXNzPSJpbnRlcm5hbC1saW5rIHJlY2VudC1hY3Rpdml0eSI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvcmVfVXNlckhvdmVyX1JlY2VudEFjdGl2aXR5Jyk8L2E+DQogICAgICAgICAgICAgICAgPC9kaXY+DQoNCiAgICAgICAgICAgIDwvZGl2Pg0KICAgICAgICA8L2Rpdj4NCiAgICA8L2Rpdj4NCiAgICA8ZGl2IGNsYXNzPSJhYmJyZXZpYXRlZC1wb3N0LWZvb3RlciI+DQogICAgICAgIDxkaXYgY2xhc3M9ImwgZXZvbHV0aW9uMi1sIGZpamktbCI+PC9kaXY+DQogICAgICAgIDxkaXYgY2xhc3M9InIgZXZvbHV0aW9uMi1yIGZpamktciI+PC9kaXY+DQogICAgPC9kaXY+DQojZW5kDQo=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsNCiAgICBpZiAodHlwZW9mICQudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudCA9IHt9OyB9DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24gPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50LmV2b2x1dGlvbiA9IHt9OyB9DQogICAgaWYgKHR5cGVvZiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsgfQ0KDQogICAgdmFyIHJlZ2lzdGVyZWQgPSBmYWxzZSwNCiAgICAgICAgb3BlbiA9IGZ1bmN0aW9uKGNvbnRleHQsIGVsZW1lbnQpIHsNCiAgICAgICAgICAgIHZhciBob3ZlcmVkRWxlbWVudCA9IGVsZW1lbnQ7DQogICAgICAgICAgICBpZihjb250ZXh0LmN1cnJlbnRFbGVtZW50ID09PSBlbGVtZW50KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICB9DQogICAgICAgICAgICAvLyBpZiBubyBsb25nZXIgb3ZlciwgZG9uJ3QgZXZlbiBib3RoZXINCiAgICAgICAgICAgIGlmKCEkKGhvdmVyZWRFbGVtZW50KS5kYXRhKCdvdmVyJykpIHsgcmV0dXJuIH0NCg0KICAgICAgICAgICAgLy8gaWYgYSBkaWZmZXJlbnQgaG92ZXIgaXMgYWxyZWFkeSBvcGVuLCB0aGVuIGZpcnN0IGNsb3NlIGl0DQogICAgICAgICAgICBpZiAoY29udGV4dC5jdXJyZW50RWxlbWVudCAmJg0KICAgICAgICAgICAgICAgIGNvbnRleHQuY3VycmVudEVsZW1lbnQgIT09IGVsZW1lbnQpIHsNCiAgICAgICAgICAgICAgICBjbG9zZShjb250ZXh0LCBjb250ZXh0LmN1cnJlbnRFbGVtZW50KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSByZXF1ZXN0IHRvIHJlLW9wZW4gdGhlIGN1cnJlbnQgb3BlbiBwYW5lbCwgaWdub3JlIGl0DQogICAgICAgICAgICBpZiAoKGNvbnRleHQuY3VycmVudEVsZW1lbnQgJiYNCiAgICAgICAgICAgICAgICBjb250ZXh0LmN1cnJlbnRFbGVtZW50ID09PSBlbGVtZW50ICYmDQogICAgICAgICAgICAgICAgY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaXNTaG93bicpKSB8fA0KICAgICAgICAgICAgICAgICQoZWxlbWVudCkuY2xvc2VzdCgnLnVzZXItaW5mby1wb3B1cC1jb250ZW50JykubGVuZ3RoID4gMCkgew0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNvbnRleHQuY3VycmVudEVsZW1lbnQgPSBlbGVtZW50Ow0KICAgICAgICAgICAgY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaHRtbCcsICcnKTsNCg0KICAgICAgICAgICAgLy8gaWYgdGhlIGVsZW1lbnQgdGhhdCB0cmlnZ2VyZWQgdGhpcyBpcyBubyBsb25nZXIgdmlzaWJsZSwgZG9uJ3Qgc2hvdw0KICAgICAgICAgICAgaWYoISQoZWxlbWVudCkuaXMoJzp2aXNpYmxlJykpIHsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICB2YXIgcHJvZmlsZU1hdGNoZXMgPSBjb250ZXh0LnByb2ZpbGVVcmxQYXR0ZXJuLmV4ZWMoZWxlbWVudC5ocmVmKTsNCiAgICAgICAgICAgIGlmKHByb2ZpbGVNYXRjaGVzID09PSBudWxsKSB7IHJldHVybjsgfQ0KDQogICAgICAgICAgICB2YXIgdXNlck5hbWUgPSBwcm9maWxlTWF0Y2hlc1sxXTsNCg0KICAgICAgICAgICAgdmFyIHVzZXJIdG1sID0gY29udGV4dC51c2VyQ2FjaGVbdXNlck5hbWVdOw0KICAgICAgICAgICAgaWYgKHVzZXJIdG1sKSB7DQogICAgICAgICAgICAgICAgaWYoJChlbGVtZW50KS5vZmZzZXQoKS5sZWZ0ICsgMzAwID4gJCh3aW5kb3cpLndpZHRoKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgc2V0RGlyZWN0aW9uKGNvbnRleHQsICdkb3dubGVmdCcpOw0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHNldERpcmVjdGlvbihjb250ZXh0LCAnZG93bnJpZ2h0Jyk7DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgY29udGV4dC5wb3B1cA0KICAgICAgICAgICAgICAgICAgICAuZ2xvd1BvcFVwUGFuZWwoJ2h0bWwnLCB1c2VySHRtbCkNCiAgICAgICAgICAgICAgICAgICAgLmdsb3dQb3BVcFBhbmVsKCdzaG93JywgZWxlbWVudCwgZmFsc2UsIHRydWUpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoew0KICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5nZXRVc2VySW5mb3JtYXRpb25VcmwsDQogICAgICAgICAgICAgICAgZGF0YTogeyB3X2hvdmVyVXNlck5hbWU6IHVzZXJOYW1lIH0sDQogICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQogICAgICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgICAgICAvLyBpZiBubyBsb25nZXIgb3ZlciBhZnRlciBhamF4IGNhbGxiYWNrLCBkb24ndCBldmVuIGJvdGhlcg0KICAgICAgICAgICAgICAgICAgICBpZigkKGhvdmVyZWRFbGVtZW50KS5kYXRhKCdvdmVyJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQudXNlckNhY2hlW3VzZXJOYW1lXSA9IHJlc3BvbnNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5jdXJyZW50ID0gZWxlbWVudDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoJChlbGVtZW50KS5vZmZzZXQoKS5sZWZ0ICsgMzAwID4gJCh3aW5kb3cpLndpZHRoKCkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXREaXJlY3Rpb24oY29udGV4dCwgJ2Rvd25sZWZ0Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldERpcmVjdGlvbihjb250ZXh0LCAnZG93bnJpZ2h0Jyk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRleHQucG9wdXANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2xvd1BvcFVwUGFuZWwoJ2h0bWwnLCByZXNwb25zZSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2xvd1BvcFVwUGFuZWwoJ3Nob3cnLCBlbGVtZW50LCBmYWxzZSwgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfSwNCiAgICAgICAgY3VycmVudERpcmVjdGlvbiA9IG51bGwsDQogICAgICAgIHNldERpcmVjdGlvbiA9IGZ1bmN0aW9uKGNvbnRleHQsIGRpcmVjdGlvbikgew0KICAgICAgICAgICAgaWYoY3VycmVudERpcmVjdGlvbiAhPT0gZGlyZWN0aW9uKSB7DQogICAgICAgICAgICAgICAgY3VycmVudERpcmVjdGlvbiA9IGRpcmVjdGlvbjsNCiAgICAgICAgICAgICAgICBjb250ZXh0LnBvcHVwID0gJCgnPGRpdj48L2Rpdj4nKQ0KICAgICAgICAgICAgICAgICAgICAuZ2xvd1BvcFVwUGFuZWwoew0KICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdtZW51IHVzZXItaW5mby1wb3B1cC1jb250ZW50IG1lbnVfX3VzZXItaW5mby1wb3B1cC1jb250ZW50ICcgKyBkaXJlY3Rpb24sDQogICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbjogZGlyZWN0aW9uLA0KICAgICAgICAgICAgICAgICAgICAgICAgekluZGV4OiAyMDAwMTAsDQogICAgICAgICAgICAgICAgICAgICAgICBoaWRlT25Eb2N1bWVudENsaWNrOiBmYWxzZQ0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgY2xvc2UgPSBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICBpZighY29udGV4dC5vdmVyKSB7DQogICAgICAgICAgICAgICAgY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgnaGlkZScpOw0KICAgICAgICAgICAgICAgIGNvbnRleHQuY3VycmVudEVsZW1lbnQgPSBudWxsOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMudXNlckhvdmVyID0gew0KICAgICAgICByZWdpc3RlcjogZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgLy8gb25seSByZWdpc3RlciBvbmNlIG9uIGEgZ2l2ZW4gcGFnZQ0KICAgICAgICAgICAgaWYoIXJlZ2lzdGVyZWQpIHsNCiAgICAgICAgICAgICAgICByZWdpc3RlcmVkID0gdHJ1ZTsNCg0KICAgICAgICAgICAgICAgIGNvbnRleHQudXNlckNhY2hlID0ge307DQoNCiAgICAgICAgICAgICAgICBjb250ZXh0LnBvcHVwID0gJCgnPGRpdj48L2Rpdj4nKQ0KICAgICAgICAgICAgICAgICAgICAuZ2xvd1BvcFVwUGFuZWwoew0KICAgICAgICAgICAgICAgICAgICAgICAgY3NzQ2xhc3M6ICdtZW51IHVzZXItaW5mby1wb3B1cC1jb250ZW50IG1lbnVfX3VzZXItaW5mby1wb3B1cC1jb250ZW50JywNCiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZG93bnJpZ2h0JywNCiAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogMjAwMDEwLA0KICAgICAgICAgICAgICAgICAgICAgICAgaGlkZU9uRG9jdW1lbnRDbGljazogZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgLmdsb3dQb3BVcFBhbmVsKCdodG1sJywgJycpOw0KDQogICAgICAgICAgICAgICAgJC5leHRlbmQoY29udGV4dCwgew0KICAgICAgICAgICAgICAgICAgICBwcm9maWxlVXJsUGF0dGVybjogbmV3IFJlZ0V4cCgnXig/OicgKyB3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICsgd2luZG93LmxvY2F0aW9uLmhvc3QgKyAnKT8nICsNCiAgICAgICAgICAgICAgICAgICAgICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdtZW1iZXJzLyhbXi9dKykvKD86ZGVmYXVsdFxcLmFzcHgpPycsICdpJyksDQogICAgICAgICAgICAgICAgICAgIGF2YXRhclVybFBhdHRlcm46IG5ldyBSZWdFeHAoJ14oPzonICsgd2luZG93LmxvY2F0aW9uLnByb3RvY29sICsgJy8vJyArIHdpbmRvdy5sb2NhdGlvbi5ob3N0ICsgJyk/JyArDQogICAgICAgICAgICAgICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnLio/X2tleS9UZWxsaWdlbnQuRXZvbHV0aW9uLkNvbXBvbmVudHMuQXZhdGFycy8oWzAtOVxcLl0qKS8nLCAnaScpDQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAkKGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICQoJy51c2VyLWRlZmluZWQtbWFya3VwIGEnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmxpdmUoJ21vdXNlZW50ZXInLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnb3ZlcicsIHRydWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5saXZlKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmRhdGEoJ292ZXInLCBmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmxpdmUoJ2dsb3dEZWxheWVkTW91c2VFbnRlcicsIDk5OSwgZnVuY3Rpb24oKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSAkKHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFhLmF0dHIoJ2NvcmVfdXNlcmhvdmVyJykgJiYgY29udGV4dC5wcm9maWxlVXJsUGF0dGVybi50ZXN0KGEuYXR0cignaHJlZicpKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKGNvbnRleHQsIGEuZ2V0KDApKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmxpdmUoJ2dsb3dEZWxheWVkTW91c2VMZWF2ZScsIDUwMCwgZnVuY3Rpb24oZSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIWNvbnRleHQuY3VycmVudCB8fCBjb250ZXh0LmN1cnJlbnQgPT09IGUudGFyZ2V0KSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsb3NlKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAkKCcuaW50ZXJuYWwtbGluay52aWV3LXVzZXItcHJvZmlsZSwgLmludGVybmFsLWxpbmsudmlldy1wcm9maWxlLCAuYXZhdGFyID4gYScpDQogICAgICAgICAgICAgICAgICAgICAgICAubGl2ZSgnbW91c2VlbnRlcicsIGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5kYXRhKCdvdmVyJywgdHJ1ZSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmxpdmUoJ21vdXNlbGVhdmUnLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuZGF0YSgnb3ZlcicsIGZhbHNlKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICAubGl2ZSgnZ2xvd0RlbGF5ZWRNb3VzZUVudGVyJywgOTk5LCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcGVuKGNvbnRleHQsIHRoaXMpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5saXZlKCdnbG93RGVsYXllZE1vdXNlTGVhdmUnLCA1MDAsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKCFjb250ZXh0LmN1cnJlbnQgfHwgY29udGV4dC5jdXJyZW50ID09PSBlLnRhcmdldCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbG9zZShjb250ZXh0KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgJCgnZGl2LnVzZXItaW5mby1wb3B1cC1jb250ZW50JykNCiAgICAgICAgICAgICAgICAgICAgICAgIC5saXZlKCdtb3VzZWVudGVyJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250ZXh0Lm92ZXIgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIC5saXZlKCdnbG93RGVsYXllZE1vdXNlTGVhdmUnLCA1MDAsIGZ1bmN0aW9uKGUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vdmVyID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2UoY29udGV4dCk7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgJCgnZGl2LnVzZXItaW5mby1wb3B1cC1jb250ZW50IC5jbG9zZSBhJykNCiAgICAgICAgICAgICAgICAgICAgICAgIC5saXZlKCdjbGljaycsIGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5vdmVyID0gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xvc2UoY29udGV4dCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICQoJ2Rpdi51c2VyLWluZm8tcG9wdXAtY29udGVudCBhLnN0YXJ0LWNvbnZlcnNhdGlvbicpDQogICAgICAgICAgICAgICAgICAgICAgICAubGl2ZSgnY2xpY2snLCBmdW5jdGlvbigpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSAkKHRoaXMpLmF0dHIoJ2hyZWYnKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBUZWxsaWdlbnRfTW9kYWwuT3Blbih1cmwsNTUwLDM2MCxudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICAkKCdkaXYudXNlci1pbmZvLXBvcHVwLWNvbnRlbnQgYS5hZGQtZnJpZW5kLW1vZGFsJykNCiAgICAgICAgICAgICAgICAgICAgICAgIC5saXZlKCdjbGljaycsIGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9ICQodGhpcykuYXR0cignaHJlZicpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFRlbGxpZ2VudF9Nb2RhbC5PcGVuKHVybCw1NTAsMzYwLG51bGwpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAkKCdkaXYudXNlci1pbmZvLXBvcHVwLWNvbnRlbnQgYS5hZGQtZnJpZW5kLXJlc3QnKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmxpdmUoJ2NsaWNrJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbGVydCgnYWpheCBmcmllbmQgcmVxdWVzdCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAkKCdkaXYudXNlci1pbmZvLXBvcHVwLWNvbnRlbnQgYS5yZWNlbnQtYWN0aXZpdHknKQ0KICAgICAgICAgICAgICAgICAgICAgICAgLmxpdmUoJ2NsaWNrJywgZnVuY3Rpb24oKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbGluayA9ICQodGhpcyk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlQ29udGFpbmVyID0gbGluay5wYXJlbnQoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdXNlcklkID0gcGFyc2VJbnQobGluay5hdHRyKCdkYXRhLXVzZXJpZCcpLCAxMCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogY29udGV4dC5nZXRSZWNlbnRBY3Rpdml0eVVybCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogeyB3X3VzZXJJZDogdXNlcklkIH0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9ICQoJzxkaXY+PC9kaXY+JykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3JlY2VudC1hY3Rpdml0eScpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmh0bWwocmVzcG9uc2UpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmhpZGUoKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5pbnNlcnRBZnRlcihyZXNwb25zZUNvbnRhaW5lcik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlQ29udGFpbmVyLmdsb3dUcmFuc2l0aW9uKGl0ZW0sIHsgZHVyYXRpb246IDE1MCwgY29tcGxldGU6IGZ1bmN0aW9uKCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5wb3B1cC5nbG93UG9wVXBQYW5lbCgncmVmcmVzaCcpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSB9KTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfTsNCn0oalF1ZXJ5KSk7DQo=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:UserMentionListWidget_Title}" version="7.5.0.32466" description="${resource:UserMentionListWidget_Description}" instanceIdentifier="2a918a99a5a646769539c348f5468f07" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="user-mention-list">
		<contentScript>
#set ($endlessScroll = $core_v2_widget.GetBoolValue('endlessScroll', true))

#set($filterType = false)
#set($filterType = $core_v2_widget.GetStringValue('filterType', ''))
#if(!$filterType)
    #set($user = false)
	#set($user = $core_v2_user.Current)
	#if($user)
		#set($filterType = 'Current')
		$core_v2_widget.SetStringValue('filterType', $filterType)
	#else
		#set($filterType = 'Accessing')
		$core_v2_widget.SetStringValue('filterType', $filterType)
	#end
#end

#set($user = false)
#if ($filterType == 'Current')
    #set($user = $core_v2_user.Current)
#else
    #set($user = $core_v2_user.Accessing)
#end

#if (!$user)
    $core_v2_widget.Hide()
#end

#set($userId = $user.ContentId)
#set($pageIndex = 0)
&lt;div class="$core_v2_widget.GetStringValue('viewType', 'simple')-view"&gt;
    $core_v2_widget.ExecuteFile('mentions.vm')
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.userMentionList')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	jQuery(document).ready(function(j){
		jQuery.telligent.evolution.widgets.userMentionList.register({
			wrapper: "#$core_v2_encoding.JavascriptEncode($core_v2_widget.WrapperElementId)",
			userId: "$userId",
			endlessScroll:#if ($endlessScroll) true#else false#end,
			loadNextPageUrl: "$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('loadnextpage.vm'))"
		});
	});
	&lt;/script&gt;
#end
</contentScript>
		<headerScript>
	$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Title}'))
	</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Configuration_Options"&gt;
    &lt;property id="fragmentHeader" resourceName="Configuration_Title" dataType="string" defaultValue="${resource:Title}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="pageSize" resourceName="Configuration_PageSize" dataType="int" defaultValue="15"&gt;
		&lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="100" /&gt;
	&lt;/property&gt;
	&lt;property id="filterType" resourceName="Configuration_Filter" dataType="string" defaultValue=""&gt;
		&lt;propertyValue value="Accessing" resourceName="Configuration_Filter_AccessingUser" /&gt;
		&lt;propertyValue value="Current" resourceName="Configuration_Filter_CurrentUser" /&gt;
	&lt;/property&gt;
    &lt;property id="viewType" resourceName="Configuration_View" dataType="string" defaultValue="simple"&gt;
        &lt;propertyValue value="simple" resourceName="Configuration_View_Simple" /&gt;
        &lt;propertyValue value="full" resourceName="Configuration_View_Full" /&gt;
    &lt;/property&gt;
	&lt;property id="endlessScroll" resourceName="Configuration_EnableEndlessScroll" descriptionResourceName="Configuration_EnableEndlessScroll_Description" dataType="bool" defaultValue="true" /&gt;
&lt;/propertyGroup&gt;
</configuration>
		<languageResources><language key="en-us"><resource name="Title">User Mentions</resource><resource name="UserMentionListWidget_Description">Shows content that mentioned a user.</resource><resource name="UserMentionListWidget_Title">User Mention List</resource><resource name="Configuration_Options">Options</resource><resource name="Configuration_Title">Widget Title</resource><resource name="Configuration_Filter">Show mentions of</resource><resource name="Configuration_Filter_AccessingUser">Accessing user</resource><resource name="Configuration_Filter_CurrentUser">Contextual user</resource><resource name="Configuration_EnableEndlessScroll">Enable endless scrolling</resource><resource name="Configuration_EnableEndlessScroll_Description">Automatically load more mentions when scrolled near the end</resource><resource name="Content_InApplication">in {0}</resource><resource name="Configuration_PageSize">Page Size</resource><resource name="Content_More">Show More</resource><resource name="Configuration_View">View Type</resource><resource name="Configuration_View_Simple">Simple</resource><resource name="Configuration_View_Full">Full</resource><resource name="No_Mentions_Message">{0} has not yet been mentioned.</resource><resource name="No_Mentions_Message_Self">When you are mentioned in posts, they will show here.</resource></language></languageResources>
		<files>
			<file name="loadnextpage.vm">I3NldCgkdXNlcklkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUd1aWQoJGNvcmVfdjJfcGFnZS5HZXRRdWVyeVN0cmluZ1ZhbHVlKCdVc2VySWQnKSkpDQojc2V0KCRwYWdlSW5kZXggPSAkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0UXVlcnlTdHJpbmd2YWx1ZSgnUGFnZUluZGV4JykpKQ0KDQokY29yZV92Ml93aWRnZXQuRXhlY3V0ZUZpbGUoJ21lbnRpb25zLnZtJyk=</file>
			<file name="mentions.vm">I3NldCAoJHBhZ2VTaXplID0gJGNvcmVfdjJfd2lkZ2V0LkdldEludFZhbHVlKCdwYWdlU2l6ZScsIDE1KSkNCiNzZXQgKCR2aWV3VHlwZSA9ICRjb3JlX3YyX3dpZGdldC5HZXRTdHJpbmdWYWx1ZSgndmlld1R5cGUnLCAnc2ltcGxlJykpDQoNCiNzZXQoJG1lbnRpb25zID0gJGNvcmVfdjJfbWVudGlvbi5MaXN0KCIle01lbnRpb25lZENvbnRlbnRJZHM9JHVzZXJJZCxNZW50aW9uZWRDb250ZW50VHlwZUlkPSRjb3JlX3YyX3VzZXIuQ29udGVudFR5cGVJZCxQYWdlU2l6ZT0kcGFnZVNpemUsUGFnZUluZGV4PSRwYWdlSW5kZXgsU29ydEJ5PSdEYXRlJyxTb3J0T3JkZXI9J0Rlc2NlbmRpbmcnfSIpKQ0KI2lmICgkbWVudGlvbnMuVG90YWxDb3VudCA9PSAwICYmICRwYWdlSW5kZXggPT0gMCkNCgk8ZGl2IGNsYXNzPSJtZXNzYWdlIGluZm9ybWF0aW9uIj4NCgkjaWYgKCRjb3JlX3YyX3VzZXIuQ3VycmVudCAmJiAkY29yZV92Ml91c2VyLkFjY2Vzc2luZyAmJiAkY29yZV92Ml91c2VyLkN1cnJlbnQuSWQgPT0gJGNvcmVfdjJfdXNlci5BY2Nlc3NpbmcuSWQpDQoJCSRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCJOb19NZW50aW9uc19NZXNzYWdlX1NlbGYiKQ0KCSNlbHNlDQoJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgiTm9fTWVudGlvbnNfTWVzc2FnZSIpLCAkdXNlci5EaXNwbGF5TmFtZSkNCgkjZW5kDQoJPC9kaXY+DQojZWxzZQ0KICAgICNmb3JlYWNoKCRtZW50aW9uIGluICRtZW50aW9ucykNCiAgICAgICAgI2JlZm9yZWFsbA0KICAgICAgICAgICAgI2lmKCRwYWdlSW5kZXggPT0gMCkNCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb250ZW50LWxpc3QtaGVhZGVyIHZpZXctJHZpZXdUeXBlIj48L2Rpdj4NCiAgICAgICAgICAgICAgICA8dWwgY2xhc3M9ImNvbnRlbnQtbGlzdCB2aWV3LSR2aWV3VHlwZSI+DQogICAgICAgICAgICAjZW5kDQogICAgICAgICNlYWNoDQogICAgICAgICAgICA8bGkgY2xhc3M9ImNvbnRlbnQtaXRlbSI+DQoJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtaGVhZGVyIj48L2Rpdj4NCgkJPGRpdiBjbGFzcz0iYWJicmV2aWF0ZWQtcG9zdCI+DQoJCQk8aDQgY2xhc3M9InBvc3QtbmFtZSI+DQoJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVudGlvbi5NZW50aW9uaW5nQ29udGVudC5VcmwpIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuVHJ1bmNhdGUoJG1lbnRpb24uTWVudGlvbmluZ0NvbnRlbnQuSHRtbE5hbWUoJ1dlYicpLCAyNSwgJy4uLicpPC9hPg0KCQkJPC9oND4NCgkJCSNpZiAoJHZpZXdUeXBlID09ICdmdWxsJykNCgkJCQk8ZGl2IGNsYXNzPSJwb3N0LXRodW1ibmFpbCI+DQoJCQkJCSNzZXQoJGF2YXRhciA9IGZhbHNlKQ0KCQkJCQkjc2V0KCRhdmF0YXIgPSAkbWVudGlvbi5NZW50aW9uaW5nQ29udGVudC5BdmF0YXJVcmwpDQoJCQkJCSNpZiAoISRhdmF0YXIpDQoJCQkJCQkjc2V0KCRhdmF0YXIgPSAkbWVudGlvbi5NZW50aW9uaW5nQ29udGVudC5BcHBsaWNhdGlvbi5BdmF0YXJVcmwpDQoJCQkJCQkjaWYgKCEkYXZhdGFyKQ0KCQkJCQkJICAgICNzZXQoJGF2YXRhciA9ICRtZW50aW9uLk1lbnRpb25pbmdDb250ZW50LkFwcGxpY2F0aW9uLkNvbnRhaW5lci5BdmF0YXJVcmwpDQoJCQkJCQkjZW5kDQoJCQkJCSNlbmQNCgkJCQkJI2lmICgkYXZhdGFyKQ0KCQkJCQkJPGEgaHJlZj0iJGNvcmVfdjJfZW5jb2RpbmcuSHRtbEF0dHJpYnV0ZUVuY29kZSgkbWVudGlvbi5NZW50aW9uaW5nQ29udGVudC5VcmwpIj4kY29yZV92Ml91aS5HZXRSZXNpemVkSW1hZ2VIdG1sKCRhdmF0YXIsIDc4LCA3OCwgIiV7UmVzaXplTWV0aG9kPSdab29tQW5kQ3JvcCcsYm9yZGVyPScwJ30iKTwvYT4NCgkJCQkJI2VuZA0KCQkJCTwvZGl2Pg0KCQkJCTxkaXYgY2xhc3M9InBvc3Qtc3VtbWFyeSI+DQoJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLlRydW5jYXRlKCRtZW50aW9uLk1lbnRpb25pbmdDb250ZW50Lkh0bWxEZXNjcmlwdGlvbignV2ViUXVvdGUnKSwgMjUwLCAnLi4uJykNCgkJCQk8L2Rpdj4NCgkJCSNlbmQNCgkJCSNpZiAoJG1lbnRpb24uTWVudGlvbmluZ0NvbnRlbnQuQXBwbGljYXRpb24gJiYgJG1lbnRpb24uTWVudGlvbmluZ0NvbnRlbnQuQXBwbGljYXRpb24uQXBwbGljYXRpb25JZCAhPSAkbWVudGlvbi5NZW50aW9uaW5nQ29udGVudC5Db250ZW50SWQpDQoJCQkJPGRpdiBjbGFzcz0icG9zdC1hcHBsaWNhdGlvbiI+DQoJCQkJCSRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdFN0cmluZygkY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ29udGVudF9JbkFwcGxpY2F0aW9uJyksICI8YSBocmVmPSckY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRtZW50aW9uLk1lbnRpb25pbmdDb250ZW50LkFwcGxpY2F0aW9uLlVybCknPiRtZW50aW9uLk1lbnRpb25pbmdDb250ZW50LkFwcGxpY2F0aW9uLkh0bWxOYW1lKCdXZWInKTwvYT4iKQ0KCQkJCTwvZGl2Pg0KCQkJI2VuZA0KCQkJPGRpdiBjbGFzcz0icG9zdC1kYXRlIj4NCgkJCQk8c3BhbiBjbGFzcz0idmFsdWUiPiRjb3JlX3YyX2xhbmd1YWdlLkZvcm1hdEFnb0RhdGUoJG1lbnRpb24uTWVudGlvbmVkRGF0ZSk8L3NwYW4+DQoJCQk8L2Rpdj4NCgkJPC9kaXY+DQoJCTxkaXYgY2xhc3M9ImFiYnJldmlhdGVkLXBvc3QtZm9vdGVyIj48L2Rpdj4NCiAgICAgICAgICAgIDwvbGk+DQogICAgICAgICNhZnRlcmFsbA0KICAgICAgICAgICAgI2lmICgoJHBhZ2VJbmRleCArIDEpICogJHBhZ2VTaXplIDwgJG1lbnRpb25zLlRvdGFsQ291bnQpDQogICAgICAgICAgICAgICAgPGxpIGNsYXNzPSJjb250ZW50LWl0ZW0gbG9hZC1tb3JlIj48ZGl2IGNsYXNzPSJwYWdlciI+PGEgaHJlZj0iIyI+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbnRlbnRfTW9yZScpPC9hPjwvZGl2PjwvbGk+DQogICAgICAgICAgICAjZW5kDQogICAgICAgICAgICAjaWYgKCRwYWdlSW5kZXggPT0gMCkNCiAgICAgICAgICAgICAgICA8L3VsPg0KICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbnRlbnQtbGlzdC1mb290ZXIgdmlldy0kdmlld1R5cGUiPjwvZGl2Pg0KICAgICAgICAgICAgI2VuZA0KICAgICNlbmQNCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKCQpIHsNCiAgICB2YXIgX2F0dGFjaEhhbmRsZXJzID0gZnVuY3Rpb24oY29udGV4dCkgew0KICAgICAgICAgICAgdmFyIGxvYWRNb3JlID0gJChjb250ZXh0LndyYXBwZXIgKyAnIC5sb2FkLW1vcmUgYScpOw0KICAgICAgICAgICAgaWYgKGNvbnRleHQuZW5kbGVzc1Njcm9sbCkgew0KICAgICAgICAgICAgICAgIGNvbnRleHQuaGFzTW9yZSA9IGxvYWRNb3JlLmxlbmd0aCA+IDA7DQogICAgICAgICAgICAgICAgbG9hZE1vcmUucGFyZW50cygnbGknKS5oaWRlKCk7DQogICAgICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgICAgICAgIGxvYWRNb3JlLmNsaWNrKGZ1bmN0aW9uKCkgew0KICAgICAgICAgICAgICAgICAgICBfbG9hZE5leHRQYWdlKGNvbnRleHQsIGNvbnRleHQucGFnZUluZGV4ICsgMSk7DQogICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgX2lzTG9hZGluZ01vcmUgPSBmYWxzZSwNCiAgICAgICAgX2xvYWROZXh0UGFnZSA9IGZ1bmN0aW9uKGNvbnRleHQsIHBhZ2VJbmRleCkgew0KICAgICAgICAgICAgX2lzTG9hZGluZ01vcmUgPSB0cnVlOw0KICAgICAgICAgICAgJC50ZWxsaWdlbnQuZXZvbHV0aW9uLmdldCh7DQogICAgICAgICAgICAgICAgdXJsOiBjb250ZXh0LmxvYWROZXh0UGFnZVVybCwNCiAgICAgICAgICAgICAgICBkYXRhOiB7DQogICAgICAgICAgICAJCVVzZXJJZDogY29udGV4dC51c2VySWQsDQogICAgICAgICAgICAgICAgICAgIFBhZ2VJbmRleDogcGFnZUluZGV4DQogICAgICAgICAgICAJfSwNCiAgICAgICAgICAgIAlzdWNjZXNzOiBmdW5jdGlvbihyZXNwb25zZSkgew0KICAgICAgICAgICAgICAgICAgICAkKGNvbnRleHQud3JhcHBlciArICcgLmxvYWQtbW9yZSBhJykucGFyZW50cygnbGknKS5zaG93KCkucmVwbGFjZVdpdGgocmVzcG9uc2UpOw0KICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IHBhZ2VJbmRleDsNCiAgICAgICAgICAgICAgICAgICAgX2F0dGFjaEhhbmRsZXJzKGNvbnRleHQpOw0KICAgICAgICAgICAgICAgICAgICBfaXNMb2FkaW5nTW9yZSA9IGZhbHNlOw0KICAgICAgICAgICAgCX0NCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9Ow0KCXZhciBhcGkgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQogICAgICAgICAgICBjb250ZXh0LnBhZ2VJbmRleCA9IDA7DQoJCQlfYXR0YWNoSGFuZGxlcnMoY29udGV4dCk7DQoNCiAgICAgICAgICAgIGlmIChjb250ZXh0LmVuZGxlc3NTY3JvbGwpIHsNCiAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5iaW5kKCdzY3JvbGxlbmQnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRleHQuaGFzTW9yZSAmJiAhX2lzTG9hZGluZ01vcmUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIF9sb2FkTmV4dFBhZ2UoY29udGV4dCwgY29udGV4dC5wYWdlSW5kZXggKyAxKTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgfQ0KCQl9DQoJfTsNCg0KCWlmICh0eXBlb2YgJC50ZWxsaWdlbnQgPT09ICd1bmRlZmluZWQnKSB7ICQudGVsbGlnZW50ID0ge307IH0NCglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbiA9PT0gJ3VuZGVmaW5lZCcpIHsgJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307IH0NCglpZiAodHlwZW9mICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykgeyAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyA9IHt9OyB9DQoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMudXNlck1lbnRpb25MaXN0ID0gYXBpOw0KDQp9KGpRdWVyeSkpOw==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserNavigation_Name}" version="7.5.0.32466" description="${resource:Core_UserNavigation_Description}" instanceIdentifier="19e9689493a4449eb063e61762da2ea4" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="user-navigation">
		<contentScript>
#set($userId = $core_v2_user.Current.Id)
#set($currentUrl = $core_v2_urls.Current)

&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#if ($core_v2_widget.GetBoolValue('showProfileLink', true) &amp;&amp; $core_v2_user.Current.ProfileUrl)
		&lt;li class="navigation-item#if ($currentUrl == "User") selected#end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_user.Current.ProfileUrl)" class="internal-link view-user-profile"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Core_UserNavigation_Profile")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($core_v2_widget.GetBoolValue('showActivityLink', true) &amp;&amp; $core_v2_urls.Activities($userId))
		&lt;li class="navigation-item#if ($currentUrl == "Activities") selected#end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Activities($userId))" class="internal-link view-activity-list"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Core_UserNavigation_Activity")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($core_v2_widget.GetBoolValue('showGroupsLink', true) &amp;&amp; $core_v2_urls.UserGroups($userId))
		&lt;li class="navigation-item#if ($currentUrl == "UserGroups") selected#end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserGroups($userId))" class="internal-link view-group-list"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Core_UserNavigation_GroupsLink")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($core_v2_widget.GetBoolValue('showFriendsLink', true) &amp;&amp; $core_v2_urls.Friends($userId))
		&lt;li class="navigation-item#if ($currentUrl == "Friends") selected#end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Friends($userId))" class="internal-link view-friend-list"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Core_UserNavigation_FriendsLink")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($core_v2_widget.GetBoolValue('showMentionsLink', true) &amp;&amp; $core_v2_urls.UserMentions($userId))
		&lt;li class="navigation-item#if ($currentUrl == "UserMentions") selected#end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserMentions($userId))" class="internal-link view-mention-list"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Core_UserNavigation_MentionsLink")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($core_v2_widget.GetBoolValue('showLikesLink', true) &amp;&amp; $core_v2_urls.UserLikes($userId))
		&lt;li class="navigation-item#if ($currentUrl == "UserLikes") selected#end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserLikes($userId))" class="internal-link view-like-list"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Core_UserNavigation_LikesLink")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($core_v2_widget.GetBoolValue('showFavoritesLink', true) &amp;&amp; $core_v2_urls.Favorites($userId))
		&lt;li class="navigation-item#if ($currentUrl == "Favorites") selected#end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Favorites($userId))" class="internal-link view-favorite-list"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Core_UserNavigation_Favorites")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($core_v2_widget.GetBoolValue('showBlogsLink', true) &amp;&amp; $core_v2_urls.UserBlogs($userId))
		&lt;li class="navigation-item#if ($currentUrl == "UserBlogs") selected#end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserBlogs($userId))" class="internal-link view-user-blogs"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Core_UserNavigation_Blogs")&lt;/a&gt;
		&lt;/li&gt;
	#end
	#if ($core_v2_widget.GetBoolValue('showFilesLink', true) &amp;&amp; $core_v2_urls.UserFiles($userId))
		&lt;li class="navigation-item#if ($currentUrl == "UserFiles" || $currentUrl == "UserFile" || $currentUrl == "UserFilesSlideshow") selected#end"&gt;
			&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.UserFiles($userId))" class="internal-link view-user-file-list"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Core_UserNavigation_Files")&lt;/a&gt;
		&lt;/li&gt;
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Core_UserNavigation_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Core_UserNavigation_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="showProfileLink" resourceName="Core_UserNavigation_ShowProfileLink" dataType="bool" defaultValue="True" scope="site" /&gt;
	&lt;property id="showActivityLink" resourceName="Core_UserNavigation_ShowActivityLink" dataType="bool" defaultValue="True" scope="site" /&gt;
	&lt;property id="showGroupsLink" resourceName="Core_UserNavigation_ShowGroupsLink" dataType="bool" defaultValue="True" scope="site" /&gt;
	&lt;property id="showFriendsLink" resourceName="Core_UserNavigation_ShowFriendsLink" dataType="bool" defaultValue="True" scope="site" /&gt;
	&lt;property id="showMentionsLink" resourceName="Core_UserNavigation_ShowMentionsLink" dataType="bool" defaultValue="True" scope="site" /&gt;
	&lt;property id="showLikesLink" resourceName="Core_UserNavigation_ShowLikesLink" dataType="bool" defaultValue="True" scope="site" /&gt;
	&lt;property id="showFavoritesLink" resourceName="Core_UserNavigation_ShowFavoritesLink" dataType="bool" defaultValue="True" scope="site" /&gt;
	&lt;property id="showFilesLink" resourceName="Core_UserNavigation_ShowFilesLink" dataType="bool" defaultValue="True" scope="site" /&gt;
	&lt;property id="showBlogsLink" resourceName="Core_UserNavigation_ShowBlogsLink" dataType="bool" defaultValue="True" scope="site" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Core_UserNavigation_Name">User - Navigation</resource><resource name="Core_UserNavigation_Description">Provides links to common user-related locations.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Core_UserNavigation_ShowProfileLink">Include Profile Link</resource><resource name="Core_UserNavigation_ShowActivityLink">Include Activity Link</resource><resource name="Core_UserNavigation_ShowGroupsLink">Include Groups Link</resource><resource name="Core_UserNavigation_ShowFriendsLink">Include Friends Link</resource><resource name="Core_UserNavigation_ShowMentionsLink">Include Mentions Link</resource><resource name="Core_UserNavigation_ShowLikesLink">Include Likes Link</resource><resource name="Core_UserNavigation_ShowFavoritesLink">Include Bookmarks Link</resource><resource name="Core_UserNavigation_ShowFilesLink">Include Files Link</resource><resource name="Core_UserNavigation_ShowBlogsLink">Include Blog Posts Link</resource><resource name="Core_UserNavigation_Profile">&lt;span&gt;&lt;/span&gt;Profile</resource><resource name="Core_UserNavigation_Activity">&lt;span&gt;&lt;/span&gt;Activity</resource><resource name="Core_UserNavigation_GroupsLink">&lt;span&gt;&lt;/span&gt;Groups</resource><resource name="Core_UserNavigation_FriendsLink">&lt;span&gt;&lt;/span&gt;Friends</resource><resource name="Core_UserNavigation_MentionsLink">&lt;span&gt;&lt;/span&gt; Mentions</resource><resource name="Core_UserNavigation_LikesLink">&lt;span&gt;&lt;/span&gt; Likes</resource><resource name="Core_UserNavigation_Favorites">&lt;span&gt;&lt;/span&gt;Bookmarks</resource><resource name="Core_UserNavigation_Blogs">&lt;span&gt;&lt;/span&gt;Blog Posts</resource><resource name="Core_UserNavigation_Files">&lt;span&gt;&lt;/span&gt;Files</resource></language></languageResources>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:User_Notifications_Name}" version="7.5.0.32466" description="${resource:User_Notifications_Description}" instanceIdentifier="064087c399074d4dba630192735509ef" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="user-notifications">
		<contentScript>
#set ($user = false)
#set ($user = $core_v2_user.Accessing)

## user must be regisetered to receive notifications
#if (!$user || !$core_v2_user.IsRegistered($user.Id))
    $core_v2_widget.Hide()
#end

#set ($templateId = $core_v2_widget.UniqueId('template'))
#set ($limit = $core_v2_widget.GetIntValue('limit', 10))
#set ($duration = $core_v2_widget.GetIntValue('duration', 10))
#set ($native = $core_v2_widget.GetBoolValue('native', true))

#registerEndOfPageHtml('telligent.evolution.widgets.userNotifications')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
    &lt;script type="text/html" id="$core_v2_encoding.HtmlAttributeEncode($templateId)"&gt;
        &lt;div class="push-notification &lt;%: cssClass %&gt; &lt;% if(active) { %&gt;active&lt;% } %&gt;"&gt;
            &lt;a href="#" class="close"&gt;x&lt;/a&gt;
            &lt;%= message %&gt;
        &lt;/div&gt;
    &lt;/script&gt;
    &lt;script type="text/javascript"&gt;
        jQuery(function(){
            jQuery.telligent.evolution.widgets.userNotifications.register({
                template: '$core_v2_encoding.JavascriptEncode($templateId)',
                duration: ($duration * 1000),
                limit: $limit,
                native: #if($native) true #else false #end
            })
        });
    &lt;/script&gt;
#end
        </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:User_Notifications_Name}'))
        </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="limit" resourceName="Limit" descriptionResourceName="Limit_Description" dataType="int" defaultValue="10"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="50" /&gt;
    &lt;/property&gt;
    &lt;property id="duration" resourceName="Duration" descriptionResourceName="Duration_Description" dataType="int" defaultValue="10"&gt;
        &lt;propertyRule type="Telligent.Evolution.Controls.PropertyRules.MinMaxValueRule, Telligent.Evolution.Controls" minValue="1" maxValue="3600" /&gt;
    &lt;/property&gt;
    &lt;property id="native" resourceName="Native" descriptionResourceName="Native_Description" dataType="bool" defaultValue="false" /&gt;
&lt;/propertyGroup&gt;
        </configuration>
		<languageResources><language key="en-us"><resource name="User_Notifications_Name">User - Notifications</resource><resource name="User_Notifications_Description">Displays user notifications as they are received</resource><resource name="Options">Options</resource><resource name="Limit">Notification Limit</resource><resource name="Limit_Description">Maximum notifications to display concurrently</resource><resource name="Duration">Duration</resource><resource name="Duration_Description">Seconds to display notification</resource><resource name="Native">Desktop Notifications</resource><resource name="Native_Description">When available, attempt to display desktop notifications.</resource></language></languageResources>
		<files>
			<file name="ui.js">KGZ1bmN0aW9uKCQsIGdsb2JhbCkgewoKICAgIC8vIGVuc3VyZXMgYW4gYWN0aW9uIG9ubHkgb2NjdXJzIG9uY2UgYWNyb3NzIGFsbCB0YWJzIGFuZCB3aW5kb3dzCiAgICAvLyAgZG9PbmNlKHVuaXF1ZUtleSwgZnVuY3Rpb24oKSB7IH0sIG9wdGlvbnMpCiAgICAvLyAgb3B0aW9uczogKG9wdGlvbmFsKQogICAgLy8gICAgZXhwaXJlQWZ0ZXI6IDUwMDAKICAgIC8vICAgIG1heFdhaXQ6IDUwMAogICAgdmFyIGRvT25jZSA9IChmdW5jdGlvbigpewoKICAgICAgICB2YXIgYWN0aW9uc1N0b3JhZ2VLZXlOYW1lU3BhY2UgPSAnX3VuaXF1ZV9hY3Rpb25zXycsCiAgICAgICAgICAgIGdldCA9IGZ1bmN0aW9uKGtleSkgewogICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oa2V5KSk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIHNldCA9IGZ1bmN0aW9uKGtleSwgdmFsdWUpIHsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgSlNPTi5zdHJpbmdpZnkodmFsdWUpKTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgcmVtb3ZlID0gZnVuY3Rpb24oa2V5KSB7CiAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpOwogICAgICAgICAgICB9OwoKICAgICAgICB2YXIgYXBpID0gZnVuY3Rpb24oa2V5LCB0YXNrLCBvcHRpb25zKSB7CiAgICAgICAgICAgIHZhciBzZXR0aW5ncyA9ICQuZXh0ZW5kKHsKICAgICAgICAgICAgICAgIGV4cGlyZUFmdGVyOiA1MDAwLAogICAgICAgICAgICAgICAgbWF4V2FpdDogNTAwCiAgICAgICAgICAgIH0sIG9wdGlvbnMgfHwge30pOwoKICAgICAgICAgICAgLy8gd2FpdCBmb3IgYSBzbWFsbCByYW5kb20gYW1vdW50IG9mIHRpbWUgdG8gYXZvaWQgcmFjZSBjb25kaXRpb25zIGFjcm9zcyB0YWJzCiAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgIC8vIGlmIG5vIGxvY2Fsc3RvcmFnZSByZWNvcmQgZXhpc3RzIG9mIHRoaXMgYWN0aW9uIGJlaW5nIHRha2VuLAogICAgICAgICAgICAgICAgLy8gcmVjb3JkIGl0IG5vdyBhbmQgaW52b2tlIHRoZSBhY3Rpb24KICAgICAgICAgICAgICAgIHZhciBhY3Rpb25SZWNvcmQgPSBnZXQoYWN0aW9uc1N0b3JhZ2VLZXlOYW1lU3BhY2UgKyBrZXkpOwogICAgICAgICAgICAgICAgaWYoIWFjdGlvblJlY29yZCkgewogICAgICAgICAgICAgICAgICAgIHNldChhY3Rpb25zU3RvcmFnZUtleU5hbWVTcGFjZSArIGtleSwgewogICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVBZnRlcjogKG5ldyBEYXRlKCkpLmdldFRpbWUoKSArIHNldHRpbmdzLmV4cGlyZUFmdGVyCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgdGFzaygpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBzZXR0aW5ncy5tYXhXYWl0KSk7CiAgICAgICAgfTsKCiAgICAgICAgLy8gZ2FyYmFnZS1jb2xsZWN0IGFjdGlvbiByZWNvcmRzIHRoYXQgaGFwcGVuZWQgZmFyIGVub3VnaCBpbiB0aGUgcGFzdCBub3QgdG8gY2FyZQogICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpOwogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxvY2FsU3RvcmFnZS5sZW5ndGg7IGkrKyl7CiAgICAgICAgICAgICAgICB2YXIgYWN0aW9uS2V5ID0gbG9jYWxTdG9yYWdlLmtleShpKTsKICAgICAgICAgICAgICAgIGlmKGFjdGlvbktleS5pbmRleE9mKGFjdGlvbnNTdG9yYWdlS2V5TmFtZVNwYWNlKSA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb25SZWNvcmQgPSBnZXQoYWN0aW9uS2V5KTsKICAgICAgICAgICAgICAgICAgICBpZihhY3Rpb25SZWNvcmQgJiYgYWN0aW9uUmVjb3JkLmV4cGlyZUFmdGVyIDw9IGN1cnJlbnRUaW1lKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShhY3Rpb25LZXkpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sIDEwMDApOwoKICAgICAgICByZXR1cm4gYXBpOwogICAgfSkoKTsKCiAgICAvLyB2YXIgbm90aWZpZXIgPSBuYXRpdmVOb3RpZmllcigpOwogICAgLy8gbm90aWZpZXIubm90aWZ5KHsgIH0pOwogICAgLy8gICAgdGl0bGU6IG51bGwsCiAgICAvLyAgICBib2R5OiBudWxsLAogICAgLy8gICAgaWNvblVybDogbnVsbCwKICAgIC8vICAgIHRhZzogbnVsbCwKICAgIC8vICAgIG9uY2xpY2s6IG51bGwsCiAgICAvLyAgICBvbmNsb3NlOiBudWxsLAogICAgLy8gICAgb25zaG93OiBudWxsCiAgICB2YXIgbmF0aXZlTm90aWZpZXIgPSAoZnVuY3Rpb24oKSB7CgogICAgICAgIHZhciBlbmFibGUgPSBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIGlmIChnbG9iYWwuTm90aWZpY2F0aW9uICYmIGdsb2JhbC5Ob3RpZmljYXRpb24ucGVybWlzc2lvbkxldmVsICYmIGdsb2JhbC5Ob3RpZmljYXRpb24ucGVybWlzc2lvbkxldmVsKCkgPT09ICJkZWZhdWx0IikgewogICAgICAgICAgICAgICAgICAgIGdsb2JhbC5Ob3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgICBpc0VuYWJsZWQgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChnbG9iYWwud2Via2l0Tm90aWZpY2F0aW9ucyAmJiBnbG9iYWwud2Via2l0Tm90aWZpY2F0aW9ucy5jaGVja1Blcm1pc3Npb24oKSkgewogICAgICAgICAgICAgICAgICAgIGdsb2JhbC53ZWJraXROb3RpZmljYXRpb25zLnJlcXVlc3RQZXJtaXNzaW9uKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgICAgICAgaXNFbmFibGVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSwKICAgICAgICAgICAgbm90aWZ5ID0gZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgICAgICAgc2V0dGluZ3MgPSAkLmV4dGVuZCh7fSwgewogICAgICAgICAgICAgICAgICAgIGtleTogbnVsbCwKICAgICAgICAgICAgICAgICAgICB0aXRsZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICBib2R5OiBudWxsLAogICAgICAgICAgICAgICAgICAgIGljb25Vcmw6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgdGFnOiBudWxsLAogICAgICAgICAgICAgICAgICAgIG9uY2xpY2s6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgb25jbG9zZTogbnVsbCwKICAgICAgICAgICAgICAgICAgICBvbnNob3c6IG51bGwsCiAgICAgICAgICAgICAgICAgICAgaGlkZUFmdGVyOiAyMDAwCiAgICAgICAgICAgICAgICB9LCBvcHRpb25zKTsKCiAgICAgICAgICAgICAgICB2YXIgcmVuZGVyTm90aWZpY2F0aW9uID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JhbC5Ob3RpZmljYXRpb24gJiYgZ2xvYmFsLk5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uTGV2ZWwgJiYgZ2xvYmFsLk5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uTGV2ZWwoKSA9PT0gImdyYW50ZWQiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub3RlID0gbmV3IGdsb2JhbC5Ob3RpZmljYXRpb24oc2V0dGluZ3MudGl0bGUsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGljb25Vcmw6IHNldHRpbmdzLmljb25VcmwgfHwgIiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBzZXR0aW5ncy5ib2R5IHx8ICIiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiBzZXR0aW5ncy50YWcKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNldHRpbmdzLm9uY2xpY2spIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUub25jbGljayA9IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdsb2JhbC5mb2N1cygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0dGluZ3Mub25jbGljaygpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBpZihzZXR0aW5ncy5vbmNsb3NlKSB7IG5vdGUub25jbG9zZSA9IHNldHRpbmdzLm9uY2xvc2U7IH0KICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2V0dGluZ3Mub25zaG93KSB7IG5vdGUub25zaG93ID0gc2V0dGluZ3Mub25zaG93OyB9CiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGUuc2hvdygpOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2xvYmFsLndlYmtpdE5vdGlmaWNhdGlvbnMgJiYgIWdsb2JhbC53ZWJraXROb3RpZmljYXRpb25zLmNoZWNrUGVybWlzc2lvbigpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBub3RlID0gZ2xvYmFsLndlYmtpdE5vdGlmaWNhdGlvbnMuY3JlYXRlTm90aWZpY2F0aW9uKHNldHRpbmdzLmljb25VcmwgfHwgIiIsIHNldHRpbmdzLnRpdGxlLCBzZXR0aW5ncy5ib2R5IHx8ICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2V0dGluZ3Mub25jbGljaykgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZS5vbmNsaWNrID0gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLmZvY3VzKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXR0aW5ncy5vbmNsaWNrKCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNldHRpbmdzLm9uY2xvc2UpIHsgbm90ZS5vbmNsb3NlID0gc2V0dGluZ3Mub25jbG9zZTsgfQogICAgICAgICAgICAgICAgICAgICAgICBpZihzZXR0aW5ncy5vbnNob3cpIHsgbm90ZS5vbnNob3cgPSBzZXR0aW5ncy5vbnNob3c7IH0KICAgICAgICAgICAgICAgICAgICAgICAgbm90ZS5zaG93KCk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmKG5vdGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbm90ZS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgICAgICB9LCBzZXR0aW5ncy5oaWRlQWZ0ZXIpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUncyBhIHVuaXF1ZSBrZXksIG9ubHkgcmFpc2Ugb25jZSBwZXIgYWxsIHRhYnMKICAgICAgICAgICAgICAgIGlmKHNldHRpbmdzLmtleSkgewogICAgICAgICAgICAgICAgICAgIGRvT25jZShzZXR0aW5ncy5rZXksIHJlbmRlck5vdGlmaWNhdGlvbik7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlbmRlck5vdGlmaWNhdGlvbigpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9OwoKICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIC8vIGF0dGVtcHQgdG8gcmVxdWVzdCBwZXJtaXNzaW9uIG9uIHVzZXIgZ2VzdHVyZSBpZiBub3QgYWxyZWFkeSBncmFudGVkCiAgICAgICAgICAgICQoZnVuY3Rpb24oKXsKICAgICAgICAgICAgICAgICQoJ2JvZHknKS5vbmUoJ2NsaWNrJywgZW5hYmxlKQogICAgICAgICAgICAgICAgICAgIC5vbmUoJ2tleWRvd24nLCBlbmFibGUpOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIG5vdGlmeTogbm90aWZ5CiAgICAgICAgICAgIH07CiAgICAgICAgfQoKICAgIH0pKCk7CgogICAgdmFyIG5vdGlmaWVyID0gKGZ1bmN0aW9uKCkgewogICAgICAgIHZhciBkZWZhdWx0cyA9IHsKICAgICAgICAgICAgICAgIHBhcmVudDogJ2JvZHknLAogICAgICAgICAgICAgICAgbWFyZ2luOiA1LAogICAgICAgICAgICAgICAgYW5pbWF0aW9uRHVyYXRpb246IDI1MCwKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuOTUsCiAgICAgICAgICAgICAgICBsaW1pdDogMTAsCiAgICAgICAgICAgICAgICBuYXRpdmU6IGZhbHNlLAogICAgICAgICAgICAgICAgdGVtcGxhdGU6ICcnCiAgICAgICAgICAgIH07CiAgICAgICAgZnVuY3Rpb24gYWRkKGNvbnRleHQsIGFsZXJ0KSB7CiAgICAgICAgICAgIGlmKGNvbnRleHQubmF0aXZlKSB7CiAgICAgICAgICAgICAgICBjb250ZXh0Lm5hdGl2ZU5vdGlmaWVyLm5vdGlmeSh7CiAgICAgICAgICAgICAgICAgICAga2V5OiAoYWxlcnQuaWQgKyBhbGVydC5jb250ZW50VXJsICsgYWxlcnQubWVzc2FnZSksCiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5odG1sLmRlY29kZShhbGVydC5tZXNzYWdlKSwKICAgICAgICAgICAgICAgICAgICBpY29uVXJsOiBhbGVydC5hdmF0YXJVcmwsCiAgICAgICAgICAgICAgICAgICAgdGFnOiAnbm90aWZpY2F0aW9uLScgKyBhbGVydC5pZCwKICAgICAgICAgICAgICAgICAgICBoaWRlQWZ0ZXI6IGFsZXJ0LmhpZGVBZnRlciwKICAgICAgICAgICAgICAgICAgICBvbmNsaWNrOiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBhbGVydC5jb250ZW50VXJsOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHZhciBleGlzdGluZ0FsZXJ0ID0gJC5ncmVwKGNvbnRleHQuYWxlcnRzLCBmdW5jdGlvbihhKSB7IHJldHVybiBhLmlkID09PSBhbGVydC5pZCB9KTsKICAgICAgICAgICAgLy8gbm90aWZpY2F0aW9uIGFscmVhZHkgZXhpc3RzCiAgICAgICAgICAgIGlmKGV4aXN0aW5nQWxlcnQgIT09IG51bGwgJiYgZXhpc3RpbmdBbGVydC5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICAgIGV4aXN0aW5nQWxlcnQgPSBleGlzdGluZ0FsZXJ0WzBdOwogICAgICAgICAgICAgICAgY29uY2VhbChjb250ZXh0LCBleGlzdGluZ0FsZXJ0KS50aGVuKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdBbGVydC52aWV3LnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQWxlcnQubWVzc2FnZSA9IGFsZXJ0Lm1lc3NhZ2U7CiAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdBbGVydC5jc3NDbGFzcyA9IGFsZXJ0LmNzc0NsYXNzOwogICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQWxlcnQuaGlkZUFmdGVyID0gYWxlcnQuaGlkZUFmdGVyOwogICAgICAgICAgICAgICAgICAgIGJ1aWxkVmlldyhjb250ZXh0LCBleGlzdGluZ0FsZXJ0KTsKICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0FsZXJ0LnN1cHByZXNzUG9zaXRpb25BbmltYXRpb24gPSB0cnVlOwogICAgICAgICAgICAgICAgICAgIHJlcG9zaXRpb25BbGVydHMoY29udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgcmV2ZWFsKGNvbnRleHQsIGV4aXN0aW5nQWxlcnQpOwogICAgICAgICAgICAgICAgICAgIGhhbmRsZUV2ZW50cyhjb250ZXh0LCBleGlzdGluZ0FsZXJ0KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIGV4aXN0aW5nQWxlcnQ7CiAgICAgICAgICAgIC8vIGFkZCBuZXcgbm90aWZpY2F0aW9uCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIHdpbGwgZXhjZWVkIGxpbWl0LCByZW1vdmUgb2xkZXN0CiAgICAgICAgICAgICAgICBpZihjb250ZXh0LmFsZXJ0cy5sZW5ndGggPT09IGNvbnRleHQubGltaXQpIHsKICAgICAgICAgICAgICAgICAgICByZW1vdmUoY29udGV4dCwgY29udGV4dC5hbGVydHNbY29udGV4dC5hbGVydHMubGVuZ3RoLTFdKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGNvbnRleHQuYWxlcnRzLnVuc2hpZnQoYWxlcnQpOwogICAgICAgICAgICAgICAgYnVpbGRWaWV3KGNvbnRleHQsIGFsZXJ0KTsKICAgICAgICAgICAgICAgIHJlcG9zaXRpb25BbGVydHMoY29udGV4dCk7CiAgICAgICAgICAgICAgICByZXZlYWwoY29udGV4dCwgYWxlcnQpOwogICAgICAgICAgICAgICAgaGFuZGxlRXZlbnRzKGNvbnRleHQsIGFsZXJ0KTsKICAgICAgICAgICAgICAgIHJldHVybiBhbGVydDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gcmVwb3NpdGlvbkFsZXJ0cyhjb250ZXh0KSB7CiAgICAgICAgICAgIHZhciBvZmZzZXQgPSBjb250ZXh0Lm1hcmdpbjsKICAgICAgICAgICAgJC5lYWNoKGNvbnRleHQuYWxlcnRzLCBmdW5jdGlvbihpLCBhbGVydCkgewogICAgICAgICAgICAgICAgaWYoYWxlcnQuc3VwcHJlc3NQb3NpdGlvbkFuaW1hdGlvbikgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0LnZpZXcuY3NzKHsgYm90dG9tOiBvZmZzZXQgKyAncHgnLCBvcGFjaXR5OiAwIH0pOwogICAgICAgICAgICAgICAgICAgIGFsZXJ0LnN1cHByZXNzUG9zaXRpb25BbmltYXRpb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0gZWxzZXsKICAgICAgICAgICAgICAgICAgICBhbGVydC52aWV3LmFuaW1hdGUoeyBib3R0b206IG9mZnNldCArICdweCcgfSwgY29udGV4dC5hbmltYXRpb25EdXJhdGlvbiApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaWYoYWxlcnQubWVhc3VyZWRIZWlnaHQgPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IChhbGVydC5tZWFzdXJlZEhlaWdodCArIGNvbnRleHQubWFyZ2luKQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIGNvbmNlYWwoY29udGV4dCwgYWxlcnQpIHsKICAgICAgICAgICAgcmV0dXJuICQuRGVmZXJyZWQoZnVuY3Rpb24oZGZkKXsKICAgICAgICAgICAgICAgIGFsZXJ0LnZpZXcuZmFkZU91dChjb250ZXh0LmFuaW1hdGlvbkR1cmF0aW9uLCBkZmQucmVzb2x2ZSk7CiAgICAgICAgICAgIH0pLnByb21pc2UoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJldmVhbChjb250ZXh0LCBhbGVydCkgewogICAgICAgICAgICByZXR1cm4gJC5EZWZlcnJlZChmdW5jdGlvbihkZmQpewogICAgICAgICAgICAgICAgYWxlcnQudmlldy5mYWRlVG8oY29udGV4dC5hbmltYXRpb25EdXJhdGlvbiwgY29udGV4dC5vcGFjaXR5LCBkZmQucmVzb2x2ZSk7CiAgICAgICAgICAgIH0pLnByb21pc2UoKTsKICAgICAgICB9CgogICAgICAgIGZ1bmN0aW9uIHJlbW92ZShjb250ZXh0LCBhbGVydCkgewogICAgICAgICAgICBhbGVydC5yZW1vdmluZyA9IHRydWU7CiAgICAgICAgICAgIGFsZXJ0Lm1lYXN1cmVkSGVpZ2h0ID0gMDsKICAgICAgICAgICAgcmVwb3NpdGlvbkFsZXJ0cyhjb250ZXh0KTsKICAgICAgICAgICAgY29uY2VhbChjb250ZXh0LCBhbGVydCkudGhlbihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgYWxlcnQudmlldy5yZW1vdmUoKTsKICAgICAgICAgICAgICAgIGNvbnRleHQuYWxlcnRzID0gJC5ncmVwKGNvbnRleHQuYWxlcnRzLCBmdW5jdGlvbihhKSB7IHJldHVybiBhICE9PSBhbGVydDsgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gc2NoZWR1bGVSZW1vdmFsKGNvbnRleHQsIGFsZXJ0KSB7CiAgICAgICAgICAgIGdsb2JhbC5jbGVhclRpbWVvdXQoYWxlcnQucmVtb3ZlVGltZW91dCk7CiAgICAgICAgICAgIGdsb2JhbC5jbGVhckludGVydmFsKGFsZXJ0LmhpZGVTdXByZXNzZWRXYWl0SW50ZXJ2YWwpOwogICAgICAgICAgICBnbG9iYWwuc2V0VGltZW91dChmdW5jdGlvbigpewogICAgICAgICAgICAgICAgaWYoIWNvbnRleHQucmVtb3ZhbFN1cHByZXNzZWQpIHsKICAgICAgICAgICAgICAgICAgICByZW1vdmUoY29udGV4dCwgYWxlcnQpOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICBhbGVydC5oaWRlU3VwcmVzc2VkV2FpdEludGVydmFsID0gZ2xvYmFsLnNldEludGVydmFsKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICBpZighY29udGV4dC5yZW1vdmFsU3VwcHJlc3NlZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2xvYmFsLmNsZWFySW50ZXJ2YWwoYWxlcnQuaGlkZVN1cHJlc3NlZFdhaXRJbnRlcnZhbCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZW1vdmUoY29udGV4dCwgYWxlcnQpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0sIGFsZXJ0LmhpZGVBZnRlcik7CiAgICAgICAgfQoKICAgICAgICBmdW5jdGlvbiBidWlsZFZpZXcoY29udGV4dCwgYWxlcnQpIHsKICAgICAgICAgICAgYWxlcnQuYWN0aXZlID0gISFhbGVydC5vbkNsaWNrOwogICAgICAgICAgICBhbGVydC52aWV3ID0gJChjb250ZXh0LnRlbXBsYXRlKGFsZXJ0KSkKICAgICAgICAgICAgICAgIC5jc3MoewogICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLAogICAgICAgICAgICAgICAgICAgIGxlZnQ6IGNvbnRleHQubWFyZ2luICsgJ3B4JywKICAgICAgICAgICAgICAgICAgICBib3R0b206IGNvbnRleHQubWFyZ2luICsgJ3B4JywKICAgICAgICAgICAgICAgICAgICBsZWZ0OiBjb250ZXh0Lm1hcmdpbiArICdweCcsCiAgICAgICAgICAgICAgICAgICAgekluZGV4OiAxMDAwMAogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5oaWRlKCkKICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhjb250ZXh0LnBhcmVudCk7CiAgICAgICAgICAgIGFsZXJ0Lm1lYXN1cmVkSGVpZ2h0ID0gYWxlcnQudmlldy5vdXRlckhlaWdodCgpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gaGFuZGxlRXZlbnRzKGNvbnRleHQsIGFsZXJ0KSB7CiAgICAgICAgICAgIGFsZXJ0LnZpZXcuZmluZCgnYS5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpewogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgICAgIGlmKGFsZXJ0Lm9uQ2xvc2UoKSkgewogICAgICAgICAgICAgICAgICAgIGFsZXJ0Lm9uQ2xvc2UoKS50aGVuKGZ1bmN0aW9uKCl7CiAgICAgICAgICAgICAgICAgICAgICAgIHJlbW92ZShjb250ZXh0LCBhbGVydCk7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHJlbW92ZShjb250ZXh0LCBhbGVydCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBhbGVydC52aWV3Lm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGlmKGFsZXJ0Lm9uQ2xpY2spIHsKICAgICAgICAgICAgICAgICAgICBhbGVydC5vbkNsaWNrKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBhbGVydC52aWV3Lm9uKCdtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgY29udGV4dC5lbnRlcmVkID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGNvbnRleHQucmVtb3ZhbFN1cHByZXNzZWQgPSB0cnVlOwoKICAgICAgICAgICAgICAgIC8vIGlmIGluIHByb2Nlc3Mgb2YgcmVtb3ZpbmcsIHJlLXNob3cKICAgICAgICAgICAgICAgIGlmKGFsZXJ0LnJlbW92aW5nKSB7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQudmlldy5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgYWxlcnQucmVtb3ZpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICByZXZlYWwoY29udGV4dCwgYWxlcnQpOwogICAgICAgICAgICAgICAgICAgIHJlcG9zaXRpb25BbGVydHMoY29udGV4dCk7CiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVSZW1vdmFsKGNvbnRleHQsIGFsZXJ0KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIGFsZXJ0LnZpZXcub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICBjb250ZXh0LmVudGVyZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIGdsb2JhbC5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGlmKCFjb250ZXh0LmVudGVyZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29udGV4dC5yZW1vdmFsU3VwcHJlc3NlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0sIDUwMCkKICAgICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gZnVuY3Rpb24ob3B0aW9ucykgewogICAgICAgICAgICB2YXIgY29udGV4dCA9ICQuZXh0ZW5kKHt9LCBkZWZhdWx0cywgb3B0aW9ucyB8fCB7fSwgewogICAgICAgICAgICAgICAgcmVtb3ZhbFN1cHByZXNzZWQ6IGZhbHNlLAogICAgICAgICAgICAgICAgYWxlcnRzOiBbXQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29udGV4dC50ZW1wbGF0ZSA9ICQudGVsbGlnZW50LmV2b2x1dGlvbi50ZW1wbGF0ZS5jb21waWxlKGNvbnRleHQudGVtcGxhdGUpOwoKICAgICAgICAgICAgaWYoY29udGV4dC5uYXRpdmUpIHsKICAgICAgICAgICAgICAgIGNvbnRleHQubmF0aXZlTm90aWZpZXIgPSBuYXRpdmVOb3RpZmllcigpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBmdW5jdGlvbiBub3RpZnkob3B0aW9ucykgewogICAgICAgICAgICAgICAgdmFyIGFsZXJ0ID0gJC5leHRlbmQoe30sIG5vdGlmeS5kZWZhdWx0cywgb3B0aW9ucyB8fCB7fSk7CiAgICAgICAgICAgICAgICBzY2hlZHVsZVJlbW92YWwoY29udGV4dCwgYWRkKGNvbnRleHQsIGFsZXJ0KSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgbm90aWZ5LmRlZmF1bHRzID0gewogICAgICAgICAgICAgICAgaWQ6ICcnLAogICAgICAgICAgICAgICAgbWVzc2FnZTogJycsCiAgICAgICAgICAgICAgICBjc3NDbGFzczogbnVsbCwKICAgICAgICAgICAgICAgIG9uQ2xpY2s6IG51bGwsCiAgICAgICAgICAgICAgICBvbkNsb3NlOiBudWxsLAogICAgICAgICAgICAgICAgaGlkZUFmdGVyOiA1MDAwCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBub3RpZnk6IG5vdGlmeQogICAgICAgICAgICB9OwogICAgICAgIH07CiAgICB9KSgpOwoKICAgIHZhciBhcGkgPSB7CiAgICAgICAgcmVnaXN0ZXI6IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgICAgdmFyIG4gPSBub3RpZmllcih7CiAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogb3B0aW9ucy50ZW1wbGF0ZSwKICAgICAgICAgICAgICAgIGxpbWl0OiBvcHRpb25zLmxpbWl0LAogICAgICAgICAgICAgICAgbmF0aXZlOiBvcHRpb25zLm5hdGl2ZSwKICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuOTUKICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ubWVzc2FnaW5nLnN1YnNjcmliZSgnbm90aWZpY2F0aW9uLnJhaXNlZCcsIGZ1bmN0aW9uKGRhdGEpIHsKICAgICAgICAgICAgICAgIG4ubm90aWZ5KHsKICAgICAgICAgICAgICAgICAgICBpZDogZGF0YS5pZCwKICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBkYXRhLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgaGlkZUFmdGVyOiBvcHRpb25zLmR1cmF0aW9uLAogICAgICAgICAgICAgICAgICAgIGF2YXRhclVybDogZGF0YS5hdmF0YXJVcmwsCiAgICAgICAgICAgICAgICAgICAgY29udGVudFVybDogZGF0YS5jb250ZW50VXJsLAogICAgICAgICAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnB1dCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi9ub3RpZmljYXRpb24ve05vdGlmaWNhdGlvbklkfS5qc29uJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb3RpZmljYXRpb25JZDogZGF0YS5pZCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXJrQXNSZWFkOiB0cnVlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgICAgb25DbGljazogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucHV0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL25vdGlmaWNhdGlvbi97Tm90aWZpY2F0aW9uSWR9Lmpzb24nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vdGlmaWNhdGlvbklkOiBkYXRhLmlkLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1hcmtBc1JlYWQ6IHRydWUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbigpewogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVkaXJlY3QKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gZGF0YS5jb250ZW50VXJsOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CgogICAgICAgIH0KICAgIH07CgogICAgJC50ZWxsaWdlbnQgPSAkLnRlbGxpZ2VudCB8fCB7fTsKICAgICQudGVsbGlnZW50LmV2b2x1dGlvbiA9ICQudGVsbGlnZW50LmV2b2x1dGlvbiB8fCB7fTsKICAgICQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgfHwge307CiAgICAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cy51c2VyTm90aWZpY2F0aW9ucyA9IGFwaTsKCn0pKGpRdWVyeSwgd2luZG93KTsK</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Core_UserProfile_Name}" version="7.5.0.32466" description="${resource:Core_UserProfile_Description}" instanceIdentifier="796a5296bbb74d24b4113eee9352d431" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="user-profile">
		<contentScript>
#set($user = false)
#set($user = $core_v2_user.Current)
#if (!$user)
	$core_v2_widget.Hide()
#end

#set($readOnly = false)
#if (!$core_v2_editableGroup.IsEditable('User') || $user.Id != $core_v2_user.Accessing.Id || !$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	#set($readOnly = true)
#end

#if ($readOnly)
	#set($bio = false)
	#set($bio = $user.Bio())
	#if ($bio &amp;&amp; $core_v2_utility.Trim($bio) != "")
		&lt;div class="user-defined-markup"&gt;$bio&lt;/div&gt;
	#else
		&lt;div class="message directions"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('ViewUserProfile_MyBio_NotEntered'), $user.DisplayName)&lt;/div&gt;
	#end
#else
	#set($editorId = $core_v2_widget.UniqueId('editor').Replace("-", "_"))
	$core_v2_editor.Render($editorId, "%{Value=$user.Bio('raw'),Width='100%',Height='400px'}")

	#registerEndOfPageHtml()
		&lt;script type="text/javascript"&gt;
		//&lt;![CDATA[
		jQuery(document).ready(function() {
			var save = function(success, failure)
			{
				jQuery.telligent.evolution.put({
					url: jQuery.telligent.evolution.site.getBaseUrl() + 'api.ashx/v2/users/{UserId}.json?IncludeFields=Id',
					data: {
						UserId: $user.Id,
						Bio: $core_v2_editor.GetContentScript($editorId)
					},
					success: function(response) { success(); },
					error: function(xhr, desc, ex) { jQuery.telligent.evolution.notifications.show(desc,{type:'error'}); failure(); }
				});
			};
			$core_v2_editableGroup.GetRegistrationScript('User', 'save')
		});
		//]]&gt;
		&lt;/script&gt;
	#end
#end
			</contentScript>
		<headerScript>
#set($user = false)
#set($user = $core_v2_user.Current)
#if ($user)
	$core_v2_language.FormatString($core_v2_language.GetResource('Core_UserProfile_Header'), $user.DisplayName)
#end
		</headerScript>
		<languageResources><language key="en-us"><resource name="Core_UserProfile_Name">User Profile</resource><resource name="Core_UserProfile_Description">Displays a users profile information.</resource><resource name="ViewUserProfile_MyBio_NotEntered">{0} has not entered a biography.</resource><resource name="Core_UserProfile_Header">About {0}</resource></language></languageResources>
		<additionalCssScript>
#if ($core_v2_editableGroup.IsEditable('User') &amp;&amp; $core_v2_user.Current.Id == $core_v2_user.Accessing.Id &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	editable
#end
		</additionalCssScript>
		<requiredContext>
			<context id="0233cbb383784e11a1e5e541f3b0a795" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:CF_UserProfileGroup}" version="7.5.0.32466" description="${resource:CF_UserProfileGroupDesc}" instanceIdentifier="945b2ef63bf249da8102a6141fc39ba4" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="user-profile-group-content-fragment">
		<contentScript>
#set($readOnly = $core_v2_widget.GetBoolValue('forceReadOnly', false))
#set($user = false)
#if($core_v2_widget.GetStringValue('user', 'context') == 'context')
	#set($user = $core_v2_user.Current)
#else
	#set($user = $core_v2_user.Accessing)
#end
#if (!$user)
	$core_v2_widget.Hide()
#end
#set($profileGroup = false)
#set($profileGroup = $core_v2_userProfileFieldGroup.Get($core_v2_widget.GetIntValue('profileFieldGroupId', -1)))
#if (!$profileGroup)
	$core_v2_widget.Hide()
#end
#if (!$core_v2_editableGroup.IsEditable('User') || $user.Id != $core_v2_user.Accessing.Id || !$core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	#set($readOnly = true)
#end
#set($data = $core_v2_page.ParseQueryString(''))
#foreach($profileField in $user.ProfileFields)
	$data.Add($profileField.Label, $core_v2_encoding.HtmlDecode($profileField.Value))
#end

#if ($readOnly)
	#set($dq = '"')
	#set($propertyHeaderFormat = "&lt;li class=${dq}attribute-item${dq}&gt;&lt;span class=${dq}attribute-name${dq}&gt;{PropertyName}$core_v2_language.GetResource('CF_UserProfileGroup_AttributeNameSuffix')&lt;/span&gt;&lt;span class=${dq}attribute-value${dq}&gt;")
	#set($propertyFooterFormat = '&lt;/span&gt;&lt;/li&gt;')

	&lt;div class="attribute-list-header"&gt;&lt;/div&gt;
	&lt;ul class="attribute-list"&gt;
		#set($form = false)
		#set($form = $core_v2_dynamicForm.RenderForm($core_v2_widget.UniqueId('form'), $core_v2_userProfileFieldGroup.DynamicFormXml($profileGroup.Id, "%{ReadOnly=$readOnly}"), $data, "%{GroupFooterHtmlFormat='',GroupHeaderHtmlFormat='',PropertyFooterHtmlFormat=$propertyFooterFormat,PropertyHeaderHtmlFormat=$propertyHeaderFormat,HidePropertiesWithoutValues='true'}"))
		#if (!$form || $form.Length == 0)
			$core_v2_widget.Hide()
		#else
			$form
		#end
	&lt;/ul&gt;
	&lt;div class="attribute-list-footer"&gt;&lt;/div&gt;
#else
	#set($propertyHeaderFormat = '&lt;li class="field-item {PropertyDataType}-type"&gt;&lt;span class="field-item-description"&gt;{PropertyName}&lt;/span&gt;&lt;span class="field-item-input"&gt;')
	#set($propertyFooterFormat = '&lt;/span&gt;&lt;/li&gt;')

	&lt;div class="field-list-header"&gt;&lt;/div&gt;
	&lt;fieldset class="field-list"&gt;
		&lt;ul class="field-list"&gt;
			#set($form = false)
			#set($form = $core_v2_dynamicForm.RenderForm($core_v2_widget.UniqueId('form'), $core_v2_userProfileFieldGroup.DynamicFormXml($profileGroup.Id, "%{ReadOnly=$readOnly}"), $data, "%{GroupFooterHtmlFormat='',GroupHeaderHtmlFormat='',PropertyFooterHtmlFormat=$propertyFooterFormat,PropertyHeaderHtmlFormat=$propertyHeaderFormat}"))
			#if (!$form || $form.Length == 0)
				$core_v2_widget.Hide()
			#else
				$form
			#end
		&lt;/ul&gt;
	&lt;/fieldset&gt;
	&lt;div class="field-list-footer"&gt;&lt;/div&gt;

	#registerEndOfPageHtml()
		&lt;script type="text/javascript"&gt;
		//&lt;![CDATA[
		jQuery(document).ready(function() {
			var save = function(success, failure)
			{
				var data = $core_v2_dynamicForm.GetValuesScript($core_v2_widget.UniqueId('form'));
				var postData = {};
				for (var n in data) { postData['_ProfileFields_' + n] = data[n] != null ? (data[n].toGMTString ? jQuery.telligent.evolution.formatDate(data[n]) : data[n] + '') : ''; }
				postData.UserId = $user.Id;

				jQuery.telligent.evolution.put({
					url: jQuery.telligent.evolution.site.getBaseUrl() + 'api.ashx/v2/users/{UserId}.json?IncludeFields=Id',
					data: postData,
					success: function(response) { success(); },
					error: function(xhr, desc, ex) { jQuery.telligent.evolution.notifications.show(desc,{type:'error'});failure(); }
				});
			}
			$core_v2_editableGroup.GetRegistrationScript('User', 'save')
		});
		//]]&gt;
		&lt;/script&gt;
	#end
#end
			</contentScript>
		<headerScript>
#set($profileGroup = $core_v2_userProfileFieldGroup.Get($core_v2_widget.GetIntValue('profileFieldGroupId', -1)))
#if ($profileGroup)
	$profileGroup.Title
#else
	$core_v2_language.GetResource('CF_UserProfileGroup')
#end
		</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="profileFieldGroupId" resourceName="CF_UserProfileGroup_ProfileFieldGroup" descriptionResourceName="CF_UserProfileGroup_ProfileFieldGroupDesc" dataType="Int" controlType="Telligent.Evolution.Controls.UserProfileGroupIntControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="user" resourceName="CF_UserProfileGroup_ShowProfileInformationFor" descriptionResourceName="CF_UserProfileGroup_ShowProfileInformationForDesc" dataType="string" defaultValue="context"&gt;
		&lt;propertyValue value="context" resourceName="CF_UserProfileGroup_ShowProfileInformationFor_Contextual" /&gt;
		&lt;propertyValue value="accessing" resourceName="CF_UserProfileGroup_ShowProfileInformationFor_Accessing" /&gt;
	&lt;/property&gt;
	&lt;property id="forceReadOnly" resourceName="CF_UserProfileGroup_ReadOnly" descriptionResourceName="CF_UserProfileGroup_ReadOnlyDesc" dataType="Bool" defaultValue="false" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="CF_UserProfileGroup">User Profile Fields</resource><resource name="CF_UserProfileGroupDesc">Displays a group of user profile fields.</resource><resource name="Options">Options</resource><resource name="CF_UserProfileGroup_ProfileFieldGroup">Profile Field Group</resource><resource name="CF_UserProfileGroup_ShowProfileInformationFor">Show Profile Information For</resource><resource name="CF_UserProfileGroup_ShowProfileInformationFor_Contextual">Contextual User</resource><resource name="CF_UserProfileGroup_ShowProfileInformationFor_Accessing">Accessing User</resource><resource name="CF_UserProfileGroup_ReadOnly">Read Only</resource><resource name="CF_UserProfileGroup_ProfileFieldGroupDesc">Select the grouping of fields to display.</resource><resource name="CF_UserProfileGroup_ShowProfileInformationForDesc">Select which user to display profile data for.</resource><resource name="CF_UserProfileGroup_ReadOnlyDesc">If checked, field data will not be editable. If unchecked, the user whose data is shown will be able to change it.</resource><resource name="CF_UserProfileGroup_AttributeNameSuffix">:</resource></language></languageResources>
		<additionalCssScript>
#if($core_v2_widget.GetStringValue('user', 'context') == 'context')
	#set($user = $core_v2_user.Current)
#else
	#set($user = $core_v2_user.Accessing)
#end
#if ($core_v2_editableGroup.IsEditable('User') &amp;&amp; !$core_v2_widget.GetBoolValue('forceReadOnly', false) &amp;&amp; $user.Id == $core_v2_user.Accessing.Id &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
	editable
#end
		</additionalCssScript>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_WikiBanner_Name}" version="7.5.0.32466" description="${resource:Wikis_WikiBanner_Description}" instanceIdentifier="cc8ecd0de9db448d9593f0964ed67e9d" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="false" cssClass="wiki-banner">
		<contentScript>
#set ($wikiRssUrl = false)
#set ($wikiRssUrl = $core_v2_wikiUrls.Rss($core_v2_wiki.Current.Id))
&lt;div class="application-banner-header"&gt;&lt;/div&gt;
	&lt;div class="application-banner"&gt;
		&lt;h3 class="application-name"&gt;$core_v2_wiki.Current.Name&lt;/h3&gt;
		&lt;div class="application-description user-defined-markup"&gt;
			$core_v2_wiki.Current.Description
		&lt;/div&gt;
		&lt;div class="application-banner-actions"&gt;
			#if ($wikiRssUrl)
				&lt;a href="$core_v2_encoding.HtmlAttributeEncode($wikiRssUrl)" class="internal-link rss"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Subscribe')&lt;/a&gt;
			#end
		&lt;/div&gt;
	&lt;/div&gt;
&lt;div class="application-banner-footer"&gt;&lt;/div&gt;
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_WikiBanner_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_WikiBanner_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_WikiBanner_Name">Wikis - Banner</resource><resource name="Wikis_WikiBanner_Description">Displays the top banner of a page for wikis.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Subscribe">Subscribe</resource></language></languageResources>
		<requiredContext>
			<context id="438f4b20be39493c908f292b4592f6fc" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_WikiBreadCrumbs_Name}" version="7.5.0.32466" description="${resource:Wikis_WikiBreadCrumbs_Description}" instanceIdentifier="c2233a51062b4fb99817e947c2202394" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="wiki-bread-crumbs">
		<contentScript>

#set($page = $core_v2_wikiUrls.Current)
#set($wiki = $core_v2_wiki.Current)
#set($wikiPage = $core_v2_wikiPage.CurrentOrDefault)
#set($forumThread = $core_v2_forumThread.Current)
#set($wikiPageRevision = $core_v2_wikiPageRevision.Current)

&lt;div class="breadcrumb-list-header"&gt;&lt;/div&gt;
&lt;div class="breadcrumb-list"&gt;
	&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_urls.Home())" class="internal-link view-home"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("Home")&lt;/a&gt;&lt;/span&gt;

	#foreach($group in $core_v2_group.CurrentGroupPath)
	#each
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($group.Url)" class="internal-link view-group"&gt;&lt;span&gt;&lt;/span&gt;$group.Name&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($wiki &amp;&amp; $page != 'GroupAggregateHome')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($wiki.Url)"&gt;$wiki.Name&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($wikiPage &amp;&amp; $page != 'EditPage')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($wikiPage.Url)"&gt;$wikiPage.Title&lt;/a&gt;&lt;/span&gt;
	#end

	#if ($page == 'AddPage')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		#if($wikiPage &amp;&amp; !$wikiPage.IsDefaultPage &amp;&amp; $wikiPage.ParentPageId)
			#set($addPageUrl = $core_v2_wikiUrls.AddPage($wiki.Id, "%{ ParentPageId = $wikiPage.ParentPageId }"))
		#else
			#set($addPageUrl = $core_v2_wikiUrls.AddPage($wiki.Id))
		#end
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($addPageUrl)"&gt;$core_v2_language.GetResource('Wikis_AddPage')&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == 'Tags')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Tags($wiki.Id))"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource("TagBreadCrumb_Root")&lt;/a&gt;&lt;/span&gt;
		#if($core_v2_tags.Current &amp;&amp; $core_v2_tags.Current.Count &gt; 0)
			#set($index = 0)
			#foreach($tag in $core_v2_tags.Current)
			#each
				#set($index = $index + 1)
				&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Tags($wiki.Id, $core_v2_utility.Slice($core_v2_tags.Current, 0, $index)))"&gt;&lt;span&gt;&lt;/span&gt;$tag&lt;/a&gt;&lt;/span&gt;
			#end
		#end
	#elseif ($page == 'EditPage')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;
			#if($wiki &amp;&amp; $wiki.Id)
				#if($forumThread &amp;&amp; $forumThread.Id)
					#set($editPageUrl = $core_v2_wikiUrls.EditPage($wiki.Id, $forumThread.Id))
				#else
					#set($editPageUrl = $core_v2_wikiUrls.EditPage($wiki.Id))
				#end
				&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($editPageUrl)"&gt;$wikiPage.Title&lt;/a&gt;&lt;/span&gt;
			#end
		&lt;/span&gt;
	#elseif ($page == 'DeletePage')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.DeletePage($wikiPage.Id))"&gt;$core_v2_language.GetResource('Delete')&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == 'AddChildPage')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.AddChildPage($wikiPage.Id))"&gt;$core_v2_language.GetResource('Wikis_AddPage')&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == 'PageComments')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		&lt;span class="breadcrumb-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.PageComments($wikiPage.Id))"&gt;$core_v2_language.GetResource('Wikis_Page_Comments')&lt;/a&gt;&lt;/span&gt;
	#elseif ($page == 'Revision')
		&lt;span class="separator"&gt;$core_v2_language.GetResource("BreadCrumb_Seperator")&lt;/span&gt;
		#if($wikiPageRevision &amp;&amp; $wikiPageRevision.RevisionNumber &gt; 1)
			&lt;span class="breadcrumb-item"&gt;$core_v2_language.GetResource('Revision') #${wikiPageRevision.RevisionNumber}&lt;/span&gt;
		#else
			&lt;span class="breadcrumb-item"&gt;$core_v2_language.GetResource('Original')&lt;/span&gt;
		#end
	#end

&lt;/div&gt;
&lt;div class="breadcrumb-list-footer"&gt;&lt;/div&gt;

			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_WikiBreadCrumbs_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_WikiBreadCrumbs_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_WikiBreadCrumbs_Name">Wikis - Breadcrumbs</resource><resource name="Wikis_WikiBreadCrumbs_Description">Displays bread crumb links for wiki pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Home">Home</resource><resource name="BreadCrumb_Seperator"> &amp;raquo; </resource><resource name="Wikis_AddPage">Add Page</resource><resource name="TagBreadCrumb_Root">All Tags</resource><resource name="Delete">Delete</resource><resource name="Wikis_Page_Comments">Comments</resource><resource name="Revision">Revision</resource><resource name="Original">Original</resource></language></languageResources>
		<requiredContext>
			<context id="438f4b20be39493c908f292b4592f6fc" />
		</requiredContext>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_WikiLinks_Name}" version="7.5.0.32466" description="${resource:Wikis_WikiLinks_Description}" instanceIdentifier="6bd3fbf9d72d49f8a993460bc621f364" theme="" isCacheable="true" varyCacheByUser="true" showHeaderByDefault="true" cssClass="wiki-links">
		<contentScript>

#set($links = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('links','Link=wikiCreate&amp;amp;Link=wikiEditWiki&amp;amp;Link=wikiSubscribe&amp;amp;Link=wikiCommentSubscribe&amp;amp;Link=wikiLockPage&amp;amp;Link=wikiPageDelete&amp;amp;Link=wikiFavorite&amp;amp;Link=wikiPageShare')))
#set($hasLinks = false)
#set($currentWikiPage = $core_v2_wikiPage.CurrentOrDefault)
#set($currentWiki = $core_v2_wiki.Current)
#set($currentGroup = $core_v2_group.Current)

&lt;div class="navigation-list-header"&gt;&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
	#foreach($link in $links.Values('Link'))
		#set($url = false)

		#if($link == 'wikiSubscribe')
			#if ($currentWikiPage &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
				&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('wikiSubscribe')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					jQuery(function(j){
						j('#$core_v2_widget.UniqueId('wikiSubscribe')').evolutionToggleLink({
							onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_WikiLinks_Unsubscribe'))',
							offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_WikiLinks_Subscribe'))',
							processingHtml: '&lt;span&gt;&lt;/span&gt;...',
							changeState: function(val) {
								j.telligent.evolution.post({
									url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('subscribe.vm'))',
									data: {type:'wikiPage',subscribe:val,wikiPageId:$currentWikiPage.Id},
									dataType: 'json',
									success: function(response) { j('#$core_v2_widget.UniqueId('wikiSubscribe')').evolutionToggleLink('val', response.subscribe); if (response.warnings &amp;&amp; response.warnings.length &gt; 0) { jQuery.telligent.evolution.notifications.show(response.warnings[0], { type: 'warning' }); } },
									error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('wikiSubscribe')').evolutionToggleLink('val', !val); }
								});
							},
							onCssClass: 'internal-link subscription-on',
							offCssClass: 'internal-link subscription-off',
							processingCssClass: 'internal-link processing',
							val: #if($core_v2_wikiPage.IsSubscribed($currentWikiPage.Id)) true#else false#end
						});
					});
					&lt;/script&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'wikiCommentSubscribe')
			#if ($currentWikiPage &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id))
				&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('wikiCommentSubscribe')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					jQuery(function(j){
						j('#$core_v2_widget.UniqueId('wikiCommentSubscribe')').evolutionToggleLink({
							onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_WikiLinks_CommentUnsubscribe'))',
							offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('CF_WikiLinks_CommentSubscribe'))',
							processingHtml: '&lt;span&gt;&lt;/span&gt;...',
							changeState: function(val) {
								j.telligent.evolution.put({
									url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('commentsubscribe.vm'))',
									data: {subscribe:val,contentId:'$currentWikiPage.ContentId'},
									dataType: 'json',
									success: function(response) { j('#$core_v2_widget.UniqueId('wikiCommentSubscribe')').evolutionToggleLink('val', response.subscribe); if (response.warnings &amp;&amp; response.warnings.length &gt; 0) { jQuery.telligent.evolution.notifications.show(response.warnings[0], { type: 'warning' }); } },
									error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('wikiCommentSubscribe')').evolutionToggleLink('val', !val); }
								});
							},
							onCssClass: 'internal-link subscription-on',
							offCssClass: 'internal-link subscription-off',
							processingCssClass: 'internal-link processing',
							val: #if($core_v2_wikiPageCommentSubscriptions.IsSubscribed($currentWikiPage.ContentId)) true#else false#end
						});
					});
					&lt;/script&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'wikiPageShare')
			#if ($currentWikiPage)
				#set($url = $core_v2_wikiUrls.SharePage($currentWikiPage.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="#" onclick="Telligent_Modal.Open('$core_v2_encoding.HtmlEncode($core_v2_encoding.JavaScriptEncode($url))',550,300,null);return false;" class="internal-link email-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_WikiLinks_PageShare')&lt;/a&gt;&lt;/li&gt;
				#else
					&lt;li class="navigation-item"&gt;&lt;a href="mailto:?subject=$currentWikiPage.Title&amp;body=$core_v2_encoding.HtmlAttributeEncode($core_v2_page.AbsoluteUrl($currentWikiPage.Url))" class="internal-link email-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_WikiLinks_PageShare')&lt;/a&gt;&lt;/li&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'wikiCreate')
			#if ($currentGroup)
				#set($url = $core_v2_wikiUrls.AddWiki($currentGroup.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link add-application wiki"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('CF_WikiCreate')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'wikiFavorite')
			#if ($currentWiki &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_wiki.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($currentWiki.ContentId, $core_v2_wiki.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($currentWiki.ContentId, $core_v2_wiki.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($currentWiki.ContentId, $core_v2_wiki.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'wikiPageFavorite')
			#if ($currentWikiPage &amp;&amp; $core_v2_bookmark.SupportsBookmarks($core_v2_wikiPage.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanBookmark($currentWikiPage.ContentId, $core_v2_wikiPage.ContentTypeId) &amp;&amp; $core_v2_bookmark.CanUnBookmark($currentWikiPage.ContentId, $core_v2_wikiPage.ContentTypeId))
				&lt;li class="navigation-item"&gt;$core_v2_ui.Bookmark($currentWikiPage.ContentId, $core_v2_wikiPage.ContentTypeId)&lt;/li&gt;
				#set($hasLinks = true)
			#end
		#elseif($link == 'wikiLockPage')
			#if ($currentWikiPage &amp;&amp; $core_v2_user.IsRegistered($core_v2_user.Accessing.Id) &amp;&amp; $core_v2_nodePermission.Get('wikispages',$currentWikiPage.Id,'Wiki_LockPage').IsAllowed)
				&lt;li class="navigation-item"&gt;&lt;a id="$core_v2_widget.UniqueId('wikiLock')" href="#"&gt;&lt;/a&gt;&lt;/li&gt;
				#registerEndOfPageHtml()
					&lt;script type="text/javascript"&gt;
					jQuery(function(j){
						j('#$core_v2_widget.UniqueId('wikiLock')').evolutionToggleLink({
							onHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wiki_WikiLinks_LockPage'))',
							offHtml: '&lt;span&gt;&lt;/span&gt;$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Wiki_WikiLinks_UnlockPage'))',
							processingHtml: '&lt;span&gt;&lt;/span&gt;...',
							changeState: function(val) {
								j.telligent.evolution.post({
									url: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('lock.vm'))',
									data: {type:'wikiPage',lock:val,wikiPageId:$currentWikiPage.Id},
									dataType: 'json',
									success: function(response) {
										j('#$core_v2_widget.UniqueId('wikiLock')').evolutionToggleLink('val', response.lock);
										## locking/unlocking reloads the page so as to change the state of all the page controls
										window.location.reload();
									},
									error: function(xhr, desc, ex) { j('#$core_v2_widget.UniqueId('wikiLock')').evolutionToggleLink('val', !val); }
								});
							},
							onCssClass: 'internal-link lock-post',
							offCssClass: 'internal-link unlock-post',
							processingCssClass: 'internal-link processing',
							val: #if($currentWikiPage.IsLocked) true#else false#end
						});
					});
					&lt;/script&gt;
				#end
				#set($hasLinks = true)
			#end
		#elseif($link == 'wikiPageUndelete')
			#if ($currentWikiPage)
				#set($url = $core_v2_wikiUrls.UndeletePage($currentWikiPage.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="#" onclick="Telligent_Modal.Open('$core_v2_encoding.HtmlEncode($core_v2_encoding.JavaScriptEncode($url))',550,300,null);" class="internal-link undelete-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wikis_Page_Undelete')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'wikiPageDelete')
			#if ($currentWikiPage)
				#set($url = $core_v2_wikiUrls.DeletePage($currentWikiPage.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="#" onclick="Telligent_Modal.Open('$core_v2_encoding.HtmlEncode($core_v2_encoding.JavaScriptEncode($url))',550,300,null);return false;" class="internal-link delete-post"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wikis_Page_Delete')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'wikiManageWiki')
			#if ($currentWiki)
				#set($url = $core_v2_wikiUrls.ManageWiki($currentWiki.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link manage-application"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wikis_ManageWiki')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'wikiEditWiki')
			#if ($currentWiki)
				#set($url = $core_v2_wikiUrls.EditWiki($currentWiki.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-application"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wikis_Page_EditWikiSettings')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'wikiEditPage')
			#if ($currentWikiPage)
				#set($url = $core_v2_wikiUrls.EditPage($currentWikiPage.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link edit-wiki-page"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wikis_Page_EditPage')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'wikiPageHistory')
			#if ($currentWikiPage)
				#set($url = $core_v2_wikiUrls.PageHistory($currentWikiPage.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link wiki-page-history"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wikis_Page_PageHistory')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#elseif($link == 'wikiPageArticle')
			#if ($currentWikiPage)
				#set($url = $core_v2_wikiUrls.Page($currentWikiPage.Id))
				#if($url)
					&lt;li class="navigation-item"&gt;&lt;a href="$core_v2_encoding.HtmlAttributeEncode($url)" class="internal-link view-wiki-page"&gt;&lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Wikis_Page_Article')&lt;/a&gt;&lt;/li&gt;
					#set($hasLinks = true)
				#end
			#end
		#end
	#end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;

#if($hasLinks == false)
	$core_v2_widget.Hide()
#end

			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_WikiLinks_Title_Options}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_WikiLinks_Title_Options}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="links" resourceName="Wikis_WikiLinks_Links" dataType="custom" defaultValue="Link=wikiCreate&amp;amp;Link=wikiEditWiki&amp;amp;Link=wikiSubscribe&amp;amp;Link=wikiCommentSubscribe&amp;amp;Link=wikiLockPage&amp;amp;Link=wikiPageDelete&amp;amp;Link=wikiFavorite&amp;amp;Link=wikiPageShare" controlType="Telligent.Evolution.Controls.SortableListControl, Telligent.Evolution.Controls" height="300" key="Link" &gt;
		&lt;propertyValue value="wikiCreate" resourceName="CF_WikiCreate" /&gt;
		&lt;propertyValue value="wikiSubscribe" resourceName="CF_WikiLinks_Subscribe" /&gt;
		&lt;propertyValue value="wikiPageShare" resourceName="CF_WikiLinks_PageShare" /&gt;
		&lt;propertyValue value="wikiFavorite" resourceName="CF_WikiLinks_FavoriteWiki" /&gt;
		&lt;propertyValue value="wikiLockPage" resourceName="Wiki_WikiLinks_LockPage" /&gt;
		&lt;propertyValue value="wikiPageUndelete" resourceName="Wikis_Page_Undelete" /&gt;
		&lt;propertyValue value="wikiPageDelete" resourceName="Wikis_Page_Delete" /&gt;
		&lt;propertyValue value="wikiManageWiki" resourceName="Wikis_ManageWiki" /&gt;
		&lt;propertyValue value="wikiEditWiki" resourceName="Wikis_Page_EditWikiSettings" /&gt;
		&lt;propertyValue value="wikiEditPage" resourceName="Wikis_Page_EditPage" /&gt;
		&lt;propertyValue value="wikiPageHistory" resourceName="Wikis_Page_PageHistory" /&gt;
		&lt;propertyValue value="wikiPageArticle" resourceName="Wikis_Page_Article" /&gt;
		&lt;propertyValue value="wikiPageFavorite" resourceName="CF_WikiLinks_FavoriteWikiPage" /&gt;
		&lt;propertyValue value="wikiCommentSubscribe" resourceName="CF_WikiLinks_CommentSubscribe" /&gt;
	&lt;/property&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_WikiLinks_Name">Wikis - Links</resource><resource name="Wikis_WikiLinks_Description">Displays a list of common links.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Wikis_WikiLinks_Links">Select, rearrange, and enable the links to be displayed</resource><resource name="CF_WikiLinks_PageShare">Share this</resource><resource name="CF_WikiLinks_FavoriteWiki">Bookmark this wiki</resource><resource name="Wikis_Page_Undelete">Undelete page</resource><resource name="Wikis_Page_Delete">Delete page</resource><resource name="Wikis_ManageWiki">Manage wiki</resource><resource name="Wikis_Page_EditWikiSettings">Wiki settings</resource><resource name="Wikis_Page_EditPage">Edit page</resource><resource name="Wikis_Page_PageHistory">View history</resource><resource name="Wikis_Page_Article">Article</resource><resource name="CF_WikiLinks_Unsubscribe">Page notifications are on</resource><resource name="CF_WikiLinks_Subscribe">Page notifications are off</resource><resource name="CF_WikiLinks_FavoriteWikiPage">Bookmark this page</resource><resource name="CF_WikiCreate">Create new Wiki</resource><resource name="Wiki_WikiLinks_UnlockPage">Wiki is open for editing</resource><resource name="Wiki_WikiLinks_LockPage">Wiki is locked</resource><resource name="Wikis_WikiLinks_Title_Options">Options</resource><resource name="CF_WikiLinks_CommentSubscribe">Comment notifications are off</resource><resource name="CF_WikiLinks_CommentUnsubscribe">Comment notifications are on</resource></language></languageResources>
		<requiredContext>
			<context id="578aa547a44c45d39159cab85e3002cc" />
		</requiredContext>
		<files>
			<file name="commentsubscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkNCgkjc2V0ICgkc3Vic2NyaWJlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUJvb2woJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3N1YnNjcmliZScpKSkNCgkjc2V0ICgkY29udGVudElkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUd1aWQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ2NvbnRlbnRJZCcpKSkNCgkkY29yZV92Ml9wYWdlLlNldENvbnRlbnRUeXBlKCdhcHBsaWNhdGlvbi9qc29uJykNCgkjc2V0KCRyZXNwb25zZSA9IGZhbHNlKQ0KCSNzZXQoJHJlc3BvbnNlID0gJGNvcmVfdjJfd2lraVBhZ2VDb21tZW50U3Vic2NyaXB0aW9ucy5TZXRTdWJzY3JpYmVkKCRjb250ZW50SWQsICRzdWJzY3JpYmUpKQ0KCXsic3Vic2NyaWJlIjojaWYoJHN1YnNjcmliZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZCwid2FybmluZ3MiOlsNCgkJI2ZvcmVhY2ggKCR3YXJuaW5nIGluICRyZXNwb25zZS5XYXJuaW5ncykNCgkJCSNlYWNoDQoJCQkJIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHdhcm5pbmcuTWVzc2FnZSkiDQoJCQkjYmV0d2Vlbg0KCQkJCSwNCgkJI2VuZA0KCV19DQojZW5k</file>
			<file name="lock.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJHR5cGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgndHlwZScpKQoJI3NldCgkbG9jayA9ICRjb3JlX3YyX3V0aWxpdHkuUGFyc2VCb29sKCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCdsb2NrJykpKQoJJGNvcmVfdjJfcGFnZS5TZXRDb250ZW50VHlwZSgnYXBwbGljYXRpb24vanNvbicpCgoJI2lmICgkdHlwZSA9PSAnd2lraVBhZ2UnKQoJCXsibG9jayI6I2lmKCRjb3JlX3YyX3dpa2lQYWdlLlVwZGF0ZSgkY29yZV92Ml91dGlsaXR5LlBhcnNlSW50KCRjb3JlX3YyX3BhZ2UuR2V0Rm9ybVZhbHVlKCd3aWtpUGFnZUlkJykpLCAiJXsgSXNMb2NrZWQgPSAkbG9jaywgU2F2ZVJldmlzaW9uID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUJvb2woJ0ZhbHNlJykgfSIpLklzTG9ja2VkKSB0cnVlI2Vsc2UgZmFsc2UjZW5kfQoJI2Vsc2UKCQkkY29yZV92Ml9wYWdlLlNlbmRKc29uRXJyb3IoJ1VucmVjb2duaXplZCBsb2NrIHR5cGUuJykKCSNlbmQKI2VuZA==</file>
			<file name="subscribe.vm">I2lmICgkY29yZV92Ml9wYWdlLklzUG9zdCkKCSNzZXQoJHR5cGUgPSAkY29yZV92Ml9wYWdlLkdldEZvcm1WYWx1ZSgndHlwZScpKQoJI3NldCgkc3Vic2NyaWJlID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUJvb2woJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3N1YnNjcmliZScpKSkKCSRjb3JlX3YyX3BhZ2UuU2V0Q29udGVudFR5cGUoJ2FwcGxpY2F0aW9uL2pzb24nKQoJI3NldCgkcmVzcG9uc2UgPSBmYWxzZSkKCgkjaWYgKCR0eXBlID09ICd3aWtpUGFnZScpCgkJI3NldCgkcmVzcG9uc2UgPSAkY29yZV92Ml93aWtpUGFnZS5TZXRTdWJzY3JpYmVkKCRjb3JlX3YyX3V0aWxpdHkuUGFyc2VJbnQoJGNvcmVfdjJfcGFnZS5HZXRGb3JtVmFsdWUoJ3dpa2lQYWdlSWQnKSksICRzdWJzY3JpYmUpKQoJCXsic3Vic2NyaWJlIjojaWYoJHN1YnNjcmliZSkgdHJ1ZSNlbHNlIGZhbHNlI2VuZCwid2FybmluZ3MiOlsKCQkJI2ZvcmVhY2ggKCR3YXJuaW5nIGluICRyZXNwb25zZS5XYXJuaW5ncykKCQkJCSNlYWNoCgkJCQkJIiRjb3JlX3YyX2VuY29kaW5nLkphdmFzY3JpcHRFbmNvZGUoJHdhcm5pbmcuTWVzc2FnZSkiCgkJCQkjYmV0d2VlbgoJCQkJCSwKCQkJI2VuZAoJCV19CgkjZWxzZQoJCSRjb3JlX3YyX3BhZ2UuU2VuZEpzb25FcnJvcignVW5yZWNvZ25pemVkIHN1YnNjcmlwdGlvbiB0eXBlLicpCgkjZW5kCiNlbmQ=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_WikiPageHierarchy_Name}" version="7.5.0.32466" description="${resource:Wikis_WikiPageHierarchy_Description}" instanceIdentifier="23efcf2931104e89a2bb43a57f52f2d3" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="wiki-page-hierarchy">
		<contentScript>
#set($wiki = false)
#set($config = $core_v2_page.ParseQueryString($core_v2_widget.GetCustomValue('selectedWikiOrGroup', '')))
#set($currentPage = $core_v2_wikiPage.CurrentOrDefault)

#if ($core_v2_utility.ParseInt($config.Value('Wiki')) &gt; 0)
	#set($wiki = $core_v2_wiki.Get("%{Id=$core_v2_utility.ParseInt($config.Value('Wiki'))}"))
#else
	#set($wiki = $core_v2_wiki.Get("%{Id=$currentPage.WikiId}"))
#end

#if(!$wiki)
	$core_v2_widget.Hide()
#end

#if ($currentPage.Id &gt; 0 &amp;&amp; $currentPage.WikiId != $wiki.Id)
	#set($currentPage = false)
#end

#set($pages = false)
#if ($currentPage.Id &gt; 0)
	#set($pages = $core_v2_utility.FlattenHierarchy($core_v2_wikiToc.List($wiki.Id), 'Children', "%{ExpandToChildProperty='Id',ExpandToChildValue=$currentPage.Id}"))
#else
	#set($pages = $core_v2_utility.FlattenHierarchy($core_v2_wikiToc.List($wiki.Id), 'Children', "%{ExpandToLevel=1}"))
#end

#if(!$pages || $pages.Count == 0)
	$core_v2_widget.Hide()
#end

&lt;div id="$core_v2_widget.UniqueId('hierarchy')"&gt;
	#set($currentLevel = 0)
	#foreach($page in $pages)
		#if($page.Level &gt; $currentLevel)
			#foreach($i in [$currentLevel..$page.Level])
				#if($i != $currentLevel)
					&lt;div class="hierarchy-children"&gt;
						&lt;ul class="hierarchy-list"&gt;
				#end
			#end
		#elseif ($page.Level &lt; $currentLevel)
			#foreach($i in [$page.Level..$currentLevel])
				#if($i != $currentLevel)
							&lt;/li&gt;
						&lt;/ul&gt;
					&lt;/div&gt;
				#end
			#end
		#else
			&lt;/li&gt;
		#end
		&lt;li&gt;
			&lt;div class="hierarchy-item#if($currentPage &amp;&amp; $currentPage.Id == $page.Item.Id) selected#end#if($page.HasChildren) with-children#else without-children#end"&gt;
			#if ($page.HasChildren)
				#if ($page.IsExpanded)
						&lt;a href="#" class="internal-link expand-collapse"&gt;&lt;img src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('expanded.gif'))" alt="-" style="border-width:0;" /&gt;&lt;/a&gt;
						&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Page($page.Item.Id))"&gt;$page.Item.Title&lt;/a&gt;
						&lt;input type="hidden" value="$page.Item.Id" /&gt;
					&lt;/div&gt;
				#else
						&lt;a href="#" class="internal-link expand-collapse"&gt;&lt;img src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('collapsed.gif'))" alt="+" style="border-width:0;" /&gt;&lt;/a&gt;
						&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Page($page.Item.Id))"&gt;$page.Item.Title&lt;/a&gt;
						&lt;input type="hidden" value="$page.Item.Id" /&gt;
					&lt;/div&gt;
				#end
			#else
					&lt;a href="$core_v2_encoding.HtmlAttributeEncode($core_v2_wikiUrls.Page($page.Item.Id))"&gt;$page.Item.Title&lt;/a&gt;
				&lt;/div&gt;
			#end
		#set($currentLevel = $page.Level)
	#end
	#if ($currentLevel &gt; 0)
		#foreach($i in [1..$currentLevel])
					&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/div&gt;
		#end
	#end
&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.wikiPageHierarchy')
	&lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl('ui.js'))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
	&lt;script type="text/javascript"&gt;
	//&lt;![CDATA[
	jQuery(document).ready(function(j)
	{
		j.telligent.evolution.widgets.wikiPageHierarchy.register({
			hierarchy:j('#$core_v2_widget.UniqueId('hierarchy')'),
			pagesUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('pages.vm'))',
			expandedUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('expanded.gif'))',
			collapsedUrl:'$core_v2_encoding.JavascriptEncode($core_v2_widget.GetFileUrl('collapsed.gif'))',
			wikiId:$wiki.Id
		});
	});
	//]]&gt;
	&lt;/script&gt;
#end

			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_WikiPageHierarchy_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_WikiPageHierarchy_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
	&lt;property id="selectedWikiOrGroup" resourceName="CF_Wiki_SelectGroupAndWiki" dataType="Custom" defaultValue="" controlType="Telligent.Evolution.Wikis.Controls.WikiSelectionControl, Telligent.Evolution.Wikis" width="95%" /&gt;
&lt;/propertyGroup&gt;
			</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_WikiPageHierarchy_Name">Wikis - Table of Contents</resource><resource name="Wikis_WikiPageHierarchy_Description">Displays the pages in their hierarchy for a specific wiki.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="CF_Wiki_SelectGroupAndWiki">Select wiki to pull content from</resource><resource name="Wikis_WikiPageHierarchy_Title_TableOfContents">Table of Contents</resource></language></languageResources>
		<files>
			<file name="collapsed.gif">R0lGODlhCgAKAMQAAGpqari4uN3u/5mZmYuLi8zMzHt7e6Wlpfn8/9jY2MfHx+Xl5ZSUlK6urur0/3JycoKCgv////L5/wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH5BAAHAP8ALAAAAAAKAAoAAAVE4DIcTdkcw8IURVAGLMMoShNFDU0Q54EgBxIBcoggJBJE5AAxDBzQ6MDwGMgEAtngUR0QsITBAAAQ73ZiQALwMLip6hAAOw==</file>
			<file name="expanded.gif">R0lGODlhCgAKALMAAGpqaq6urtjY2JmZmYKCgv///8zMzMfHx93u/3t7e5SUlKWlpeXl5XJycrKysomJiSH5BAAHAP8ALAAAAAAKAAoAAAQ1kI0VnAtrMGW674pyjOSoPNiiqsFDLEUsL0QyIHg+JM0Q/opBozcoGgcAwPEIEAAaiSivGQEAOw==</file>
			<file name="pages.vm">I3NldCgkcGFyZW50UGFnZUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfcGFyZW50UGFnZUlkJykpKQ0KI3NldCgkd2lraUlkID0gJGNvcmVfdjJfdXRpbGl0eS5QYXJzZUludCgkY29yZV92Ml9wYWdlLkdldFF1ZXJ5U3RyaW5nVmFsdWUoJ3dfd2lraUlkJykpKQ0KI2lmICgkd2lraUlkID4gMCAmJiAkcGFyZW50UGFnZUlkID4gMCkNCgkjZm9yZWFjaCgkcGFnZSBpbiAkY29yZV92Ml91dGlsaXR5LkZsYXR0ZW5IaWVyYXJjaHkoJGNvcmVfdjJfd2lraVRvYy5MaXN0KCR3aWtpSWQsICRwYXJlbnRQYWdlSWQpLCAnQ2hpbGRyZW4nLCAiJXtFeHBhbmRUb0xldmVsPTF9IikpDQoJI2JlZm9yZWFsbA0KCQk8ZGl2IGNsYXNzPSJoaWVyYXJjaHktY2hpbGRyZW4iPg0KCQkJPHVsIGNsYXNzPSJoaWVyYXJjaHktbGlzdCI+DQoJI2VhY2gNCgkJPGxpPg0KCQkJPGRpdiBjbGFzcz0iaGllcmFyY2h5LWl0ZW0jaWYoJGN1cnJlbnRQYWdlICYmICRjdXJyZW50UGFnZS5JZCA9PSAkcGFnZS5JdGVtLklkKSBzZWxlY3RlZCNlbmQjaWYoJHBhZ2UuSGFzQ2hpbGRyZW4pIHdpdGgtY2hpbGRyZW4jZWxzZSB3aXRob3V0LWNoaWxkcmVuI2VuZCI+DQoJCQkjaWYgKCRwYWdlLkhhc0NoaWxkcmVuKQ0KCQkJCQk8YSBocmVmPSIjIiBjbGFzcz0iaW50ZXJuYWwtbGluayBleHBhbmQtY29sbGFwc2UiPjxpbWcgc3JjPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3dpZGdldC5HZXRGaWxlVXJsKCdjb2xsYXBzZWQuZ2lmJykpIiBhbHQ9IisiIHN0eWxlPSJib3JkZXItd2lkdGg6MDsiIC8+PC9hPg0KCQkJCQk8YSBocmVmPSIkY29yZV92Ml9lbmNvZGluZy5IdG1sQXR0cmlidXRlRW5jb2RlKCRjb3JlX3YyX3dpa2lVcmxzLlBhZ2UoJHBhZ2UuSXRlbS5JZCkpIj4kcGFnZS5JdGVtLlRpdGxlPC9hPg0KCQkJCQk8aW5wdXQgdHlwZT0iaGlkZGVuIiB2YWx1ZT0iJHBhZ2UuSXRlbS5JZCIgLz4NCgkJCQk8L2Rpdj4NCgkJCSNlbHNlDQoJCQkJCTxhIGhyZWY9IiRjb3JlX3YyX2VuY29kaW5nLkh0bWxBdHRyaWJ1dGVFbmNvZGUoJGNvcmVfdjJfd2lraVVybHMuUGFnZSgkcGFnZS5JdGVtLklkKSkiPiRwYWdlLkl0ZW0uVGl0bGU8L2E+DQoJCQkJPC9kaXY+DQoJCQkjZW5kDQoJCQkjc2V0KCRjdXJyZW50TGV2ZWwgPSAkcGFnZS5MZXZlbCkNCgkJPC9saT4NCgkjYWZ0ZXJhbGwNCgkJCTwvdWw+DQoJCTwvZGl2Pg0KCSNlbmQNCiNlbmQ=</file>
			<file name="ui.js">KGZ1bmN0aW9uKGosIGdsb2JhbCl7DQoNCglpZiAodHlwZW9mIGoudGVsbGlnZW50ID09PSAndW5kZWZpbmVkJykNCgkJai50ZWxsaWdlbnQgPSB7fTsNCg0KCWlmICh0eXBlb2Ygai50ZWxsaWdlbnQuZXZvbHV0aW9uID09PSAndW5kZWZpbmVkJykNCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uID0ge307DQoNCglpZiAodHlwZW9mIGoudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzID09PSAndW5kZWZpbmVkJykNCgkJai50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSB7fTsNCg0KCXZhciBfc3BlZWQgPSAyMDAsDQoJCV9sb2NrcyA9IHt9LA0KCQlfcHJvY2Vzc0NoaWxkcmVuID0gZnVuY3Rpb24oY29udGV4dCwgalEpDQoJCXsNCgkJCWpRLmZpbmQoJy5oaWVyYXJjaHktaXRlbS53aXRoLWNoaWxkcmVuIGEuaW50ZXJuYWwtbGluay5leHBhbmQtY29sbGFwc2UnKQ0KCQkJCS5jbGljayhmdW5jdGlvbigpDQoJCQkJew0KCQkJCQl2YXIgcCA9ICQodGhpcykucGFyZW50KCkucGFyZW50KCk7DQoJCQkJCXZhciBjID0gcC5jaGlsZHJlbignLmhpZXJhcmNoeS1jaGlsZHJlbicpOw0KCQkJCQlpZiAoYyAmJiBjLmxlbmd0aCA+IDApDQoJCQkJCXsNCgkJCQkJCXZhciBpbWcgPSBwLmZpbmQoJ2EuaW50ZXJuYWwtbGluay5leHBhbmQtY29sbGFwc2UgaW1nOmZpcnN0Jyk7DQoJCQkJCQlpZiAoYy5jc3MoJ2Rpc3BsYXknKSA9PSAnbm9uZScpDQoJCQkJCQkJYy5zbGlkZURvd24oX3NwZWVkLCBmdW5jdGlvbigpIHsgaW1nLmF0dHIoJ3NyYycsIGNvbnRleHQuZXhwYW5kZWRVcmwpLmF0dHIoJ2FsdCcsJy0nKSB9KTsNCgkJCQkJCWVsc2UNCgkJCQkJCQljLnNsaWRlVXAoX3NwZWVkLCBmdW5jdGlvbigpIHsgaW1nLmF0dHIoJ3NyYycsIGNvbnRleHQuY29sbGFwc2VkVXJsKS5hdHRyKCdhbHQnLCcrJykgfSk7DQoJCQkJCX0NCgkJCQkJZWxzZQ0KCQkJCQkJX2xvYWQoY29udGV4dCwgcCk7DQoNCgkJCQkJcmV0dXJuIGZhbHNlOw0KCQkJCX0pOw0KCQl9LA0KCQlfbG9hZCA9IGZ1bmN0aW9uKGNvbnRleHQsIGpRKQ0KCQl7DQoJCQl2YXIgcGFyZW50UGFnZWlkID0galEuZmluZCgnaW5wdXQnKS52YWwoKTsNCgkJCWlmIChfbG9ja3NbcGFyZW50UGFnZWlkXSkNCgkJCQlyZXR1cm47DQoJCQlfbG9ja3NbcGFyZW50UGFnZWlkXSA9IHRydWU7DQoJCQlqLnRlbGxpZ2VudC5ldm9sdXRpb24uZ2V0KHsNCgkJCQl1cmw6IGNvbnRleHQucGFnZXNVcmwsDQoJCQkJZGF0YToge3dfd2lraUlkOiBjb250ZXh0Lndpa2lJZCwgd19wYXJlbnRQYWdlaWQ6IHBhcmVudFBhZ2VpZH0sDQoJCQkJc3VjY2VzczogZnVuY3Rpb24ocmVzcG9uc2UpDQoJCQkJew0KCQkJCQl2YXIgcGFnZXMgPSBqKHJlc3BvbnNlKTsNCgkJCQkJX3Byb2Nlc3NDaGlsZHJlbihjb250ZXh0LCBwYWdlcyk7DQoJCQkJCXBhZ2VzDQoJCQkJCQkuaGlkZSgpDQoJCQkJCQkuYXBwZW5kVG8oalEpDQoJCQkJCQkuc2xpZGVEb3duKF9zcGVlZCwgZnVuY3Rpb24oKSB7IGpRLmZpbmQoJ2EuaW50ZXJuYWwtbGluay5leHBhbmQtY29sbGFwc2UgaW1nOmZpcnN0JykuYXR0cignc3JjJywgY29udGV4dC5leHBhbmRlZFVybCkuYXR0cignYWx0JywnLScpIH0pOw0KCQkJCQlfbG9ja3NbcGFyZW50UGFnZWlkXSA9IGZhbHNlOw0KCQkJCX0NCgkJCX0pOw0KCQl9Ow0KDQoJai50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMud2lraVBhZ2VIaWVyYXJjaHkgPSB7DQoJCXJlZ2lzdGVyOiBmdW5jdGlvbihjb250ZXh0KSB7DQoJCQlfcHJvY2Vzc0NoaWxkcmVuKGNvbnRleHQsIGNvbnRleHQuaGllcmFyY2h5KTsNCgkJfQ0KCX07DQoNCn0pKGpRdWVyeSwgd2luZG93KTs=</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:WikiResolveAppeal_Name}" version="7.5.0.32466" description="${resource:WikiResolveAppeal_Description}" instanceIdentifier="d2c0af8f0a344d928f5b808de72cd55c" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="true" cssClass="wiki-resolve-appeal">
		<contentScript>

#set ($page = false)
#set ($page = $core_v2_wikiPage.CurrentOrDefault)
#if (!$page)
    $core_v2_widget.Hide()
#end

#set ($group = false)
#set ($group = $core_v2_group.Current)
#if (!$group)
    $core_v2_widget.Hide()
#end

#set ($canReviewAppealsInGroup = false)
#set ($canReviewAppealsInGroup = $core_v2_nodePermission.Get('groups',$group.Id,'Group_ReviewAbuseAppeals').IsAllowed)
#if (!$$canReviewAppealsInGroup)
    $core_v2_widget.Hide()
#end

## #set ($appeals = $core_v2_abuseAppeal.List("%{ ContentId = $page.ContentId, PageIndex = 0, PageSize = 1, SortBy = 'AppealDate', SortOrder = 'DESC' }"))
#set ($appeals = $core_v2_abuseAppeal.List("%{ ContentId = $page.ContentId, PageIndex = 0, PageSize = 1, SortBy = 'AppealDate', SortOrder = 'Descending' }"))
#set ($currentAppeal = false)
#foreach ($appeal in $appeals)
    #set ($currentAppeal = $appeal)
#end

#if (!$currentAppeal || $currentAppeal.AppealState == 'Accepted' || $currentAppeal.AppealState == 'Rejected')
    $core_v2_widget.Hide()
#end

#set ($confirmLinkId = $core_v2_widget.UniqueId('confirm'))
#set ($restoreLinkId = $core_v2_widget.UniqueId('restore'))
#set ($responseFormId = $core_v2_widget.UniqueId('responseForm'))
#set ($responseInput = $core_v2_widget.UniqueId('responseInput'))
#set ($cancelLinkId = $core_v2_widget.UniqueId('cancel'))
#set ($submitLinkId = $core_v2_widget.UniqueId('submit'))

&lt;div class="navigation-list-header"&gt;$core_v2_language.FormatString($core_v2_language.GetResource('Description'), $page.Title)&lt;/div&gt;
&lt;ul class="navigation-list"&gt;
    &lt;li class="navigation-item"&gt;
        &lt;a href="#" class="internal-link confirm" id="$core_v2_encoding.HtmlAttributeEncode($confirmLinkId)"&gt;
            &lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Confirm_Label')
        &lt;/a&gt;
    &lt;/li&gt;
    &lt;li class="navigation-item"&gt;
        &lt;a href="#" class="internal-link restore" id="$core_v2_encoding.HtmlAttributeEncode($restoreLinkId)"&gt;
            &lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Restore_Label')
        &lt;/a&gt;
    &lt;/li&gt;
    #set ($historyUrl = false)
    #set ($historyUrl = $core_v2_wikiUrls.PageHistory($page.Id))
    #if ($historyUrl)
        &lt;li class="navigation-item"&gt;
            &lt;a href="$core_v2_encoding.HtmlAttributeEncode($historyUrl)" class="internal-link revisions" title="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('Revisions_Label'))"&gt;
                &lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Revisions_Label')
            &lt;/a&gt;
        &lt;/li&gt;
    #end
&lt;/ul&gt;
&lt;div class="navigation-list-footer"&gt;&lt;/div&gt;

&lt;div class="field-list-header"&gt;&lt;/div&gt;
&lt;fieldset class="field-list" id="$core_v2_encoding.HtmlEncode($responseFormId)" style="display:none"&gt;
    &lt;ul class="field-list"&gt;
        &lt;li class="field-item response"&gt;
            &lt;label for="$core_v2_encoding.HtmlAttributeEncode($responseInput)" class="field-item-header"&gt;$core_v2_language.GetResource('BoardResponseLabel')&lt;/label&gt;
            &lt;span class="field-item-input"&gt;
                &lt;textarea id="$core_v2_encoding.HtmlAttributeEncode($responseInput)" placeholder="$core_v2_encoding.HtmlAttributeEncode($core_v2_language.GetResource('BoardResponseLabel'))"&gt;&lt;/textarea&gt;
            &lt;/span&gt;
            &lt;span class="field-item-validation" style="display: none;"&gt;&lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item cancel"&gt;
            &lt;span class="field-item-input"&gt;
                &lt;a href="#" class="internal-link delete-post back" id="$core_v2_encoding.HtmlAttributeEncode($cancelLinkId)"&gt;
                    &lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Cancel')
                &lt;/a&gt;
            &lt;/span&gt;
        &lt;/li&gt;
        &lt;li class="field-item submit"&gt;
            &lt;span class="field-item-input"&gt;
                &lt;a href="#" class="internal-link delete-post accept" id="$core_v2_encoding.HtmlAttributeEncode($submitLinkId)"&gt;
                    &lt;span&gt;&lt;/span&gt;$core_v2_language.GetResource('Submit')
                &lt;/a&gt;
            &lt;/span&gt;
        &lt;/li&gt;
    &lt;/ul&gt;
&lt;/fieldset&gt;
&lt;div class="field-list-footer"&gt;&lt;/div&gt;

#registerEndOfPageHtml('telligent.evolution.widgets.wikiResolveAppeal')
    &lt;script type="text/javascript" src="$core_v2_encoding.HtmlAttributeEncode($core_v2_widget.GetFileUrl("ui.js"))"&gt;&lt;/script&gt;
#end
#registerEndOfPageHtml()
    #set($lastPageIndex = $core_v2_ui.GetLastPageIndex($conversationMessages.PageSize, $conversationMessages.TotalCount))
    &lt;script type="text/javascript"&gt;
        jQuery(function(){
            jQuery.telligent.evolution.widgets.wikiResolveAppeal.register({
                confirmLink: '#$core_v2_encoding.JavascriptEncode($confirmLinkId)',
                restoreLink: '#$core_v2_encoding.JavascriptEncode($restoreLinkId)',
                responseForm: '#$core_v2_encoding.JavascriptEncode($responseFormId)',
                responseInput: '#$core_v2_encoding.JavascriptEncode($responseInput)',
                cancelLink: '#$core_v2_encoding.JavascriptEncode($cancelLinkId)',
                submitLink: '#$core_v2_encoding.JavascriptEncode($submitLinkId)',
                acceptedMessage: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Accepted_Message'))',
                rejectedMessge: '$core_v2_encoding.JavascriptEncode($core_v2_language.GetResource('Rejected_Message'))',
                contentId: '$page.ContentId',
                appealId: '$currentAppeal.AppealId',
                wikiId: $page.WikiId,
                wikiPageId: $page.Id,
                parentWikiPageId: $page.ParentPageId,
                groupUrl: '$core_v2_encoding.JavascriptEncode($group.Url)',
                confirmUrl: '$core_v2_encoding.JavascriptEncode($core_v2_widget.GetExecutedFileUrl('confirm.vm'))'
            });
        });
    &lt;/script&gt;
#end

        </contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:WikiResolveAppeal_Title}'))
    </headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
    &lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:WikiResolveAppeal_Title}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
    </configuration>
		<languageResources><language key="en-us"><resource name="WikiResolveAppeal_Name">Wiki - Resolve Appeal</resource><resource name="WikiResolveAppeal_Description">Allows reviewers to resolve an an appealed wiki page</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="WikiResolveAppeal_Title">Fix Wiki Page</resource><resource name="Description">"{0}" has been found abusive. What do I do now? Choose one of the following:</resource><resource name="Confirm_Label">Confirm as abusive and delete page</resource><resource name="Restore_Label">The page is fine. Clear abuse status and unlock page</resource><resource name="Revisions_Label">Review specific revisions</resource><resource name="Confirm_InProgress">Confirming abuse...</resource><resource name="Restore_InProgress">Restoring page...</resource><resource name="BoardResponseLabel">Board Response</resource><resource name="Cancel">Cancel</resource><resource name="Submit">Submit</resource><resource name="Accepted_Message">Abuse status cleared and page unlocked. View page history to delete revisions that are no longer needed.</resource><resource name="Rejected_Message">This page has been confirmed abusive.</resource><resource name="Delete_Confirm_Message">Are you sure you want to delete this page?</resource><resource name="Yes">Yes</resource><resource name="No">No</resource><resource name="Delete_Confirm_Parent_Message">Do you want to delete this page and all child pages below it?</resource><resource name="Delete_Confirm_Parent_Only">Delete this page only</resource><resource name="Delete_Confirm_Parent_Children">Delete with all children</resource><resource name="Confirm_Title">Delete Page</resource></language></languageResources>
		<requiredContext>
			<context id="578aa547a44c45d39159cab85e3002cc" />
		</requiredContext>
		<files>
			<file name="confirm.vm">PCFET0NUWVBFIGh0bWw+CjxodG1sPgo8aGVhZD4KCSNzZXQgKCRwYWdlID0gJGNvcmVfdjJfd2lraVBhZ2UuQ3VycmVudE9yRGVmYXVsdCkKICAgICNzZXQgKCRjYW5jZWxMaW5rID0gJGNvcmVfdjJfd2lkZ2V0LlVuaXF1ZUlkKCdjYW5jZWwnKSkKCiAgICA8dGl0bGU+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0NvbmZpcm1fVGl0bGUnKTwvdGl0bGU+CiAgICAkY29yZV92Ml9wYWdlLlJlbmRlclRoZW1lSGVhZGVycygiJXsgSXNNb2RhbCA9ICAndHJ1ZScgfSIpCiAgICA8c2NyaXB0IHR5cGU9InRleHQvamF2YXNjcmlwdCI+CiAgICB2YXIgY2xvc2UgPSBmdW5jdGlvbih2YWx1ZSkgewoJCXdpbmRvdy5wYXJlbnQualF1ZXJ5Lmdsb3dNb2RhbC5jbG9zZSh2YWx1ZSwgd2luZG93LnBhcmVudCk7CiAgICB9OwogICAgalF1ZXJ5KGZ1bmN0aW9uKGopewogICAgCWooJy5jb25maXJtLXNpbmdsZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpewogICAgCQljbG9zZSh7CiAgICAJCQlkZWxldGU6IHRydWUsCiAgICAJCQljaGlsZHJlbjogZmFsc2UKICAgIAkJfSk7CiAgICAJfSk7CiAgICAJaignLmNvbmZpcm0tbXVsdGlwbGUnKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXsKICAgIAkJY2xvc2UoewogICAgCQkJZGVsZXRlOiB0cnVlLAogICAgCQkJY2hpbGRyZW46IHRydWUKICAgIAkJfSk7CiAgICAJfSk7CiAgICAJaignLmNhbmNlbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpewogICAgCQljbG9zZSgpOwogICAgCX0pOwogICAgfSk7CiAgICA8L3NjcmlwdD4KPC9oZWFkPgo8Ym9keT4KCSMjIENvbmZpcm0gY2hpbGQgZGVsZXRpb24KCSNpZiAoJHBhZ2UuQ2hpbGRQYWdlQ291bnQgPiAwKQoJCTxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtaGVhZGVyIj48L2Rpdj4KCQkgICAgIDxmaWVsZHNldCBjbGFzcz0iZmllbGQtbGlzdCI+CgkJICAgICAgICAgPGxlZ2VuZCBjbGFzcz0iZmllbGQtbGlzdC1kZXNjcmlwdGlvbiI+PHNwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0RlbGV0ZV9Db25maXJtX1BhcmVudF9NZXNzYWdlJyk8L3NwYW4+PC9sZWdlbmQ+CgkJICAgICAgICAgPHVsIGNsYXNzPSJmaWVsZC1saXN0Ij4KCQkgICAgICAgICAgICAgPGxpIGNsYXNzPSJmaWVsZC1pdGVtIGRlbGV0ZS13aWtpLXBhZ2UiPgoJCSAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9ImZpZWxkLWl0ZW0taW5wdXQiPgoJCSAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIGRlbGV0ZS1wb3N0IGNvbmZpcm0tc2luZ2xlIiBocmVmPSIjIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ0RlbGV0ZV9Db25maXJtX1BhcmVudF9Pbmx5Jyk8L2E+CgkJICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9ImludGVybmFsLWxpbmsgZGVsZXRlLXBvc3QgY29uZmlybS1tdWx0aXBsZSIgaHJlZj0iIyI+PHNwYW4+PC9zcGFuPiRjb3JlX3YyX2xhbmd1YWdlLkdldFJlc291cmNlKCdEZWxldGVfQ29uZmlybV9QYXJlbnRfQ2hpbGRyZW4nKTwvYT4KCQkgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz0iaW50ZXJuYWwtbGluayBjYW5jZWwiIGhyZWY9IiMiPjxzcGFuPjwvc3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnQ2FuY2VsJyk8L2E+CgkJICAgICAgICAgICAgICAgICA8L3NwYW4+CgkJICAgICAgICAgICAgIDwvbGk+CgkJICAgICAgICAgPC91bD4KCQkgICAgIDwvZmllbGRzZXQ+CgkJIDxkaXYgY2xhc3M9ImZpZWxkLWxpc3QtZm9vdGVyIj48L2Rpdj4KCSMjIENvbmZpcm0gZGVsZXRpb24KCSNlbHNlCgkgICAgPGRpdiBjbGFzcz0iZmllbGQtbGlzdC1oZWFkZXIiPjwvZGl2PgoJICAgICAgICA8ZmllbGRzZXQgY2xhc3M9ImZpZWxkLWxpc3QgZGVsZXRlLXdpa2ktcGFnZSI+CgkgICAgICAgICAgICA8bGVnZW5kIGNsYXNzPSJmaWVsZC1saXN0LWRlc2NyaXB0aW9uIj48c3Bhbj4kY29yZV92Ml9sYW5ndWFnZS5HZXRSZXNvdXJjZSgnRGVsZXRlX0NvbmZpcm1fTWVzc2FnZScpPC9zcGFuPjwvbGVnZW5kPgoJICAgICAgICAgICAgPHVsIGNsYXNzPSJmaWVsZC1saXN0Ij4KCSAgICAgICAgICAgICAgICA8bGkgY2xhc3M9ImZpZWxkLWl0ZW0gZGVsZXRlLXdpa2ktcGFnZSI+CgkgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPSJmaWVsZC1pdGVtLWlucHV0Ij4KCSAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPSJpbnRlcm5hbC1saW5rIGRlbGV0ZS1wb3N0IGNvbmZpcm0tc2luZ2xlIiBocmVmPSIjIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ1llcycpPC9hPgoJICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9ImludGVybmFsLWxpbmsgZGVsZXRlLXBvc3QgY2FuY2VsIiBocmVmPSIjIj48c3Bhbj48L3NwYW4+JGNvcmVfdjJfbGFuZ3VhZ2UuR2V0UmVzb3VyY2UoJ05vJyk8L2E+CgkgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj4KCSAgICAgICAgICAgICAgICA8L2xpPgoJICAgICAgICAgICAgPC91bD4KCSAgICAgICAgPC9maWVsZHNldD4KCSAgICA8ZGl2IGNsYXNzPSJmaWVsZC1saXN0LWZvb3RlciI+PC9kaXY+CgkjZW5kCjwvYm9keT4KPC9odG1sPg==</file>
			<file name="ui.js">OyhmdW5jdGlvbigkLCBnbG9iYWwpewoKCXZhciBXaWtpU2VydmljZSA9IChmdW5jdGlvbigpewoJCXJldHVybiB7CgkJCXVucHVibGlzaDogZnVuY3Rpb24od2lraUlkLCBwYWdlSWQpIHsKCQkJCXJldHVybiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucHV0KHsKCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi93aWtpcy97V2lraUlkfS9wYWdlcy97UGFnZUlkfS5qc29uJywKCQkJCQlkYXRhVHlwZTogJ2pzb24nLAoJCQkJCWRhdGE6IHsKCQkJCQkJV2lraUlkOiB3aWtpSWQsCgkJCQkJCVBhZ2VJZDogcGFnZUlkLAoJCQkJCQlJc1B1Ymxpc2hlZDogZmFsc2UKCQkJCQl9CgkJCQl9KTsKCQkJfSwKCQkJbGlzdENoaWxkcmVuOiBmdW5jdGlvbih3aWtpSWQsIHBhcmVudFBhZ2VJZCkgewoJCQkJcmV0dXJuICQudGVsbGlnZW50LmV2b2x1dGlvbi5nZXQoewoJCQkJCXVybDogJC50ZWxsaWdlbnQuZXZvbHV0aW9uLnNpdGUuZ2V0QmFzZVVybCgpICsgJ2FwaS5hc2h4L3YyL3dpa2lzL3tXaWtpSWR9L3BhZ2VzL3tQYXJlbnRQYWdlSWR9L3BhZ2VzLmpzb24nLAoJCQkJCWRhdGFUeXBlOiAnanNvbicsCgkJCQkJZGF0YTogewoJCQkJCQlXaWtpSWQ6IHdpa2lJZCwKCQkJCQkJUGFyZW50UGFnZUlkOiBwYXJlbnRQYWdlSWQKCQkJCQl9CgkJCQl9KS5waXBlKGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJcmV0dXJuIHJlc3BvbnNlLldpa2lQYWdlczsKCQkJCX0pOwoJCQl9LAoJCQl1cGRhdGVQYXJlbnQ6IGZ1bmN0aW9uKHdpa2lJZCwgcGFnZUlkLCBuZXdQYXJlbnRQYWdlSWQpIHsKCQkJCXJldHVybiAkLnRlbGxpZ2VudC5ldm9sdXRpb24ucHV0KHsKCQkJCQl1cmw6ICQudGVsbGlnZW50LmV2b2x1dGlvbi5zaXRlLmdldEJhc2VVcmwoKSArICdhcGkuYXNoeC92Mi93aWtpcy97V2lraUlkfS9wYWdlcy97UGFnZUlkfS5qc29uJywKCQkJCQlkYXRhVHlwZTogJ2pzb24nLAoJCQkJCWRhdGE6IHsKCQkJCQkJV2lraUlkOiB3aWtpSWQsCgkJCQkJCVBhZ2VJZDogcGFnZUlkLAoJCQkJCQlQYXJlbnRQYWdlSWQ6IG5ld1BhcmVudFBhZ2VJZAoJCQkJCX0KCQkJCX0pOwoJCQl9CgkJfTsKCX0pKCk7CgoJdmFyIEFwcGVhbFNlcnZpY2UgPSAoZnVuY3Rpb24oKXsKCQl2YXIgdXBkYXRlQXBwZWFsID0gZnVuY3Rpb24oYXBwZWFsSWQsIHJlYXNvbiwgc3RhdGUpIHsKCQkJcmV0dXJuICQudGVsbGlnZW50LmV2b2x1dGlvbi5wdXQoewoJCQkJdXJsOiAkLnRlbGxpZ2VudC5ldm9sdXRpb24uc2l0ZS5nZXRCYXNlVXJsKCkgKyAnYXBpLmFzaHgvdjIvYWJ1c2VhcHBlYWxzL3tBcHBlYWxJZH0uanNvbicsCgkJCQlkYXRhVHlwZTogJ2pzb24nLAoJCQkJZGF0YTogewoJCQkJCUFwcGVhbElkOiBhcHBlYWxJZCwKCQkJCQlCb2FyZFJlc3BvbnNlOiByZWFzb24sCgkJCQkJQXBwZWFsU3RhdGU6IHN0YXRlCgkJCQl9CgkJCX0pCgkJfTsKCQlyZXR1cm4gewoJCQlhY2NlcHQ6IGZ1bmN0aW9uKGFwcGVhbElkLCByZWFzb24pIHsKCQkJCXJldHVybiB1cGRhdGVBcHBlYWwoYXBwZWFsSWQsIHJlYXNvbiwgJ0FjY2VwdGVkJyk7CgkJCX0sCgkJCXJlamVjdDogZnVuY3Rpb24oYXBwZWFsSWQsIHJlYXNvbikgewoJCQkJcmV0dXJuIHVwZGF0ZUFwcGVhbChhcHBlYWxJZCwgcmVhc29uLCAnUmVqZWN0ZWQnKTsKCQkJfQoJCX0KCX0pKCk7CgoJdmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gMTUwLAoJCWZsYXNoTWVzc2FnZUFuZFJlbG9hZCA9IGZ1bmN0aW9uKG1lc3NhZ2UsIHVybCkgewoJCQkkLnRlbGxpZ2VudC5ldm9sdXRpb24ubm90aWZpY2F0aW9ucy5zaG93KG1lc3NhZ2UsIHsKCQkJCXR5cGU6ICdzdWNjZXNzJywKCQkJCWNhbGxiYWNrOiBmdW5jdGlvbigpIHsKCQkJCQlpZih1cmwpIHsKCQkJCQkJd2luZG93LmxvY2F0aW9uID0gdXJsOwoJCQkJCX0gZWxzZSB7CgkJCQkJCXdpbmRvdy5sb2NhdGlvbi5yZWxvYWQodHJ1ZSk7CgkJCQkJfQoJCQkJfQoJCQl9KTsKCQl9LAoJCXJlc3RvcmUgPSBmdW5jdGlvbihvcHRpb25zKSB7CgkJCUFwcGVhbFNlcnZpY2UuYWNjZXB0KG9wdGlvbnMuYXBwZWFsSWQsICQob3B0aW9ucy5yZXNwb25zZUlucHV0KS52YWwoKSkuZG9uZShmdW5jdGlvbihyKXsKCQkJCSQob3B0aW9ucy5yZXNwb25zZUZvcm0pLnNsaWRlVXAoYW5pbWF0aW9uRHVyYXRpb24pOwoJCQkJZmxhc2hNZXNzYWdlQW5kUmVsb2FkKG9wdGlvbnMuYWNjZXB0ZWRNZXNzYWdlKTsKCQkJfSk7CgkJfSwKCQljb25maXJtQWJ1c2l2ZUFuZERlbGV0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKCQkJLy8gZ2V0IGFsbCBjaGlsZHJlbgoJCQlXaWtpU2VydmljZS5saXN0Q2hpbGRyZW4ob3B0aW9ucy53aWtpSWQsIG9wdGlvbnMud2lraVBhZ2VJZCkuZG9uZShmdW5jdGlvbihwYWdlcykgewoJCQkJLy8gZm9yIGVhY2ggY2hpbGQsIGVpdGhlciBkZWxldGUgY2hpbGQgcGFnZSBvciB1cGRhdGUgaXQgdG8gaGF2ZSBhIGRpZmZlcmVudCBwYXJlbnQKCQkJCXBhZ2VSZXF1ZXN0cyA9ICQubWFwKHBhZ2VzLCBmdW5jdGlvbihwKSB7CgkJCQkJaWYob3B0aW9ucy5jaGlsZHJlbikgewoJCQkJCQlyZXR1cm4gV2lraVNlcnZpY2UudW5wdWJsaXNoKG9wdGlvbnMud2lraUlkLCBwLklkKTsKCQkJCQl9IGVsc2UgewoJCQkJCQlyZXR1cm4gV2lraVNlcnZpY2UudXBkYXRlUGFyZW50KG9wdGlvbnMud2lraUlkLCBwLklkLCBvcHRpb25zLnBhcmVudFdpa2lQYWdlSWQpOwoJCQkJCX0KCQkJCX0pOwoJCQkJLy8gYWZ0ZXIgYWxsIGNoaWxkcmVuIHByb2Nlc3NlZCwgcmVqZWN0IGFwcGVhbCBhbmQgdW5wdWJsaXNoIHBhZ2UKCQkJCSQud2hlbi5hcHBseSgkLCBwYWdlUmVxdWVzdHMpLmRvbmUoZnVuY3Rpb24oKXsKCQkJCQkvLyByZWplY3QgcGFnZSdzIGFwcGVhbAoJCQkJCUFwcGVhbFNlcnZpY2UucmVqZWN0KG9wdGlvbnMuYXBwZWFsSWQsICQob3B0aW9ucy5yZXNwb25zZUlucHV0KS52YWwoKSkuZG9uZShmdW5jdGlvbihyKXsKCQkJCQkJJChvcHRpb25zLnJlc3BvbnNlRm9ybSkuc2xpZGVVcChhbmltYXRpb25EdXJhdGlvbik7CgkJCQkJCS8vIHVucHVibGlzaCBwYWdlCgkJCQkJCVdpa2lTZXJ2aWNlLnVucHVibGlzaChvcHRpb25zLndpa2lJZCwgb3B0aW9ucy53aWtpUGFnZUlkKS5kb25lKGZ1bmN0aW9uKHIpewoJCQkJCQkJLy8gcmVuZGVyIG1lc3NhZ2UgYW5kIHJlZnJlc2ggcGFnZQoJCQkJCQkJZmxhc2hNZXNzYWdlQW5kUmVsb2FkKG9wdGlvbnMucmVqZWN0ZWRNZXNzZ2UsIG9wdGlvbnMuZ3JvdXBVcmwpOwoJCQkJCQl9KTsKCQkJCQl9KTsKCQkJCX0pOwoJCQl9KTsKCQl9LAoJCWhhbmRsZVJlc3RvcmVzID0gZnVuY3Rpb24ob3B0aW9ucykgewoJCQkkKG9wdGlvbnMucmVzdG9yZUxpbmspLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpewoJCQkJZS5wcmV2ZW50RGVmYXVsdCgpOwoJCQkJJChvcHRpb25zLnJlc3BvbnNlRm9ybSkKCQkJCQkuaW5zZXJ0QWZ0ZXIoZS50YXJnZXQpCgkJCQkJLnNsaWRlRG93bihhbmltYXRpb25EdXJhdGlvbik7CgkJCQkkKG9wdGlvbnMucmVzcG9uc2VJbnB1dCkucmVtb3ZlQXR0cignZGlzYWJsZWQnKS52YWwoJycpLmZvY3VzKCk7CgkJCQlvcHRpb25zLm9uU3VibWl0ID0gZnVuY3Rpb24oKSB7CgkJCQkJcmVzdG9yZShvcHRpb25zKTsKCQkJCX07CgkJCX0pOwoJCX0sCgkJaGFuZGxlQWJ1c2l2ZUNvbmZpcm1hdGlvbnMgPSBmdW5jdGlvbihvcHRpb25zKSB7CgkJCSQob3B0aW9ucy5jb25maXJtTGluaykub24oJ2NsaWNrJywgZnVuY3Rpb24oZSl7CgkJCQllLnByZXZlbnREZWZhdWx0KCk7CgkJCQkkKG9wdGlvbnMucmVzcG9uc2VGb3JtKQoJCQkJCS5pbnNlcnRBZnRlcihlLnRhcmdldCkKCQkJCQkuc2xpZGVEb3duKGFuaW1hdGlvbkR1cmF0aW9uKTsKCQkJCSQob3B0aW9ucy5yZXNwb25zZUlucHV0KS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpLnZhbCgnJykuZm9jdXMoKTsKCQkJCW9wdGlvbnMub25TdWJtaXQgPSBmdW5jdGlvbigpIHsKCQkJCQkkLmdsb3dNb2RhbChvcHRpb25zLmNvbmZpcm1VcmwsIHsKCSAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDQwMCwKCSAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiAyMDAsCgkJCQkJCW9uQ2xvc2U6IGZ1bmN0aW9uKHJlc3BvbnNlKSB7CgkJCQkJCQlpZihyZXNwb25zZSAmJiByZXNwb25zZS5kZWxldGUpIHsKCQkJCQkJCQljb25maXJtQWJ1c2l2ZUFuZERlbGV0ZSgkLmV4dGVuZChvcHRpb25zLCByZXNwb25zZSkpOwoJCQkJCQkJfSBlbHNlIHsKCQkJCQkJCQkkKG9wdGlvbnMucmVzcG9uc2VGb3JtKS5zbGlkZVVwKGFuaW1hdGlvbkR1cmF0aW9uKTsKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCX0pOwoJCQkJfTsKCQkJfSk7CgkJfSwKCQloYW5kbGVDYW5jZWwgPSBmdW5jdGlvbihvcHRpb25zKSB7CgkJCSQob3B0aW9ucy5jYW5jZWxMaW5rKS5vbignY2xpY2snLCBmdW5jdGlvbihlKXsKCQkJCWUucHJldmVudERlZmF1bHQoKTsKCQkJCSQob3B0aW9ucy5yZXNwb25zZUZvcm0pLnNsaWRlVXAoYW5pbWF0aW9uRHVyYXRpb24pOwoJCQl9KTsKCQl9LAoJCWhhbmRsZVN1Ym1pdCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHsKICAgICAgICAgICAgJChvcHRpb25zLnN1Ym1pdExpbmspCiAgICAgICAgICAgIAkuYWRkQ2xhc3MoJ2Rpc2FibGVkJykKICAgICAgICAgICAgICAgIC5ldm9sdXRpb25WYWxpZGF0aW9uKHsKICAgICAgICAgICAgICAgICAgICBvblZhbGlkYXRlZDogZnVuY3Rpb24oaXNWYWxpZCwgYnV0dG9uQ2xpY2tlZCwgYykgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNWYWxpZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChvcHRpb25zLnN1Ym1pdExpbmspLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgJChvcHRpb25zLnN1Ym1pdExpbmspLmFkZENsYXNzKCdkaXNhYmxlZCcpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgICAgICAgICBvblN1Y2Nlc3NmdWxDbGljazogZnVuY3Rpb24oZSkgewogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICQob3B0aW9ucy5yZXNwb25zZUlucHV0KS5hdHRyKCdkaXNhYmxlZCcsJ2Rpc2FibGVkJyk7CiAgICAgICAgICAgICAgICAgICAgICAgICQob3B0aW9ucy5zdWJtaXRMaW5rKS5hZGRDbGFzcygnZGlzYWJsZWQnKTsKICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5vblN1Ym1pdCgpOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICAuZXZvbHV0aW9uVmFsaWRhdGlvbignYWRkRmllbGQnLCAkKG9wdGlvbnMucmVzcG9uc2VJbnB1dCksIHsKICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgICAgICAgIH0sIG9wdGlvbnMucmVzcG9uc2VGb3JtICsgJyAuZmllbGQtaXRlbS5yZXNwb25zZSAuZmllbGQtaXRlbS12YWxpZGF0aW9uJywgbnVsbCk7CgkJfTsKCgl2YXIgYXBpID0gewoJCXJlZ2lzdGVyOiBmdW5jdGlvbihvcHRpb25zKSB7CgkJCWhhbmRsZVJlc3RvcmVzKG9wdGlvbnMpOwoJCQloYW5kbGVBYnVzaXZlQ29uZmlybWF0aW9ucyhvcHRpb25zKTsKCQkJaGFuZGxlQ2FuY2VsKG9wdGlvbnMpOwoJCQloYW5kbGVTdWJtaXQob3B0aW9ucyk7CgkJfQoJfTsKCgkkLnRlbGxpZ2VudCA9ICQudGVsbGlnZW50IHx8IHt9OwoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uIHx8IHt9OwoJJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMgPSAkLnRlbGxpZ2VudC5ldm9sdXRpb24ud2lkZ2V0cyB8fCB7fTsKCSQudGVsbGlnZW50LmV2b2x1dGlvbi53aWRnZXRzLndpa2lSZXNvbHZlQXBwZWFsID0gJC50ZWxsaWdlbnQuZXZvbHV0aW9uLndpZGdldHMud2lraVJlc29sdmVBcHBlYWwgfHwgYXBpOwoKfShqUXVlcnksIHdpbmRvdykpOw==</file>
		</files>
	</scriptedContentFragment>
	<scriptedContentFragment name="${resource:Wikis_WikiTitle_Name}" version="7.5.0.32466" description="${resource:Wikis_WikiTitle_Description}" instanceIdentifier="7ea28463ab8b4e0ca289e07f18b9e421" theme="" isCacheable="true" varyCacheByUser="false" showHeaderByDefault="false" cssClass="wiki-title">
		<contentScript>
#set($page = $core_v2_wikiUrls.Current)
#set($wiki = $core_v2_wiki.Current)
#set($wikiPage = $core_v2_wikiPage.CurrentOrDefault)
#set($wikiPageRevision = $core_v2_wikiPageRevision.Current)

#if ($page == 'AddPage')
	#set($title = $core_v2_language.GetResource('Wikis_AddPage'))
#elseif ($page == 'Tags')
	#set($title = $core_v2_language.GetResource('TagBrowser_Title'))
#elseif ($page == 'EditPage')
	#if ($wikiPage &amp;&amp; $wikiPage.Id)
		#set($title = "$core_v2_language.GetResource('Wikis_Page_Editing') $wikiPage.Title")
	#else
		#set($title = $core_v2_language.GetResource('Wikis_Page_Adding'))
	#end
#elseif ($page == 'DeletePage' &amp;&amp; $wikiPage)
	#set($title = "$core_v2_language.GetResource('Delete') $wikiPage.Title")
#elseif ($page == 'AddChildPage')
	#set($title = $core_v2_language.GetResource('Wikis_AddPage'))
#elseif ($page == 'PageComments' &amp;&amp; $wikiPage)
	#set($title = "$wikiPage.Title $core_v2_language.GetResource('Wikis_Page_Comments')")
#elseif ($page == 'Revision')
	#if($wikiPageRevision &amp;&amp; $wikiPageRevision.RevisionNumber &gt; 1)
		#set($title = "$core_v2_language.GetResource('Revision') #${wikiPageRevision.RevisionNumber}")
	#else
		#set($title = $core_v2_language.GetResource('Original'))
	#end
#elseif ($page == 'PageHistory' &amp;&amp; $wikiPage)
	#set($title = "$wikiPage.Title - $core_v2_language.GetResource('History')")
#elseif ($wikiPage)
	#if(!($wiki &amp;&amp; $wiki.Id))
		#set($title = "$core_v2_language.GetResource('wikis') $wikiPage.Title")
	#else
		#set($title = $wikiPage.Title)
	#end
#else
	#if (!$wiki)
		#set($title = $core_v2_language.GetResource('wikis'))
	#else
		#set($title = $wiki.Name)
	#end
#end

#if($title)
	$core_v2_page.SetTitle($title, true, true)
	&lt;h1 class="title"&gt;$title&lt;/h1&gt;
#else
	$core_v2_widget.Hide()
#end
			</contentScript>
		<headerScript>
$core_v2_widget.ApplyTokens($core_v2_widget.GetStringValue('fragmentHeader', '${resource:Wikis_WikiTitle_Name}'))
			</headerScript>
		<configuration>
&lt;propertyGroup id="options" resourceName="Options"&gt;
	&lt;property id="fragmentHeader" resourceName="CF_Title" dataType="string" defaultValue="${resource:Wikis_WikiTitle_Name}" controlType="Telligent.Evolution.Controls.ContentFragmentTokenStringControl, Telligent.Evolution.Controls" /&gt;
&lt;/propertyGroup&gt;
		</configuration>
		<languageResources><language key="en-us"><resource name="Wikis_WikiTitle_Name">Wikis - Title</resource><resource name="Wikis_WikiTitle_Description">Displays the title for wiki pages.</resource><resource name="Options">Options</resource><resource name="CF_Title">Widget Title</resource><resource name="Wikis_AddPage">Add Page</resource><resource name="TagBrowser_Title">Browse by Tags</resource><resource name="Wikis_Page_Editing">Editing: </resource><resource name="Wikis_Page_Adding">Adding a New Page</resource><resource name="Delete">Delete</resource><resource name="Wikis_Page_Comments">Comments</resource><resource name="Revision">Revision</resource><resource name="Original">Original</resource><resource name="wikis">Wikis</resource><resource name="History">History</resource></language></languageResources>
		<requiredContext>
			<context id="438f4b20be39493c908f292b4592f6fc" />
		</requiredContext>
	</scriptedContentFragment>
</scriptedContentFragments>